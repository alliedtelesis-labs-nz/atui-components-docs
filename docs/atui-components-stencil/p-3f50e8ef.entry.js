import{r as t,c as e,h as s,H as a}from"./p-Cd7WF2gX.js";const i=class{constructor(s){t(this,s);this.atuiMessageCopy=e(this,"atuiMessageCopy",7);this.atuiMessageRetry=e(this,"atuiMessageRetry",7);this.atuiMessageEdit=e(this,"atuiMessageEdit",7);this.messages=[];this.loading=false;this.empty_state_title="No messages yet";this.empty_state_description="Start a conversation by sending a message";this.auto_scroll=true;this.chatbot_title="Assistant"}componentDidUpdate(){if(this.auto_scroll&&this.threadContainer){this.scrollToBottom()}}scrollToBottom(){if(this.threadContainer){this.threadContainer.scrollTop=this.threadContainer.scrollHeight}}handleMessageCopy(t){const e=this.getMessageIndexFromEvent(t);if(e!==-1){this.atuiMessageCopy.emit({messageId:`msg-${e}`,content:t.detail})}}handleMessageRetry(t){const e=this.getMessageIndexFromEvent(t);if(e!==-1){this.atuiMessageRetry.emit({messageId:`msg-${e}`})}}handleMessageEdit(t){const e=this.getMessageIndexFromEvent(t);if(e!==-1){this.atuiMessageEdit.emit({messageId:`msg-${e}`,content:t.detail})}}getMessageIndexFromEvent(t){const e=t.target;const s=e.closest("[data-message-index]");return s?parseInt(s.dataset.messageIndex||"-1",10):-1}renderLoadingIndicator(){if(!this.loading)return null;return s("div",{class:"flex flex-col gap-16","data-name":"loading-container"},s("atui-prompt-message",{role:"assistant",content:"Typing...",name:this.chatbot_title,loading:true,"data-name":"loading-message"}))}renderEmptyState(){return s("div",{class:"flex h-full flex-col items-center justify-center p-8 text-center","data-name":"empty-state"},s("div",{class:"text-muted-foreground text-4xl mb-4"},"ðŸ’¬"),s("h3",{class:"text-lg mb-2 font-semibold","data-name":"empty-state-title"},this.empty_state_title),s("p",{class:"text-muted-foreground text-sm","data-name":"empty-state-description"},this.empty_state_description))}renderMessage(t,e){const a=t.role==="system"?"assistant":t.role;const i=t.role==="user"?t.name:t.name||this.chatbot_title;return s("div",{"data-message-index":e},s("atui-prompt-message",{role:a,content:t.content,name:i,avatar:t.avatar,loading:t.loading,error:t.error,error_message:t.error_message,"data-name":`message-${e}`}))}renderMessages(){return this.messages.map(((t,e)=>s("div",{key:e,class:"flex flex-col gap-16 p-16 pb-0","data-name":"message-container"},this.renderMessage(t,e))))}render(){const t=this.messages&&this.messages.length>0;return s(a,{key:"b97103ed7f1aabe94b5d1cf683103ad3349fcfff",class:"block h-full overflow-y-auto scroll-smooth pb-32",ref:t=>this.threadContainer=t,"data-name":"thread-container"},!t?this.renderEmptyState():s("div",{"data-name":"messages-container"},this.renderMessages(),this.renderLoadingIndicator()),s("slot",{key:"cd17ca68d66842a1637a097bd9f0827482727178",name:"messages"}))}};export{i as atui_prompt_thread};
//# sourceMappingURL=p-3f50e8ef.entry.js.map