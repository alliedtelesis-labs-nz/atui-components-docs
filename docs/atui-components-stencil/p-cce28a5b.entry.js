import{r as t,c as s,h as i,F as e,H as a,g as o}from"./p-8kq1vl9Q.js";import{c as n}from"./p-CVoOBWGd.js";import{f as r}from"./p-DuLooPsr.js";const l=n("text-base max-w-4xl rounded-lg px-8 py-4",{variants:{role:{user:"ml-auto bg-surface-2 text-dark",assistant:"mr-auto text-dark"},loading:{true:"animate-pulse",false:""}},defaultVariants:{role:"user",loading:false}});const c=class{constructor(i){t(this,i);this.atuiCopy=s(this,"atuiCopy",7);this.atuiFeedbackPositive=s(this,"atuiFeedbackPositive",7);this.atuiFeedbackNegative=s(this,"atuiFeedbackNegative",7);this.atuiRetry=s(this,"atuiRetry",7);this.atuiEdit=s(this,"atuiEdit",7);this.role="user";this.content="";this.loading=false;this.error=false;this.handleCopy=()=>{this.atuiCopy.emit(this.content)};this.handleRetry=()=>{this.atuiRetry.emit()};this.handleEdit=()=>{this.atuiEdit.emit(this.content)};this.handleFeedbackPositive=()=>{this.atuiFeedbackPositive.emit()};this.handleFeedbackNegative=()=>{this.atuiFeedbackNegative.emit()}}async componentWillLoad(){this.translations=await r(this.errorEl)}renderAvatar(){const t=this.role==="user"?"primary":"secondary";const s=this.name?this.name.charAt(0).toUpperCase():this.role==="user"?"U":"A";return i("atui-avatar",{src:this.avatar,alt:this.name||this.role,initials:s,variant:t,size:"sm","data-name":"message-avatar"})}renderActions(){if(this.loading)return null;return i("div",{class:"mt-2 flex items-center justify-end gap-2","data-name":"message-actions"},this.role==="user"&&i("atui-tooltip",{position:"top"},i("atui-button",{slot:"tooltip-trigger",size:"sm",type:"secondaryText",icon:"edit",class:"text-xs",onClick:this.handleEdit,"data-name":"edit-button"}),i("span",{slot:"tooltip-content"},"Edit")),this.role==="assistant"&&i(e,null,i("atui-tooltip",{position:"top"},i("atui-button",{slot:"tooltip-trigger",size:"sm",type:"secondaryText",icon:"thumb_up",onClick:this.handleFeedbackPositive,"data-name":"feedback-positive-button"}),i("span",{slot:"tooltip-content"},"Helpful")),i("atui-tooltip",{position:"top"},i("atui-button",{slot:"tooltip-trigger",size:"sm",type:"secondaryText",icon:"thumb_down",onClick:this.handleFeedbackNegative,"data-name":"feedback-negative-button"}),i("span",{slot:"tooltip-content"},"Not helpful")),i("atui-tooltip",{position:"top"},i("atui-button",{slot:"tooltip-trigger",size:"sm",icon:"content_copy",type:"secondaryText",onClick:this.handleCopy,"data-name":"copy-button"}),i("span",{slot:"tooltip-content"},"Copy"))),this.role==="assistant"&&this.error&&i("atui-tooltip",{position:"top"},i("atui-button",{slot:"tooltip-trigger",size:"sm",type:"secondaryText",icon:"refresh",onClick:this.handleRetry,"data-name":"retry-button"}),i("span",{slot:"tooltip-content"},"Retry")))}renderContent(){if(this.loading){return i("div",{class:"py-8","data-name":"loading-content"},i("atui-loading",{variant:"typing",size:"sm"}))}if(this.error){return i("div",{class:"space-y-2",ref:t=>this.errorEl=t,"data-name":"error-content"},i("p",{class:"text-destructive"},this.error_message||this.translations.ATUI.PROMPT.ERROR_GENERATING_RESPONSE))}return i("div",{class:"prose prose-sm preserve-newlines max-w-none","data-name":"message-content"},i("slot",null),this.content)}render(){const t=l({role:this.role,loading:this.loading});return i(a,{key:"5d6350c3769d8267a395dd0996988fae8dc3e0d4",class:"flex w-full gap-8","data-name":"message-container"},this.avatar&&this.renderAvatar(),i("div",{key:"f81b84174d1080815a5d379880b026b9c142374a",class:"space-y-1 flex-1"},i("div",{key:"a14343473c394c9996e74570ff18080e0d5477b0",class:"flex items-center gap-8"},this.name&&i("span",{key:"46ff5e1844cde5f52237664ba4398d5b42675076",class:"text-sm text-light","data-name":"message-name"},this.name)),i("div",{key:"b37738fbc7db545474144549eac13eeafe8a8855",class:t},this.renderContent()),this.renderActions()))}get el(){return o(this)}};export{c as atui_prompt_message};
//# sourceMappingURL=p-cce28a5b.entry.js.map