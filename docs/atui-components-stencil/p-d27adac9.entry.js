import{r as e,c as t,h as s,H as i,g as a}from"./p-Cd7WF2gX.js";const o=class{constructor(s){e(this,s);this.atuiChange=t(this,"atuiChange",7);this.atuiSubmit=t(this,"atuiSubmit",7);this.atuiStop=t(this,"atuiStop",7);this.placeholder="Enter your message...";this.max_height=240;this.in_progress=false;this.show_model_select=false;this.model="gpt-4o";this.value="";this.inputId=`prompt-input-${Math.random().toString(36).substring(2,11)}`}focusInput(){if(this.textareaEl){this.textareaEl.focus()}}handleInput(e){e.stopPropagation();this.value=e.target.value;this.atuiChange.emit(this.value);this.autoResize()}autoResize(){if(this.textareaEl){this.textareaEl.style.height="auto";const e=this.textareaEl.scrollHeight;const t=Math.max(44,Math.min(e,this.max_height));this.textareaEl.style.height=`${t}px`}}componentDidLoad(){setTimeout((()=>{this.autoResize()}),0)}handleKeyDown(e){if(e.key==="Enter"&&!e.shiftKey){e.preventDefault();this.sendMessage()}}sendMessage(){if(this.in_progress){this.atuiStop.emit()}else if(this.value&&this.value.trim()!==""){this.atuiSubmit.emit(this.value.trim());this.value="";setTimeout((()=>{this.autoResize();this.focusInput()}),0)}}render(){const e=this.value&&this.value.trim()!=="";return s(i,{key:"858638d522e8fbefdef3860483ba658a5e78394e",tabindex:"-1"},s("div",{key:"6be2dbb2cb3e20b458b3518e4392e6fb5c35ef6e",class:"flex flex-col"},s("slot",{key:"fd654fe5cde68626610cc0456f3003cff35aea44",name:"label"}),(this.label||this.info_text)&&s("atui-form-label",{key:"4c054646d6d255f0041b01e315e9f11fcc44e8bc",label:this.label,for:this.inputId,info_text:this.info_text,"data-name":"prompt-input-label"}),this.hint_text&&s("span",{key:"e063002c97f256d352e0742a1d4ae070753c701c",class:"mb-8 inline-block text-xs leading-tight text-light","data-name":"prompt-input-hint"},this.hint_text)),s("div",{key:"d39eb296e02811bff78f944e64eabf48b4e8ca29",class:"relative flex flex-col items-end gap-2 rounded-lg border border-solid border-med bg-white p-8 transition-[background-color,color,box-shadow] duration-300 ease-in-out focus-within:border-active-foreground focus-within:ring-2 focus-within:ring-active-foreground/30"},s("textarea",{key:"f068ef0f15ac4f9930866498a1c9774ab839ea88",id:this.inputId,placeholder:this.placeholder,maxlength:this.max_length,onInput:e=>this.handleInput(e),onKeyDown:e=>this.handleKeyDown(e),value:this.value,ref:e=>this.textareaEl=e,style:{height:"44px",overflow:"hidden"},class:"w-full flex-1 resize-none whitespace-pre-wrap break-words border-none bg-transparent text-body text-dark shadow-none outline-none focus-visible:ring-0 focus-visible:ring-offset-0","data-name":"prompt-input"}),s("div",{key:"6ace8ad87828f8bd6a1d73f30e8595fea7c70db2",class:"gap-1 flex w-full items-center justify-between"},s("div",{key:"ab5792276478e7a5886bb6abaad407b9c4b9adc4",class:"flex items-center gap-4"},s("slot",{key:"86b3c2d4541d159de2c3bb16c3b2e07a628d113e",name:"actions-left"})),s("div",{key:"ef6a51a05f1e9cd083d5771646dc3c7f4c8cd565",class:"flex items-center gap-4 self-end"},s("slot",{key:"63437fe8fae2dfc5010c9bf5d8a10f8626e4413f",name:"actions-right"}),s("atui-button",{key:"6881031dae9952e50030e131d356367c710fd39d",class:"rounded-lg",size:"sm",type:"secondary",icon:this.in_progress?"stop":"arrow_upward",disabled:!e,onClick:()=>this.sendMessage(),onKeyDown:e=>{if(e.key==="Enter"||e.key===" "){this.sendMessage()}},"data-name":"prompt-send-button"})))),s("slot",{key:"5a820bce99b282c2284e20d5a2fc5fd2d0b2fa52",name:"footer"}))}get el(){return a(this)}};export{o as atui_prompt_input};
//# sourceMappingURL=p-d27adac9.entry.js.map