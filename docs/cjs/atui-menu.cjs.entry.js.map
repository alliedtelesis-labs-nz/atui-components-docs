{"file":"atui-menu.entry.cjs.js","mappings":"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","names":["cva","h","Host"],"sources":["src/components/atui-menu/atui-menu.tsx"],"sourcesContent":["import {\n    Component,\n    h,\n    Host,\n    Prop,\n    State,\n    Element,\n    Method,\n    Event,\n    EventEmitter,\n} from '@stencil/core';\nimport { cva } from 'class-variance-authority';\n\n/**\n * @category Actions\n * @description A versatile menu component for actions with keyboard support and positioning. Features auto-open behavior, customizable triggers, and accessible menu item management.\n */\n\nexport type Position = 'top' | 'bottom' | 'left' | 'right';\nexport type Align = 'start' | 'end';\nexport type OpenOn = 'hover' | 'click';\nexport type AriaRole = 'menu' | 'listbox';\n\nconst variants = cva(\n    'fixed z-menu w-full rounded-md border border-solid border-light bg-white p-4 shadow-md',\n    {\n        variants: {\n            open: {\n                true: null,\n                false: 'hidden',\n            },\n        },\n    },\n);\n\n@Component({\n    tag: 'atui-menu',\n    shadow: false,\n})\nexport class AtuiMenu {\n    /**\n     * Menu's x offset from edge in pixels. Only applied for origin_x = 'start' | 'end'\n     */\n    @Prop() offset_x: number = 0;\n\n    /**\n     * Menu's y offset from edge in pixels. Only applied for origin_y = 'top' | 'bottom'\n     */\n    @Prop() offset_y: number = 0;\n\n    /**\n     * Position of opened menu element relative to trigger element.\n     */\n    @Prop() position: Position = 'bottom';\n\n    /**\n     * Alignment of opened menu element relative to trigger element.\n     */\n    @Prop() align: Align = 'start';\n\n    /**\n     * String representing the 'width' style of the menu element ('auto' or 'NUMpx'). Use auto when you want the menu to inherit the host's width..\n     */\n    @Prop() width?: string = '280px';\n\n    /**\n     * Prevent closing of menu when options are selected. Used for multi-selection controls.\n     */\n    @Prop() autoclose: boolean = true;\n\n    /**\n     * Event type that triggers the menu open state. Click or Hover.\n     */\n    @Prop() trigger: OpenOn = 'click';\n\n    /**\n     * Close the menu when the user clicks within the menu panel. Default for single selection menus.\n     */\n    @Prop() role: AriaRole = 'menu';\n\n    /**\n     * Prevent opening menu\n     */\n    @Prop() disabled: boolean = false;\n\n    @State() isOpen = false;\n    @State() isIntersectingViewport = false;\n    @State() triggerPosition: DOMRect;\n    triggerEl: HTMLElement;\n    menuEl: HTMLElement;\n    private updatePosition = () => {\n        requestAnimationFrame(() => {\n            const trigger = this.triggerEl;\n            if (trigger) {\n                this.triggerPosition = trigger.getBoundingClientRect();\n            }\n        });\n    };\n\n    @Element() el: HTMLElement;\n\n    /**\n     * Toggles the dropdown menu's open state.\n     */\n    @Method()\n    async toggleMenu(): Promise<void> {\n        this.atuiMenuStateChange.emit(!this.isOpen);\n        this.isOpen = !this.isOpen;\n        this.updatePosition();\n    }\n\n    /**\n     * Toggles the dropdown menu's open state.\n     */\n    @Method()\n    async openMenu(): Promise<void> {\n        this.isOpen = true;\n        this.atuiMenuStateChange.emit(true);\n    }\n\n    /**\n     * Toggles the dropdown menu's open state.\n     */\n    @Method()\n    async closeMenu(): Promise<void> {\n        this.isOpen = false;\n        this.atuiMenuStateChange.emit(false);\n    }\n\n    /**\n     * Return the current menu open state\n     */\n    @Method()\n    async getIsOpen(): Promise<boolean> {\n        return this.isOpen;\n    }\n\n    /**\n     * Emits an event containing the open menu state.\n     */\n    @Event() atuiMenuStateChange: EventEmitter<boolean>;\n\n    private timedOutCloser;\n    private observer: IntersectionObserver;\n\n    componentDidLoad() {\n        this.updatePosition();\n        window.addEventListener('scroll', this.updatePosition, true);\n        window.addEventListener('resize', this.updatePosition);\n        window.addEventListener('click', this.handleOutsideClick);\n        this.initIntersectionObserver();\n    }\n\n    disconnectedCallback() {\n        window.removeEventListener('scroll', this.updatePosition, true);\n        window.removeEventListener('resize', this.updatePosition);\n        window.removeEventListener('click', this.handleOutsideClick);\n\n        if (this.observer) {\n            this.observer.disconnect();\n        }\n    }\n\n    private initIntersectionObserver(): void {\n        const options = {\n            root: null,\n            rootMargin: '0px',\n            threshold: 1.0,\n        };\n\n        this.observer = new IntersectionObserver((entries) => {\n            entries.forEach((entry) => {\n                if (!entry.isIntersecting) {\n                    this.isIntersectingViewport = true;\n                    this.positionStrategy(entry);\n                } else {\n                    this.isIntersectingViewport = false;\n                }\n            });\n        }, options);\n\n        const menuElement = this.el.querySelector(\n            '[data-name=\"menu-content-wrapper\"]',\n        );\n        if (menuElement) {\n            this.observer.observe(menuElement);\n        }\n    }\n\n    private positionStrategy(entry: IntersectionObserverEntry): void {\n        if (!this.isOpen) return;\n\n        const viewportWidth = window.innerWidth;\n        const viewportHeight = window.innerHeight;\n        const { top, right, left, height } = entry.boundingClientRect;\n\n        // TODO: VCOMPLIB-887: Improve menu positioning strategy\n\n        if (this.position === 'bottom' && top + height >= viewportHeight) {\n            this.position = 'top';\n        } else if (this.position === 'top' && top <= 0) {\n            this.position = 'bottom';\n        }\n        if (this.position === 'right' && right >= viewportWidth) {\n            this.position = 'left';\n        } else if (this.position === 'left' && left <= 0) {\n            this.position = 'right';\n        }\n    }\n\n    private mouseEnterHandler(): void {\n        if (this.timedOutCloser) clearTimeout(this.timedOutCloser);\n        if (!this.isOpen) {\n            this.isOpen = true;\n            this.atuiMenuStateChange.emit(true);\n            this.updatePosition();\n        }\n    }\n\n    private mouseLeaveHandler(): void {\n        this.isOpen = false;\n        this.atuiMenuStateChange.emit(false);\n    }\n\n    private handleOutsideClick = (event: MouseEvent) => {\n        if (this.isOpen && !this.el.contains(event.target as Node)) {\n            this.mouseLeaveHandler();\n        }\n    };\n\n    get positionStyle(): { [key: string]: string } {\n        const style: { [key: string]: string } = {};\n\n        const triggerRect = this.triggerEl?.getBoundingClientRect();\n        const menuRect = this.menuEl?.getBoundingClientRect();\n\n        if (!triggerRect) return style;\n\n        switch (this.position) {\n            case 'top':\n                style.top = `${triggerRect.top - menuRect.height}px`;\n                if (this.align === 'start') {\n                    style.left = `${triggerRect.left}px`;\n                } else {\n                    style.right = `${window.innerWidth - triggerRect.right}px`;\n                }\n                break;\n            case 'bottom':\n                style.top = `${triggerRect.bottom + this.offset_y}px`;\n                if (this.align === 'start') {\n                    style.left = `${triggerRect.left}px`;\n                } else {\n                    style.right = `${window.innerWidth - triggerRect.right - 8}px`;\n                }\n                break;\n            case 'left':\n                style.left = `${triggerRect.left - menuRect.width}px`;\n                if (this.align === 'start') {\n                    style.top = `${triggerRect.top}px`;\n                } else {\n                    style.bottom = `${window.innerHeight - triggerRect.bottom}px`;\n                }\n                break;\n            case 'right':\n                style.left = `${triggerRect.right + this.offset_x}px`;\n                if (this.align === 'start') {\n                    style.top = `${triggerRect.top}px`;\n                } else {\n                    style.bottom = `${window.innerHeight - triggerRect.bottom}px`;\n                }\n                break;\n        }\n\n        style.width = this.width;\n\n        return style;\n    }\n\n    render() {\n        const classname = variants({\n            open: this.isOpen,\n        });\n\n        return (\n            <Host>\n                <div\n                    class=\"relative\"\n                    onBlur={() =>\n                        this.trigger === 'click' && !this.disabled\n                            ? this.mouseLeaveHandler()\n                            : null\n                    }\n                >\n                    <div\n                        aria-haspopup=\"true\"\n                        data-name=\"menu-trigger\"\n                        ref={(el) => (this.triggerEl = el)}\n                        aria-expanded={`${this.isOpen ? 'true' : 'false'}`}\n                        onMouseEnter={() =>\n                            this.trigger === 'hover' && !this.disabled\n                                ? this.mouseEnterHandler()\n                                : null\n                        }\n                        onKeyDown={async (event) => {\n                            if (event.key === 'Escape') {\n                                await this.closeMenu();\n                            }\n                        }}\n                        onMouseLeave={() =>\n                            this.trigger === 'hover' && !this.disabled\n                                ? this.mouseLeaveHandler()\n                                : null\n                        }\n                        onClick={() =>\n                            this.trigger === 'click' && !this.disabled\n                                ? this.toggleMenu()\n                                : null\n                        }\n                        class={this.disabled ? 'contents' : ''}\n                    >\n                        <slot name=\"menu-trigger\" />\n                    </div>\n\n                    <div\n                        role={this.role}\n                        style={this.positionStyle}\n                        data-position={this.position}\n                        data-align={this.align}\n                        ref={(el) => (this.menuEl = el)}\n                        aria-hidden={`${this.isOpen ? 'false' : 'true'}`}\n                        onMouseEnter={() =>\n                            this.trigger === 'hover' &&\n                            !this.disabled &&\n                            this.mouseEnterHandler()\n                        }\n                        onMouseLeave={() =>\n                            this.trigger === 'hover' &&\n                            !this.disabled &&\n                            this.mouseLeaveHandler()\n                        }\n                        onKeyDown={(event) => {\n                            if (\n                                event.key === 'Enter' ||\n                                event.key === ' ' ||\n                                event.key === 'Escape'\n                            ) {\n                                if (this.autoclose) {\n                                    this.mouseLeaveHandler();\n                                }\n                            }\n                        }}\n                        onClick={() =>\n                            this.autoclose && this.mouseLeaveHandler()\n                        }\n                        class={classname}\n                        data-name=\"menu-content-wrapper\"\n                    >\n                        <slot name=\"menu-content\" />\n                    </div>\n                </div>\n            </Host>\n        );\n    }\n}\n"],"version":3}