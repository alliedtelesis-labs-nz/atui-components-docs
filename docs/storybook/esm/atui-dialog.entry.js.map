{"version":3,"file":"atui-dialog.entry.js","sources":["src/components/atui-dialog/atui-dialog.scss?tag=atui-dialog","src/components/atui-dialog/atui-dialog.tsx"],"sourcesContent":["@use '../../styles/shared/backdrop';\n\n.c-atui-dialog {\n    position: fixed;\n    inset: 0;\n    margin: auto;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    max-height: calc(100dvh - 48px);\n    overflow: hidden;\n    border: 0;\n    padding: 0;\n    background: transparent;\n    z-index: var(--token-z-index-modal);\n    transform-origin: center;\n    opacity: 0;\n    scale: 0.95;\n    box-shadow: var(--token-shadow-3);\n    transition:\n        translate 0.3s ease,\n        scale 0.3s ease,\n        opacity 0.3s ease,\n        visibility 0s linear 0.3s;\n    visibility: hidden;\n\n    &::backdrop {\n        background: none;\n    }\n\n    .backdrop-content {\n        display: flex;\n        max-height: calc(100dvh - 48px);\n    }\n\n    &[open] {\n        translate: 0 0;\n        scale: 1;\n        opacity: 1;\n        visibility: visible;\n        transition:\n            translate 0.3s ease,\n            scale 0.3s ease,\n            opacity 0.3s ease,\n            visibility 0s linear;\n\n        @starting-style {\n            opacity: 0;\n            scale: 1.15;\n        }\n    }\n\n    &:not([open]) {\n        scale: 0.95;\n        opacity: 0;\n        visibility: hidden;\n    }\n}\n","import { Component, Prop, h, Element, Method, State } from '@stencil/core';\n\n/**\n * @category Overlays\n * @description A modal dialog component for displaying content that requires user interaction or attention. Features backdrop click handling, escape key support, and programmatic open/close control.\n *\n * @slot - Content placed inside of the dialog box\n */\n@Component({\n    tag: 'atui-dialog',\n    styleUrl: 'atui-dialog.scss',\n    shadow: false,\n})\nexport class AtuiDialogComponent {\n    @Element() el!: HTMLAtuiDialogElement;\n\n    /**\n     * ID of the dialog element (used to open and close the modal)\n     */\n    @Prop()\n    dialog_id: string;\n\n    /**\n     * Role of the dialog element. Can be either 'dialog' or 'alertdialog'\n     */\n    @Prop()\n    role: 'dialog' | 'alertdialog' = 'dialog';\n\n    /**\n     * Whether to show a backdrop behind the dialog\n     */\n    @Prop()\n    backdrop: boolean = false;\n\n    /**\n     * Internal state to track if dialog is open\n     */\n    @State()\n    isOpen: boolean = false;\n\n    /**\n     * Opens the dialog modal\n     * @returns Promise that resolves when the dialog is opened\n     */\n    @Method()\n    async openDialog(): Promise<void> {\n        const dialog = this.el.querySelector('dialog') as HTMLDialogElement;\n        if (dialog && !this.isOpen) {\n            dialog.showModal();\n            this.isOpen = true;\n            if (this.backdrop) {\n                dialog.classList.add('backdrop');\n            }\n        }\n    }\n\n    /**\n     * Closes the dialog modal\n     * @returns Promise that resolves when the dialog is closed\n     */\n    @Method()\n    async closeDialog(): Promise<void> {\n        const dialog = this.el.querySelector('dialog') as HTMLDialogElement;\n        if (dialog && this.isOpen) {\n            dialog.close();\n            this.isOpen = false;\n            dialog.removeAttribute('open');\n            dialog.classList.remove('backdrop');\n        }\n    }\n\n    private handleDialogClose = (event: Event) => {\n        event.preventDefault();\n        if (this.isOpen) {\n            this.closeDialog();\n        }\n    };\n\n    private handleKeyDown = (event: KeyboardEvent) => {\n        if (event.key === 'Escape' && this.isOpen) {\n            event.preventDefault();\n            this.closeDialog();\n        }\n    };\n\n    render() {\n        return (\n            <dialog\n                class={`c-atui-dialog ${this.backdrop ? 'backdrop' : ''}`}\n                id={this.dialog_id}\n                data-name=\"dialog\"\n                role={this.role}\n                aria-modal=\"true\"\n                onClose={this.handleDialogClose}\n                onKeyDown={this.handleKeyDown}\n            >\n                <div class=\"backdrop-content\">\n                    <slot />\n                </div>\n            </dialog>\n        );\n    }\n}\n"],"names":[],"mappings":";;AAAA,MAAM,aAAa,GAAG,k7CAAk7C;;MCa37C,mBAAmB,GAAA,MAAA;AALhC,IAAA,WAAA,CAAA,OAAA,EAAA;;AAcI;;AAEG;AAEH,QAAA,IAAI,CAAA,IAAA,GAA6B,QAAQ;AAEzC;;AAEG;AAEH,QAAA,IAAQ,CAAA,QAAA,GAAY,KAAK;AAEzB;;AAEG;AAEH,QAAA,IAAM,CAAA,MAAA,GAAY,KAAK;AAiCf,QAAA,IAAA,CAAA,iBAAiB,GAAG,CAAC,KAAY,KAAI;YACzC,KAAK,CAAC,cAAc,EAAE;AACtB,YAAA,IAAI,IAAI,CAAC,MAAM,EAAE;gBACb,IAAI,CAAC,WAAW,EAAE;;AAE1B,SAAC;AAEO,QAAA,IAAA,CAAA,aAAa,GAAG,CAAC,KAAoB,KAAI;YAC7C,IAAI,KAAK,CAAC,GAAG,KAAK,QAAQ,IAAI,IAAI,CAAC,MAAM,EAAE;gBACvC,KAAK,CAAC,cAAc,EAAE;gBACtB,IAAI,CAAC,WAAW,EAAE;;AAE1B,SAAC;AAmBJ;AA9DG;;;AAGG;AAEH,IAAA,MAAM,UAAU,GAAA;QACZ,MAAM,MAAM,GAAG,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,QAAQ,CAAsB;AACnE,QAAA,IAAI,MAAM,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;YACxB,MAAM,CAAC,SAAS,EAAE;AAClB,YAAA,IAAI,CAAC,MAAM,GAAG,IAAI;AAClB,YAAA,IAAI,IAAI,CAAC,QAAQ,EAAE;AACf,gBAAA,MAAM,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC;;;;AAK5C;;;AAGG;AAEH,IAAA,MAAM,WAAW,GAAA;QACb,MAAM,MAAM,GAAG,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,QAAQ,CAAsB;AACnE,QAAA,IAAI,MAAM,IAAI,IAAI,CAAC,MAAM,EAAE;YACvB,MAAM,CAAC,KAAK,EAAE;AACd,YAAA,IAAI,CAAC,MAAM,GAAG,KAAK;AACnB,YAAA,MAAM,CAAC,eAAe,CAAC,MAAM,CAAC;AAC9B,YAAA,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC,UAAU,CAAC;;;IAkB3C,MAAM,GAAA;AACF,QAAA,QACI,+DACI,KAAK,EAAE,CAAiB,cAAA,EAAA,IAAI,CAAC,QAAQ,GAAG,UAAU,GAAG,EAAE,CAAA,CAAE,EACzD,EAAE,EAAE,IAAI,CAAC,SAAS,EACR,WAAA,EAAA,QAAQ,EAClB,IAAI,EAAE,IAAI,CAAC,IAAI,gBACJ,MAAM,EACjB,OAAO,EAAE,IAAI,CAAC,iBAAiB,EAC/B,SAAS,EAAE,IAAI,CAAC,aAAa,EAAA,EAE7B,CAAK,CAAA,KAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAA,KAAK,EAAC,kBAAkB,EAAA,EACzB,CAAQ,CAAA,MAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAA,CAAA,CACN,CACD;;;;;;;;"}