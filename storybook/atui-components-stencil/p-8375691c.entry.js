import{r as t,c as e,g as s,h as i,H as a}from"./p-jvbUuQtg.js";import{c as h}from"./p-COG8_R0C.js";const l={variants:{layout:{column:"flex flex-col gap-4",row:"flex",grid:"grid grid-cols-3"}}},o=class{constructor(s){t(this,s),this.atuiChange=e(this,"atuiChange",7)}label;info_text;hint_text;error_text;disabled;invalid;required;options;updateSelected(){this.options.forEach((t=>{!0!==t.checked||this.value.includes(t.value)?!1===t.checked&&this.value.includes(t.value)&&(this.value=this.value.filter((e=>e!==t.value))):this.value.push(t.value)}))}layout="column";value=[];get el(){return s(this)}checkboxEls=[];onValueChange(){this.options||this.el.querySelectorAll("at-checkbox").forEach((t=>{t.checked=this.value?.includes(t.value)??!1}))}atuiChange;formControlSelected=null;componentDidLoad(){this.options||requestAnimationFrame((()=>{this.setupOptionElements()}))}get getCheckBoxes(){return this.options?(null!==this.formControlSelected&&(this.value=this.formControlSelected,this.formControlSelected=null),this.options.map((t=>i("at-checkbox",{value:t.value,label:t.label,hint_text:t.hint_text,checked:this.value.includes(t.value),disabled:this.disabled,onAtuiChange:e=>this.handleChange(e,t.value)})))):""}setupOptionElements(){this.el.querySelectorAll("at-checkbox").forEach((t=>{t.disabled=this.disabled,t.checked=this.value?.includes(t.value)??!1,t.addEventListener("atuiChange",(e=>this.handleChange(e,t.value)))}))}handleChange(t,e){t.stopPropagation();const s=t.detail;s&&!this.value.includes(e)?this.value=[...this.value,e]:s||(this.value=this.value.filter((t=>t!==e))),this.atuiChange.emit(this.value)}render(){const t=h("gap-4",l)({layout:this.layout});return i(a,{key:"87b9164b03071243221f11d84dec166887d36ba4",role:"group","aria-label":this.label,"aria-description":this.info_text,class:"flex w-full flex-col"},i("div",{key:"88098c6b6f6922686b0006e22146cffd9da973de",class:"flex flex-col"},i("slot",{key:"5e685deef09da9ed3c42c05999aabb72e81ed901",name:"label"}),(this.label||this.required||this.info_text)&&i("at-form-label",{key:"46295e062c50194190e442f397706de1bd87e86e",label:this.label,required:this.required,info_text:this.info_text}),this.hint_text&&i("span",{key:"02f55ab283412dafe4148af435566cd618efec69",class:"text-light mb-8 inline-block text-xs leading-tight","data-name":"checkbox-group-hint"},this.hint_text)),i("ul",{key:"f9d2f197594c72a402e390337302d0710db1a17f",class:t,"data-name":"checkbox-group-options"},i("slot",{key:"9e51c1aa78e6b3497862bfd292b11f1067e96500"}),this.getCheckBoxes&&this.getCheckBoxes.map((t=>i("li",{class:"flex"},t)))),this.error_text&&this.invalid&&i("span",{key:"fb464b3c6c6f1653b59ca114da8451e0c8f468f7",class:"text-error text-sm","data-name":"checkbox-group-error-text"},this.error_text))}static get watchers(){return{options:[{updateSelected:0}],value:[{onValueChange:0}]}}};export{o as at_checkbox_group}