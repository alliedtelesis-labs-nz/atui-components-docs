import{r as e,c as t,g as s,h as a,H as i}from"./p-jvbUuQtg.js";import{c as h}from"./p-COG8_R0C.js";const l={variants:{layout:{column:"flex flex-col gap-4",row:"flex",grid:"grid grid-cols-3"}}},c=class{constructor(s){e(this,s),this.atuiChange=t(this,"atuiChange",7)}label;info_text;hint_text;error_text;disabled;invalid;required;options;updateSelected(){this.options.forEach((e=>{!0!==e.checked||this.value.includes(e.value)?!1===e.checked&&this.value.includes(e.value)&&(this.value=this.value.filter((t=>t!==e.value))):this.value.push(e.value)}))}layout="column";value=[];get el(){return s(this)}checkboxEls=[];onValueChange(){this.options||this.el.querySelectorAll("at-checkbox").forEach((e=>{e.checked=this.value?.includes(e.value)??!1}))}atuiChange;formControlSelected=null;componentDidLoad(){this.options||requestAnimationFrame((()=>{this.setupOptionElements()}))}get getCheckBoxes(){return this.options?(null!==this.formControlSelected&&(this.value=this.formControlSelected,this.formControlSelected=null),this.options.map((e=>a("at-checkbox",{value:e.value,label:e.label,hint_text:e.hint_text,checked:this.value.includes(e.value),disabled:this.disabled,onAtuiChange:t=>this.handleChange(t,e.value)})))):""}setupOptionElements(){this.el.querySelectorAll("at-checkbox").forEach((e=>{e.disabled=this.disabled,e.checked=this.value?.includes(e.value)??!1,e.addEventListener("atuiChange",(t=>this.handleChange(t,e.value)))}))}handleChange(e,t){e.stopPropagation();const s=e.detail;s&&!this.value.includes(t)?this.value=[...this.value,t]:s||(this.value=this.value.filter((e=>e!==t))),this.atuiChange.emit(this.value)}render(){const e=h("gap-4",l)({layout:this.layout});return a(i,{key:"5d40d130baf61e7e302a635163bc1393c1f71048",role:"group","aria-label":this.label,"aria-description":this.info_text,class:"flex w-full flex-col"},a("div",{key:"802da8af31c6a42d74a9d5e583e74e2476ef9e75",class:"flex flex-col"},a("slot",{key:"e8599d83e372f1848a5a7412f2bdb0992afd7940",name:"label"}),(this.label||this.required||this.info_text)&&a("at-form-label",{key:"5cff6bae2b4218c03b579ee3c449f5195796ec01",label:this.label,required:this.required,info_text:this.info_text}),this.hint_text&&a("span",{key:"ada5ef45ac6d52efabdd238005fb517a4cd30dce",class:"text-light mb-8 inline-block text-xs leading-tight","data-name":"checkbox-group-hint"},this.hint_text)),a("ul",{key:"cd2cc260b7a125ba533b826385a1e3bda5ac1ee2",class:e,"data-name":"checkbox-group-options"},a("slot",{key:"557911f649b37c3adfe6b575be6971e694eb231b"}),this.getCheckBoxes&&this.getCheckBoxes.map((e=>a("li",{class:"flex"},e)))),this.error_text&&this.invalid&&a("span",{key:"238633ee95c612048fa49c455b9e3b6c9000d177",class:"text-error text-sm","data-name":"checkbox-group-error-text"},this.error_text))}static get watchers(){return{options:[{updateSelected:0}],value:[{onValueChange:0}]}}};export{c as at_checkbox_group}