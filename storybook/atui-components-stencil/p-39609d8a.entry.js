import{r as t,c as s,h as e}from"./p-C8uvvL0O.js";const i=class{constructor(e){t(this,e);this.atuiClick=s(this,"atuiClick",7);this.size="sm";this.flattenedItemList=[];this.flattenedItemStyles=[];this.handleClick=t=>{let s=null;const e=i=>{const l=[];i.forEach((i=>{const h=Object.assign({},i);if(i.id===t){h.selected=!h.selected;s=h}if(i.children){h.children=e(i.children)}l.push(h)}));return l};this.item_list=e(this.item_list);this.flattenItemList(this.item_list);if(s){this.atuiClick.emit(s)}};this.flattenItemList=t=>{const s=[];const e=(t,i)=>{t.forEach((t=>{const l=Object.assign(Object.assign({},t),{depth:i});s.push(l);if(t.selected&&t.children&&t.children.length){e(t.children,i+1)}}))};e(t,0);this.flattenedItemList=s}}componentWillRender(){if(this.item_list&&this.item_list.length){this.flattenItemList(this.item_list)}}render(){return e("div",{key:"4d19857ccf55599959f314559fecd9bccf76f8fe",class:"w-full"},e("slot",{key:"93db62a2489b02e6f4f922f90b77eb18373b432d"}),this.flattenedItemList&&this.flattenedItemList.map(((t,s)=>e("div",{key:s,class:`flex w-full`},t.tooltip!==undefined?e("at-tooltip",{position:"right",class:"flex flex-grow items-start"},e("at-tree-item",{class:"flex-grow",depth:t.depth,slot:"tooltip-trigger",onAtuiClick:()=>this.handleClick(t.id),key:t.id,label:t.displayName,size:this.size,has_children:t.children&&t.children.length>0,selected:t.selected},e("slot",{name:"item-content"})),e("span",null,t.tooltip)):e("at-tree-item",{depth:t.depth,style:{paddingLeft:this.flattenedItemStyles[s]+"px"},onAtuiClick:()=>this.handleClick(t.id),has_children:t.children&&t.children.length>0,key:t.id,label:t.displayName,size:this.size},e("slot",{name:"item-content"}))))))}};export{i as at_tree};
//# sourceMappingURL=p-39609d8a.entry.js.map