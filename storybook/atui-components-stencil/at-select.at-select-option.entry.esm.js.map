{"version":3,"file":"at-select.at-select-option.entry.esm.js","sources":["src/components/at-select/at-select.tsx","src/components/at-select/at-select-option/at-select-option.tsx"],"sourcesContent":["import {\n    Component,\n    Prop,\n    State,\n    Element,\n    h,\n    Host,\n    Event,\n    EventEmitter,\n    Watch,\n} from '@stencil/core';\nimport { fetchTranslations } from '../../utils/translation';\nimport { classlist } from '../../utils/classlist';\nimport { SelectOption } from '../../types/select';\nimport {\n    handleArrowNavigation,\n    handleHomeEndNavigation,\n} from '../../utils/keyboard-navigation';\n\nconst inputVariantsConfig = {\n    variants: {\n        focused: {\n            false: 'ring-active-foreground/30',\n            true: 'pointer-events-none',\n        },\n        disabled: {\n            false: 'focus-within:ring-active-foreground/30 cursor-pointer bg-white',\n            true: 'bg-surface-1 !text-disabled pointer-events-none border-none',\n        },\n        readonly: {\n            false: 'focus-within:ring-active-foreground/30',\n            true: '!bg-surface-1 !text-dark cursor-text border-none',\n        },\n        invalid: {\n            false: 'border-med focus-within:border-active-dark focus-within:ring-active-foreground/30',\n            true: 'border-error-base focus-within:border-error-base focus-within:ring-destructive-foreground/30',\n        },\n    },\n    defaultVariants: {\n        disabled: false,\n        readonly: false,\n        invalid: false,\n    },\n};\n\n/**\n * @category Form Controls\n * @description A dropdown selection component for choosing single values from a list of options. Features search functionality, keyboard navigation, and accessibility support.\n * @slot - Use this slot to manually add <at-select-option> elements in your HTML. Options added via slot will appear in the dropdown alongside those provided via the 'options' prop. Both methods support search, selection, and display together (options being display before the manually added).\n */\n@Component({\n    tag: 'at-select',\n    shadow: false,\n})\nexport class AtSelectComponent {\n    /**\n     * Value of the currently selected option\n     */\n    @Prop({ mutable: true })\n    value: string;\n\n    /**\n     * Sets the options in the dropdown\n     */\n    @Prop()\n    options: SelectOption[];\n\n    /**\n     * Label of the input.\n     */\n    @Prop()\n    label?: string;\n\n    /**\n     * Short description or validation hint if required.\n     */\n    @Prop()\n    hint_text?: string;\n\n    /**\n     * Optional info icon with detailed tooltip description. Displayed at right of label.\n     */\n    @Prop()\n    info_text?: string;\n\n    /**\n     * Placeholder for the select.\n     */\n    @Prop()\n    placeholder?: string;\n\n    /**\n     * Error message visible when input is valid.\n     */\n    @Prop()\n    error_text?: string;\n\n    /**\n     * Indicated form field is required.\n     */\n    @Prop()\n    required?: boolean;\n\n    /**\n     * Set the input to appear valid.\n     */\n    @Prop()\n    invalid?: boolean;\n\n    /**\n     * Disable user interaction. Disabled state should be applied via form control.\n     */\n    @Prop()\n    disabled?: boolean;\n\n    /**\n     * Set input to readonly mode, allows users to select any active values.\n     */\n    @Prop()\n    readonly?: boolean;\n\n    /**\n     * Set the select input to be clearable. Only enabled on typeahead selects.\n     */\n    @Prop()\n    clearable?: boolean;\n\n    /**\n     * Set the select to appear as a typeahead input.\n     */\n    @Prop()\n    typeahead?: boolean = false;\n\n    /**\n     * Close the menu when the user clicks within the menu panel. Default for single selection menus.\n     */\n    @Prop()\n    autoclose?: boolean = true;\n\n    inputEl: HTMLInputElement;\n    @State() searchText: string = '';\n    @State() isOpen: boolean = false;\n    @State() translations: any;\n    @State() hasMatchingOptions: boolean = false;\n    @State() hasMatchingElOptions: boolean = false;\n    @State() parentWidth: string;\n\n    @Element() el: HTMLElement;\n    private menuId = `dropdown-${Math.random().toString(36).substring(2, 11)}`;\n    private menuRef: HTMLAtMenuElement;\n    private optionEls: HTMLAtSelectOptionElement[] = [];\n    private searchInputEl: HTMLInputElement;\n\n    @Watch('value')\n    watchValue(newValue: string) {\n        this.optionEls.forEach((optionEl) => {\n            optionEl.is_active = newValue === optionEl.value;\n        });\n    }\n\n    @Watch('searchText')\n    watchSearchText(newSearch: string) {\n        const trimmedSearch = newSearch.trim().toLowerCase();\n\n        this.optionEls.forEach((optionEl) => {\n            const matches =\n                !trimmedSearch ||\n                optionEl.value.toLowerCase().includes(trimmedSearch);\n            optionEl.style.display = matches ? '' : 'none';\n        });\n    }\n\n    /**\n     * Emits an event containing the selected value when changed.\n     */\n    @Event()\n    atuiChange: EventEmitter<string>;\n\n    async componentWillLoad(): Promise<void> {\n        this.translations = await fetchTranslations(this.el);\n    }\n\n    componentDidLoad() {\n        this.el.querySelectorAll('at-select-option').forEach((option) => {\n            const optionEl = option as HTMLAtSelectOptionElement;\n            optionEl.is_active = this.value === optionEl.value;\n            optionEl.addEventListener('atuiClick', (event: CustomEvent) => {\n                this.handleChange(event.detail);\n            });\n            this.optionEls.push(optionEl);\n        });\n\n        const parentRect = this.el.getBoundingClientRect();\n        this.parentWidth = `${parentRect.width}px`;\n    }\n\n    private updateIsOpenState(event: CustomEvent<boolean>): void {\n        this.isOpen = event.detail;\n\n        const triggerEl = this.el.querySelector(\n            '[slot=\"menu-trigger\"]',\n        ) as HTMLElement;\n        const rect = triggerEl?.getBoundingClientRect();\n        if (rect && rect.width > 0) {\n            this.parentWidth = `${rect.width}px`;\n        }\n\n        if (this.isOpen && this.typeahead) {\n            requestAnimationFrame(() => {\n                if (this.searchInputEl) {\n                    this.searchInputEl.focus();\n                }\n            });\n        }\n    }\n\n    private async handleChange(option: string): Promise<void> {\n        if (this.autoclose) {\n            await this.menuRef?.closeMenu();\n        }\n        this.value = option;\n        this.inputEl.focus();\n        this.atuiChange.emit(this.value);\n    }\n\n    private async handleClear(): Promise<void> {\n        this.searchText = '';\n    }\n\n    private async handleKeyDownMenu(event: KeyboardEvent): Promise<void> {\n        if (event.key === 'Enter' || event.key === ' ') {\n            if (event.target instanceof HTMLLIElement) {\n                event.preventDefault();\n                event.target.click();\n            }\n            return;\n        }\n\n        const menuContainer = this.el.querySelector(\n            'ul[id=\"at-select\"]',\n        ) as HTMLElement;\n        if (!menuContainer) return;\n\n        handleArrowNavigation(event, menuContainer);\n        handleHomeEndNavigation(event, menuContainer);\n    }\n\n    private handleSearchInput(event: Event): void {\n        const inputEl = event.target as HTMLInputElement;\n        this.searchText = inputEl.value.toLowerCase();\n        const trimmedSearch = this.searchText.trim().toLowerCase();\n\n        this.hasMatchingOptions = trimmedSearch\n            ? this.options?.some((option) =>\n                  option.value.toLowerCase().includes(trimmedSearch),\n              )\n            : true;\n\n        this.hasMatchingElOptions = trimmedSearch\n            ? this.optionEls?.some((option) =>\n                  option.value.toLowerCase().includes(trimmedSearch),\n              )\n            : true;\n    }\n\n    render() {\n        return (\n            <Host\n                class=\"group/select\"\n                onFocusout={async (event: FocusEvent) => {\n                    await this.handleClear();\n                    const relatedTarget = event.relatedTarget as HTMLElement;\n                    if (!relatedTarget || !this.el.contains(relatedTarget)) {\n                        setTimeout(async () => {\n                            await this.menuRef?.closeMenu();\n                        }, 100);\n                    }\n                }}\n            >\n                {this.renderLabel()}\n                <at-menu\n                    ref={(el) => (this.menuRef = el)}\n                    trigger=\"click\"\n                    align=\"start\"\n                    width={this.parentWidth}\n                    role=\"listbox\"\n                    disabled={this.disabled || this.readonly}\n                    onAtuiMenuStateChange={(event) =>\n                        this.updateIsOpenState(event)\n                    }\n                >\n                    {this.renderInput()}\n                    {!this.disabled || !this.readonly\n                        ? this.renderOptions()\n                        : null}\n                </at-menu>\n\n                <div>\n                    {this.error_text && this.invalid && (\n                        <span\n                            class=\"text-error\"\n                            data-name=\"select-error\"\n                        >\n                            {this.error_text}\n                        </span>\n                    )}\n                </div>\n            </Host>\n        );\n    }\n\n    renderLabel() {\n        return (\n            <div class=\"mb-4 flex flex-col\">\n                <slot name=\"label\" />\n                {(this.label || this.required || this.info_text) && (\n                    <at-form-label\n                        for={this.menuId}\n                        label={this.label}\n                        required={this.required && !this.readonly}\n                        info_text={this.info_text}\n                    />\n                )}\n                {this.hint_text && (\n                    <span\n                        class=\"text-light inline-block text-xs leading-tight\"\n                        data-name=\"select-hint\"\n                    >\n                        {this.hint_text}\n                    </span>\n                )}\n            </div>\n        );\n    }\n\n    renderInput() {\n        const getClassname = classlist(\n            'height-[36px] transition[background-color,color,box-shadow] placeholder-text-light group/select:focus-within:ring-2 w-full cursor-pointer rounded-md border border-solid p-8 outline-0 duration-300 ease-in-out select-none focus:ring-2',\n            inputVariantsConfig,\n        );\n\n        const classname = getClassname({\n            invalid: this.invalid,\n            disabled: this.disabled,\n            readonly: this.readonly,\n        });\n\n        return (\n            <div\n                class=\"relative flex items-center gap-4\"\n                slot=\"menu-trigger\"\n            >\n                <input\n                    class={classname}\n                    role=\"combobox\"\n                    list=\"at-select\"\n                    aria-expanded={this.isOpen}\n                    aria-controls={this.menuId}\n                    type=\"text\"\n                    readonly={true}\n                    aria-disabled={this.disabled}\n                    disabled={this.disabled}\n                    placeholder={this.placeholder}\n                    value={this.value}\n                    data-name=\"select-input\"\n                    ref={(el) => (this.inputEl = el)}\n                ></input>\n\n                {!this.readonly && !this.disabled && (\n                    <div\n                        class=\"bg-surface1 absolute right-4 flex h-full cursor-pointer items-center rounded-md p-4 select-none\"\n                        role=\"presentation\"\n                        tabindex={-1}\n                    >\n                        <span\n                            class=\"material-icons h-16 w-16 text-[16px] leading-[16px]\"\n                            data-name=\"button-icon-right\"\n                        >\n                            {this.isOpen ? 'arrow_drop_up' : 'arrow_drop_down'}\n                        </span>\n                    </div>\n                )}\n            </div>\n        );\n    }\n\n    renderOptions() {\n        return (\n            <ul\n                class=\"contents\"\n                id=\"at-select\"\n                onKeyDown={async (event) => {\n                    await this.handleKeyDownMenu(event);\n                }}\n            >\n                {this.typeahead && (\n                    <div class=\"relative z-10 bg-white p-4\">\n                        <input\n                            type=\"text\"\n                            class={`transition[background-color,color] bg-surface-1 ring-active-foreground/30 mb-4 h-[28px] w-full flex-shrink flex-grow basis-0 rounded-md p-8 outline-0 duration-300 ease-in-out focus:ring-2 ${\n                                this.clearable ? 'pr-24' : ''\n                            } `}\n                            placeholder={\n                                this.translations?.ATUI?.SEARCH || 'Search'\n                            }\n                            name=\"\"\n                            autoComplete=\"off\"\n                            aria-autocomplete=\"list\"\n                            value={this.searchText}\n                            onInput={(event) => {\n                                event.stopPropagation();\n                                this.handleSearchInput(event);\n                            }}\n                            onClick={(e) => e.stopPropagation()}\n                            ref={(el) => (this.searchInputEl = el)}\n                        />\n\n                        {this.clearable && this.searchText !== '' && (\n                            <div class=\"absolute top-4 right-4\">\n                                <at-button\n                                    size=\"sm\"\n                                    icon=\"cancel\"\n                                    type=\"secondaryText\"\n                                    onClick={async (event) => {\n                                        event.stopPropagation();\n                                        await this.handleClear();\n                                    }}\n                                    data-name=\"select-clear\"\n                                ></at-button>\n                            </div>\n                        )}\n                    </div>\n                )}\n\n                {this.options\n                    ?.filter(\n                        (option) =>\n                            !this.searchText ||\n                            option.value\n                                .toLowerCase()\n                                .includes(this.searchText),\n                    )\n                    .map((option) => this.renderOption(option))}\n\n                <slot />\n\n                {this.typeahead &&\n                    this.searchText &&\n                    !this.hasMatchingOptions &&\n                    !this.hasMatchingElOptions && (\n                        <div class=\"text-body text-light w-full bg-white px-16 py-8\">\n                            {this.translations?.ATUI?.NO_RESULTS_FOUND ||\n                                'No results found'}\n                        </div>\n                    )}\n            </ul>\n        );\n    }\n\n    renderOption(option: SelectOption) {\n        return (\n            <at-select-option\n                value={option.value}\n                is_active={this.value === option.value}\n                onAtuiClick={() => this.handleChange(option.value)}\n            ></at-select-option>\n        );\n    }\n}\n","import { Component, Prop, Event, EventEmitter, h } from '@stencil/core';\nimport { classlist } from '../../../utils/classlist';\n\nconst optionVariantsConfig = {\n    variants: {\n        active: {\n            true: 'bg-active-light text-active',\n            false: 'hover:bg-disabled-light bg-white',\n        },\n    },\n};\n\n/**\n * @category Form Controls\n * @description A select option component used within the AtSelect component.\n *\n * @Slot - Use this slot to add custom content inside the select option before the text.\n */\n\n@Component({\n    tag: 'at-select-option',\n    shadow: false,\n})\nexport class AtSelectOptionComponent {\n    /**\n     * Value of the select option\n     */\n\n    @Prop()\n    value: string;\n\n    /**\n     * Will apply the active styling to the select option\n     */\n\n    @Prop()\n    is_active?: boolean = false;\n\n    /**\n     * Emitted when the select option is clicked\n     */\n    @Event()\n    atuiClick: EventEmitter<string>;\n\n    private handleClick(): void {\n        this.atuiClick.emit(this.value);\n    }\n    render() {\n        const getOptionClassname = classlist(\n            'transition[background-color,color,box-shadow] text-body focus:ring-active-foreground/40 flex w-full cursor-pointer items-center truncate p-8 font-normal duration-300 ease-in-out focus:ring-2 focus:outline-0 focus:ring-inset',\n            optionVariantsConfig,\n        );\n\n        const classname = getOptionClassname({\n            active: this.is_active,\n        });\n\n        return (\n            <li\n                role=\"option\"\n                value={this.value}\n                data-name=\"select-option\"\n                aria-selected={this.is_active ? 'true' : 'false'}\n                tabIndex={0}\n                class={classname}\n                onClick={() => this.handleClick()}\n            >\n                <slot></slot>\n                {this.value}\n            </li>\n        );\n    }\n}\n"],"names":[],"mappings":";;;;;AAmBA,MAAM,mBAAmB,GAAG;AACxB,IAAA,QAAQ,EAAE;AACN,QAAA,OAAO,EAAE;AACL,YAAA,KAAK,EAAE,2BAA2B;AAClC,YAAA,IAAI,EAAE,qBAAqB;AAC9B,SAAA;AACD,QAAA,QAAQ,EAAE;AACN,YAAA,KAAK,EAAE,gEAAgE;AACvE,YAAA,IAAI,EAAE,6DAA6D;AACtE,SAAA;AACD,QAAA,QAAQ,EAAE;AACN,YAAA,KAAK,EAAE,wCAAwC;AAC/C,YAAA,IAAI,EAAE,kDAAkD;AAC3D,SAAA;AACD,QAAA,OAAO,EAAE;AACL,YAAA,KAAK,EAAE,mFAAmF;AAC1F,YAAA,IAAI,EAAE,8FAA8F;AACvG,SAAA;AACJ,KAAA;AACD,IAAA,eAAe,EAAE;AACb,QAAA,QAAQ,EAAE,KAAK;AACf,QAAA,QAAQ,EAAE,KAAK;AACf,QAAA,OAAO,EAAE,KAAK;AACjB,KAAA;CACJ;MAWY,iBAAiB,GAAA,MAAA;;;;;AAC1B;;AAEG;AAEH,IAAA,KAAK;AAEL;;AAEG;AAEH,IAAA,OAAO;AAEP;;AAEG;AAEH,IAAA,KAAK;AAEL;;AAEG;AAEH,IAAA,SAAS;AAET;;AAEG;AAEH,IAAA,SAAS;AAET;;AAEG;AAEH,IAAA,WAAW;AAEX;;AAEG;AAEH,IAAA,UAAU;AAEV;;AAEG;AAEH,IAAA,QAAQ;AAER;;AAEG;AAEH,IAAA,OAAO;AAEP;;AAEG;AAEH,IAAA,QAAQ;AAER;;AAEG;AAEH,IAAA,QAAQ;AAER;;AAEG;AAEH,IAAA,SAAS;AAET;;AAEG;IAEH,SAAS,GAAa,KAAK;AAE3B;;AAEG;IAEH,SAAS,GAAa,IAAI;AAE1B,IAAA,OAAO;IACE,UAAU,GAAW,EAAE;IACvB,MAAM,GAAY,KAAK;AACvB,IAAA,YAAY;IACZ,kBAAkB,GAAY,KAAK;IACnC,oBAAoB,GAAY,KAAK;AACrC,IAAA,WAAW;;AAGZ,IAAA,MAAM,GAAG,CAAY,SAAA,EAAA,IAAI,CAAC,MAAM,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE;AAClE,IAAA,OAAO;IACP,SAAS,GAAgC,EAAE;AAC3C,IAAA,aAAa;AAGrB,IAAA,UAAU,CAAC,QAAgB,EAAA;QACvB,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,QAAQ,KAAI;YAChC,QAAQ,CAAC,SAAS,GAAG,QAAQ,KAAK,QAAQ,CAAC,KAAK;AACpD,SAAC,CAAC;;AAIN,IAAA,eAAe,CAAC,SAAiB,EAAA;QAC7B,MAAM,aAAa,GAAG,SAAS,CAAC,IAAI,EAAE,CAAC,WAAW,EAAE;QAEpD,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,QAAQ,KAAI;YAChC,MAAM,OAAO,GACT,CAAC,aAAa;gBACd,QAAQ,CAAC,KAAK,CAAC,WAAW,EAAE,CAAC,QAAQ,CAAC,aAAa,CAAC;AACxD,YAAA,QAAQ,CAAC,KAAK,CAAC,OAAO,GAAG,OAAO,GAAG,EAAE,GAAG,MAAM;AAClD,SAAC,CAAC;;AAGN;;AAEG;AAEH,IAAA,UAAU;AAEV,IAAA,MAAM,iBAAiB,GAAA;QACnB,IAAI,CAAC,YAAY,GAAG,MAAM,iBAAiB,CAAC,IAAI,CAAC,EAAE,CAAC;;IAGxD,gBAAgB,GAAA;AACZ,QAAA,IAAI,CAAC,EAAE,CAAC,gBAAgB,CAAC,kBAAkB,CAAC,CAAC,OAAO,CAAC,CAAC,MAAM,KAAI;YAC5D,MAAM,QAAQ,GAAG,MAAmC;YACpD,QAAQ,CAAC,SAAS,GAAG,IAAI,CAAC,KAAK,KAAK,QAAQ,CAAC,KAAK;YAClD,QAAQ,CAAC,gBAAgB,CAAC,WAAW,EAAE,CAAC,KAAkB,KAAI;AAC1D,gBAAA,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,MAAM,CAAC;AACnC,aAAC,CAAC;AACF,YAAA,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC;AACjC,SAAC,CAAC;QAEF,MAAM,UAAU,GAAG,IAAI,CAAC,EAAE,CAAC,qBAAqB,EAAE;QAClD,IAAI,CAAC,WAAW,GAAG,CAAA,EAAG,UAAU,CAAC,KAAK,IAAI;;AAGtC,IAAA,iBAAiB,CAAC,KAA2B,EAAA;AACjD,QAAA,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC,MAAM;QAE1B,MAAM,SAAS,GAAG,IAAI,CAAC,EAAE,CAAC,aAAa,CACnC,uBAAuB,CACX;AAChB,QAAA,MAAM,IAAI,GAAG,SAAS,EAAE,qBAAqB,EAAE;QAC/C,IAAI,IAAI,IAAI,IAAI,CAAC,KAAK,GAAG,CAAC,EAAE;YACxB,IAAI,CAAC,WAAW,GAAG,CAAA,EAAG,IAAI,CAAC,KAAK,IAAI;;QAGxC,IAAI,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,SAAS,EAAE;YAC/B,qBAAqB,CAAC,MAAK;AACvB,gBAAA,IAAI,IAAI,CAAC,aAAa,EAAE;AACpB,oBAAA,IAAI,CAAC,aAAa,CAAC,KAAK,EAAE;;AAElC,aAAC,CAAC;;;IAIF,MAAM,YAAY,CAAC,MAAc,EAAA;AACrC,QAAA,IAAI,IAAI,CAAC,SAAS,EAAE;AAChB,YAAA,MAAM,IAAI,CAAC,OAAO,EAAE,SAAS,EAAE;;AAEnC,QAAA,IAAI,CAAC,KAAK,GAAG,MAAM;AACnB,QAAA,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE;QACpB,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC;;AAG5B,IAAA,MAAM,WAAW,GAAA;AACrB,QAAA,IAAI,CAAC,UAAU,GAAG,EAAE;;IAGhB,MAAM,iBAAiB,CAAC,KAAoB,EAAA;AAChD,QAAA,IAAI,KAAK,CAAC,GAAG,KAAK,OAAO,IAAI,KAAK,CAAC,GAAG,KAAK,GAAG,EAAE;AAC5C,YAAA,IAAI,KAAK,CAAC,MAAM,YAAY,aAAa,EAAE;gBACvC,KAAK,CAAC,cAAc,EAAE;AACtB,gBAAA,KAAK,CAAC,MAAM,CAAC,KAAK,EAAE;;YAExB;;QAGJ,MAAM,aAAa,GAAG,IAAI,CAAC,EAAE,CAAC,aAAa,CACvC,oBAAoB,CACR;AAChB,QAAA,IAAI,CAAC,aAAa;YAAE;AAEpB,QAAA,qBAAqB,CAAC,KAAK,EAAE,aAAa,CAAC;AAC3C,QAAA,uBAAuB,CAAC,KAAK,EAAE,aAAa,CAAC;;AAGzC,IAAA,iBAAiB,CAAC,KAAY,EAAA;AAClC,QAAA,MAAM,OAAO,GAAG,KAAK,CAAC,MAA0B;QAChD,IAAI,CAAC,UAAU,GAAG,OAAO,CAAC,KAAK,CAAC,WAAW,EAAE;QAC7C,MAAM,aAAa,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC,WAAW,EAAE;QAE1D,IAAI,CAAC,kBAAkB,GAAG;cACpB,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC,MAAM,KACtB,MAAM,CAAC,KAAK,CAAC,WAAW,EAAE,CAAC,QAAQ,CAAC,aAAa,CAAC;cAEtD,IAAI;QAEV,IAAI,CAAC,oBAAoB,GAAG;cACtB,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC,MAAM,KACxB,MAAM,CAAC,KAAK,CAAC,WAAW,EAAE,CAAC,QAAQ,CAAC,aAAa,CAAC;cAEtD,IAAI;;IAGd,MAAM,GAAA;QACF,QACI,CAAA,CAAC,IAAI,EAAA,EAAA,GAAA,EAAA,0CAAA,EACD,KAAK,EAAC,cAAc,EACpB,UAAU,EAAE,OAAO,KAAiB,KAAI;AACpC,gBAAA,MAAM,IAAI,CAAC,WAAW,EAAE;AACxB,gBAAA,MAAM,aAAa,GAAG,KAAK,CAAC,aAA4B;AACxD,gBAAA,IAAI,CAAC,aAAa,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,QAAQ,CAAC,aAAa,CAAC,EAAE;oBACpD,UAAU,CAAC,YAAW;AAClB,wBAAA,MAAM,IAAI,CAAC,OAAO,EAAE,SAAS,EAAE;qBAClC,EAAE,GAAG,CAAC;;AAEf,aAAC,EAAA,EAEA,IAAI,CAAC,WAAW,EAAE,EACnB,CACI,CAAA,SAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAA,GAAG,EAAE,CAAC,EAAE,MAAM,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC,EAChC,OAAO,EAAC,OAAO,EACf,KAAK,EAAC,OAAO,EACb,KAAK,EAAE,IAAI,CAAC,WAAW,EACvB,IAAI,EAAC,SAAS,EACd,QAAQ,EAAE,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,EACxC,qBAAqB,EAAE,CAAC,KAAK,KACzB,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,EAAA,EAGhC,IAAI,CAAC,WAAW,EAAE,EAClB,CAAC,IAAI,CAAC,QAAQ,IAAI,CAAC,IAAI,CAAC;AACrB,cAAE,IAAI,CAAC,aAAa;cAClB,IAAI,CACJ,EAEV,CACK,CAAA,KAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAA,EAAA,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,OAAO,KAC5B,CAAA,CAAA,MAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EACI,KAAK,EAAC,YAAY,EACR,WAAA,EAAA,cAAc,EAEvB,EAAA,IAAI,CAAC,UAAU,CACb,CACV,CACC,CACH;;IAIf,WAAW,GAAA;QACP,QACI,CAAA,CAAA,KAAA,EAAA,EAAK,KAAK,EAAC,oBAAoB,EAAA,EAC3B,CAAM,CAAA,MAAA,EAAA,EAAA,IAAI,EAAC,OAAO,EAAG,CAAA,EACpB,CAAC,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,SAAS,MAC3C,CACI,CAAA,eAAA,EAAA,EAAA,GAAG,EAAE,IAAI,CAAC,MAAM,EAChB,KAAK,EAAE,IAAI,CAAC,KAAK,EACjB,QAAQ,EAAE,IAAI,CAAC,QAAQ,IAAI,CAAC,IAAI,CAAC,QAAQ,EACzC,SAAS,EAAE,IAAI,CAAC,SAAS,GAC3B,CACL,EACA,IAAI,CAAC,SAAS,KACX,CACI,CAAA,MAAA,EAAA,EAAA,KAAK,EAAC,+CAA+C,EAAA,WAAA,EAC3C,aAAa,EAAA,EAEtB,IAAI,CAAC,SAAS,CACZ,CACV,CACC;;IAId,WAAW,GAAA;QACP,MAAM,YAAY,GAAG,SAAS,CAC1B,0OAA0O,EAC1O,mBAAmB,CACtB;QAED,MAAM,SAAS,GAAG,YAAY,CAAC;YAC3B,OAAO,EAAE,IAAI,CAAC,OAAO;YACrB,QAAQ,EAAE,IAAI,CAAC,QAAQ;YACvB,QAAQ,EAAE,IAAI,CAAC,QAAQ;AAC1B,SAAA,CAAC;AAEF,QAAA,QACI,WACI,KAAK,EAAC,kCAAkC,EACxC,IAAI,EAAC,cAAc,EAAA,EAEnB,CAAA,CAAA,OAAA,EAAA,EACI,KAAK,EAAE,SAAS,EAChB,IAAI,EAAC,UAAU,EACf,IAAI,EAAC,WAAW,EAAA,eAAA,EACD,IAAI,CAAC,MAAM,EACX,eAAA,EAAA,IAAI,CAAC,MAAM,EAC1B,IAAI,EAAC,MAAM,EACX,QAAQ,EAAE,IAAI,EAAA,eAAA,EACC,IAAI,CAAC,QAAQ,EAC5B,QAAQ,EAAE,IAAI,CAAC,QAAQ,EACvB,WAAW,EAAE,IAAI,CAAC,WAAW,EAC7B,KAAK,EAAE,IAAI,CAAC,KAAK,EAAA,WAAA,EACP,cAAc,EACxB,GAAG,EAAE,CAAC,EAAE,MAAM,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC,EAC3B,CAAA,EAER,CAAC,IAAI,CAAC,QAAQ,IAAI,CAAC,IAAI,CAAC,QAAQ,KAC7B,CAAA,CAAA,KAAA,EAAA,EACI,KAAK,EAAC,iGAAiG,EACvG,IAAI,EAAC,cAAc,EACnB,QAAQ,EAAE,EAAE,EAAA,EAEZ,CACI,CAAA,MAAA,EAAA,EAAA,KAAK,EAAC,qDAAqD,EAAA,WAAA,EACjD,mBAAmB,EAE5B,EAAA,IAAI,CAAC,MAAM,GAAG,eAAe,GAAG,iBAAiB,CAC/C,CACL,CACT,CACC;;IAId,aAAa,GAAA;QACT,QACI,CACI,CAAA,IAAA,EAAA,EAAA,KAAK,EAAC,UAAU,EAChB,EAAE,EAAC,WAAW,EACd,SAAS,EAAE,OAAO,KAAK,KAAI;AACvB,gBAAA,MAAM,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC;AACvC,aAAC,EAAA,EAEA,IAAI,CAAC,SAAS,KACX,CAAK,CAAA,KAAA,EAAA,EAAA,KAAK,EAAC,4BAA4B,EAAA,EACnC,CACI,CAAA,OAAA,EAAA,EAAA,IAAI,EAAC,MAAM,EACX,KAAK,EAAE,CACH,4LAAA,EAAA,IAAI,CAAC,SAAS,GAAG,OAAO,GAAG,EAC/B,GAAG,EACH,WAAW,EACP,IAAI,CAAC,YAAY,EAAE,IAAI,EAAE,MAAM,IAAI,QAAQ,EAE/C,IAAI,EAAC,EAAE,EACP,YAAY,EAAC,KAAK,EAAA,mBAAA,EACA,MAAM,EACxB,KAAK,EAAE,IAAI,CAAC,UAAU,EACtB,OAAO,EAAE,CAAC,KAAK,KAAI;gBACf,KAAK,CAAC,eAAe,EAAE;AACvB,gBAAA,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC;AACjC,aAAC,EACD,OAAO,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,eAAe,EAAE,EACnC,GAAG,EAAE,CAAC,EAAE,MAAM,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC,EACxC,CAAA,EAED,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,UAAU,KAAK,EAAE,KACrC,CAAK,CAAA,KAAA,EAAA,EAAA,KAAK,EAAC,wBAAwB,EAAA,EAC/B,CAAA,CAAA,WAAA,EAAA,EACI,IAAI,EAAC,IAAI,EACT,IAAI,EAAC,QAAQ,EACb,IAAI,EAAC,eAAe,EACpB,OAAO,EAAE,OAAO,KAAK,KAAI;gBACrB,KAAK,CAAC,eAAe,EAAE;AACvB,gBAAA,MAAM,IAAI,CAAC,WAAW,EAAE;AAC5B,aAAC,eACS,cAAc,EAAA,CACf,CACX,CACT,CACC,CACT,EAEA,IAAI,CAAC;cACA,MAAM,CACJ,CAAC,MAAM,KACH,CAAC,IAAI,CAAC,UAAU;AAChB,YAAA,MAAM,CAAC;AACF,iBAAA,WAAW;AACX,iBAAA,QAAQ,CAAC,IAAI,CAAC,UAAU,CAAC;aAErC,GAAG,CAAC,CAAC,MAAM,KAAK,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC,EAE/C,CAAQ,CAAA,MAAA,EAAA,IAAA,CAAA,EAEP,IAAI,CAAC,SAAS;AACX,YAAA,IAAI,CAAC,UAAU;YACf,CAAC,IAAI,CAAC,kBAAkB;YACxB,CAAC,IAAI,CAAC,oBAAoB,KACtB,WAAK,KAAK,EAAC,iDAAiD,EAAA,EACvD,IAAI,CAAC,YAAY,EAAE,IAAI,EAAE,gBAAgB;AACtC,YAAA,kBAAkB,CACpB,CACT,CACJ;;AAIb,IAAA,YAAY,CAAC,MAAoB,EAAA;AAC7B,QAAA,QACI,CAAA,CAAA,kBAAA,EAAA,EACI,KAAK,EAAE,MAAM,CAAC,KAAK,EACnB,SAAS,EAAE,IAAI,CAAC,KAAK,KAAK,MAAM,CAAC,KAAK,EACtC,WAAW,EAAE,MAAM,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,KAAK,CAAC,EAAA,CAClC;;;;;;;;AC9chC,MAAM,oBAAoB,GAAG;AACzB,IAAA,QAAQ,EAAE;AACN,QAAA,MAAM,EAAE;AACJ,YAAA,IAAI,EAAE,6BAA6B;AACnC,YAAA,KAAK,EAAE,kCAAkC;AAC5C,SAAA;AACJ,KAAA;CACJ;MAaY,uBAAuB,GAAA,MAAA;;;;;AAChC;;AAEG;AAGH,IAAA,KAAK;AAEL;;AAEG;IAGH,SAAS,GAAa,KAAK;AAE3B;;AAEG;AAEH,IAAA,SAAS;IAED,WAAW,GAAA;QACf,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC;;IAEnC,MAAM,GAAA;QACF,MAAM,kBAAkB,GAAG,SAAS,CAChC,iOAAiO,EACjO,oBAAoB,CACvB;QAED,MAAM,SAAS,GAAG,kBAAkB,CAAC;YACjC,MAAM,EAAE,IAAI,CAAC,SAAS;AACzB,SAAA,CAAC;AAEF,QAAA,QACI,CACI,CAAA,IAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAA,IAAI,EAAC,QAAQ,EACb,KAAK,EAAE,IAAI,CAAC,KAAK,EAAA,WAAA,EACP,eAAe,EACV,eAAA,EAAA,IAAI,CAAC,SAAS,GAAG,MAAM,GAAG,OAAO,EAChD,QAAQ,EAAE,CAAC,EACX,KAAK,EAAE,SAAS,EAChB,OAAO,EAAE,MAAM,IAAI,CAAC,WAAW,EAAE,EAAA,EAEjC,CAAa,CAAA,MAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAA,CAAA,EACZ,IAAI,CAAC,KAAK,CACV;;;;;;"}