import{r as e,h as t,g as s}from"./p-C8uvvL0O.js";const i="dialog.backdrop::backdrop{background:rgba(0, 0, 0, 0.2);transition:opacity 0.3s ease;animation:fadeIn 0.3s ease forwards;transition:opacity var(--token-transition-time) ease-in-out allow-discrete}dialog.backdrop::backdrop{z-index:var(--z-backdrop, 1000)}@keyframes fadeIn{from{background-color:rgba(0, 0, 0, 0)}to{background-color:rgba(0, 0, 0, 0.2)}}";const a={base:"z-nav !fixed h-full min-w-panel-xs bg-white transition-transform shadow-md",origin:{left:"left-0 top-0",right:"right-0 top-0"},isExpanded:"border-l-med border-l-2 transition-transform duration-[300ms] ease-[cubic-bezier(0.455,0.03,0.515,0.955)]",fixed:{true:"fixed h-full top-0",false:"absolute h-full"},noScrollbar:"overflow-y-hidden"};const n={base:"overflow-x-hidden overflow-y-auto h-full flex flex-col",size:{xs:"w-panel-xs",sm:"w-panel-sm",md:"w-panel-md",lg:"w-panel-lg",xl:"w-panel-xl"}};const r=class{constructor(t){e(this,t);this.size="xs";this.origin="right";this.has_scrollbar=true;this.has_close_button=true;this.close_backdrop=false;this.fixed=true;this.backdrop=false;this.isExpanded=false;this.triggerEls=[];this.externalTriggerListeners=[];this.handleClose=()=>{this.closeSidePanel()};this.handleDialogClose=e=>{e.preventDefault();if(this.isExpanded){this.closeSidePanel()}};this.handleKeyDown=e=>{if(e.key==="Escape"&&this.isExpanded){e.preventDefault();this.closeSidePanel()}}}async toggleSidePanel(){if(this.isExpanded){await this.closeSidePanel()}else{await this.openSidePanel()}}async openSidePanel(){if(this.panelDialog&&!this.panelDialog.open){this.panelDialog.showModal();this.isExpanded=true;if(this.backdrop){this.panelDialog.classList.add("backdrop")}}}async closeSidePanel(){if(this.panelDialog&&this.panelDialog.open){this.panelDialog.close();this.isExpanded=false;this.panelDialog.classList.remove("backdrop")}}offClickHandler(e){var t,s;if(!this.close_backdrop||!((t=this.panelDialog)===null||t===void 0?void 0:t.open))return;if(!((s=this.sidePanelWrapper)===null||s===void 0?void 0:s.contains(e.target))){this.handleClose()}}async componentDidLoad(){if(this.trigger_id){this.triggerEls=Array.from(document.querySelectorAll(`[data-id="${this.trigger_id}"]`));if(this.triggerEls.length===0){console.warn(`atui-side-panel: No elements found with data-id="${this.trigger_id}"`);return}this.setupExternalTriggerListeners()}}disconnectedCallback(){this.cleanupExternalTriggerListeners()}cleanupExternalTriggerListeners(){this.externalTriggerListeners.forEach((({element:e,event:t,handler:s})=>{e.removeEventListener(t,s)}));this.externalTriggerListeners=[]}setupExternalTriggerListeners(){if(!this.triggerEls||this.triggerEls.length===0)return;const e=async e=>{e.preventDefault();e.stopPropagation();await this.toggleSidePanel()};const t=async e=>{switch(e.key){case"Enter":case" ":e.preventDefault();await this.toggleSidePanel();break}};this.triggerEls.forEach((s=>{s.addEventListener("click",e);s.addEventListener("keydown",t);this.externalTriggerListeners.push({element:s,event:"click",handler:e},{element:s,event:"keydown",handler:t})}))}render(){return t("div",{key:"d211a07eda5723a9f10055ecf4bd13f4d07e16a3"},t("dialog",{key:"257c0d45235db65655cdb240bbd742b2819507eb",id:this.panel_id,ref:e=>this.panelDialog=e,class:this.backdrop?"backdrop":"",onClose:this.handleDialogClose,onKeyDown:this.handleKeyDown},t("div",{key:"6d71bf2195605e7481c539cbd138c01bcba53f23",class:`${this.panelClasses} ${this.sizeClasses}`,ref:e=>this.sidePanelWrapper=e,"data-name":"panel-wrapper"},t("div",{key:"4df526e0383659b51f97b55c682e6db7c1bffb61",class:"z-nav sticky top-0"},t("atui-header",{key:"98a932a3be955172f52d24a1e021b73aa06eb777",header_title:this.panel_title,subtitle:this.panel_subtitle},this.has_close_button&&t("span",{key:"494443344e7d61d874f4ac8be271b1c819e1091f",class:"rounded-full hover:bg-gray-100",slot:"actions"},t("i",{key:"ffdf8745d6ee4dbac16f15ee0836397033a45367",class:"material-icons md-16 top-20 right-16 cursor-pointer p-8 !text-[18px]",onClick:this.handleClose,"data-name":"panel-close"},"close")))),t("div",{key:"75225667d5eb12d6079cae60b85988bb22bda085",class:"flex w-full flex-1 flex-col"},t("slot",{key:"e4c264f4bb6f31c20d1855e42602a4b1a77a3f05"})))))}get panelClasses(){return`${a.base} ${a.origin[this.origin]} ${this.isExpanded?a.isExpanded:""} \n        ${this.fixed?a.fixed.true:a.fixed.false} ${!this.has_scrollbar?a.noScrollbar:""}`}get sizeClasses(){return`${n.base} ${n.size[this.size]}`}get el(){return s(this)}};r.style=i;export{r as atui_side_panel};
//# sourceMappingURL=p-44800c62.entry.js.map