{"version":3,"names":["AtuiMenuCell","init","params","this","getGui","el","refresh","render","actions","h","Host","key","class","width","position","portal","type","icon","_a","slot","map","action","disabled","data","disabledTooltip","label","title","onClick","onTrigger","undefined"],"sources":["src/components/table-components/cell-components/atui-menu-cell/atui-menu-cell.tsx"],"sourcesContent":["import { Component, h, Element, State, Host } from '@stencil/core';\nimport { ICellRendererComp, ICellRendererParams } from 'ag-grid-community';\nimport { ITooltipCell } from '../../../../types';\n\nexport interface MenuAction {\n    title: string;\n    onTrigger: (params: ICellRendererParams) => void;\n    disabled?: (data: any) => boolean;\n    disabledTooltip?: string;\n}\n\nexport interface MenuCellData {\n    text?: string;\n    actions: MenuAction[];\n}\n\nexport interface AtuiMenuCellParams extends ICellRendererParams, ITooltipCell {\n    icon?: string;\n    actions: MenuAction[] | ((params: ICellRendererParams) => MenuAction[]);\n}\n\n/**\n * @category Table Cell\n * @description A cell component for displaying a menu.\n */\n\n@Component({\n    tag: 'atui-menu-cell',\n    shadow: false,\n})\nexport class AtuiMenuCell implements ICellRendererComp {\n    @Element() el: HTMLElement;\n    @State() params: AtuiMenuCellParams;\n\n    init(params: ICellRendererParams): void {\n        this.params = params as AtuiMenuCellParams;\n    }\n\n    getGui(): HTMLElement {\n        return this.el;\n    }\n\n    refresh(params: ICellRendererParams): boolean {\n        this.init(params);\n        return false;\n    }\n\n    render() {\n        const actions =\n            typeof this.params.actions === 'function'\n                ? this.params.actions(this.params)\n                : this.params.actions;\n\n        return (\n            <Host class=\"flex h-full items-center gap-4\">\n                <atui-menu\n                    width=\"auto\"\n                    position=\"left\"\n                    portal={true}\n                >\n                    <atui-button\n                        type=\"secondaryText\"\n                        icon={this.params.icon ?? 'more_vert'}\n                        slot=\"menu-trigger\"\n                    />\n                    <div\n                        slot=\"menu-content\"\n                        class=\"flex flex-col\"\n                    >\n                        {actions &&\n                            actions.map(\n                                (action) =>\n                                    typeof action === 'object' &&\n                                    (action.disabled &&\n                                    action.disabled(this.params.data) &&\n                                    action.disabledTooltip ? (\n                                        <atui-tooltip>\n                                            <div\n                                                slot=\"tooltip-trigger\"\n                                                class=\"w-full\"\n                                            >\n                                                <atui-menu-item\n                                                    label={action.title}\n                                                    disabled={true}\n                                                    onClick={() => {\n                                                        if (\n                                                            action.onTrigger !==\n                                                            undefined\n                                                        ) {\n                                                            action.onTrigger(\n                                                                this.params,\n                                                            );\n                                                        }\n                                                    }}\n                                                ></atui-menu-item>\n                                            </div>\n                                            <span slot=\"tooltip-content\">\n                                                {action.disabledTooltip}\n                                            </span>\n                                        </atui-tooltip>\n                                    ) : (\n                                        <atui-menu-item\n                                            label={action.title}\n                                            disabled={\n                                                action.disabled\n                                                    ? action.disabled(\n                                                          this.params.data,\n                                                      )\n                                                    : false\n                                            }\n                                            onClick={() => {\n                                                if (\n                                                    action.onTrigger !==\n                                                    undefined\n                                                ) {\n                                                    action.onTrigger(\n                                                        this.params,\n                                                    );\n                                                }\n                                            }}\n                                        ></atui-menu-item>\n                                    )),\n                            )}\n                    </div>\n                </atui-menu>\n            </Host>\n        );\n    }\n}\n"],"mappings":"+DA8BaA,EAAY,M,yBAIrB,IAAAC,CAAKC,GACDC,KAAKD,OAASA,C,CAGlB,MAAAE,GACI,OAAOD,KAAKE,E,CAGhB,OAAAC,CAAQJ,GACJC,KAAKF,KAAKC,GACV,OAAO,K,CAGX,MAAAK,G,MACI,MAAMC,SACKL,KAAKD,OAAOM,UAAY,WACzBL,KAAKD,OAAOM,QAAQL,KAAKD,QACzBC,KAAKD,OAAOM,QAEtB,OACIC,EAACC,EAAK,CAAAC,IAAA,2CAAAC,MAAM,kCACRH,EACI,aAAAE,IAAA,2CAAAE,MAAM,OACNC,SAAS,OACTC,OAAQ,MAERN,EAAA,eAAAE,IAAA,2CACIK,KAAK,gBACLC,MAAMC,EAAAf,KAAKD,OAAOe,QAAQ,MAAAC,SAAA,EAAAA,EAAA,YAC1BC,KAAK,iBAETV,EACI,OAAAE,IAAA,2CAAAQ,KAAK,eACLP,MAAM,iBAELJ,GACGA,EAAQY,KACHC,UACUA,IAAW,WACjBA,EAAOC,UACRD,EAAOC,SAASnB,KAAKD,OAAOqB,OAC5BF,EAAOG,gBACHf,EAAA,oBACIA,EAAA,OACIU,KAAK,kBACLP,MAAM,UAENH,EAAA,kBACIgB,MAAOJ,EAAOK,MACdJ,SAAU,KACVK,QAAS,KACL,GACIN,EAAOO,YACPC,UACF,CACER,EAAOO,UACHzB,KAAKD,O,MAMzBO,EAAM,QAAAU,KAAK,mBACNE,EAAOG,kBAIhBf,EAAA,kBACIgB,MAAOJ,EAAOK,MACdJ,SACID,EAAOC,SACDD,EAAOC,SACHnB,KAAKD,OAAOqB,MAEhB,MAEVI,QAAS,KACL,GACIN,EAAOO,YACPC,UACF,CACER,EAAOO,UACHzB,KAAKD,O","ignoreList":[]}