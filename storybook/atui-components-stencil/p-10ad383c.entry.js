import{r as e,c as s,a,h as t,H as i}from"./p-B5bw8iR3.js";const n="@keyframes fadeIn{from{background-color:rgba(0, 0, 0, 0)}to{background-color:rgba(0, 0, 0, 0.2)}}dialog.backdrop::backdrop{background:rgba(0, 0, 0, 0.2);transition:opacity 0.3s ease;animation:fadeIn 0.3s ease forwards;transition:opacity var(--token-transition-time) ease-in-out allow-discrete}dialog.backdrop::backdrop{z-index:var(--z-backdrop, 1000)}";const l={base:"z-nav !fixed h-full min-w-panel-xs bg-white transition-transform shadow-md",origin:{left:"left-0 top-0",right:"right-0 top-0"},isExpanded:"border-l-med border-l-2 transition-transform duration-[300ms] ease-[cubic-bezier(0.455,0.03,0.515,0.955)]",fixed:{true:"fixed h-full top-0",false:"absolute h-full"},noScrollbar:"overflow-y-hidden"};const r={base:"overflow-x-hidden overflow-y-auto h-full flex flex-col",size:{xs:"w-panel-xs",sm:"w-panel-sm",md:"w-panel-md",lg:"w-panel-lg",xl:"w-panel-xl"}};const o=class{constructor(a){e(this,a);this.atuiSidepanelChange=s(this,"atuiSidepanelChange",7)}get el(){return a(this)}size="xs";panel_title;panel_subtitle;origin="right";has_scrollbar=true;has_close_button=true;fixed=true;backdrop=false;close_backdrop=false;trigger_id;isExpanded=false;isOpen=false;atuiSidepanelChange;sidePanelWrapper;panelDialog;triggerEls=[];externalTriggerListeners=[];async toggleSidePanel(){if(this.isExpanded){await this.closeSidePanel()}else{await this.openSidePanel()}}async openSidePanel(){if(this.panelDialog&&!this.panelDialog.open){if(this.backdrop===true){this.panelDialog.showModal()}else{this.panelDialog.show()}this.isExpanded=true;this.isOpen=true;this.atuiSidepanelChange.emit(this.isOpen);if(this.backdrop){this.panelDialog.classList.add("backdrop")}}}async closeSidePanel(){if(this.panelDialog&&this.panelDialog.open){this.panelDialog.close();this.isExpanded=false;this.isOpen=false;this.atuiSidepanelChange.emit(this.isOpen);this.panelDialog.classList.remove("backdrop")}}async getIsOpen(){return this.isOpen}handleClose=()=>{this.closeSidePanel()};handleDialogClose=e=>{e.preventDefault();if(this.isExpanded){this.closeSidePanel()}};handleKeyDown=e=>{if(e.key==="Escape"&&this.isExpanded){e.preventDefault();this.closeSidePanel()}};offClickHandler(e){if(!this.close_backdrop||!this.panelDialog?.open)return;if(!this.sidePanelWrapper?.contains(e.target)){this.handleClose()}}async componentDidLoad(){if(this.trigger_id){this.triggerEls=Array.from(document.querySelectorAll(`[data-sidepanel="${this.trigger_id}"]`));if(this.triggerEls.length===0){console.warn(`atui-side-panel: No elements found with data-sidepanel="${this.trigger_id}"`);return}this.setupExternalTriggerListeners()}}disconnectedCallback(){this.cleanupExternalTriggerListeners()}cleanupExternalTriggerListeners(){this.externalTriggerListeners.forEach((({element:e,event:s,handler:a})=>{e.removeEventListener(s,a)}));this.externalTriggerListeners=[]}setupExternalTriggerListeners(){if(!this.triggerEls||this.triggerEls.length===0)return;const e=async e=>{e.preventDefault();e.stopPropagation();await this.toggleSidePanel()};const s=async e=>{switch(e.key){case"Enter":case" ":e.preventDefault();await this.toggleSidePanel();break}};this.triggerEls.forEach((a=>{a.addEventListener("click",e);a.addEventListener("keydown",s);this.externalTriggerListeners.push({element:a,event:"click",handler:e},{element:a,event:"keydown",handler:s})}))}render(){return t(i,{key:"66505e6426941af162ccdec74b8955ac5869faad",class:"contents"},t("dialog",{key:"53ae16a9f607281693fdb6ec0edc7b02127bbb5e",ref:e=>this.panelDialog=e,class:this.backdrop?"backdrop":"no-backdrop",onClose:this.handleDialogClose,onKeyDown:this.handleKeyDown},t("div",{key:"69f5eecaf4305a912c72c8424aeaef17e311cea6",class:`${this.panelClasses} ${this.sizeClasses}`,ref:e=>this.sidePanelWrapper=e,"data-name":"panel-wrapper"},t("div",{key:"fbddaa65ef682fdfddd3156f3424929cb9a21ea4",class:"z-nav sticky top-0"},t("at-header",{key:"fb7a442ed5cf438385269b493f97c3802b04a017",header_title:this.panel_title,subtitle:this.panel_subtitle},this.has_close_button&&t("span",{key:"99a54b049d169b3999ea041e8c8c5f91bd08a11f",class:"rounded-full hover:bg-gray-100",slot:"actions"},t("i",{key:"1b2d1eca6b18cd2cf5e564137b62cba91308f5ff",class:"material-icons md-16 top-20 right-16 cursor-pointer p-8 !text-[18px]",onClick:this.handleClose,"data-name":"panel-close"},"close")))),t("div",{key:"3fa2642481f14349f4e3bb2a5034b0bb2a075fab",class:"flex w-full flex-1 flex-col"},t("slot",{key:"1879bc3fe50f2ad27fd6cca8651c5cfa608fd7d3"})))))}get panelClasses(){return`${l.base} ${l.origin[this.origin]} ${this.isExpanded?l.isExpanded:""} \n        ${this.fixed?l.fixed.true:l.fixed.false} ${!this.has_scrollbar?l.noScrollbar:""}`}get sizeClasses(){return`${r.base} ${r.size[this.size]}`}};o.style=n;export{o as at_side_panel};
//# sourceMappingURL=p-10ad383c.entry.js.map