import{r as t,c as e,g as i,h as a,H as s}from"./p-jvbUuQtg.js";import{c as o}from"./p-COG8_R0C.js";const h=o("gap-4",{variants:{layout:{column:"flex flex-col",row:"flex",grid:"grid grid-cols-3"}}}),r=class{constructor(i){t(this,i),this.atuiChange=e(this,"atuiChange",7)}label;info_text;layout="column";disabled;readonly;required;hint_text;error_text;invalid;options;value;get el(){return i(this)}watchValue(t){this.updateSlottedRadiosState(t)}radioEls=[];radioGroupId=`radiogroup-${Math.random().toString(36).substring(2,11)}`;atuiChange;handleChange(t){this.value!==t&&(this.value=t,this.atuiChange.emit(t))}focusAndClickRelativeRadio(t){const e=this.radioEls.indexOf(this.el.ownerDocument.activeElement),i=this.radioEls[(e+t+this.radioEls.length)%this.radioEls.length];i.click(),i.focus()}handleKeyDown(t){switch(t.key){case"ArrowRight":case"ArrowDown":t.preventDefault(),this.focusAndClickRelativeRadio(1);break;case"ArrowUp":case"ArrowLeft":t.preventDefault(),this.focusAndClickRelativeRadio(-1)}}get getRadios(){if(this.options&&this.options.length>0)return this.options.map((t=>a("at-radio",{label:t.label,hint_text:t.hint_text,value:t.value,readonly:this.readonly||t.readonly,disabled:this.disabled||t.disabled,checked:this.value===t.value,onAtuiChange:e=>{e.stopPropagation(),this.disabled||this.readonly||this.handleChange(t.value)},group:this.label||this.radioGroupId,ref:t=>this.radioEls.push(t)})))}getSlottedRadios(){return Array.from(this.el.querySelectorAll("at-radio"))}componentDidLoad(){this.initializeSlottedRadios(),this.updateSlottedRadiosState(this.value)}initializeSlottedRadios(){const t=this.getSlottedRadios(),e=this.label||this.radioGroupId;t.forEach((t=>{if(t.getAttribute("group")||t.setAttribute("group",e),!t.getAttribute("value")){const e=`radio-${Math.random().toString(36).substring(2,11)}`;t.setAttribute("value",e)}void 0!==this.disabled&&(t.disabled=this.disabled),void 0!==this.readonly&&(t.readonly=this.readonly)}))}handleSlottedRadioChange(t){if(!this.getSlottedRadios().includes(t.target))return;if(t.stopPropagation(),this.disabled||this.readonly)return;const e=t.detail;e&&(this.handleChange(e),this.updateSlottedRadiosState(e))}updateSlottedRadiosState(t){this.getSlottedRadios().forEach((e=>{const i=e.getAttribute("value");e.checked=i===t}))}render(){const t=h({layout:this.layout});return a(s,{key:"b549193ddda3a0309fd0aa23cfebce22c7b5c2f4",role:"radiogroup",onKeyDown:t=>this.handleKeyDown(t),class:"block w-full"},a("div",{key:"e6171641d7d258223fce8d0942223beed27c7abc",class:"flex flex-col"},a("slot",{key:"cea9dd8feb0ffb668803c4d2f3a08031604ebd0a",name:"label"}),(this.label||this.required||this.info_text)&&a("at-form-label",{key:"daaf169fdd08dddee5d4a9c0b392f5ee5e15a2c5",label:this.label,required:this.required,info_text:this.info_text}),this.hint_text&&a("span",{key:"41deb499cfc4099753950928dec8b90b6ee06c43",class:"text-light mb-8 inline-block text-xs leading-tight","data-name":"radio-group-hint"},this.hint_text)),a("ul",{key:"96e84d0f4c3455a416b6d279284697f2cf7695fd",class:t,"data-name":"radio-group-options"},a("slot",{key:"d0e1c6b5dac4a307abae63904f76086e0b55ddb6"}),this.getRadios&&this.getRadios.map((t=>a("li",{class:"flex"},t)))),this.error_text&&this.invalid&&a("span",{key:"54b1bcac03ce1d52cc40fc5ae4523c0eec6bef54",class:"text-error text-sm","data-name":"radio-group-error-text"},this.error_text))}static get watchers(){return{value:[{watchValue:0}]}}};export{r as at_radio_group}