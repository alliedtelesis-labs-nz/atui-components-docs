import{r as e,c as a,a as t,h as i,H as s}from"./p-Cod2-jIY.js";const n="@keyframes fadeIn{from{background-color:rgba(0, 0, 0, 0)}to{background-color:rgba(0, 0, 0, 0.2)}}dialog.backdrop.sc-at-side-panel::backdrop{background:rgba(0, 0, 0, 0.2);transition:opacity 0.3s ease;animation:fadeIn 0.3s ease forwards;transition:opacity var(--token-transition-time) ease-in-out allow-discrete}dialog.backdrop.sc-at-side-panel::backdrop{z-index:var(--z-backdrop, 1000)}.sc-at-side-panel-h{display:contents}.sc-at-side-panel-h .container.sc-at-side-panel{position:fixed;display:flex;flex-direction:column;z-index:var(--token-z-index-nav);min-width:var(--token-width-panel-xs);background-color:var(--token-color-white);box-shadow:var(--token-shadow-md);overflow-x:hidden;overflow-y:auto;height:100%;opacity:0;transition:all 300ms ease;will-change:transform, opacity}.sc-at-side-panel-h .container.width-xs.sc-at-side-panel{width:var(--token-width-panel-xs)}.sc-at-side-panel-h .container.width-sm.sc-at-side-panel{width:var(--token-width-panel-sm)}.sc-at-side-panel-h .container.width-md.sc-at-side-panel{width:var(--token-width-panel-md)}.sc-at-side-panel-h .container.width-lg.sc-at-side-panel{width:var(--token-width-panel-lg)}.sc-at-side-panel-h .container.width-xl.sc-at-side-panel{width:var(--token-width-panel-xl)}.sc-at-side-panel-h .container.origin-left.sc-at-side-panel{left:0;top:0;transform:translateX(-100%)}.sc-at-side-panel-h .container.origin-right.sc-at-side-panel{right:0;top:0;transform:translateX(100%)}.sc-at-side-panel-h .container.position-absolute.sc-at-side-panel{position:absolute}.sc-at-side-panel-h .container.sc-at-side-panel:not([data-scrollable]){overflow-y:hidden}.sc-at-side-panel-h .container[data-open].sc-at-side-panel{opacity:1;visibility:visible;transform:translateX(0)}.sc-at-side-panel-h .header.sc-at-side-panel{z-index:var(--token-z-index-nav);position:sticky;top:0;background-color:rgba(var(--token-color-white), 80%);backdrop-filter:blur(10px)}.sc-at-side-panel-h .content.sc-at-side-panel{display:flex;flex-direction:column;flex-grow:1;width:100%}";const o=class{constructor(t){e(this,t);this.atuiSidepanelChange=a(this,"atuiSidepanelChange",7)}get el(){return t(this)}size="xs";panel_title;panel_subtitle;origin="right";has_scrollbar=true;has_close_button=true;position="fixed";backdrop=false;close_backdrop=false;trigger_id;isExpanded=false;isOpen=false;atuiSidepanelChange;sidePanelWrapper;panelDialog;triggerEls=[];externalTriggerListeners=[];async toggleSidePanel(){if(this.isExpanded){await this.closeSidePanel()}else{await this.openSidePanel()}}async openSidePanel(){if(this.panelDialog&&!this.panelDialog.open){if(this.backdrop===true){this.panelDialog.showModal()}else{this.panelDialog.show()}if(this.backdrop){this.panelDialog.classList.add("backdrop")}requestAnimationFrame((()=>{this.isExpanded=true;this.isOpen=true;this.atuiSidepanelChange.emit(this.isOpen)}))}}async closeSidePanel(){if(this.panelDialog&&this.panelDialog.open){this.panelDialog.close();this.isExpanded=false;this.isOpen=false;this.atuiSidepanelChange.emit(this.isOpen);this.panelDialog.classList.remove("backdrop")}}async getIsOpen(){return this.isOpen}handleClose=()=>{this.closeSidePanel()};handleDialogClose=e=>{e.preventDefault();if(this.isExpanded){this.closeSidePanel()}};handleKeyDown=e=>{if(e.key==="Escape"&&this.isExpanded){e.preventDefault();this.closeSidePanel()}};offClickHandler(e){if(!this.close_backdrop||!this.panelDialog?.open)return;if(!this.sidePanelWrapper?.contains(e.target)){this.handleClose()}}async componentDidLoad(){if(this.trigger_id){this.triggerEls=Array.from(document.querySelectorAll(`[data-sidepanel="${this.trigger_id}"]`));if(this.triggerEls.length===0){console.warn(`at-side-panel: No elements found with data-sidepanel="${this.trigger_id}"`);return}this.setupExternalTriggerListeners()}}disconnectedCallback(){this.cleanupExternalTriggerListeners()}cleanupExternalTriggerListeners(){this.externalTriggerListeners.forEach((({element:e,event:a,handler:t})=>{e.removeEventListener(a,t)}));this.externalTriggerListeners=[]}setupExternalTriggerListeners(){if(!this.triggerEls||this.triggerEls.length===0)return;const e=async e=>{e.preventDefault();e.stopPropagation();await this.toggleSidePanel()};const a=async e=>{switch(e.key){case"Enter":case" ":e.preventDefault();await this.toggleSidePanel();break}};this.triggerEls.forEach((t=>{t.addEventListener("click",e);t.addEventListener("keydown",a);this.externalTriggerListeners.push({element:t,event:"click",handler:e},{element:t,event:"keydown",handler:a})}))}render(){return i(s,{key:"013de3f91ad26d8e7dfd5fb6ae2aa2ce3a611bb3","data-open":this.isOpen},i("dialog",{key:"d8f704fabe4411c5f5c56aad7928cc2d4669a13b",ref:e=>this.panelDialog=e,class:`${this.backdrop?"backdrop":""}`,onClose:this.handleDialogClose,onKeyDown:this.handleKeyDown},i("div",{key:"8de84f8c174dd2ea5611367389281ebce0c58514","data-scrollable":this.has_scrollbar,"data-open":this.isOpen,class:`container origin-${this.origin} size-${this.size} size-${this.size} position-${this.position}`,ref:e=>this.sidePanelWrapper=e,"data-name":"container"},i("div",{key:"240adc0d8808fb3119498482318f01b72de8bd3f",class:"header","data-name":"header"},i("at-header",{key:"08eacf29392a407f46314e894b2ab6a92dd3a249",header_title:this.panel_title,subtitle:this.panel_subtitle},this.has_close_button&&i("at-button",{key:"0b063797e1990c77712cfc16b0bbc8fb9d1c55f0",slot:"actions",size:"md",icon:"close","data-name":"panel-close",onClick:this.handleClose}))),i("div",{key:"e8503f518e85e7d5c594b5f9baccf3d56fe6426f","data-name":"content",class:"content"},i("slot",{key:"d31b1b94a807b23974de4d225ebf27b7ff5e37df"})))))}};o.style=n;export{o as at_side_panel};
//# sourceMappingURL=p-4d1b1c65.entry.js.map