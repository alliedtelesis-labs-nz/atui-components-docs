import{r as e,c as t,h as s,H as a}from"./p-HJO1YDmC.js";const i=class{constructor(s){e(this,s);this.atuiMessageCopy=t(this,"atuiMessageCopy",7);this.atuiMessageRetry=t(this,"atuiMessageRetry",7);this.atuiMessageEdit=t(this,"atuiMessageEdit",7);this.messages=[];this.loading=false;this.empty_state_title="No messages yet";this.empty_state_description="Start a conversation by sending a message";this.auto_scroll=true;this.chatbot_title="Assistant"}componentDidUpdate(){if(this.auto_scroll&&this.threadContainer){this.scrollToBottom()}}scrollToBottom(){if(this.threadContainer){this.threadContainer.scrollTop=this.threadContainer.scrollHeight}}handleMessageCopy(e){const t=this.getMessageIndexFromEvent(e);if(t!==-1){this.atuiMessageCopy.emit({messageId:`msg-${t}`,content:e.detail})}}handleMessageRetry(e){const t=this.getMessageIndexFromEvent(e);if(t!==-1){this.atuiMessageRetry.emit({messageId:`msg-${t}`})}}handleMessageEdit(e){const t=this.getMessageIndexFromEvent(e);if(t!==-1){this.atuiMessageEdit.emit({messageId:`msg-${t}`,content:e.detail})}}getMessageIndexFromEvent(e){const t=e.target;const s=t.closest("[data-message-index]");return s?parseInt(s.dataset.messageIndex||"-1",10):-1}renderLoadingIndicator(){if(!this.loading)return null;return s("div",{class:"flex flex-col gap-16","data-name":"loading-container"},s("atui-prompt-message",{role:"assistant",content:"Typing...",name:this.chatbot_title,loading:true,"data-name":"loading-message"}))}renderEmptyState(){return s("div",{class:"flex h-full flex-col items-center justify-center p-8 text-center","data-name":"empty-state"},s("div",{class:"text-muted-foreground text-4xl mb-4"},"ðŸ’¬"),s("h3",{class:"text-lg mb-2 font-semibold","data-name":"empty-state-title"},this.empty_state_title),s("p",{class:"text-muted-foreground text-sm","data-name":"empty-state-description"},this.empty_state_description))}renderMessage(e,t){const a=e.role==="system"?"assistant":e.role;const i=e.role==="user"?e.name:e.name||this.chatbot_title;return s("div",{"data-message-index":t},s("atui-prompt-message",{role:a,content:e.content,name:i,avatar:e.avatar,loading:e.loading,error:e.error,error_message:e.error_message,"data-name":`message-${t}`}))}renderMessages(){return this.messages.map(((e,t)=>s("div",{key:t,class:"flex flex-col gap-16 p-16 pb-0","data-name":"message-container"},this.renderMessage(e,t))))}render(){const e=this.messages&&this.messages.length>0;return s(a,{key:"830801e8822bc7b728bfa073b4c6c11fde34edba",class:"block h-full overflow-y-auto scroll-smooth pb-32",ref:e=>this.threadContainer=e,"data-name":"thread-container"},!e?this.renderEmptyState():s("div",{"data-name":"messages-container"},this.renderMessages(),this.renderLoadingIndicator()),s("slot",{key:"f1dfa0ebcdabb0e8c7e64edf275f3125dcf295c5",name:"messages"}))}};export{i as atui_prompt_thread};
//# sourceMappingURL=p-1c60fe97.entry.js.map