{"version":3,"names":["registerInstance","createEvent","getElement","h","Host","fetchTranslations","classlist","PromptResponseScore","promptInputContainerVariants","variants","invalid","true","false","disabled","compoundVariants","class","defaultVariants","promptInputVariants","AtPromptInputComponent","constructor","hostRef","this","atChange","atSubmit","atStop","atFocus","label","hint_text","info_text","error_text","placeholder","max_height","max_length","in_progress","value","textareaEl","translations","el","inputId","Math","random","toString","substring","componentWillLoad","focusInput","focus","emit","handleInput","event","stopPropagation","target","length","autoResize","style","height","scrollHeight","newHeight","max","min","componentDidLoad","setTimeout","handleKeyDown","key","shiftKey","preventDefault","sendMessage","trim","render","canSend","containerClass","inputClass","id","name","for","onInput","onKeyDown","ref","minHeight","maxHeight","overflow","size","type","icon","onClick","ATUI","PROMPT","ERROR_MESSAGE","AtPromptThread","atMessageCopy","atMessageRetry","atMessageEdit","atMessageVote","messages","loading","auto_scroll","chatbot_title","enable_vote","enable_copy","enable_edit","response_animation","scrollContainer","componentDidUpdate","scrollToBottom","Promise","resolve","requestAnimationFrame","scrollTo","top","behavior","scrollLastMessageToTop","userMessages","querySelectorAll","lastUserMessage","scrollIntoView","block","handleVote","messageIndex","findIndex","msg","detail","messageId","updatedMessages","score","handleMessageCopy","getMessageIndexFromEvent","content","handleMessageRetry","handleMessageEdit","messageContainer","closest","parseInt","dataset","renderLoadingIndicator","role","renderMessage","message","index","animate","error","error_message","NONE","message_id","renderMessages","map","hasMessages"],"sources":["0"],"mappings":"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","ignoreList":[]}