import{r as t,c as s,h as i}from"./p-BvDeEv6o.js";const e=class{constructor(i){t(this,i);this.atuiClick=s(this,"atuiClick",7);this.size="sm";this.flattenedItemList=[];this.flattenedItemStyles=[];this.handleClick=t=>{let s=null;const i=e=>{const l=[];e.forEach((e=>{const o=Object.assign({},e);if(e.id===t){o.selected=!o.selected;s=o}if(e.children){o.children=i(e.children)}l.push(o)}));return l};this.item_list=i(this.item_list);this.flattenItemList(this.item_list);if(s){this.atuiClick.emit(s)}};this.flattenItemList=t=>{const s=[];const i=(t,e)=>{t.forEach((t=>{const l=Object.assign(Object.assign({},t),{depth:e});s.push(l);if(t.selected&&t.children&&t.children.length){i(t.children,e+1)}}))};i(t,0);this.flattenedItemList=s}}componentWillRender(){if(this.item_list&&this.item_list.length){this.flattenItemList(this.item_list)}}render(){return i("div",{key:"a9d46558b1f1e53046fc2bcc775e0c5075a50732",class:"w-full"},i("slot",{key:"febf277c39a2b7408bd524feda66e81aaf53b2a4"}),this.flattenedItemList&&this.flattenedItemList.map(((t,s)=>i("div",{key:s,class:`flex w-full`},t.tooltip!==undefined?i("atui-tooltip",{position:"right",class:"flex flex-grow items-start"},i("atui-tree-item",{class:"flex-grow",depth:t.depth,slot:"tooltip-trigger",onAtuiClick:()=>this.handleClick(t.id),key:t.id,label:t.displayName,size:this.size,has_children:t.children&&t.children.length>0,selected:t.selected},i("slot",{name:"item-content"})),i("span",{slot:"tooltip-content"},t.tooltip)):i("atui-tree-item",{depth:t.depth,style:{paddingLeft:this.flattenedItemStyles[s]+"px"},onAtuiClick:()=>this.handleClick(t.id),has_children:t.children&&t.children.length>0,key:t.id,label:t.displayName,size:this.size},i("slot",{name:"item-content"}))))))}};export{e as atui_tree};
//# sourceMappingURL=p-21895c77.entry.js.map