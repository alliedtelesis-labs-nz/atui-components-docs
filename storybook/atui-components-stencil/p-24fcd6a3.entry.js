import{r as t,c as e,h as s}from"./p-EP34iaAr.js";const i=class{constructor(s){t(this,s);this.atuiClick=e(this,"atuiClick",7)}item_list;size="sm";atuiClick;flattenedItemList=[];flattenedItemStyles=[];handleClick=t=>{let e=null;const s=i=>{const l=[];i.forEach((i=>{const a={...i};if(i.id===t){a.selected=!a.selected;e=a}if(i.children){a.children=s(i.children)}l.push(a)}));return l};this.item_list=s(this.item_list);this.flattenItemList(this.item_list);if(e){this.atuiClick.emit(e)}};flattenItemList=t=>{const e=[];const s=(t,i)=>{t.forEach((t=>{const l={...t,depth:i};e.push(l);if(t.selected&&t.children&&t.children.length){s(t.children,i+1)}}))};s(t,0);this.flattenedItemList=e};componentWillRender(){if(this.item_list&&this.item_list.length){this.flattenItemList(this.item_list)}}render(){return s("div",{key:"f4443a6e9ca39983c4e3a1bfdacc7bfa76952fa0",class:"w-full"},s("slot",{key:"44256a95ffabe2ec5ca8b57184a8301fd4e47fd8"}),this.flattenedItemList&&this.flattenedItemList.map(((t,e)=>s("div",{key:e,class:`flex w-full`},t.tooltip!==undefined?s("at-tooltip",{position:"right",class:"flex flex-grow items-start"},s("at-tree-item",{class:"flex-grow",depth:t.depth,slot:"tooltip-trigger",onAtuiClick:()=>this.handleClick(t.id),key:t.id,label:t.displayName,size:this.size,has_children:t.children&&t.children.length>0,selected:t.selected},s("slot",{name:"item-content"})),s("span",null,t.tooltip)):s("at-tree-item",{depth:t.depth,style:{paddingLeft:this.flattenedItemStyles[e]+"px"},onAtuiClick:()=>this.handleClick(t.id),has_children:t.children&&t.children.length>0,key:t.id,label:t.displayName,size:this.size},s("slot",{name:"item-content"}))))))}};export{i as at_tree};
//# sourceMappingURL=p-24fcd6a3.entry.js.map