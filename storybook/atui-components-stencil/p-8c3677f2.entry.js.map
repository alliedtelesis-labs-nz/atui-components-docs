{"version":3,"names":["AtMenuCell","init","params","this","getGui","el","refresh","render","actions","h","Host","key","class","width","position","type","icon","_a","slot","map","action","disabled","data","disabledTooltip","label","title","onClick","onTrigger","undefined"],"sources":["src/components/table-components/cell-components/at-menu-cell/at-menu-cell.tsx"],"sourcesContent":["import { Component, h, Element, State, Host } from '@stencil/core';\nimport { ICellRendererComp, ICellRendererParams } from 'ag-grid-community';\nimport type { ITooltipCell } from '../../../../types';\n\nexport interface MenuAction {\n    title: string;\n    onTrigger: (params: ICellRendererParams) => void;\n    disabled?: (data: any) => boolean;\n    disabledTooltip?: string;\n}\n\nexport interface MenuCellData {\n    text?: string;\n    actions: MenuAction[];\n}\n\nexport interface AtuiMenuCellParams extends ICellRendererParams, ITooltipCell {\n    icon?: string;\n    actions: MenuAction[] | ((params: ICellRendererParams) => MenuAction[]);\n}\n\n/**\n * @category Table Cell\n * @description A cell component for displaying a menu.\n */\n\n@Component({\n    tag: 'at-menu-cell',\n    shadow: false,\n})\nexport class AtMenuCell implements ICellRendererComp {\n    @Element() el: HTMLElement;\n    @State() params: AtuiMenuCellParams;\n\n    init(params: ICellRendererParams): void {\n        this.params = params as AtuiMenuCellParams;\n    }\n\n    getGui(): HTMLElement {\n        return this.el;\n    }\n\n    refresh(params: ICellRendererParams): boolean {\n        this.init(params);\n        return false;\n    }\n\n    render() {\n        const actions =\n            typeof this.params.actions === 'function'\n                ? this.params.actions(this.params)\n                : this.params.actions;\n\n        return (\n            <Host class=\"flex h-full items-center gap-4\">\n                <at-menu\n                    width=\"fit-content\"\n                    position=\"left\"\n                >\n                    <at-button\n                        type=\"secondaryText\"\n                        icon={this.params.icon ?? 'more_vert'}\n                        slot=\"menu-trigger\"\n                    />\n                    <div class=\"flex flex-col\">\n                        {actions &&\n                            actions.map(\n                                (action) =>\n                                    typeof action === 'object' &&\n                                    (action.disabled &&\n                                    action.disabled(this.params.data) &&\n                                    action.disabledTooltip ? (\n                                        <at-tooltip>\n                                            <div\n                                                slot=\"tooltip-trigger\"\n                                                class=\"w-full\"\n                                            >\n                                                <at-menu-item\n                                                    label={action.title}\n                                                    disabled={true}\n                                                    onClick={() => {\n                                                        if (\n                                                            action.onTrigger !==\n                                                            undefined\n                                                        ) {\n                                                            action.onTrigger(\n                                                                this.params,\n                                                            );\n                                                        }\n                                                    }}\n                                                ></at-menu-item>\n                                            </div>\n                                            <span>\n                                                {action.disabledTooltip}\n                                            </span>\n                                        </at-tooltip>\n                                    ) : (\n                                        <at-menu-item\n                                            label={action.title}\n                                            disabled={\n                                                action.disabled\n                                                    ? action.disabled(\n                                                          this.params.data,\n                                                      )\n                                                    : false\n                                            }\n                                            onClick={() => {\n                                                if (\n                                                    action.onTrigger !==\n                                                    undefined\n                                                ) {\n                                                    action.onTrigger(\n                                                        this.params,\n                                                    );\n                                                }\n                                            }}\n                                        ></at-menu-item>\n                                    )),\n                            )}\n                    </div>\n                </at-menu>\n            </Host>\n        );\n    }\n}\n"],"mappings":"+DA8BaA,EAAU,M,yBAInB,IAAAC,CAAKC,GACDC,KAAKD,OAASA,C,CAGlB,MAAAE,GACI,OAAOD,KAAKE,E,CAGhB,OAAAC,CAAQJ,GACJC,KAAKF,KAAKC,GACV,OAAO,K,CAGX,MAAAK,G,MACI,MAAMC,SACKL,KAAKD,OAAOM,UAAY,WACzBL,KAAKD,OAAOM,QAAQL,KAAKD,QACzBC,KAAKD,OAAOM,QAEtB,OACIC,EAACC,EAAK,CAAAC,IAAA,2CAAAC,MAAM,kCACRH,EAAA,WAAAE,IAAA,2CACIE,MAAM,cACNC,SAAS,QAETL,EAAA,aAAAE,IAAA,2CACII,KAAK,gBACLC,MAAMC,EAAAd,KAAKD,OAAOc,QAAQ,MAAAC,SAAA,EAAAA,EAAA,YAC1BC,KAAK,iBAETT,EAAA,OAAAE,IAAA,2CAAKC,MAAM,iBACNJ,GACGA,EAAQW,KACHC,UACUA,IAAW,WACjBA,EAAOC,UACRD,EAAOC,SAASlB,KAAKD,OAAOoB,OAC5BF,EAAOG,gBACHd,EAAA,kBACIA,EAAA,OACIS,KAAK,kBACLN,MAAM,UAENH,EAAA,gBACIe,MAAOJ,EAAOK,MACdJ,SAAU,KACVK,QAAS,KACL,GACIN,EAAOO,YACPC,UACF,CACER,EAAOO,UACHxB,KAAKD,O,MAMzBO,EACK,YAAAW,EAAOG,kBAIhBd,EAAA,gBACIe,MAAOJ,EAAOK,MACdJ,SACID,EAAOC,SACDD,EAAOC,SACHlB,KAAKD,OAAOoB,MAEhB,MAEVI,QAAS,KACL,GACIN,EAAOO,YACPC,UACF,CACER,EAAOO,UACHxB,KAAKD,O","ignoreList":[]}