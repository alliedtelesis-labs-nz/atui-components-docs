{"version":3,"file":"at-sidebar.entry.esm.js","sources":["src/components/at-sidebar/at-sidebar.scss?tag=at-sidebar","src/components/at-sidebar/at-sidebar.tsx"],"sourcesContent":["@use '../../styles/shared/transition';\n\nat-sidebar {\n    display: flex;\n    height: 100%;\n    width: 100%;\n    align-items: stretch;\n    overflow: hidden;\n    position: relative;\n\n    .backdrop {\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100vw;\n        height: 100vh;\n        background-color: rgba(0, 0, 0, 0.2);\n        z-index: calc(var(--token-z-index-nav) - 1);\n        cursor: pointer;\n        will-change: opacity;\n        transition: opacity var(--token-transition-time);\n        animation: fadeIn 300ms forwards;\n    }\n\n    .sidebar {\n        position: relative;\n        width: var(--token-width-sidebar);\n        display: flex;\n        flex: 0 0 auto;\n        height: 100%;\n        background-color: var(--token-sidebar-background);\n        color: var(--token-sidebar-foreground);\n        z-index: var(--token-z-index-nav);\n        will-change: width;\n        transition: width var(--token-transition-time);\n        overflow: visible;\n\n        at-sidebar-trigger {\n            display: flex;\n            width: 100%;\n        }\n    }\n\n    .sidebar-content {\n        display: flex;\n        flex-direction: column;\n        align-items: stretch;\n        width: 100%;\n        padding: 8px;\n        overflow-y: auto;\n    }\n\n    .page-content {\n        display: flex;\n        flex-direction: column;\n        flex-grow: 1;\n    }\n\n    &.side-right {\n        flex-direction: row-reverse;\n    }\n\n    &.mode-over .sidebar {\n        position: absolute;\n    }\n\n    &[data-state='collapsed'] {\n        .sidebar.collapse-offcanvas {\n            width: var(--token-width-sidebar-offscreen);\n            overflow: hidden;\n\n            .sidebar-footer {\n                display: none;\n            }\n        }\n\n        .sidebar.collapse-icon {\n            width: var(--token-width-sidebar-collapsed);\n\n            .sidebar-footer {\n                display: none;\n            }\n        }\n\n        .sidebar.collapse-none {\n            width: var(--token-width-sidebar);\n        }\n\n        i[slot='menu-item-actions'],\n        * > .label {\n            opacity: 0;\n        }\n\n        at-menu {\n            i[slot='menu-item-actions'],\n            [data-name='menu-content-wrapper']\n                [data-name='sidebar-menu-item-label'] {\n                opacity: 1;\n            }\n        }\n    }\n\n    .sidebar at-sidebar-trigger {\n        width: 100%;\n        justify-content: flex-end;\n    }\n\n    &.collapse-icon {\n        &.mode-over:not(.side-right) .at-sidebar__content {\n            padding-left: var(--token-width-sidebar-collapsed);\n        }\n        &.mode-over.side-right .at-sidebar__content {\n            padding-right: var(--token-width-sidebar-collapsed);\n        }\n    }\n}\n\nat-sidebar {\n    at-sidebar-menu {\n        at-sidebar-submenu [slot='submenu-content'] {\n            at-sidebar-menuitem {\n                padding-left: 36px;\n            }\n\n            at-sidebar-submenu [slot='submenu-content'] {\n                at-sidebar-menuitem {\n                    padding-left: 50px;\n                }\n\n                at-sidebar-submenu [slot='submenu-content'] {\n                    at-sidebar-menuitem {\n                        padding-left: 64px;\n                    }\n                }\n\n                at-sidebar-menuitem-h .label {\n                    font-weight: var(--token-font-weight-normal);\n                }\n            }\n        }\n    }\n\n    at-sidebar-submenu {\n        at-menu {\n            [data-name='menu-content-wrapper'] {\n                background-color: var(--token-sidebar-background);\n\n                at-sidebar-menuitem .label {\n                    color: var(--token-sidebar-foreground);\n                    font-weight: var(--token-font-weight-normal);\n                }\n            }\n        }\n    }\n}\n\nat-sidebar-trigger {\n    display: flex;\n    justify-content: flex-end;\n    i {\n        font-size: var(--token-font-size-icon-xl) !important;\n    }\n}\n\n[data-name='accordion-item-content'] at-sidebar-menuitem .label {\n    font-weight: var(--token-font-weight-light);\n}\n\ni[slot='menu-item-actions'],\n* > at-sidebar-menuitem [data-name='label'] {\n    transition: opacity 150ms ease;\n}\n\n:not(at-menu) i[slot='menu-item-actions'],\n:not(at-menu) at-sidebar-menuitem [data-name='label'] {\n    opacity: 1;\n}\n","import {\n    Component,\n    Prop,\n    State,\n    Event,\n    EventEmitter,\n    h,\n    Method,\n    Host,\n} from '@stencil/core';\n\nexport type Width =\n    | 'menu'\n    | 'panel-xs'\n    | 'panel-sm'\n    | 'panel-md'\n    | 'panel-lg'\n    | 'panel-xl'\n    | 'auto';\n\n/**\n * @category Navigation\n * @description A collapsible sidebar navigation component with menu support and responsive behavior. Features animation, auto-collapse, and keyboard navigation.\n * @slot sidebar-header - Header of the sidebar (likely to be atui-sidebar-trigger)\n * @slot sidebar-content - Content displayed in the sidebar (likely to be atui-sidebar-menu elements)\n * @slot sidebar-footer - Footer displayed in the sidebar\n * @slot page-content - Content of the page\n */\n@Component({\n    tag: 'at-sidebar',\n    shadow: false,\n    styleUrl: 'at-sidebar.scss',\n})\nexport class AtSidebarComponent {\n    /**\n     * Position of the sidebar on the page\n     */\n    @Prop() side: 'left' | 'right';\n\n    /**\n     * Width of the sidebar\n     */\n    @Prop() width: Width = 'menu';\n\n    /**\n     * Size of the sidebar when collapsed.\n     */\n    @Prop() collapsible: 'offcanvas' | 'icon' | 'none';\n\n    /**\n     * How the sidenav interacts with main content when open\n     */\n    @Prop() mode: 'over' | 'push';\n\n    /**\n     * Display a clickable backdrop when mode = over\n     */\n    @Prop() backdrop: boolean = false;\n\n    /**\n     * Opens the sidebar by default when set\n     */\n    @Prop() default_open?: boolean = false;\n\n    @State() isOpen: boolean = false;\n\n    /**\n     * Emits an even when the sidebar is toggled, with `event.detail` being true if the sidebar is now open\n     */\n    @Event()\n    atuiSidebarChange: EventEmitter;\n\n    componentWillLoad() {\n        if (this.default_open !== undefined) {\n            this.isOpen = this.default_open;\n        }\n        this.atuiSidebarChange.emit(this.isOpen);\n    }\n\n    /**\n     * Toggles the sidebar's open state.\n     */\n    @Method()\n    async toggleSidebar(): Promise<void> {\n        this.isOpen = !this.isOpen;\n        this.atuiSidebarChange.emit(this.isOpen);\n    }\n\n    /**\n     * Getter method for the open state of the sidebar\n     * @returns The current open state of the sidebar\n     */\n    @Method()\n    async getIsOpen(): Promise<boolean> {\n        return this.isOpen;\n    }\n\n    private handleBackdropClick = () => {\n        if (this.mode === 'over' && this.isOpen) {\n            this.toggleSidebar();\n        }\n    };\n\n    render() {\n        const isModalOverlay =\n            this.mode === 'over' && this.backdrop && this.isOpen;\n\n        return (\n            <Host\n                data-state={this.isOpen ? 'expanded' : 'collapsed'}\n                class={`mode-${this.mode} side-${this.side} collapse-${this.collapsible}`}\n            >\n                {isModalOverlay && (\n                    <div\n                        class=\"backdrop\"\n                        data-name=\"backdrop\"\n                        onClick={this.handleBackdropClick}\n                        aria-hidden=\"true\"\n                    ></div>\n                )}\n                <nav\n                    data-name=\"sidebar\"\n                    data-open={this.isOpen}\n                    class={`sidebar collapse-${this.collapsible}`}\n                    aria-expanded={this.isOpen ? 'true' : 'false'}\n                    aria-hidden={\n                        !this.isOpen && this.collapsible === 'offcanvas'\n                            ? 'true'\n                            : 'false'\n                    }\n                >\n                    <div\n                        class=\"sidebar-header\"\n                        data-name=\"sidebar-header\"\n                    >\n                        <slot name=\"sidebar-header\" />\n                    </div>\n\n                    <div\n                        class=\"sidebar-content\"\n                        data-name=\"sidebar-content\"\n                    >\n                        <slot name=\"sidebar-content\" />\n                    </div>\n\n                    <div\n                        class={`sidebar-footer`}\n                        data-name=\"sidebar-footer\"\n                    >\n                        <slot name=\"sidebar-footer\"></slot>\n                    </div>\n                </nav>\n                <div\n                    class=\"page-content\"\n                    data-name=\"page-content\"\n                    aria-hidden={isModalOverlay ? 'true' : 'false'}\n                    inert={isModalOverlay}\n                >\n                    <slot name=\"page-content\" />\n                </div>\n            </Host>\n        );\n    }\n}\n"],"names":[],"mappings":"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"}