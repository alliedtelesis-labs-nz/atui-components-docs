{"version":3,"names":["AtSearch","onChangeFn","this","atuiChange","emit","searchEl","value","model","clearFn","focus","render","h","key","label","info_text","for","replace","toLowerCase","undefined","class","id","role","tabindex","placeholder","autocomplete","name","onInput","ref","el","size","type","icon","onClick","hint_text","AtTableExportMenu","componentWillLoad","translations","fetchTranslations","clickHandler","event","atChange","target","width","align","slot","position","ATUI","TABLE","EXPORT_TO_FILE","EXPORT_AS_CSV","EXPORT_AS_PDF","AtTableFilterMenu","constructor","hostRef","selected","filteredColumns","col_defs","filter","colDef","field","map","option_id","handleSelectedChange","newValue","handleColumnSelect","detail","Host","autoclose","FILTER_DATA","options","onAtuiChange","AtTableFilters","clearFilters","clearSingleFilter","columnId","column","length","filterChangeHandler","stopPropagation","prefix"],"sources":["src/components/at-search/at-search.tsx","src/components/table-components/at-table-export-menu/at-table-export-menu.tsx","src/components/table-components/at-table-filter-menu/at-table-filter-menu.tsx","src/components/table-components/at-table-filters/at-table-filters.tsx"],"sourcesContent":["import { Component, h, Prop, EventEmitter, Event, State } from '@stencil/core';\n\n/**\n * @category Form Controls\n * @description A search component for filtering data.\n */\n\n@Component({\n    tag: 'at-search',\n    shadow: false,\n})\nexport class AtSearch {\n    /**\n     * Label text above the search bar.\n     */\n    @Prop()\n    label?: string;\n\n    /**\n     * Hint text for the input, appears below the search bar.\n     */\n    @Prop()\n    hint_text?: string;\n\n    /**\n     * Tooltip description.\n     */\n    @Prop()\n    info_text?: string;\n\n    /**\n     * Placeholder text inside the search component.\n     */\n    @Prop()\n    placeholder?: string;\n\n    /**\n     * String content of the search.\n     */\n    @Prop({ mutable: true })\n    model?: string;\n\n    @State()\n    searchEl: HTMLInputElement;\n\n    /**\n     * Emits an event when the input is changed. Used by atui-table.\n     */\n    @Event({ eventName: 'atChange' })\n    atuiChange: EventEmitter<string>;\n\n    onChangeFn(): void {\n        this.atuiChange.emit(this.searchEl.value);\n        this.model = this.searchEl.value;\n    }\n\n    clearFn(): void {\n        this.searchEl.value = '';\n        this.atuiChange.emit(this.searchEl.value);\n        this.model = '';\n        this.searchEl.focus();\n    }\n\n    render() {\n        return (\n            <div>\n                {(this.label || this.info_text) && (\n                    <at-form-label\n                        label={this.label}\n                        for={\n                            this.label\n                                ? `search-input-${this.label.replace(/\\s+/g, '-').toLowerCase()}`\n                                : undefined\n                        }\n                        info_text={this.info_text}\n                    />\n                )}\n                <div class=\"active-within:border-active-dark transition[background-color,color,box-shadow] border-med bg-surface-0 focus-within:border-active-dark focus-within:ring-active-foreground/30 relative flex h-[36px] flex-row items-center justify-center rounded-md border duration-300 ease-in-out focus-within:ring-2\">\n                    <span class=\"px-8\">\n                        <i class=\"material-icons text-light !text-[16px] !leading-[30px]\">\n                            search\n                        </i>\n                    </span>\n\n                    <input\n                        id={\n                            this.label\n                                ? `search-input-${this.label.replace(/\\s+/g, '-').toLowerCase()}`\n                                : undefined\n                        }\n                        role=\"searchbox\"\n                        tabindex=\"0\"\n                        class=\"mr-24 h-30 w-full bg-transparent p-0 leading-[30px] focus:border-none focus:outline-none\"\n                        placeholder={this.placeholder}\n                        value={this.model}\n                        autocomplete=\"off\"\n                        name=\"search\"\n                        onInput={() => this.onChangeFn()}\n                        ref={(el) => (this.searchEl = el)}\n                    />\n\n                    <div\n                        class={`transition-all duration-300 ease-in-out ${\n                            this.model !== '' && this.model !== undefined\n                                ? 'pr-4 opacity-100'\n                                : 'pointer-events-none pr-0 opacity-0'\n                        }`}\n                    >\n                        <at-button\n                            size=\"sm\"\n                            type=\"secondaryText\"\n                            icon=\"backspace\"\n                            onClick={() => this.clearFn()}\n                            data-name=\"search-clear\"\n                            tabindex={\n                                this.model !== '' && this.model !== undefined\n                                    ? '0'\n                                    : '-1'\n                            }\n                        ></at-button>\n                    </div>\n                </div>\n\n                <span\n                    class=\"text-med mt-4 truncate text-xs !leading-normal font-normal\"\n                    data-name=\"search-hint\"\n                >\n                    {this.hint_text}\n                </span>\n            </div>\n        );\n    }\n}\n","import {\n    Component,\n    h,\n    State,\n    Element,\n    Listen,\n    EventEmitter,\n    Event,\n} from '@stencil/core';\nimport { fetchTranslations } from '../../../utils/translation';\n\n/**\n * @category Data Tables\n * @description A menu component for exporting table data in CSV or PDF formats. Provides a user-friendly interface for exporting data from tables.\n */\n\n@Component({\n    tag: 'at-table-export-menu',\n    shadow: false,\n})\nexport class AtTableExportMenu {\n    @Element() el: any;\n    @State() translations: any;\n\n    async componentWillLoad() {\n        this.translations = await fetchTranslations(this.el);\n    }\n\n    /**\n     * Emits id of the clicked button, either 'CSV' or 'PDF'.\n     */\n    @Event() atChange: EventEmitter<string>;\n\n    @Listen('atuiClick')\n    clickHandler(event: Event) {\n        this.atChange.emit((event.target as HTMLAtButtonElement).id);\n    }\n\n    render() {\n        return (\n            <at-menu\n                width={'auto'}\n                align=\"end\"\n            >\n                <at-tooltip\n                    slot=\"menu-trigger\"\n                    position=\"top\"\n                >\n                    <at-button\n                        slot=\"tooltip-trigger\"\n                        icon=\"save_alt\"\n                        type=\"secondaryText\"\n                    />\n                    <span>{this.translations.ATUI.TABLE.EXPORT_TO_FILE}</span>\n                </at-tooltip>\n                <div>\n                    <at-button\n                        type=\"secondaryText\"\n                        label={this.translations.ATUI.TABLE.EXPORT_AS_CSV}\n                        id=\"CSV\"\n                    />\n                    <at-button\n                        type=\"secondaryText\"\n                        label={this.translations.ATUI.TABLE.EXPORT_AS_PDF}\n                        id=\"PDF\"\n                    />\n                </div>\n            </at-menu>\n        );\n    }\n}\n","import {\n    Component,\n    h,\n    Prop,\n    Event,\n    EventEmitter,\n    Host,\n    State,\n    Element,\n    Watch,\n} from '@stencil/core';\nimport { ColDef } from 'ag-grid-community';\nimport { fetchTranslations } from '../../../utils/translation';\n\n/**\n * @category Data Tables\n * @description A menu component for filtering table data. Provides a user-friendly interface for filtering data from tables.\n */\n\n@Component({\n    tag: 'at-table-filter-menu',\n    shadow: false,\n})\nexport class AtTableFilterMenu {\n    /**\n     * Column definitions used in your at-table\n     */\n    @Prop()\n    col_defs: ColDef[];\n\n    /**\n     * Currently selected filter columns\n     */\n    @Prop({ mutable: true })\n    selected: string[] = [];\n\n    @State() translations: any;\n    @Element() el: HTMLAtTableFilterMenuElement;\n\n    /**\n     * Emits selected columns when checkbox selection changes\n     */\n    @Event() atChange: EventEmitter<string[]>;\n\n    private get filteredColumns() {\n        return this.col_defs\n            .filter((colDef) => colDef.field !== 'Checkbox')\n            .map((colDef) => ({\n                option_id: colDef.field,\n                label: colDef.field,\n            }));\n    }\n\n    async componentWillLoad() {\n        this.translations = await fetchTranslations(this.el);\n    }\n\n    @Watch('selected')\n    handleSelectedChange(newValue: string[]) {\n        this.selected = newValue || [];\n    }\n\n    private handleColumnSelect(event: CustomEvent<string[]>): void {\n        const newValue = event.detail || [];\n        this.selected = newValue;\n        this.atChange.emit(this.selected);\n    }\n\n    render() {\n        return (\n            <Host>\n                <at-menu\n                    autoclose={false}\n                    width=\"fit-content\"\n                    class=\"self-start\"\n                >\n                    <at-tooltip\n                        slot=\"menu-trigger\"\n                        position=\"top\"\n                    >\n                        <at-button\n                            slot=\"tooltip-trigger\"\n                            type=\"secondaryOutline\"\n                            icon=\"filter_list\"\n                        />\n                        <span>{this.translations.ATUI.TABLE.FILTER_DATA}</span>\n                    </at-tooltip>\n                    <div class=\"flex flex-col\">\n                        <at-checkbox-group\n                            class=\"w-fit\"\n                            options={this.filteredColumns}\n                            value={this.selected}\n                            onAtuiChange={(event: CustomEvent<string[]>) =>\n                                this.handleColumnSelect(event)\n                            }\n                        />\n                    </div>\n                </at-menu>\n            </Host>\n        );\n    }\n}\n","import {\n    Component,\n    h,\n    Prop,\n    Event,\n    EventEmitter,\n    Host,\n    State,\n    Element,\n} from '@stencil/core';\nimport { ColDef } from 'ag-grid-community';\nimport { fetchTranslations } from '../../../utils/translation';\n\n/**\n * @category Data Tables\n * @description A component for filtering table data. Provides a user-friendly interface for filtering data from tables.\n * @internal\n */\n\nexport interface FilterEvent {\n    id: string;\n    value: string;\n}\n\n@Component({\n    tag: 'at-table-filters',\n    shadow: false,\n})\nexport class AtTableFilters {\n    /**\n     * Column definitions used in your at-table\n     */\n    @Prop()\n    col_defs: ColDef[];\n\n    /**\n     * Currently selected columns and filter values\n     */\n    @Prop({ mutable: true })\n    selected: { id: string; value: string }[] = [];\n\n    @State() translations: any;\n    @Element() el: HTMLAtTableFiltersElement;\n\n    /**\n     * Emits id of column and filter value on change.\n     */\n    @Event() atChange: EventEmitter<FilterEvent[]>;\n\n    async componentWillLoad() {\n        this.translations = await fetchTranslations(this.el);\n    }\n\n    filterChangeHandler(event: CustomEvent, columnId: string) {\n        event.stopPropagation();\n        this.selected = this.selected.map((column) => {\n            if (column.id === columnId)\n                return { id: column.id, value: event.detail };\n            return column;\n        });\n        this.atChange.emit(this.selected);\n    }\n\n    clearFilters = () => {\n        this.selected = [];\n        this.atChange.emit([]);\n    };\n\n    clearSingleFilter = (columnId: string) => {\n        this.selected = this.selected.filter(\n            (column) => column.id !== columnId,\n        );\n        this.atChange.emit(this.selected.length ? this.selected : []);\n    };\n\n    render() {\n        return (\n            this.col_defs && (\n                <Host class=\"flex items-start gap-8\">\n                    <div class=\"bg-surface-0 flex min-h-[36px] flex-wrap items-end gap-8 rounded-md p-8\">\n                        {!this.selected.length && (\n                            <p class=\"text-light\">0 Filters</p>\n                        )}\n                        {this.selected.map((column) => (\n                            <div class=\"flex items-center gap-2\">\n                                <at-input\n                                    class=\"w-input-sm\"\n                                    label={column.id}\n                                    prefix={column.id + ': '}\n                                    value={column.value}\n                                    onAtuiChange={(event: CustomEvent) =>\n                                        this.filterChangeHandler(\n                                            event,\n                                            column.id,\n                                        )\n                                    }\n                                >\n                                    <div slot=\"input-actions\">\n                                        <at-button\n                                            icon=\"cancel_outline\"\n                                            type=\"secondaryText\"\n                                            size=\"sm\"\n                                            onClick={() =>\n                                                this.clearSingleFilter(\n                                                    column.id,\n                                                )\n                                            }\n                                            data-name={`filter-clear-${column.id}`}\n                                        ></at-button>\n                                    </div>\n                                </at-input>\n                            </div>\n                        ))}\n\n                        {this.selected.length > 0 && (\n                            <at-button\n                                type=\"secondaryText\"\n                                label=\"Clear All\"\n                                onClick={this.clearFilters}\n                                data-name=\"filter-clear-all\"\n                            />\n                        )}\n                    </div>\n                </Host>\n            )\n        );\n    }\n}\n"],"mappings":"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","ignoreList":[]}