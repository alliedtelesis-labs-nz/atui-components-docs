{"version":3,"names":["AtuiToggleCell","init","params","this","toggleValue","value","data","_b","_a","toggleCell","label","_d","_c","labelPosition","_f","_e","disabled","_h","_g","getGui","el","refresh","updateCell","toggleHandler","change","clearTimeout","timer","detail","setTimeout","newValue","render","h","Host","key","class","onChange","onTrigger","call","label_position","show_label"],"sources":["src/components/table-components/cell-components/atui-toggle-cell/atui-toggle-cell.tsx"],"sourcesContent":["import { Component, h, Element, State, Host, Listen } from '@stencil/core';\nimport { ICellRendererComp, ICellRendererParams } from 'ag-grid-community';\nimport { LabelPosition } from '../../../atui-toggle-switch/atui-toggle-switch';\nimport { ITooltipCell } from '../../../../types/table-cells';\n\nexport interface ToggleCellData {\n    value: boolean;\n    label?: string;\n    labelPosition?: 'before' | 'after';\n    disabled?: boolean;\n}\n\nexport interface IToggleCellParams extends ICellRendererParams, ITooltipCell {\n    toggleValue?: (data: any) => boolean;\n    label?: (data: any) => string;\n    labelPosition?: (data: any) => LabelPosition;\n    onTrigger?: (params: ICellRendererParams) => void;\n    disabled?: (data: any) => boolean;\n}\n\n/**\n * @category Table Cell\n * @description A cell component for displaying a toggle.\n */\n\n@Component({\n    tag: 'atui-toggle-cell',\n    shadow: false,\n})\nexport class AtuiToggleCell implements ICellRendererComp {\n    @Element() el: HTMLElement;\n    @State() params: IToggleCellParams;\n    @State() label: string;\n    @State() labelPosition: LabelPosition;\n    @State() disabled: boolean;\n    @State() value: boolean;\n    timer: any;\n\n    init(params: ICellRendererParams): void {\n        this.params = params as IToggleCellParams;\n\n        if (this.params.toggleValue) {\n            this.value = this.params.toggleValue(params.data);\n        } else {\n            this.value = params.data?.toggleCell?.value || false;\n        }\n\n        if (this.params.label) {\n            this.label = this.params.label(params.data);\n        } else {\n            this.label = params.data?.toggleCell?.label || '';\n        }\n\n        this.labelPosition = params.data?.toggleCell?.labelPosition || 'after';\n        this.disabled = params.data?.toggleCell?.disabled || false;\n    }\n\n    getGui(): HTMLElement {\n        return this.el;\n    }\n\n    refresh(params: ICellRendererParams): boolean {\n        this.updateCell(params.data);\n        return true;\n    }\n\n    @Listen('toggleFunction')\n    toggleHandler(change: CustomEvent) {\n        clearTimeout(this.timer);\n        this.params.value = change.detail;\n        this.timer = setTimeout(() => {}, 2000);\n    }\n\n    private updateCell(newValue: any) {\n        clearTimeout(this.timer);\n        this.params.value = newValue;\n        this.timer = setTimeout(() => {}, 2000);\n    }\n\n    render() {\n        return (\n            <Host class=\"flex h-full items-center leading-[100%]\">\n                <atui-toggle-switch\n                    label={this.label}\n                    onChange={() => this.params.onTrigger?.(this.params)}\n                    label_position={this.labelPosition}\n                    show_label={!!this.label}\n                    value={this.value}\n                    disabled={this.disabled}\n                ></atui-toggle-switch>\n            </Host>\n        );\n    }\n}\n"],"mappings":"+DA6BaA,EAAc,M,yBASvB,IAAAC,CAAKC,G,oBACDC,KAAKD,OAASA,EAEd,GAAIC,KAAKD,OAAOE,YAAa,CACzBD,KAAKE,MAAQF,KAAKD,OAAOE,YAAYF,EAAOI,K,KACzC,CACHH,KAAKE,QAAQE,GAAAC,EAAAN,EAAOI,QAAI,MAAAE,SAAA,SAAAA,EAAEC,cAAU,MAAAF,SAAA,SAAAA,EAAEF,QAAS,K,CAGnD,GAAIF,KAAKD,OAAOQ,MAAO,CACnBP,KAAKO,MAAQP,KAAKD,OAAOQ,MAAMR,EAAOI,K,KACnC,CACHH,KAAKO,QAAQC,GAAAC,EAAAV,EAAOI,QAAI,MAAAM,SAAA,SAAAA,EAAEH,cAAU,MAAAE,SAAA,SAAAA,EAAED,QAAS,E,CAGnDP,KAAKU,gBAAgBC,GAAAC,EAAAb,EAAOI,QAAI,MAAAS,SAAA,SAAAA,EAAEN,cAAU,MAAAK,SAAA,SAAAA,EAAED,gBAAiB,QAC/DV,KAAKa,WAAWC,GAAAC,EAAAhB,EAAOI,QAAI,MAAAY,SAAA,SAAAA,EAAET,cAAU,MAAAQ,SAAA,SAAAA,EAAED,WAAY,K,CAGzD,MAAAG,GACI,OAAOhB,KAAKiB,E,CAGhB,OAAAC,CAAQnB,GACJC,KAAKmB,WAAWpB,EAAOI,MACvB,OAAO,I,CAIX,aAAAiB,CAAcC,GACVC,aAAatB,KAAKuB,OAClBvB,KAAKD,OAAOG,MAAQmB,EAAOG,OAC3BxB,KAAKuB,MAAQE,YAAW,QAAU,I,CAG9B,UAAAN,CAAWO,GACfJ,aAAatB,KAAKuB,OAClBvB,KAAKD,OAAOG,MAAQwB,EACpB1B,KAAKuB,MAAQE,YAAW,QAAU,I,CAGtC,MAAAE,GACI,OACIC,EAACC,EAAK,CAAAC,IAAA,2CAAAC,MAAM,2CACRH,EACI,sBAAAE,IAAA,2CAAAvB,MAAOP,KAAKO,MACZyB,SAAU,KAAM,IAAA3B,EAAAD,EAAA,OAAAA,GAAAC,EAAAL,KAAKD,QAAOkC,aAAY,MAAA7B,SAAA,SAAAA,EAAA8B,KAAA7B,EAAAL,KAAKD,OAAO,EACpDoC,eAAgBnC,KAAKU,cACrB0B,aAAcpC,KAAKO,MACnBL,MAAOF,KAAKE,MACZW,SAAUb,KAAKa,W","ignoreList":[]}