{"version":3,"names":["AtuiSidebarSubmenuComponent","constructor","hostRef","this","isSidebarOpen","isAccordionOpen","handleAtuiChange","bind","componentDidLoad","updateInitialStates","componentDidUpdate","accordionItem","el","querySelector","getIsOpen","parentSidebar","closest","event","target","detail","atuiAccordionItem","closeAccordion","handleAtuiAccordionChange","getIsActive","is_active","render","h","Host","key","class","ref","item_id","label","icon","slot","badge","role","name","trigger","position","align","width"],"sources":["src/components/atui-sidebar/atui-sidebar-submenu/atui-sidebar-submenu.tsx"],"sourcesContent":["import {\n    Component,\n    h,\n    Host,\n    Prop,\n    State,\n    Listen,\n    Element,\n} from '@stencil/core';\n\n/**\n * @category Navigation\n * @description Display nested sub-menus in the atui-sidebar.\n * Sub-menu's can be collapsed via atui-accordion-item when the parent sidebar is expanded.\n * Submenu content is collapsed and hidden when the parent sidebar is collapsed.\n * Menu indent styling is supported up to 3 levels.\n *\n * @slot submenu-content - To place the atui-sidebar-menuitem(s) in the sub menu\n * @slot submenu-hover-content - To place the atui-sidebar-menuitem(s) in the sub menu on collapsed mode\n */\n@Component({\n    tag: 'atui-sidebar-submenu',\n    shadow: false,\n})\nexport class AtuiSidebarSubmenuComponent {\n    /**\n     * Label to be displayed for the menu item\n     */\n    @Prop() label!: string;\n\n    /**\n     * Icon to be displayed with the label\n     */\n    @Prop() icon?: string;\n\n    /**\n     * Alert badge for the menu item\n     */\n    @Prop() badge?: string;\n\n    /**\n     * Will change the styling of the menuitem when set\n     */\n    @Prop() is_active?: boolean;\n\n    @State() isSidebarOpen: boolean = false;\n    @State() isAccordionOpen: boolean = false;\n    @State() atuiAccordionItem: HTMLAtuiAccordionItemElement;\n    @Element() el!: HTMLElement;\n\n    constructor() {\n        this.handleAtuiChange = this.handleAtuiChange.bind(this);\n    }\n\n    async componentDidLoad() {\n        await this.updateInitialStates();\n    }\n\n    async componentDidUpdate() {\n        await this.updateInitialStates();\n    }\n\n    private async updateInitialStates() {\n        const accordionItem = this.el.querySelector('atui-accordion-item');\n        if (accordionItem) {\n            this.isAccordionOpen = await accordionItem.getIsOpen();\n        }\n\n        const parentSidebar = this.el.closest('atui-sidebar');\n        if (parentSidebar) {\n            this.isSidebarOpen = await (parentSidebar as any).getIsOpen();\n        }\n    }\n\n    @Listen('atuiSidebarChange', { target: 'window' })\n    handleAtuiChange(event: CustomEvent<boolean>) {\n        const target = event.target as HTMLElement;\n\n        const parentSidebar = this.el.closest('atui-sidebar');\n\n        if (target === parentSidebar) {\n            this.isSidebarOpen = event.detail;\n\n            if (!this.isSidebarOpen && this.atuiAccordionItem) {\n                this.atuiAccordionItem.closeAccordion();\n            }\n        }\n    }\n\n    @Listen('atuiAccordionChange', { target: 'window' })\n    handleAtuiAccordionChange(event: CustomEvent<boolean>) {\n        this.isAccordionOpen = event.detail;\n    }\n\n    private getIsActive() {\n        if (this.isSidebarOpen) {\n            return !this.isAccordionOpen && this.is_active;\n        }\n        return this.is_active;\n    }\n\n    render() {\n        return (\n            <Host>\n                <atui-accordion-item\n                    class={!this.isSidebarOpen ? 'hidden' : ''}\n                    aria-hidden={!this.isSidebarOpen}\n                    ref={(el) => (this.atuiAccordionItem = el)}\n                    item_id=\"one\"\n                >\n                    {(this.label || this.icon) && (\n                        <atui-sidebar-menuitem\n                            slot=\"accordion-trigger\"\n                            icon={this.icon}\n                            label={this.label}\n                            badge={this.badge}\n                            is_active={this.getIsActive()}\n                        >\n                            {this.isSidebarOpen && (\n                                <i\n                                    slot=\"menu-item-actions\"\n                                    role=\"presentation\"\n                                    aria-hidden=\"true\"\n                                    class=\"material-icons text-icon-md group-data-[state=expanded]/accordion-item:rotate-180\"\n                                >\n                                    keyboard_arrow_down\n                                </i>\n                            )}\n                        </atui-sidebar-menuitem>\n                    )}\n                    <div slot=\"accordion-content\">\n                        <slot name=\"submenu-content\"></slot>\n                    </div>\n                </atui-accordion-item>\n\n                <atui-menu\n                    class={this.isSidebarOpen ? 'hidden' : 'w-menu'}\n                    aria-hidden={this.isSidebarOpen}\n                    trigger=\"hover\"\n                    position=\"right\"\n                    align=\"start\"\n                    width={this.isSidebarOpen ? '0' : 'w-menu'}\n                >\n                    <atui-sidebar-menuitem\n                        slot=\"menu-trigger\"\n                        icon={this.icon}\n                        badge={this.badge}\n                        label={this.label}\n                        is_active={this.getIsActive()}\n                    ></atui-sidebar-menuitem>\n\n                    <slot name=\"submenu-hover-content\"></slot>\n                </atui-menu>\n            </Host>\n        );\n    }\n}\n"],"mappings":"+DAwBaA,EAA2B,MA0BpC,WAAAC,CAAAC,G,UALSC,KAAaC,cAAY,MACzBD,KAAeE,gBAAY,MAKhCF,KAAKG,iBAAmBH,KAAKG,iBAAiBC,KAAKJ,KACtD,CAED,sBAAMK,SACIL,KAAKM,qB,CAGf,wBAAMC,SACIP,KAAKM,qB,CAGP,yBAAMA,GACV,MAAME,EAAgBR,KAAKS,GAAGC,cAAc,uBAC5C,GAAIF,EAAe,CACfR,KAAKE,sBAAwBM,EAAcG,W,CAG/C,MAAMC,EAAgBZ,KAAKS,GAAGI,QAAQ,gBACtC,GAAID,EAAe,CACfZ,KAAKC,oBAAuBW,EAAsBD,W,EAK1D,gBAAAR,CAAiBW,GACb,MAAMC,EAASD,EAAMC,OAErB,MAAMH,EAAgBZ,KAAKS,GAAGI,QAAQ,gBAEtC,GAAIE,IAAWH,EAAe,CAC1BZ,KAAKC,cAAgBa,EAAME,OAE3B,IAAKhB,KAAKC,eAAiBD,KAAKiB,kBAAmB,CAC/CjB,KAAKiB,kBAAkBC,gB,GAMnC,yBAAAC,CAA0BL,GACtBd,KAAKE,gBAAkBY,EAAME,M,CAGzB,WAAAI,GACJ,GAAIpB,KAAKC,cAAe,CACpB,OAAQD,KAAKE,iBAAmBF,KAAKqB,S,CAEzC,OAAOrB,KAAKqB,S,CAGhB,MAAAC,GACI,OACIC,EAACC,EAAI,CAAAC,IAAA,4CACDF,EAAA,uBAAAE,IAAA,2CACIC,OAAQ1B,KAAKC,cAAgB,SAAW,GAAE,eAC5BD,KAAKC,cACnB0B,IAAMlB,GAAQT,KAAKiB,kBAAoBR,EACvCmB,QAAQ,QAEN5B,KAAK6B,OAAS7B,KAAK8B,OACjBP,EACI,yBAAAE,IAAA,2CAAAM,KAAK,oBACLD,KAAM9B,KAAK8B,KACXD,MAAO7B,KAAK6B,MACZG,MAAOhC,KAAKgC,MACZX,UAAWrB,KAAKoB,eAEfpB,KAAKC,eACFsB,EACI,KAAAE,IAAA,2CAAAM,KAAK,oBACLE,KAAK,eACO,qBACZP,MAAM,qFAGN,wBAIhBH,EAAK,OAAAE,IAAA,2CAAAM,KAAK,qBACNR,EAAA,QAAAE,IAAA,2CAAMS,KAAK,sBAInBX,EAAA,aAAAE,IAAA,2CACIC,MAAO1B,KAAKC,cAAgB,SAAW,SAC1B,cAAAD,KAAKC,cAClBkC,QAAQ,QACRC,SAAS,QACTC,MAAM,QACNC,MAAOtC,KAAKC,cAAgB,IAAM,UAElCsB,EAAA,yBAAAE,IAAA,2CACIM,KAAK,eACLD,KAAM9B,KAAK8B,KACXE,MAAOhC,KAAKgC,MACZH,MAAO7B,KAAK6B,MACZR,UAAWrB,KAAKoB,gBAGpBG,EAAA,QAAAE,IAAA,2CAAMS,KAAK,2B","ignoreList":[]}