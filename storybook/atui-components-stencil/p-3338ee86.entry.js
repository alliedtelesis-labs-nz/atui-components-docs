import{r as t,c as e,a as i,h as s,H as r}from"./p-B5bw8iR3.js";import{f as o}from"./p-DuLooPsr.js";import{at_checkbox_cell as n}from"./p-f2f8486f.entry.js";import{at_text_badge_cell as a}from"./p-8d894a31.entry.js";import{at_text_cell as l}from"./p-fe5de252.entry.js";import{at_text_status_cell as h}from"./p-211180c0.entry.js";import{at_checkbox_header as c}from"./p-8bfda7c3.entry.js";import{at_text_icon_cell as u}from"./p-832c76e8.entry.js";import{at_title_subtitle_date_cell as d}from"./p-fdba1b9f.entry.js";import{at_title_subtitle_cell as g}from"./p-dc7d6494.entry.js";import{at_edit_text_cell as f}from"./p-82b3cf92.entry.js";import{at_chip_list_cell as p}from"./p-848014e7.entry.js";import{at_toggle_cell as m}from"./p-d66f91d8.entry.js";import{at_multi_btn_cell as v}from"./p-47154235.entry.js";import{at_color_status_cell as w}from"./p-6e040feb.entry.js";import{at_text_image_cell as b}from"./p-57af7208.entry.js";import{at_menu_cell as y}from"./p-5408f9d0.entry.js";import"./p-NdEAHc-1.js";import"./p-BMuAbjcg.js";import"./p-Bhh1cB9X.js";import"./p-DJyIoUiL.js";var C;(function(t){t["CHECKBOX_CELL"]="AtCheckboxCell";t["TEXT_CELL"]="AtTextCell";t["TEXT_STATUS_CELL"]="AtTextStatusCell";t["TEXT_WITH_BADGE_CELL"]="AtTextBadgeCell";t["TEXT_WITH_ICON_CELL"]="AtTextIconCell";t["TITLE_SUBTITLE_CELL"]="AtTitleSubtitleCell";t["TITLE_SUBTITLE_DATE_CELL"]="AtTitleSubtitleDateCell";t["EDIT_TEXT_CELL"]="AtEditTextCell";t["CHIP_LIST_CELL"]="AtChipListCell";t["TOGGLE_CELL"]="AtToggleCell";t["MULTI_BTN_CELL"]="AtMultiBtnCell";t["COLOR_STATUS_CELL"]="AtColorStatusCell";t["TEXT_WITH_IMAGE_CELL"]="AtTextImageCell";t["MENU_CELL"]="AtMenuCell"})(C||(C={}));var x;(function(t){t["CHECKBOX_HEADER"]="checkboxHeader";t["ICON_HEADER"]="iconHeader"})(x||(x={}));const k=class{constructor(i){t(this,i);this.atChange=e(this,"atChange",7)}col_defs;get el(){return i(this)}translations;checkedColumns=[];async componentWillLoad(){this.translations=await o(this.el);this.initializeCheckedColumns()}colDefsChanged(){this.initializeCheckedColumns()}initializeCheckedColumns(){if(this.col_defs){this.checkedColumns=this.col_defs.filter((t=>t.hide!==true)).map((t=>t.field))}}atChange;changeHandler(t){const e=t.detail||[];const i=new Set(this.checkedColumns);const s=new Set(e);e.forEach((t=>{if(!i.has(t)){this.atChange.emit({id:t,checked:true})}}));Array.from(i).forEach((t=>{if(!s.has(t)){this.atChange.emit({id:t,checked:false})}}));this.checkedColumns=e}render(){return s("at-menu",{key:"395ee3b441d3e6215fb7087e6af80255460c7ad6",autoclose:false,width:"fit-content",align:"start"},s("div",{key:"742c68ab5dda4000429f0316a3cd594571999a7a",slot:"menu-trigger"},s("at-tooltip",{key:"a6b691407ccb5d91a94ddd680b6a7d1305150b41",position:"top"},s("at-button",{key:"d2f128467e0414cdd8d23542729c19df9bcdcf5f",slot:"tooltip-trigger",type:"secondaryText",icon:"graphic_eq"}),s("span",{key:"047faa0258cf815fba480a5afccafac75fcd575c"},this.translations.ATUI.TABLE.MANAGE_COLUMNS))),s("at-checkbox-group",{key:"8dbf6c79ab520c25652bd2592a2fade5b24fe31d",class:"w-fit",options:this.col_defs?this.col_defs.map((t=>({option_id:t.field,label:t.field}))):[],value:this.checkedColumns,onAtuiChange:t=>this.changeHandler(t)}))}static get watchers(){return{col_defs:["colDefsChanged"]}}};var S=class{constructor(){this.allSyncListeners=new Map;this.allAsyncListeners=new Map;this.globalSyncListeners=new Set;this.globalAsyncListeners=new Set;this.asyncFunctionsQueue=[];this.scheduled=false;this.firedEvents={}}setFrameworkOverrides(t){this.frameworkOverrides=t}getListeners(t,e,i){const s=e?this.allAsyncListeners:this.allSyncListeners;let r=s.get(t);if(!r&&i){r=new Set;s.set(t,r)}return r}noRegisteredListenersExist(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0}addEventListener(t,e,i=false){this.getListeners(t,i,true).add(e)}removeEventListener(t,e,i=false){const s=this.getListeners(t,i,false);if(!s){return}s.delete(e);if(s.size===0){const e=i?this.allAsyncListeners:this.allSyncListeners;e.delete(t)}}addGlobalListener(t,e=false){(e?this.globalAsyncListeners:this.globalSyncListeners).add(t)}removeGlobalListener(t,e=false){(e?this.globalAsyncListeners:this.globalSyncListeners).delete(t)}dispatchEvent(t){const e=t;this.dispatchToListeners(e,true);this.dispatchToListeners(e,false);this.firedEvents[e.type]=true}dispatchEventOnce(t){if(!this.firedEvents[t.type]){this.dispatchEvent(t)}}dispatchToListeners(t,e){const i=t.type;if(e&&"event"in t){const e=t.event;if(e instanceof Event){t.eventPath=e.composedPath()}}const s=(i,s)=>i.forEach((i=>{if(!s.has(i)){return}const r=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming((()=>i(t))):()=>i(t);if(e){this.dispatchAsync(r)}else{r()}}));const r=this.getListeners(i,e,false)??new Set;const o=new Set(r);if(o.size>0){s(o,r)}const n=new Set(e?this.globalAsyncListeners:this.globalSyncListeners);n.forEach((s=>{const r=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming((()=>s(i,t))):()=>s(i,t);if(e){this.dispatchAsync(r)}else{r()}}))}dispatchAsync(t){this.asyncFunctionsQueue.push(t);if(!this.scheduled){const t=()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)};this.frameworkOverrides?this.frameworkOverrides.wrapIncoming(t):t();this.scheduled=true}}flushAsyncQueue(){this.scheduled=false;const t=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[];t.forEach((t=>t()))}};var D=(t=>{t["CommunityCoreModule"]="@ag-grid-community/core";t["InfiniteRowModelModule"]="@ag-grid-community/infinite-row-model";t["ClientSideRowModelModule"]="@ag-grid-community/client-side-row-model";t["CsvExportModule"]="@ag-grid-community/csv-export";t["EnterpriseCoreModule"]="@ag-grid-enterprise/core";t["RowGroupingModule"]="@ag-grid-enterprise/row-grouping";t["ColumnsToolPanelModule"]="@ag-grid-enterprise/column-tool-panel";t["FiltersToolPanelModule"]="@ag-grid-enterprise/filter-tool-panel";t["MenuModule"]="@ag-grid-enterprise/menu";t["SetFilterModule"]="@ag-grid-enterprise/set-filter";t["MultiFilterModule"]="@ag-grid-enterprise/multi-filter";t["StatusBarModule"]="@ag-grid-enterprise/status-bar";t["SideBarModule"]="@ag-grid-enterprise/side-bar";t["RangeSelectionModule"]="@ag-grid-enterprise/range-selection";t["MasterDetailModule"]="@ag-grid-enterprise/master-detail";t["RichSelectModule"]="@ag-grid-enterprise/rich-select";t["GridChartsModule"]="@ag-grid-enterprise/charts";t["ViewportRowModelModule"]="@ag-grid-enterprise/viewport-row-model";t["ServerSideRowModelModule"]="@ag-grid-enterprise/server-side-row-model";t["ExcelExportModule"]="@ag-grid-enterprise/excel-export";t["ClipboardModule"]="@ag-grid-enterprise/clipboard";t["SparklinesModule"]="@ag-grid-enterprise/sparklines";t["AdvancedFilterModule"]="@ag-grid-enterprise/advanced-filter";t["AngularModule"]="@ag-grid-community/angular";t["ReactModule"]="@ag-grid-community/react";t["VueModule"]="@ag-grid-community/vue";return t})(D||{});var M={};function R(t,e){if(M[e]){return}t();M[e]=true}function F(t,...e){console.log("AG Grid: "+t,...e)}function P(t,...e){R((()=>console.warn("AG Grid: "+t,...e)),t+e?.join(""))}function z(t,...e){R((()=>console.error("AG Grid: "+t,...e)),t+e?.join(""))}function I(t){return!!(t&&t.constructor&&t.call&&t.apply)}function T(t){O(t,400)}var A=[];var E=false;function N(t){A.push(t);if(E){return}E=true;window.setTimeout((()=>{const t=A.slice();A.length=0;E=false;t.forEach((t=>t()))}),0)}function O(t,e=0){if(t.length>0){window.setTimeout((()=>t.forEach((t=>t()))),e)}}function L(t,e){let i;return function(...s){const r=this;window.clearTimeout(i);i=window.setTimeout((function(){t.apply(r,s)}),e)}}function G(t,e){let i=0;return function(...s){const r=this;const o=(new Date).getTime();if(o-i<e){return}i=o;t.apply(r,s)}}function H(t,e,i=100,s){const r=(new Date).getTime();let o=null;let n=false;const a=()=>{const s=(new Date).getTime()-r>i;if(t()||s){e();n=true;if(o!=null){window.clearInterval(o);o=null}}};a();if(!n){o=window.setInterval(a,10)}}function B(...t){return e=>t.reduce(((t,e)=>e(t)),e)}function V(t){if(t==null||t===""){return null}return t}function j(t,e=false){return t!=null&&(t!==""||e)}function W(t){return!j(t)}function U(t){return t==null||t.length===0}function $(t){return t!=null&&typeof t.toString==="function"?t.toString():null}function Q(t){if(t===void 0){return}if(t===null||t===""){return null}if(typeof t==="number"){return isNaN(t)?void 0:t}const e=parseInt(t,10);return isNaN(e)?void 0:e}function K(t){if(t===void 0){return}if(t===null||t===""){return false}return Y(t)}function Y(t){if(typeof t==="boolean"){return t}if(typeof t==="string"){return t.toUpperCase()==="TRUE"||t==""}return false}function q(t,e){const i=t?JSON.stringify(t):null;const s=e?JSON.stringify(e):null;return i===s}function Z(t,e,i=false){const s=t==null;const r=e==null;if(t&&t.toNumber){t=t.toNumber()}if(e&&e.toNumber){e=e.toNumber()}if(s&&r){return 0}if(s){return-1}if(r){return 1}function o(t,e){return t>e?1:t<e?-1:0}if(typeof t!=="string"){return o(t,e)}if(!i){return o(t,e)}try{return t.localeCompare(e)}catch(i){return o(t,e)}}function _(t){if(t instanceof Set||t instanceof Map){const e=[];t.forEach((t=>e.push(t)));return e}return Object.values(t)}function J(t,e){return t.get("rowModelType")===e}function X(t){return J(t,"clientSide")}function tt(t){return J(t,"serverSide")}function et(t,e){return t.get("domLayout")===e}function it(t){return Ht(t)!==void 0}function st(t){return!t.get("suppressAsyncEvents")}function rt(t){return typeof t.get("getRowHeight")==="function"}function ot(t,e){if(e){return!t.get("enableStrictPivotColumnOrder")}return t.get("maintainColumnOrder")}function nt(t,e,i=false,s){if(s==null){s=t.environment.getDefaultRowHeight()}if(rt(t)){if(i){return{height:s,estimated:true}}const r={node:e,data:e.data};const o=t.getCallback("getRowHeight")(r);if(ht(o)){if(o===0){P("The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead.")}return{height:Math.max(1,o),estimated:false}}}if(e.detail&&t.get("masterDetail")){return at(t)}const r=t.get("rowHeight");const o=r&&ht(r)?r:s;return{height:o,estimated:false}}function at(t){if(t.get("detailRowAutoHeight")){return{height:1,estimated:false}}const e=t.get("detailRowHeight");if(ht(e)){return{height:e,estimated:false}}return{height:300,estimated:false}}function lt(t){const{environment:e}=t;const i=t.get("rowHeight");if(!i||W(i)){return e.getDefaultRowHeight()}const s=e.refreshRowHeightVariable();if(s!==-1){return s}P("row height must be a number if not using standard row model");return e.getDefaultRowHeight()}function ht(t){return!isNaN(t)&&typeof t==="number"&&isFinite(t)}function ct(t,e,i){const s=e[t.getDomDataKey()];return s?s[i]:void 0}function ut(t,e,i,s){const r=t.getDomDataKey();let o=e[r];if(W(o)){o={};e[r]=o}o[i]=s}function dt(t){let e=null;const i=t.get("getDocument");if(i&&j(i)){e=i()}else if(t.eGridDiv){e=t.eGridDiv.ownerDocument}if(e&&j(e)){return e}return document}function gt(t){const e=dt(t);return e.defaultView||window}function ft(t){return t.eGridDiv.getRootNode()}function pt(t){return ft(t).activeElement}function mt(t){const e=dt(t);const i=pt(t);return i===null||i===e.body}function vt(t){if(t.get("ensureDomOrder")){return false}return t.get("animateRows")}function wt(t){if(t.get("paginateChildRows")||t.get("groupHideOpenParents")||et(t,"print")){return false}return true}function bt(t){const e=t.get("autoGroupColumnDef");return!e?.comparator&&!t.get("treeData")}function yt(t){const e=t.get("groupAggFiltering");if(typeof e==="function"){return t.getCallback("groupAggFiltering")}if(e===true){return()=>true}return void 0}function Ct(t){const e=t.get("grandTotalRow");if(e){return e}const i=t.get("groupIncludeTotalFooter");if(i){return"bottom"}return void 0}function xt(t){const e=t.get("groupTotalRow");if(typeof e==="function"){return t.getCallback("groupTotalRow")}if(e){return()=>e}const i=t.get("groupIncludeFooter");if(typeof i==="function"){const e=t.getCallback("groupIncludeFooter");return t=>e(t)?"bottom":void 0}return()=>i?"bottom":void 0}function kt(t){if(t.exists("groupDisplayType")){return t.get("groupDisplayType")==="multipleColumns"}return t.get("groupHideOpenParents")}function St(t,e){if(e){return false}return t.get("groupDisplayType")==="groupRows"}function Dt(t){const e=t.getCallback("getRowId");if(e===void 0){return e}return t=>{let i=e(t);if(typeof i!=="string"){P(`The getRowId callback must return a string. The ID `,i,` is being cast to a string.`);i=String(i)}return i}}function Mt(t){return t?.checkboxes??true}function Rt(t){return t?.mode==="multiRow"&&(t.headerCheckbox??true)}function Ft(t){return t?.hideDisabledCheckboxes??false}function Pt(t){const e=t.get("rowSelection");return typeof e!=="string"}function zt(t){return t.get("cellSelection")!==void 0}function It(t){const e=t.get("cellSelection");const i=e!==void 0;if(!i){return t.get("suppressMultiRangeSelection")}return typeof e!=="boolean"?e?.suppressMultiRanges??false:false}function Tt(t){const e=t.get("cellSelection");const i=e!==void 0;return i?!!e:t.get("enableRangeSelection")}function At(t){const e=t.get("cellSelection");const i=e!==void 0;if(!i){return t.get("enableRangeHandle")}return typeof e!=="boolean"?e.handle?.mode==="range":false}function Et(t){const e=t.get("cellSelection");const i=e!==void 0;if(!i){return t.get("enableFillHandle")}return typeof e!=="boolean"?e.handle?.mode==="fill":false}function Nt(t){const e=t.get("rowSelection")??"single";if(typeof e==="string"){const e=t.get("suppressRowClickSelection");const i=t.get("suppressRowDeselection");if(e&&i){return false}else if(e){return"enableDeselection"}else if(i){return"enableSelection"}else{return true}}return e.mode==="singleRow"||e.mode==="multiRow"?e.enableClickSelection??false:false}function Ot(t){const e=Nt(t);return e===true||e==="enableSelection"}function Lt(t){const e=Nt(t);return e===true||e==="enableDeselection"}function Gt(t){const e=t.get("rowSelection");if(typeof e==="string"){return t.get("isRowSelectable")}return e?.isRowSelectable}function Ht(t){const e=t.get("rowSelection");if(typeof e==="string"){switch(e){case"multiple":return"multiRow";case"single":return"singleRow";default:return}}return e?.mode}function Bt(t){const e=Ht(t);return e==="multiRow"}function Vt(t){const e=t.get("rowSelection");if(typeof e==="string"){return t.get("rowMultiSelectWithClick")}return e?.enableSelectionWithoutKeys??false}function jt(t){const e=t.get("rowSelection");if(typeof e==="string"){const e=t.get("groupSelectsChildren");const i=t.get("groupSelectsFiltered");if(e&&i){return"filteredDescendants"}else if(e){return"descendants"}else{return"self"}}return e?.mode==="multiRow"?e.groupSelects:void 0}function Wt(t){const e=jt(t);return e==="descendants"||e==="filteredDescendants"}function Ut(t){return t.isModuleRegistered("@ag-grid-enterprise/set-filter")&&!t.get("suppressSetFilterByDefault")}function $t(t){if(!t||!t.length){return}return t[t.length-1]}function Qt(t,e,i){if(t==null&&e==null){return true}return t!=null&&e!=null&&t.length===e.length&&t.every(((t,s)=>i?i(t,e[s]):e[s]===t))}function Kt(t){return t.sort(((t,e)=>t-e))}function Yt(t,e){const i=t.indexOf(e);if(i>=0){t[i]=t[t.length-1];t.pop()}}function qt(t,e){const i=t.indexOf(e);if(i>=0){t.splice(i,1)}}function Zt(t,e){for(let i=0;i<e.length;i++){Yt(t,e[i])}}function _t(t,e){for(let i=0;i<e.length;i++){qt(t,e[i])}}function Jt(t,e,i){t.splice(i,0,e)}function Xt(t,e,i){_t(t,e);e.slice().reverse().forEach((e=>Jt(t,e,i)))}function te(t,e){return t.indexOf(e)>-1}function ee(t){return t?.flatMap((t=>t))??[]}function ie(t,e){if(e==null||t==null){return}e.forEach((e=>t.push(e)))}var se="__ag_Grid_Stop_Propagation";var re=["touchstart","touchend","touchmove","touchcancel","scroll"];var oe={};function ne(t){t[se]=true}function ae(t){return t[se]===true}var le=(()=>{const t={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};const e=e=>{if(typeof oe[e]==="boolean"){return oe[e]}const i=document.createElement(t[e]||"div");e="on"+e;return oe[e]=e in i};return e})();function he(t,e,i){let s=e;while(s){const e=ct(t,s,i);if(e){return e}s=s.parentElement}return null}function ce(t,e){if(!e||!t){return false}return de(e).indexOf(t)>=0}function ue(t){const e=[];let i=t.target;while(i){e.push(i);i=i.parentElement}return e}function de(t){const e=t;if(e.path){return e.path}if(e.composedPath){return e.composedPath()}return ue(e)}function ge(t,e,i,s){const r=te(re,i);const o=r?{passive:true}:void 0;if(t&&t.addEventListener){t.addEventListener(e,i,s,o)}}var fe=class{constructor(){this.destroyFunctions=[];this.destroyed=false;this.__v_skip=true;this.propertyListenerId=0;this.lastChangeSetIdLookup={};this.isAlive=()=>!this.destroyed}preWireBeans(t){this.frameworkOverrides=t.frameworkOverrides;this.stubContext=t.context;this.eventService=t.eventService;this.gos=t.gos;this.localeService=t.localeService}getFrameworkOverrides(){return this.frameworkOverrides}destroy(){for(let t=0;t<this.destroyFunctions.length;t++){this.destroyFunctions[t]()}this.destroyFunctions.length=0;this.destroyed=true;this.dispatchLocalEvent({type:"destroyed"})}addEventListener(t,e,i){if(!this.localEventService){this.localEventService=new S}this.localEventService.addEventListener(t,e,i)}removeEventListener(t,e,i){if(this.localEventService){this.localEventService.removeEventListener(t,e,i)}}dispatchLocalEvent(t){if(this.localEventService){this.localEventService.dispatchEvent(t)}}addManagedElementListeners(t,e){return this._setupListeners(t,e)}addManagedEventListeners(t){return this._setupListeners(this.eventService,t)}addManagedListeners(t,e){return this._setupListeners(t,e)}_setupListeners(t,e){const i=[];for(const s in e){const r=e[s];if(r){i.push(this._setupListener(t,s,r))}}return i}_setupListener(t,e,i){if(this.destroyed){return()=>null}if(t instanceof HTMLElement){ge(this.getFrameworkOverrides(),t,e,i)}else{t.addEventListener(e,i)}const s=()=>{t.removeEventListener(e,i);return null};this.destroyFunctions.push(s);return()=>{s();this.destroyFunctions=this.destroyFunctions.filter((t=>t!==s));return null}}setupGridOptionListener(t,e){this.gos.addPropertyEventListener(t,e);const i=()=>{this.gos.removePropertyEventListener(t,e);return null};this.destroyFunctions.push(i);return()=>{i();this.destroyFunctions=this.destroyFunctions.filter((t=>t!==i));return null}}addManagedPropertyListener(t,e){if(this.destroyed){return()=>null}return this.setupGridOptionListener(t,e)}addManagedPropertyListeners(t,e){if(this.destroyed){return}const i=t.join("-")+this.propertyListenerId++;const s=t=>{if(t.changeSet){if(t.changeSet&&t.changeSet.id===this.lastChangeSetIdLookup[i]){return}this.lastChangeSetIdLookup[i]=t.changeSet.id}const s={type:"gridPropertyChanged",changeSet:t.changeSet,source:t.source};e(s)};t.forEach((t=>this.setupGridOptionListener(t,s)))}addDestroyFunc(t){if(this.isAlive()){this.destroyFunctions.push(t)}else{t()}}createManagedBean(t,e){const i=this.createBean(t,e);this.addDestroyFunc(this.destroyBean.bind(this,t,e));return i}createBean(t,e,i){return(e||this.stubContext).createBean(t,i)}destroyBean(t,e){return(e||this.stubContext).destroyBean(t)}destroyBeans(t,e){return(e||this.stubContext).destroyBeans(t)}};function pe(t){return t instanceof me}var me=class extends fe{constructor(t,e,i,s){super();this.isColumn=false;this.expandable=false;this.instanceId=Le();this.expandableListenerRemoveCallback=null;this.colGroupDef=t;this.groupId=e;this.expanded=!!t&&!!t.openByDefault;this.padding=i;this.level=s}destroy(){if(this.expandableListenerRemoveCallback){this.reset(null,void 0)}super.destroy()}reset(t,e){this.colGroupDef=t;this.level=e;this.originalParent=null;if(this.expandableListenerRemoveCallback){this.expandableListenerRemoveCallback()}this.children=void 0;this.expandable=void 0}getInstanceId(){return this.instanceId}setOriginalParent(t){this.originalParent=t}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){if(this.children){return this.children.some((t=>t.isVisible()))}return false}isPadding(){return this.padding}setExpanded(t){this.expanded=t===void 0?false:t;this.dispatchLocalEvent({type:"expandedChanged"})}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(t){this.children=t}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){const t=[];this.addLeafColumns(t);return t}addLeafColumns(t){if(!this.children){return}this.children.forEach((e=>{if(Ge(e)){t.push(e)}else if(pe(e)){e.addLeafColumns(t)}}))}getColumnGroupShow(){const t=this.colGroupDef;if(!t){return}return t.columnGroupShow}setupExpandable(){this.setExpandable();if(this.expandableListenerRemoveCallback){this.expandableListenerRemoveCallback()}const t=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach((e=>e.addEventListener("visibleChanged",t)));this.expandableListenerRemoveCallback=()=>{this.getLeafColumns().forEach((e=>e.removeEventListener("visibleChanged",t)));this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding()){return}let t=false;let e=false;let i=false;const s=this.findChildrenRemovingPadding();for(let r=0,o=s.length;r<o;r++){const o=s[r];if(!o.isVisible()){continue}const n=o.getColumnGroupShow();if(n==="open"){t=true;i=true}else if(n==="closed"){e=true;i=true}else{t=true;e=true}}const r=t&&e&&i;if(this.expandable!==r){this.expandable=r;this.dispatchLocalEvent({type:"expandableChanged"})}}findChildrenRemovingPadding(){const t=[];const e=i=>{i.forEach((i=>{const s=pe(i)&&i.isPadding();if(s){e(i.children)}else{t.push(i)}}))};e(this.children);return t}onColumnVisibilityChanged(){this.setExpandable()}};var ve="ag-Grid-ControlsColumn";var we=class extends fe{constructor(){super(...arguments);this.beanName="controlsColService"}isControlsColEnabled(){const{gos:t}=this;const e=t.get("rowSelection");if(!e||typeof e!=="object"){return false}const i=Mt(e);const s=Rt(e);return!!(i||s)}createControlsCols(){if(!this.isControlsColEnabled()){return[]}const{gos:t}=this;const e=t.get("selectionColumnDef");const i=t.get("enableRtl");const s={maxWidth:50,resizable:false,suppressHeaderMenuButton:true,sortable:false,suppressMovable:true,lockPosition:i?"right":"left",comparator(t,e,i,s){const r=i.isSelected();const o=s.isSelected();return r&&o?0:r?1:-1},editable:false,suppressFillHandle:true,...e,colId:`${ve}`};const r=new He(s,null,s.colId,false);this.createBean(r);return[r]}};var be="ag-Grid-AutoColumn";function ye(t){const e=[];const i=t=>{for(let s=0;s<t.length;s++){const r=t[s];if(Ge(r)){e.push(r)}else if(pe(r)){i(r.getChildren())}}};i(t);return e}function Ce(t){return t.reduce(((t,e)=>t+e.getActualWidth()),0)}function xe(t,e,i){const s={};if(!e){return}We(null,e,(t=>{s[t.getInstanceId()]=t}));if(i){We(null,i,(t=>{s[t.getInstanceId()]=null}))}const r=Object.values(s).filter((t=>t!=null));t.destroyBeans(r)}function ke(t){const e=t.getId();return e.startsWith(be)}function Se(t){return t.getColId().startsWith(ve)}function De(t){let e=[];if(t instanceof Array){const i=t.some((t=>typeof t!=="string"));if(i){P("if colDef.type is supplied an array it should be of type 'string[]'")}else{e=t}}else if(typeof t==="string"){e=t.split(",")}else{P("colDef.type should be of type 'string' | 'string[]'")}return e}var Me=class{constructor(t){this.frameworkOverrides=t;this.wrappedListeners=new Map;this.wrappedGlobalListeners=new Map}wrap(t,e){const{frameworkOverrides:i,wrappedListeners:s}=this;let r=e;if(i.shouldWrapOutgoing){r=t=>{i.wrapOutgoing((()=>e(t)))};let o=s.get(t);if(!o){o=new Map;s.set(t,o)}o.set(e,r)}return r}wrapGlobal(t){const{frameworkOverrides:e,wrappedGlobalListeners:i}=this;let s=t;if(e.shouldWrapOutgoing){s=(i,s)=>{e.wrapOutgoing((()=>t(i,s)))};i.set(t,s)}return s}unwrap(t,e){const{wrappedListeners:i}=this;const s=i.get(t);if(s){const r=s.get(e);if(r){s.delete(e);if(s.size===0){i.delete(t)}return r}}return e}unwrapGlobal(t){const{wrappedGlobalListeners:e}=this;const i=e.get(t);if(i){e.delete(t);return i}return t}};var Re=new Set(["__proto__","constructor","prototype"]);function Fe(t,e){if(t==null){return}if(Array.isArray(t)){for(let i=0;i<t.length;i++){e(i.toString(),t[i])}return}for(const[i,s]of Object.entries(t)){if(Re.has(i)){continue}e(i,s)}}function Pe(t){const e={};const i=Object.keys(t);for(let s=0;s<i.length;s++){if(Re.has(i[s])){continue}const r=i[s];const o=t[r];e[r]=o}return e}function ze(t,e){if(!t){return}const i=t;const s={};Object.keys(i).forEach((t=>{if(e&&e.indexOf(t)>=0||Re.has(t)){return}const r=i[t];const o=Ee(r)&&r.constructor===Object;if(o){s[t]=ze(r)}else{s[t]=r}}));return s}function Ie(t){if(!t){return[]}const e=Object;if(typeof e.values==="function"){return e.values(t)}const i=[];for(const e in t){if(t.hasOwnProperty(e)&&t.propertyIsEnumerable(e)){i.push(t[e])}}return i}function Te(t,e,i=true,s=false){if(!j(e)){return}Fe(e,((e,r)=>{if(Re.has(e)){return}let o=t[e];if(o===r){return}if(s){const i=o==null&&r!=null;if(i){const i=typeof r==="object"&&r.constructor===Object;const s=i;if(s){o={};t[e]=o}}}if(Ee(r)&&Ee(o)&&!Array.isArray(o)){Te(o,r,i,s)}else if(i||r!==void 0){t[e]=r}}))}function Ae(t,e,i){if(!e||!t){return}if(!i){return t[e]}const s=e.split(".");let r=t;for(let t=0;t<s.length;t++){if(r==null){return void 0}r=r[s[t]]}return r}function Ee(t){return typeof t==="object"&&t!==null}var Ne={resizable:true,sortable:true};var Oe=0;function Le(){return Oe++}function Ge(t){return t instanceof He}var He=class extends fe{constructor(t,e,i,s){super();this.isColumn=true;this.instanceId=Le();this.autoHeaderHeight=null;this.moving=false;this.menuVisible=false;this.lastLeftPinned=false;this.firstRightPinned=false;this.filterActive=false;this.columnEventService=new S;this.tooltipEnabled=false;this.rowGroupActive=false;this.pivotActive=false;this.aggregationActive=false;this.colDef=t;this.userProvidedColDef=e;this.colId=i;this.primary=s;this.setState(t)}wireBeans(t){this.columnHoverService=t.columnHoverService}getInstanceId(){return this.instanceId}setState(t){if(t.sort!==void 0){if(t.sort==="asc"||t.sort==="desc"){this.sort=t.sort}}else{if(t.initialSort==="asc"||t.initialSort==="desc"){this.sort=t.initialSort}}const e=t.sortIndex;const i=t.initialSortIndex;if(e!==void 0){if(e!==null){this.sortIndex=e}}else{if(i!==null){this.sortIndex=i}}const s=t.hide;const r=t.initialHide;if(s!==void 0){this.visible=!s}else{this.visible=!r}if(t.pinned!==void 0){this.setPinned(t.pinned)}else{this.setPinned(t.initialPinned)}const o=t.flex;const n=t.initialFlex;if(o!==void 0){this.flex=o}else if(n!==void 0){this.flex=n}}setColDef(t,e,i){this.colDef=t;this.userProvidedColDef=e;this.initMinAndMaxWidths();this.initDotNotation();this.initTooltip();this.columnEventService.dispatchEvent(this.createColumnEvent("colDefChanged",i))}getUserProvidedColDef(){return this.userProvidedColDef}setParent(t){this.parent=t}getParent(){return this.parent}setOriginalParent(t){this.originalParent=t}getOriginalParent(){return this.originalParent}postConstruct(){this.initMinAndMaxWidths();this.resetActualWidth("gridInitializing");this.initDotNotation();this.initTooltip()}initDotNotation(){const t=this.gos.get("suppressFieldDotNotation");this.fieldContainsDots=j(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!t;this.tooltipFieldContainsDots=j(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!t}initMinAndMaxWidths(){const t=this.colDef;this.minWidth=t.minWidth??this.gos.environment.getDefaultColumnMinWidth();this.maxWidth=t.maxWidth??Number.MAX_SAFE_INTEGER}initTooltip(){this.tooltipEnabled=j(this.colDef.tooltipField)||j(this.colDef.tooltipValueGetter)||j(this.colDef.tooltipComponent)}resetActualWidth(t){const e=this.calculateColInitialWidth(this.colDef);this.setActualWidth(e,t,true)}calculateColInitialWidth(t){let e;const i=Q(t.width);const s=Q(t.initialWidth);if(i!=null){e=i}else if(s!=null){e=s}else{e=200}return Math.max(Math.min(e,this.maxWidth),this.minWidth)}isEmptyGroup(){return false}isRowGroupDisplayed(t){if(W(this.colDef)||W(this.colDef.showRowGroup)){return false}const e=this.colDef.showRowGroup===true;const i=this.colDef.showRowGroup===t;return e||i}isPrimary(){return this.primary}isFilterAllowed(){const t=!!this.colDef.filter;return t}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}getHighlighted(){return this.highlighted}addEventListener(t,e){if(this.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService){this.columnEventService.setFrameworkOverrides(this.frameworkOverrides);this.frameworkEventListenerService=new Me(this.frameworkOverrides)}const i=this.frameworkEventListenerService?.wrap(t,e)??e;this.columnEventService.addEventListener(t,i)}removeEventListener(t,e){const i=this.frameworkEventListenerService?.unwrap(t,e)??e;this.columnEventService.removeEventListener(t,i)}createColumnFunctionCallbackParams(t){return this.gos.addGridCommonParams({node:t,data:t.data,column:this,colDef:this.colDef})}isSuppressNavigable(t){if(typeof this.colDef.suppressNavigable==="boolean"){return this.colDef.suppressNavigable}if(typeof this.colDef.suppressNavigable==="function"){const e=this.createColumnFunctionCallbackParams(t);const i=this.colDef.suppressNavigable;return i(e)}return false}isCellEditable(t){if(t.group){if(this.gos.get("treeData")){if(!t.data&&!this.gos.get("enableGroupEdit")){return false}}else{if(!this.gos.get("enableGroupEdit")){return false}}}return this.isColumnFunc(t,this.colDef.editable)}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(t){return this.isColumnFunc(t,this.colDef.rowDrag)}isDndSource(t){return this.isColumnFunc(t,this.colDef.dndSource)}isCellCheckboxSelection(t){const e=this.gos.get("rowSelection");if(e&&typeof e!=="string"){const i=Se(this)&&Mt(e);return this.isColumnFunc(t,i)}else{return this.isColumnFunc(t,this.colDef.checkboxSelection)}}isSuppressPaste(t){return this.isColumnFunc(t,this.colDef?this.colDef.suppressPaste:null)}isResizable(){return!!this.getColDefValue("resizable")}getColDefValue(t){return this.colDef[t]??Ne[t]}isColumnFunc(t,e){if(typeof e==="boolean"){return e}if(typeof e==="function"){const i=this.createColumnFunctionCallbackParams(t);const s=e;return s(i)}return false}setHighlighted(t){if(this.highlighted===t){return}this.highlighted=t;this.columnEventService.dispatchEvent(this.createColumnEvent("headerHighlightChanged","uiColumnMoved"))}setMoving(t,e){this.moving=t;this.columnEventService.dispatchEvent(this.createColumnEvent("movingChanged",e))}createColumnEvent(t,e){return this.gos.addGridCommonParams({type:t,column:this,columns:[this],source:e})}isMoving(){return this.moving}getSort(){return this.sort}setSort(t,e){if(this.sort!==t){this.sort=t;this.columnEventService.dispatchEvent(this.createColumnEvent("sortChanged",e))}this.dispatchStateUpdatedEvent("sort")}isSortable(){return!!this.getColDefValue("sortable")}isSortAscending(){return this.sort==="asc"}isSortDescending(){return this.sort==="desc"}isSortNone(){return W(this.sort)}isSorting(){return j(this.sort)}getSortIndex(){return this.sortIndex}setSortIndex(t){this.sortIndex=t;this.dispatchStateUpdatedEvent("sortIndex")}setMenuVisible(t,e){if(this.menuVisible!==t){this.menuVisible=t;this.columnEventService.dispatchEvent(this.createColumnEvent("menuVisibleChanged",e))}}isMenuVisible(){return this.menuVisible}setAggFunc(t){this.aggFunc=t;this.dispatchStateUpdatedEvent("aggFunc")}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(t,e){this.oldLeft=this.left;if(this.left!==t){this.left=t;this.columnEventService.dispatchEvent(this.createColumnEvent("leftChanged",e))}}isFilterActive(){return this.filterActive}setFilterActive(t,e,i){if(this.filterActive!==t){this.filterActive=t;this.columnEventService.dispatchEvent(this.createColumnEvent("filterActiveChanged",e))}const s=this.createColumnEvent("filterChanged",e);if(i){Te(s,i)}this.columnEventService.dispatchEvent(s)}isHovered(){return this.columnHoverService.isHovered(this)}setPinned(t){if(t===true||t==="left"){this.pinned="left"}else if(t==="right"){this.pinned="right"}else{this.pinned=null}this.dispatchStateUpdatedEvent("pinned")}setFirstRightPinned(t,e){if(this.firstRightPinned!==t){this.firstRightPinned=t;this.columnEventService.dispatchEvent(this.createColumnEvent("firstRightPinnedChanged",e))}}setLastLeftPinned(t,e){if(this.lastLeftPinned!==t){this.lastLeftPinned=t;this.columnEventService.dispatchEvent(this.createColumnEvent("lastLeftPinnedChanged",e))}}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return this.pinned==="left"||this.pinned==="right"}isPinnedLeft(){return this.pinned==="left"}isPinnedRight(){return this.pinned==="right"}getPinned(){return this.pinned}setVisible(t,e){const i=t===true;if(this.visible!==i){this.visible=i;this.columnEventService.dispatchEvent(this.createColumnEvent("visibleChanged",e))}this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){const t=this.getColDef();return!t.suppressSpanHeaderHeight}getColumnGroupPaddingInfo(){let t=this.getParent();if(!t||!t.isPadding()){return{numberOfParents:0,isSpanningTotal:false}}const e=t.getPaddingLevel()+1;let i=true;while(t){if(!t.isPadding()){i=false;break}t=t.getParent()}return{numberOfParents:e,isSpanningTotal:i}}getColDef(){return this.colDef}getDefinition(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(t){const e=t!==this.autoHeaderHeight;this.autoHeaderHeight=t;return e}createBaseColDefParams(t){const e=this.gos.addGridCommonParams({node:t,data:t.data,colDef:this.colDef,column:this});return e}getColSpan(t){if(W(this.colDef.colSpan)){return 1}const e=this.createBaseColDefParams(t);const i=this.colDef.colSpan(e);return Math.max(i,1)}getRowSpan(t){if(W(this.colDef.rowSpan)){return 1}const e=this.createBaseColDefParams(t);const i=this.colDef.rowSpan(e);return Math.max(i,1)}setActualWidth(t,e,i=false){t=Math.max(t,this.minWidth);t=Math.min(t,this.maxWidth);if(this.actualWidth!==t){this.actualWidth=t;if(this.flex&&e!=="flex"&&e!=="gridInitializing"){this.flex=null}if(!i){this.fireColumnWidthChangedEvent(e)}}this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(t){this.columnEventService.dispatchEvent(this.createColumnEvent("widthChanged",t))}isGreaterThanMax(t){return t>this.maxWidth}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex||0}setFlex(t){if(this.flex!==t){this.flex=t}this.dispatchStateUpdatedEvent("flex")}setMinimum(t){this.setActualWidth(this.minWidth,t)}setRowGroupActive(t,e){if(this.rowGroupActive!==t){this.rowGroupActive=t;this.columnEventService.dispatchEvent(this.createColumnEvent("columnRowGroupChanged",e))}this.dispatchStateUpdatedEvent("rowGroup")}isRowGroupActive(){return this.rowGroupActive}setPivotActive(t,e){if(this.pivotActive!==t){this.pivotActive=t;this.columnEventService.dispatchEvent(this.createColumnEvent("columnPivotChanged",e))}this.dispatchStateUpdatedEvent("pivot")}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}setValueActive(t,e){if(this.aggregationActive!==t){this.aggregationActive=t;this.columnEventService.dispatchEvent(this.createColumnEvent("columnValueChanged",e))}}isValueActive(){return this.aggregationActive}isAllowPivot(){return this.colDef.enablePivot===true}isAllowValue(){return this.colDef.enableValue===true}isAllowRowGroup(){return this.colDef.enableRowGroup===true}dispatchStateUpdatedEvent(t){this.columnEventService.dispatchEvent({type:"columnStateUpdated",key:t})}};var Be={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}};var Ve=class{constructor(){this.existingKeys={}}addExistingKeys(t){for(let e=0;e<t.length;e++){this.existingKeys[t[e]]=true}}getUniqueKey(t,e){t=$(t);let i=0;while(true){let s;if(t){s=t;if(i!==0){s+="_"+i}}else if(e){s=e;if(i!==0){s+="_"+i}}else{s=i}if(!this.existingKeys[s]){this.existingKeys[s]=true;return String(s)}i++}}};var je=class extends fe{constructor(){super(...arguments);this.beanName="columnFactory"}wireBeans(t){this.dataTypeService=t.dataTypeService}createColumnTree(t,e,i,s){const r=new Ve;const{existingCols:o,existingGroups:n,existingColKeys:a}=this.extractExistingTreeData(i);r.addExistingKeys(a);const l=this.recursivelyCreateColumns(t,0,e,o,r,n,s);const h=this.findMaxDept(l,0);const c=this.balanceColumnTree(l,0,h,r);const u=(t,e)=>{if(pe(t)){t.setupExpandable()}t.setOriginalParent(e)};We(null,c,u);return{columnTree:c,treeDept:h}}extractExistingTreeData(t){const e=[];const i=[];const s=[];if(t){We(null,t,(t=>{if(pe(t)){const e=t;i.push(e)}else{const i=t;s.push(i.getId());e.push(i)}}))}return{existingCols:e,existingGroups:i,existingColKeys:s}}balanceTreeForAutoCols(t,e){const i=[];const s=this.findDepth(e);t.forEach((t=>{let e=t;for(let i=s-1;i>=0;i--){const s=new me(null,`FAKE_PATH_${t.getId()}}_${i}`,true,i);this.createBean(s);s.setChildren([e]);e.setOriginalParent(s);e=s}if(s===0){t.setOriginalParent(null)}i.push(e)}));return[i,s]}findDepth(t){let e=0;let i=t;while(i&&i[0]&&pe(i[0])){e++;i=i[0].getChildren()}return e}balanceColumnTree(t,e,i,s){const r=[];for(let o=0;o<t.length;o++){const n=t[o];if(pe(n)){const t=n;const o=this.balanceColumnTree(t.getChildren(),e+1,i,s);t.setChildren(o);r.push(t)}else{let o;let a;for(let t=i-1;t>=e;t--){const t=s.getUniqueKey(null,null);const i=this.createMergedColGroupDef(null);const r=new me(i,t,true,e);this.createBean(r);if(a){a.setChildren([r])}a=r;if(!o){o=a}}if(o&&a){r.push(o);const e=t.some((t=>pe(t)));if(e){a.setChildren([n]);continue}else{a.setChildren(t);break}}r.push(n)}}return r}findMaxDept(t,e){let i=e;for(let s=0;s<t.length;s++){const r=t[s];if(pe(r)){const t=r;const s=this.findMaxDept(t.getChildren(),e+1);if(i<s){i=s}}}return i}recursivelyCreateColumns(t,e,i,s,r,o,n){if(!t)return[];const a=new Array(t.length);for(let l=0;l<a.length;l++){const h=t[l];if(this.isColumnGroup(h)){a[l]=this.createColumnGroup(i,h,e,s,r,o,n)}else{a[l]=this.createColumn(i,h,s,r,n)}}return a}createColumnGroup(t,e,i,s,r,o,n){const a=this.createMergedColGroupDef(e);const l=r.getUniqueKey(a.groupId||null,null);const h=new me(a,l,false,i);this.createBean(h);const c=this.findExistingGroup(e,o);if(c){o.splice(c.idx,1)}const u=c?.group;if(u){h.setExpanded(u.isExpanded())}const d=this.recursivelyCreateColumns(a.children,i+1,t,s,r,o,n);h.setChildren(d);return h}createMergedColGroupDef(t){const e={};Object.assign(e,this.gos.get("defaultColGroupDef"));Object.assign(e,t);return e}createColumn(t,e,i,s,r){const o=this.findExistingColumn(e,i);if(o){i?.splice(o.idx,1)}let n=o?.column;if(!n){const i=s.getUniqueKey(e.colId,e.field);const r=this.addColumnDefaultAndTypes(e,i);n=new He(r,e,i,t);this.createBean(n)}else{const t=this.addColumnDefaultAndTypes(e,n.getColId());n.setColDef(t,e,r);this.applyColumnState(n,t,r)}this.dataTypeService?.addColumnListeners(n);return n}applyColumnState(t,e,i){const s=Q(e.flex);if(s!==void 0){t.setFlex(s)}const r=t.getFlex()<=0;if(r){const s=Q(e.width);if(s!=null){t.setActualWidth(s,i)}else{const e=t.getActualWidth();t.setActualWidth(e,i)}}if(e.sort!==void 0){if(e.sort=="asc"||e.sort=="desc"){t.setSort(e.sort,i)}else{t.setSort(void 0,i)}}const o=Q(e.sortIndex);if(o!==void 0){t.setSortIndex(o)}const n=K(e.hide);if(n!==void 0){t.setVisible(!n,i)}if(e.pinned!==void 0){t.setPinned(e.pinned)}}findExistingColumn(t,e){if(!e)return void 0;for(let i=0;i<e.length;i++){const s=e[i].getUserProvidedColDef();if(!s)continue;const r=t.colId!=null;if(r){if(e[i].getId()===t.colId){return{idx:i,column:e[i]}}continue}const o=t.field!=null;if(o){if(s.field===t.field){return{idx:i,column:e[i]}}continue}if(s===t){return{idx:i,column:e[i]}}}return void 0}findExistingGroup(t,e){const i=t.groupId!=null;if(!i){return void 0}for(let i=0;i<e.length;i++){const s=e[i];const r=s.getColGroupDef();if(!r){continue}if(s.getId()===t.groupId){return{idx:i,group:s}}}return void 0}addColumnDefaultAndTypes(t,e){const i={};const s=this.gos.get("defaultColDef");Te(i,s,false,true);const r=this.updateColDefAndGetColumnType(i,t,e);if(r){this.assignColumnTypes(r,i)}Te(i,t,false,true);const o=this.gos.get("autoGroupColumnDef");const n=bt(this.gos);if(t.rowGroup&&o&&n){Te(i,{sort:o.sort,initialSort:o.initialSort},false,true)}this.dataTypeService?.validateColDef(i);return i}updateColDefAndGetColumnType(t,e,i){const s=this.dataTypeService?.updateColDefAndGetColumnType(t,e,i);const r=e.type??s??t.type;t.type=r;return r?De(r):void 0}assignColumnTypes(t,e){if(!t.length){return}const i=Object.assign({},Be);const s=this.gos.get("columnTypes")||{};Fe(s,((t,e)=>{if(t in i){P(`the column type '${t}' is a default column type and cannot be overridden.`)}else{const s=e;if(s.type){P(`Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type.`)}i[t]=e}}));t.forEach((t=>{const s=i[t.trim()];if(s){Te(e,s,false,true)}else{P("colDef.type '"+t+"' does not correspond to defined gridOptions.columnTypes")}}))}isColumnGroup(t){return t.children!==void 0}};function We(t,e,i){if(!e){return}for(let s=0;s<e.length;s++){const r=e[s];if(pe(r)){We(r,r.getChildren(),i)}i(r,t)}}var Ue=class extends fe{constructor(){super(...arguments);this.beanName="columnModel";this.pivotMode=false;this.autoHeightActiveAtLeastOnce=false;this.ready=false;this.changeEventsDispatching=false;this.shouldQueueResizeOperations=false;this.resizeOperationQueue=[]}wireBeans(t){this.context=t.context;this.ctrlsService=t.ctrlsService;this.columnFactory=t.columnFactory;this.columnSizeService=t.columnSizeService;this.visibleColsService=t.visibleColsService;this.columnViewportService=t.columnViewportService;this.pivotResultColsService=t.pivotResultColsService;this.columnAnimationService=t.columnAnimationService;this.autoColService=t.autoColService;this.controlsColService=t.controlsColService;this.valueCache=t.valueCache;this.columnDefFactory=t.columnDefFactory;this.columnApplyStateService=t.columnApplyStateService;this.columnGroupStateService=t.columnGroupStateService;this.eventDispatcher=t.columnEventDispatcher;this.columnMoveService=t.columnMoveService;this.columnAutosizeService=t.columnAutosizeService;this.funcColsService=t.funcColsService;this.quickFilterService=t.quickFilterService;this.showRowGroupColsService=t.showRowGroupColsService;this.environment=t.environment}postConstruct(){const t=this.gos.get("pivotMode");if(this.isPivotSettingAllowed(t)){this.pivotMode=t}this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents"],(t=>this.refreshAll($e(t.source))));this.addManagedPropertyListener("rowSelection",(t=>{this.onSelectionOptionsChanged(t.currentValue,t.previousValue,$e(t.source))}));this.addManagedPropertyListener("autoGroupColumnDef",(t=>this.onAutoGroupColumnDefChanged($e(t.source))));this.addManagedPropertyListeners(["defaultColDef","defaultColGroupDef","columnTypes","suppressFieldDotNotation"],(t=>this.recreateColumnDefs($e(t.source))));this.addManagedPropertyListener("pivotMode",(t=>this.setPivotMode(this.gos.get("pivotMode"),$e(t.source))));this.addManagedEventListeners({firstDataRendered:()=>this.onFirstDataRendered()})}createColsFromColDefs(t){const e=this.colDefs?this.columnApplyStateService.compareColumnStatesAndDispatchEvents(t):void 0;this.valueCache.expire();const i=this.colDefCols?.list;const s=this.colDefCols?.tree;const r=this.columnFactory.createColumnTree(this.colDefs,true,s,t);xe(this.context,this.colDefCols?.tree,r.columnTree);const o=r.columnTree;const n=r.treeDept;const a=ye(o);const l={};a.forEach((t=>l[t.getId()]=t));this.colDefCols={tree:o,treeDepth:n,list:a,map:l};this.funcColsService.extractCols(t,i);this.ready=true;this.refreshCols(true);this.visibleColsService.refresh(t);this.columnViewportService.checkViewportColumns();this.eventDispatcher.everythingChanged(t);if(e){this.changeEventsDispatching=true;e();this.changeEventsDispatching=false}this.eventDispatcher.newColumnsLoaded(t);if(t==="gridInitializing"){this.columnSizeService.applyAutosizeStrategy()}}refreshCols(t){if(!this.colDefCols){return}const e=this.cols?.tree;this.saveColOrder();this.selectCols();this.createAutoCols();this.addAutoCols();this.createControlsCols();this.addControlsCols();const i=ot(this.gos,this.showingPivotResult);if(!t||i){this.restoreColOrder()}this.positionLockedCols();this.showRowGroupColsService?.refresh();this.quickFilterService?.refreshQuickFilterCols();this.setColSpanActive();this.setAutoHeightActive();this.visibleColsService.clear();this.columnViewportService.clear();const s=!Qt(e,this.cols.tree);if(s){this.eventDispatcher.gridColumns()}}selectCols(){const t=this.pivotResultColsService.getPivotResultCols();this.showingPivotResult=t!=null;if(t){const{map:e,list:i,tree:s,treeDepth:r}=t;this.cols={list:i.slice(),map:{...e},tree:s.slice(),treeDepth:r};const o=t.list.some((t=>this.cols?.map[t.getColId()]!==void 0));if(!o){this.lastPivotOrder=null}}else{const{map:t,list:e,tree:i,treeDepth:s}=this.colDefCols;this.cols={list:e.slice(),map:{...t},tree:i.slice(),treeDepth:s}}}getColsToShow(){const t=this.isPivotMode()&&!this.isShowingPivotResult();const e=this.funcColsService.getValueColumns();const i=this.controlsColService?.isControlsColEnabled();const s=this.cols.list.filter((s=>{const r=ke(s);if(t){const t=e&&te(e,s);return r||t||i&&Se(s)}else{return r||s.isVisible()}}));return s}addAutoCols(){if(this.autoCols==null){return}this.cols.list=this.autoCols.list.concat(this.cols.list);this.cols.tree=this.autoCols.tree.concat(this.cols.tree);Qe(this.cols)}createAutoCols(){const t=St(this.gos,this.pivotMode);const e=this.pivotMode?this.gos.get("pivotSuppressAutoColumn"):this.isSuppressAutoCol();const i=this.funcColsService.getRowGroupColumns();const s=i.length>0||this.gos.get("treeData");const r=!s||e||t;const o=()=>{if(this.autoCols){xe(this.context,this.autoCols.tree);this.autoCols=null}};if(r||!this.autoColService){o();return}const n=this.autoColService.createAutoCols(i)??[];const a=Ye(n,this.autoCols?.list||null);const l=this.cols.treeDepth;const h=this.autoCols?this.autoCols.treeDepth:-1;const c=h==l;if(a&&c){return}o();const[u,d]=this.columnFactory.balanceTreeForAutoCols(n,this.cols.tree);this.autoCols={list:n,tree:u,treeDepth:d,map:{}};const g=t=>{if(!t){return null}const e=t.filter((t=>!ke(t)));return[...n,...e]};this.lastOrder=g(this.lastOrder);this.lastPivotOrder=g(this.lastPivotOrder)}createControlsCols(){const t=()=>{xe(this.context,this.controlsCols?.tree);this.controlsCols=null};if(!this.controlsColService){t()}const e=this.cols.treeDepth;const i=this.controlsCols?.treeDepth??-1;const s=i==e;const r=this.controlsColService?.createControlsCols()??[];const o=Ye(r,this.controlsCols?.list??[]);if(o&&s){return}t();const[n,a]=this.columnFactory.balanceTreeForAutoCols(r,this.cols.tree);this.controlsCols={list:r,tree:n,treeDepth:a,map:{}};const l=t=>{if(!t){return null}const e=t.filter((t=>!Se(t)));return[...r,...e]};this.lastOrder=l(this.lastOrder);this.lastPivotOrder=l(this.lastPivotOrder)}addControlsCols(){if(this.controlsCols==null){return}this.cols.list=this.controlsCols.list.concat(this.cols.list);this.cols.tree=this.controlsCols.tree.concat(this.cols.tree);Qe(this.cols)}refreshAll(t){if(!this.isReady()){return}this.refreshCols(false);this.visibleColsService.refresh(t)}setColsVisible(t,e=false,i){this.columnApplyStateService.applyColumnState({state:t.map((t=>({colId:typeof t==="string"?t:t.getColId(),hide:!e})))},i)}setColsPinned(t,e,i){if(!this.cols){return}if(U(t)){return}if(et(this.gos,"print")){P(`Changing the column pinning status is not allowed with domLayout='print'`);return}this.columnAnimationService.start();let s;if(e===true||e==="left"){s="left"}else if(e==="right"){s="right"}else{s=null}const r=[];t.forEach((t=>{if(!t){return}const e=this.getCol(t);if(!e){return}if(e.getPinned()!==s){e.setPinned(s);r.push(e)}}));if(r.length){this.visibleColsService.refresh(i);this.eventDispatcher.columnPinned(r,i)}this.columnAnimationService.finish()}setColumnGroupOpened(t,e,i){let s;if(pe(t)){s=t.getId()}else{s=t||""}this.columnGroupStateService.setColumnGroupState([{groupId:s,open:e}],i)}getProvidedColGroup(t){let e=null;We(null,this.cols?.tree,(i=>{if(pe(i)){if(i.getId()===t){e=i}}}));return e}isColGroupLocked(t){const e=this.gos.get("groupLockGroupColumns");if(!t.isRowGroupActive()||e===0){return false}if(e===-1){return true}const i=this.funcColsService.getRowGroupColumns();const s=i.findIndex((e=>e.getColId()===t.getColId()));return e>s}isSuppressAutoCol(){const t=this.gos.get("groupDisplayType");const e=t==="custom";if(e){return true}const i=this.gos.get("treeDataDisplayType");return i==="custom"}setAutoHeightActive(){this.autoHeightActive=this.cols.list.some((t=>t.isVisible()&&t.isAutoHeight()));if(this.autoHeightActive){this.autoHeightActiveAtLeastOnce=true;const t=X(this.gos)||tt(this.gos);if(!t){P("autoHeight columns only work with Client Side Row Model and Server Side Row Model.")}}}restoreColOrder(){const t=this.showingPivotResult?this.lastPivotOrder:this.lastOrder;if(!t){return}const e=new Map(t.map(((t,e)=>[t,e])));const i=!this.cols.list.some((t=>e.has(t)));if(i){return}const s=new Map(this.cols.list.map((t=>[t,true])));const r=t.filter((t=>s.has(t)));const o=new Map(r.map((t=>[t,true])));const n=this.cols.list.filter((t=>!o.has(t)));const a=r.slice();n.forEach((t=>{let e=t.getOriginalParent();if(!e){a.push(t);return}const i=[];while(!i.length&&e){const t=e.getLeafColumns();t.forEach((t=>{const e=a.indexOf(t)>=0;const s=i.indexOf(t)<0;if(e&&s){i.push(t)}}));e=e.getOriginalParent()}if(!i.length){a.push(t);return}const s=i.map((t=>a.indexOf(t)));const r=Math.max(...s);Jt(a,t,r+1)}));this.cols.list=a}sortColsLikeKeys(t){if(this.cols==null){return}let e=[];const i={};t.forEach((t=>{if(i[t]){return}const s=this.cols.map[t];if(s){e.push(s);i[t]=true}}));let s=0;this.cols.list.forEach((t=>{const r=t.getColId();const o=i[r]!=null;if(o){return}const n=r.startsWith(be);if(n){Jt(e,t,s++)}else{e.push(t)}}));e=this.columnMoveService.placeLockedColumns(e);if(!this.columnMoveService.doesMovePassMarryChildren(e)){P("Applying column order broke a group where columns should be married together. Applying new order has been discarded.");return}this.cols.list=e}sortColsLikeCols(t){if(!t||t.length<=1){return}const e=t.filter((t=>this.cols.list.indexOf(t)<0)).length>0;if(e){return}t.sort(((t,e)=>{const i=this.cols.list.indexOf(t);const s=this.cols.list.indexOf(e);return i-s}))}resetColDefIntoCol(t,e){const i=t.getUserProvidedColDef();if(!i){return false}const s=this.columnFactory.addColumnDefaultAndTypes(i,t.getColId());t.setColDef(s,i,e);return true}queueResizeOperations(){this.shouldQueueResizeOperations=true}isShouldQueueResizeOperations(){return this.shouldQueueResizeOperations}processResizeOperations(){this.shouldQueueResizeOperations=false;this.resizeOperationQueue.forEach((t=>t()));this.resizeOperationQueue=[]}pushResizeOperation(t){this.resizeOperationQueue.push(t)}moveInCols(t,e,i){Xt(this.cols?.list,t,e);this.visibleColsService.refresh(i)}positionLockedCols(){this.cols.list=this.columnMoveService.placeLockedColumns(this.cols.list)}saveColOrder(){if(this.showingPivotResult){this.lastPivotOrder=this.cols?.list}else{this.lastOrder=this.cols?.list}}getColumnDefs(){if(!this.colDefCols){return}const t=this.colDefCols.list.slice();if(this.showingPivotResult){t.sort(((t,e)=>this.lastOrder.indexOf(t)-this.lastOrder.indexOf(e)))}else if(this.lastOrder){t.sort(((t,e)=>this.cols.list.indexOf(t)-this.cols.list.indexOf(e)))}const e=this.funcColsService.getRowGroupColumns();const i=this.funcColsService.getPivotColumns();return this.columnDefFactory.buildColumnDefs(t,e,i)}isShowingPivotResult(){return this.showingPivotResult}isChangeEventsDispatching(){return this.changeEventsDispatching}isColSpanActive(){return this.colSpanActive}isProvidedColGroupsPresent(){return this.colDefCols?.treeDepth>0}setColSpanActive(){this.colSpanActive=this.cols.list.some((t=>t.getColDef().colSpan!=null))}isAutoRowHeightActive(){return this.autoHeightActive}wasAutoRowHeightEverActive(){return this.autoHeightActiveAtLeastOnce}getHeaderRowCount(){return this.cols?this.cols.treeDepth+1:-1}isReady(){return this.ready}isPivotMode(){return this.pivotMode}setPivotMode(t,e){if(t===this.pivotMode||!this.isPivotSettingAllowed(this.pivotMode)){return}this.pivotMode=t;if(!this.ready){return}this.refreshCols(false);this.visibleColsService.refresh(e);this.eventDispatcher.pivotModeChanged()}isPivotSettingAllowed(t){if(t&&this.gos.get("treeData")){P("Pivot mode not available with treeData.");return false}return true}isPivotActive(){const t=this.funcColsService.getPivotColumns();return this.pivotMode&&!U(t)}recreateColumnDefs(t){if(!this.cols){return}if(this.autoCols){this.autoColService.updateAutoCols(this.autoCols.list,t)}this.createColsFromColDefs(t)}setColumnDefs(t,e){this.colDefs=t;this.createColsFromColDefs(e)}destroy(){xe(this.context,this.colDefCols?.tree);xe(this.context,this.autoCols?.tree);xe(this.context,this.controlsCols?.tree);super.destroy()}getColTree(){return this.cols.tree}getColDefColTree(){return this.colDefCols.tree}getColDefCols(){return this.colDefCols?.list?this.colDefCols.list:null}getCols(){return this.cols?.list??[]}getAllCols(){const t=this.pivotResultColsService.getPivotResultCols();const e=t?.list;return[this.colDefCols?.list??[],this.autoCols?.list??[],this.controlsCols?.list??[],e??[]].flat()}getColsForKeys(t){if(!t){return[]}return t.map((t=>this.getCol(t))).filter((t=>t!=null))}getColDefCol(t){if(!this.colDefCols?.list){return null}return this.getColFromCollection(t,this.colDefCols)}getCol(t){if(t==null){return null}return this.getColFromCollection(t,this.cols)}getColFromCollection(t,e){if(e==null){return null}const{map:i,list:s}=e;if(typeof t=="string"&&i[t]){return i[t]}for(let e=0;e<s.length;e++){if(Ke(s[e],t)){return s[e]}}return this.getAutoCol(t)}getAutoCol(t){return this.autoCols?.list.find((e=>Ke(e,t)))??null}getAutoCols(){return this.autoCols?.list??null}setColHeaderHeight(t,e){const i=t.setAutoHeaderHeight(e);if(i){if(t.isColumn){this.eventDispatcher.headerHeight(t)}else{this.eventDispatcher.groupHeaderHeight(t)}}}getGroupRowsHeight(){const t=[];const e=this.ctrlsService.getHeaderRowContainerCtrls();for(const i of e){if(!i){continue}const e=i.getGroupRowCount()||0;for(let s=0;s<e;s++){const e=i.getGroupRowCtrlAtIndex(s);const r=t[s];if(e){const i=this.getColumnGroupHeaderRowHeight(e);if(r==null||i>r){t[s]=i}}}}return t}getColumnGroupHeaderRowHeight(t){const e=this.isPivotMode()?this.getPivotGroupHeaderHeight():this.getGroupHeaderHeight();let i=0;const s=t.getHeaderCtrls();for(const t of s){const e=t.getColumn();if(e.isAutoHeaderHeight()){const t=e.getAutoHeaderHeight();if(t!=null&&t>i){i=t}}}return Math.max(e,i)}getColumnHeaderRowHeight(){const t=this.isPivotMode()?this.getPivotHeaderHeight():this.getHeaderHeight();const e=this.visibleColsService.getAllCols();const i=e.filter((t=>t.isAutoHeaderHeight())).map((t=>t.getAutoHeaderHeight()||0));return Math.max(t,...i)}getHeaderHeight(){return this.gos.get("headerHeight")??this.environment.getDefaultHeaderHeight()}getFloatingFiltersHeight(){return this.gos.get("floatingFiltersHeight")??this.getHeaderHeight()}getGroupHeaderHeight(){return this.gos.get("groupHeaderHeight")??this.getHeaderHeight()}getPivotHeaderHeight(){return this.gos.get("pivotHeaderHeight")??this.getHeaderHeight()}getPivotGroupHeaderHeight(){return this.gos.get("pivotGroupHeaderHeight")??this.getGroupHeaderHeight()}onFirstDataRendered(){const t=this.gos.get("autoSizeStrategy");if(t?.type!=="fitCellContents"){return}const{colIds:e,skipHeader:i}=t;setTimeout((()=>{if(e){this.columnAutosizeService.autoSizeCols({colKeys:e,skipHeader:i,source:"autosizeColumns"})}else{this.columnAutosizeService.autoSizeAllColumns("autosizeColumns",i)}}))}onAutoGroupColumnDefChanged(t){if(this.autoCols){this.autoColService.updateAutoCols(this.autoCols.list,t)}}onSelectionOptionsChanged(t,e,i){const s=e&&typeof e!=="string"?Mt(e):void 0;const r=t&&typeof t!=="string"?Mt(t):void 0;const o=s!==r;const n=e&&typeof e!=="string"?Rt(e):void 0;const a=t&&typeof t!=="string"?Rt(t):void 0;const l=n!==a;if(o||l){this.refreshAll(i)}}};function $e(t){return t==="gridOptionsUpdated"?"gridOptionsChanged":t}function Qe(t){t.map={};t.list.forEach((e=>t.map[e.getId()]=e))}function Ke(t,e){const i=t===e;const s=t.getColDef()===e;const r=t.getColId()==e;return i||s||r}function Ye(t,e){return Qt(t,e,((t,e)=>t.getColId()===e.getColId()))}var qe=class extends fe{constructor(){super(...arguments);this.beanName="columnAutosizeService";this.timesDelayed=0}wireBeans(t){this.columnModel=t.columnModel;this.visibleColsService=t.visibleColsService;this.animationFrameService=t.animationFrameService;this.autoWidthCalculator=t.autoWidthCalculator;this.eventDispatcher=t.columnEventDispatcher;this.ctrlsService=t.ctrlsService;this.renderStatusService=t.renderStatusService}autoSizeCols(t){if(this.columnModel.isShouldQueueResizeOperations()){this.columnModel.pushResizeOperation((()=>this.autoSizeCols(t)));return}const{colKeys:e,skipHeader:i,skipHeaderGroups:s,stopAtGroup:r,source:o="api"}=t;this.animationFrameService.flushAllFrames();if(this.timesDelayed<5&&this.renderStatusService&&!this.renderStatusService.areHeaderCellsRendered()){this.timesDelayed++;setTimeout((()=>this.autoSizeCols(t)));return}this.timesDelayed=0;const n=[];let a=-1;const l=i!=null?i:this.gos.get("skipHeaderOnAutoSize");const h=s!=null?s:l;while(a!==0){a=0;const t=[];e.forEach((e=>{if(!e){return}const i=this.columnModel.getCol(e);if(!i){return}if(n.indexOf(i)>=0){return}const s=this.autoWidthCalculator.getPreferredWidthForColumn(i,l);if(s>0){const t=this.normaliseColumnWidth(i,s);i.setActualWidth(t,o);n.push(i);a++}t.push(i)}));if(!t.length){continue}this.visibleColsService.refresh(o)}if(!h){this.autoSizeColumnGroupsByColumns(e,o,r)}this.eventDispatcher.columnResized(n,true,"autosizeColumns")}autoSizeColumn(t,e,i){if(t){this.autoSizeCols({colKeys:[t],skipHeader:i,skipHeaderGroups:true,source:e})}}autoSizeColumnGroupsByColumns(t,e,i){const s=new Set;const r=this.columnModel.getColsForKeys(t);r.forEach((t=>{let e=t.getParent();while(e&&e!=i){if(!e.isPadding()){s.add(e)}e=e.getParent()}}));let o;const n=[];for(const t of s){for(const e of this.ctrlsService.getHeaderRowContainerCtrls()){o=e.getHeaderCtrlForColumn(t);if(o){break}}if(o){o.resizeLeafColumnsToFit(e)}}return n}autoSizeAllColumns(t,e){if(this.columnModel.isShouldQueueResizeOperations()){this.columnModel.pushResizeOperation((()=>this.autoSizeAllColumns(t,e)));return}const i=this.visibleColsService.getAllCols();this.autoSizeCols({colKeys:i,skipHeader:e,source:t})}normaliseColumnWidth(t,e){const i=t.getMinWidth();if(e<i){e=i}const s=t.getMaxWidth();if(t.isGreaterThanMax(e)){e=s}return e}};var Ze=class extends fe{constructor(){super(...arguments);this.beanName="funcColsService";this.rowGroupCols=[];this.valueCols=[];this.pivotCols=[]}wireBeans(t){this.columnModel=t.columnModel;this.eventDispatcher=t.columnEventDispatcher;this.aggFuncService=t.aggFuncService;this.visibleColsService=t.visibleColsService}getModifyColumnsNoEventsCallbacks(){return{addGroupCol:t=>this.rowGroupCols.push(t),removeGroupCol:t=>qt(this.rowGroupCols,t),addPivotCol:t=>this.pivotCols.push(t),removePivotCol:t=>qt(this.pivotCols,t),addValueCol:t=>this.valueCols.push(t),removeValueCol:t=>qt(this.valueCols,t)}}getSourceColumnsForGroupColumn(t){const e=t.getColDef().showRowGroup;if(!e){return null}if(e===true){return this.rowGroupCols.slice(0)}const i=this.columnModel.getColDefCol(e);return i?[i]:null}sortRowGroupColumns(t){this.rowGroupCols.sort(t)}sortPivotColumns(t){this.pivotCols.sort(t)}getValueColumns(){return this.valueCols?this.valueCols:[]}getPivotColumns(){return this.pivotCols?this.pivotCols:[]}getRowGroupColumns(){return this.rowGroupCols?this.rowGroupCols:[]}isRowGroupEmpty(){return U(this.rowGroupCols)}setColumnAggFunc(t,e,i){if(!t){return}const s=this.columnModel.getColDefCol(t);if(!s){return}s.setAggFunc(e);this.eventDispatcher.columnChanged("columnValueChanged",[s],i)}setRowGroupColumns(t,e){this.setColList(t,this.rowGroupCols,"columnRowGroupChanged",true,true,((t,i)=>this.setRowGroupActive(t,i,e)),e)}setRowGroupActive(t,e,i){if(t===e.isRowGroupActive()){return}e.setRowGroupActive(t,i);if(t&&!this.gos.get("suppressRowGroupHidesColumns")){this.columnModel.setColsVisible([e],false,i)}if(!t&&!this.gos.get("suppressMakeColumnVisibleAfterUnGroup")){this.columnModel.setColsVisible([e],true,i)}}addRowGroupColumns(t,e){this.updateColList(t,this.rowGroupCols,true,true,(t=>this.setRowGroupActive(true,t,e)),"columnRowGroupChanged",e)}removeRowGroupColumns(t,e){this.updateColList(t,this.rowGroupCols,false,true,(t=>this.setRowGroupActive(false,t,e)),"columnRowGroupChanged",e)}addPivotColumns(t,e){this.updateColList(t,this.pivotCols,true,false,(t=>t.setPivotActive(true,e)),"columnPivotChanged",e)}setPivotColumns(t,e){this.setColList(t,this.pivotCols,"columnPivotChanged",true,false,((t,i)=>{i.setPivotActive(t,e)}),e)}removePivotColumns(t,e){this.updateColList(t,this.pivotCols,false,false,(t=>t.setPivotActive(false,e)),"columnPivotChanged",e)}setValueColumns(t,e){this.setColList(t,this.valueCols,"columnValueChanged",false,false,((t,i)=>this.setValueActive(t,i,e)),e)}setValueActive(t,e,i){if(t===e.isValueActive()){return}e.setValueActive(t,i);if(t&&!e.getAggFunc()&&this.aggFuncService){const t=this.aggFuncService.getDefaultAggFunc(e);e.setAggFunc(t)}}addValueColumns(t,e){this.updateColList(t,this.valueCols,true,false,(t=>this.setValueActive(true,t,e)),"columnValueChanged",e)}removeValueColumns(t,e){this.updateColList(t,this.valueCols,false,false,(t=>this.setValueActive(false,t,e)),"columnValueChanged",e)}moveRowGroupColumn(t,e,i){if(this.isRowGroupEmpty()){return}const s=this.rowGroupCols[t];const r=this.rowGroupCols.slice(t,e);this.rowGroupCols.splice(t,1);this.rowGroupCols.splice(e,0,s);this.eventDispatcher.rowGroupChanged(r,i)}setColList(t,e,i,s,r,o,n){if(!this.columnModel.getCols()){return}const a=new Map;e.forEach(((t,e)=>a.set(t,e)));e.length=0;if(j(t)){t.forEach((t=>{const i=this.columnModel.getColDefCol(t);if(i){e.push(i)}}))}e.forEach(((t,e)=>{const i=a.get(t);if(i===void 0){a.set(t,0);return}if(s&&i!==e){return}a.delete(t)}));const l=this.columnModel.getColDefCols();(l||[]).forEach((t=>{const i=e.indexOf(t)>=0;o(i,t)}));r&&this.columnModel.refreshCols(false);this.visibleColsService.refresh(n);this.eventDispatcher.columnChanged(i,[...a.keys()],n)}updateColList(t,e,i,s,r,o,n){if(!t||U(t)){return}let a=false;const l=new Set;t.forEach((t=>{if(!t){return}const s=this.columnModel.getColDefCol(t);if(!s){return}l.add(s);if(i){if(e.indexOf(s)>=0){return}e.push(s)}else{const t=e.indexOf(s);if(t<0){return}for(let i=t+1;i<e.length;i++){l.add(e[i])}qt(e,s)}r(s);a=true}));if(!a){return}if(s){this.columnModel.refreshCols(false)}this.visibleColsService.refresh(n);this.eventDispatcher.genericColumnEvent(o,Array.from(l),n)}extractCols(t,e){this.extractRowGroupCols(t,e);this.extractPivotCols(t,e);this.extractValueCols(t,e)}extractValueCols(t,e){this.valueCols=this.extractColsCommon(e,this.valueCols,((e,i)=>e.setValueActive(i,t)),(()=>void 0),(()=>void 0),(t=>{const e=t.aggFunc;if(e===null||e===""){return null}if(e===void 0){return}return!!e}),(t=>t.initialAggFunc!=null&&t.initialAggFunc!=""));this.valueCols.forEach((t=>{const e=t.getColDef();if(e.aggFunc!=null&&e.aggFunc!=""){t.setAggFunc(e.aggFunc)}else{if(!t.getAggFunc()){t.setAggFunc(e.initialAggFunc)}}}))}extractRowGroupCols(t,e){this.rowGroupCols=this.extractColsCommon(e,this.rowGroupCols,((e,i)=>e.setRowGroupActive(i,t)),(t=>t.rowGroupIndex),(t=>t.initialRowGroupIndex),(t=>t.rowGroup),(t=>t.initialRowGroup))}extractPivotCols(t,e){this.pivotCols=this.extractColsCommon(e,this.pivotCols,((e,i)=>e.setPivotActive(i,t)),(t=>t.pivotIndex),(t=>t.initialPivotIndex),(t=>t.pivot),(t=>t.initialPivot))}extractColsCommon(t=[],e=[],i,s,r,o,n){const a=[];const l=[];const h=this.columnModel.getColDefCols()||[];h.forEach((i=>{const h=t.indexOf(i)<0;const c=i.getColDef();const u=K(o(c));const d=K(n(c));const g=Q(s(c));const f=Q(r(c));let p;const m=u!==void 0;const v=g!==void 0;const w=d!==void 0;const b=f!==void 0;if(m){p=u}else if(v){if(g===null){p=false}else{p=g>=0}}else{if(h){if(w){p=d}else if(b){p=f!=null&&f>=0}else{p=false}}else{p=e.indexOf(i)>=0}}if(p){const t=h?g!=null||f!=null:g!=null;t?a.push(i):l.push(i)}}));const c=t=>{const e=s(t.getColDef());const i=r(t.getColDef());return e!=null?e:i};a.sort(((t,e)=>{const i=c(t);const s=c(e);if(i===s){return 0}if(i<s){return-1}return 1}));const u=[].concat(a);e.forEach((t=>{if(l.indexOf(t)>=0){u.push(t)}}));l.forEach((t=>{if(u.indexOf(t)<0){u.push(t)}}));e.forEach((t=>{if(u.indexOf(t)<0){i(t,false)}}));u.forEach((t=>{if(e.indexOf(t)<0){i(t,true)}}));return u}generateColumnStateForRowGroupAndPivotIndexes(t,e){const i={};const s=(t,e,s,r,o,n)=>{const a=this.columnModel.getColDefCols();if(!e.length||!a){return[]}const l=Object.keys(t);const h=new Set(l);const c=new Set(l);const u=new Set(e.map((t=>{const e=t.getColId();c.delete(e);return e})).concat(l));const d=[];const g={};let f=0;for(let t=0;t<a.length;t++){const e=a[t].getColId();if(u.has(e)){d.push(e);g[e]=f++}}let p=1e3;let m=false;let v=0;const w=e=>{const i=g[e];for(let e=v;e<i;e++){const i=d[e];if(c.has(i)){t[i][o]=p++;c.delete(i)}}v=i};e.forEach((e=>{const a=e.getColId();if(h.has(a)){w(a);t[a][o]=p++}else{const l=e.getColDef();const h=l[o]===null||l[o]===void 0&&l[n]==null;if(h){if(!m){const e=l[s]||l[s]===void 0&&l[r];if(e){w(a)}else{c.forEach((e=>{t[e][o]=p+g[e]}));p+=d.length;m=true}}if(!i[a]){i[a]={colId:a}}i[a][o]=p++}}}))};s(t,this.rowGroupCols,"rowGroup","initialRowGroup","rowGroupIndex","initialRowGroupIndex");s(e,this.pivotCols,"pivot","initialPivot","pivotIndex","initialPivotIndex");return Object.values(i)}};var _e=class extends fe{constructor(){super(...arguments);this.beanName="columnApplyStateService"}wireBeans(t){this.columnModel=t.columnModel;this.eventDispatcher=t.columnEventDispatcher;this.sortController=t.sortController;this.columnGetStateService=t.columnGetStateService;this.funcColsService=t.funcColsService;this.visibleColsService=t.visibleColsService;this.columnAnimationService=t.columnAnimationService;this.pivotResultColsService=t.pivotResultColsService}applyColumnState(t,e){const i=this.columnModel.getColDefCols()||[];if(U(i)){return false}if(t&&t.state&&!t.state.forEach){P("applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state.");return false}const s=this.funcColsService.getModifyColumnsNoEventsCallbacks();const r=(i,r,o)=>{const n=this.compareColumnStatesAndDispatchEvents(e);const a=r.slice();const l={};const h={};const c=[];const u=[];let d=0;const g=this.funcColsService.getRowGroupColumns().slice();const f=this.funcColsService.getPivotColumns().slice();i.forEach((i=>{const r=i.colId||"";const n=r.startsWith(be);if(n){c.push(i);u.push(i);return}const g=o(r);if(!g){u.push(i);d+=1}else{this.syncColumnWithStateItem(g,i,t.defaultState,l,h,false,e,s);qt(a,g)}}));const p=i=>this.syncColumnWithStateItem(i,null,t.defaultState,l,h,false,e,s);a.forEach(p);this.funcColsService.sortRowGroupColumns(Je.bind(this,l,g));this.funcColsService.sortPivotColumns(Je.bind(this,h,f));this.columnModel.refreshCols(false);const m=this.columnModel.getAutoCols()||[];const v=m.slice();c.forEach((i=>{const r=this.columnModel.getAutoCol(i.colId);qt(v,r);this.syncColumnWithStateItem(r,i,t.defaultState,null,null,true,e,s)}));v.forEach(p);this.orderLiveColsLikeState(t);this.visibleColsService.refresh(e);this.eventDispatcher.everythingChanged(e);n();return{unmatchedAndAutoStates:u,unmatchedCount:d}};this.columnAnimationService.start();let{unmatchedAndAutoStates:o,unmatchedCount:n}=r(t.state||[],i,(t=>this.columnModel.getColDefCol(t)));if(o.length>0||j(t.defaultState)){const t=this.pivotResultColsService.getPivotResultCols();const e=t?.list;n=r(o,e||[],(t=>this.pivotResultColsService.getPivotResultCol(t))).unmatchedCount}this.columnAnimationService.finish();return n===0}resetColumnState(t){const e=this.columnModel.getColDefCols();if(U(e)){return}const i=this.columnModel.getColDefColTree();const s=ye(i);const r=[];let o=1e3;let n=1e3;let a=[];const l=this.columnModel.getAutoCols();if(l){a=a.concat(l)}if(s){a=a.concat(s)}a.forEach((t=>{const e=this.getColumnStateFromColDef(t);if(W(e.rowGroupIndex)&&e.rowGroup){e.rowGroupIndex=o++}if(W(e.pivotIndex)&&e.pivot){e.pivotIndex=n++}r.push(e)}));this.applyColumnState({state:r,applyOrder:true},t)}getColumnStateFromColDef(t){const e=(t,e)=>t!=null?t:e!=null?e:null;const i=t.getColDef();const s=e(i.sort,i.initialSort);const r=e(i.sortIndex,i.initialSortIndex);const o=e(i.hide,i.initialHide);const n=e(i.pinned,i.initialPinned);const a=e(i.width,i.initialWidth);const l=e(i.flex,i.initialFlex);let h=e(i.rowGroupIndex,i.initialRowGroupIndex);let c=e(i.rowGroup,i.initialRowGroup);if(h==null&&(c==null||c==false)){h=null;c=null}let u=e(i.pivotIndex,i.initialPivotIndex);let d=e(i.pivot,i.initialPivot);if(u==null&&(d==null||d==false)){u=null;d=null}const g=e(i.aggFunc,i.initialAggFunc);return{colId:t.getColId(),sort:s,sortIndex:r,hide:o,pinned:n,width:a,flex:l,rowGroup:c,rowGroupIndex:h,pivot:d,pivotIndex:u,aggFunc:g}}syncColumnWithStateItem(t,e,i,s,r,o,n,a){if(!t){return}const l=(t,s)=>{const r={value1:void 0,value2:void 0};let o=false;if(e){if(e[t]!==void 0){r.value1=e[t];o=true}if(j(s)&&e[s]!==void 0){r.value2=e[s];o=true}}if(!o&&i){if(i[t]!==void 0){r.value1=i[t]}if(j(s)&&i[s]!==void 0){r.value2=i[s]}}return r};const h=l("hide").value1;if(h!==void 0){t.setVisible(!h,n)}const c=l("pinned").value1;if(c!==void 0){t.setPinned(c)}const u=t.getColDef().minWidth??this.gos.environment.getDefaultColumnMinWidth();const d=l("flex").value1;if(d!==void 0){t.setFlex(d)}if(d==null){const e=l("width").value1;if(e!=null){if(u!=null&&e>=u){t.setActualWidth(e,n)}}}const g=l("sort").value1;if(g!==void 0){if(g==="desc"||g==="asc"){t.setSort(g,n)}else{t.setSort(void 0,n)}}const f=l("sortIndex").value1;if(f!==void 0){t.setSortIndex(f)}if(o||!t.isPrimary()){return}const p=l("aggFunc").value1;if(p!==void 0){if(typeof p==="string"){t.setAggFunc(p);if(!t.isValueActive()){t.setValueActive(true,n);a.addValueCol(t)}}else{if(j(p)){P("stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON.")}if(t.isValueActive()){t.setValueActive(false,n);a.removeValueCol(t)}}}const{value1:m,value2:v}=l("rowGroup","rowGroupIndex");if(m!==void 0||v!==void 0){if(typeof v==="number"||m){if(!t.isRowGroupActive()){t.setRowGroupActive(true,n);a.addGroupCol(t)}if(s&&typeof v==="number"){s[t.getId()]=v}}else{if(t.isRowGroupActive()){t.setRowGroupActive(false,n);a.removeGroupCol(t)}}}const{value1:w,value2:b}=l("pivot","pivotIndex");if(w!==void 0||b!==void 0){if(typeof b==="number"||w){if(!t.isPivotActive()){t.setPivotActive(true,n);a.addPivotCol(t)}if(r&&typeof b==="number"){r[t.getId()]=b}}else{if(t.isPivotActive()){t.setPivotActive(false,n);a.removePivotCol(t)}}}}orderLiveColsLikeState(t){if(!t.applyOrder||!t.state){return}const e=[];t.state.forEach((t=>{if(t.colId!=null){e.push(t.colId)}}));this.columnModel.sortColsLikeKeys(e)}compareColumnStatesAndDispatchEvents(t){const e={rowGroupColumns:this.funcColsService.getRowGroupColumns().slice(),pivotColumns:this.funcColsService.getPivotColumns().slice(),valueColumns:this.funcColsService.getValueColumns().slice()};const i=this.columnGetStateService.getColumnState();const s={};i.forEach((t=>{s[t.colId]=t}));return()=>{const r=this.columnModel.getAllCols();const o=(e,i,s,r)=>{const o=i.map(r);const n=s.map(r);const a=Qt(o,n);if(a){return}const l=new Set(i);s.forEach((t=>{if(!l.delete(t)){l.add(t)}}));const h=[...l];this.eventService.dispatchEvent({type:e,columns:h,column:h.length===1?h[0]:null,source:t})};const n=t=>{const e=[];r.forEach((i=>{const r=s[i.getColId()];if(r&&t(r,i)){e.push(i)}}));return e};const a=t=>t.getColId();o("columnRowGroupChanged",e.rowGroupColumns,this.funcColsService.getRowGroupColumns(),a);o("columnPivotChanged",e.pivotColumns,this.funcColsService.getPivotColumns(),a);const l=(t,e)=>{const i=t.aggFunc!=null;const s=i!=e.isValueActive();const r=i&&t.aggFunc!=e.getAggFunc();return s||r};const h=n(l);if(h.length>0){this.eventDispatcher.columnChanged("columnValueChanged",h,t)}const c=(t,e)=>t.width!=e.getActualWidth();this.eventDispatcher.columnResized(n(c),true,t);const u=(t,e)=>t.pinned!=e.getPinned();this.eventDispatcher.columnPinned(n(u),t);const d=(t,e)=>t.hide==e.isVisible();this.eventDispatcher.columnVisible(n(d),t);const g=(t,e)=>t.sort!=e.getSort()||t.sortIndex!=e.getSortIndex();const f=n(g);if(f.length>0){this.sortController.dispatchSortChangedEvents(t,f)}this.normaliseColumnMovedEventForColumnState(i,t)}}normaliseColumnMovedEventForColumnState(t,e){const i=this.columnGetStateService.getColumnState();const s={};i.forEach((t=>s[t.colId]=t));const r={};t.forEach((t=>{if(s[t.colId]){r[t.colId]=true}}));const o=t.filter((t=>r[t.colId]));const n=i.filter((t=>r[t.colId]));const a=[];n.forEach(((t,e)=>{const i=o&&o[e];if(i&&i.colId!==t.colId){const t=this.columnModel.getCol(i.colId);if(t){a.push(t)}}}));if(!a.length){return}this.eventDispatcher.columnMoved({movedColumns:a,source:e,finished:true})}};var Je=(t,e,i,s)=>{const r=t[i.getId()];const o=t[s.getId()];const n=r!=null;const a=o!=null;if(n&&a){return r-o}if(n){return-1}if(a){return 1}const l=e.indexOf(i);const h=e.indexOf(s);const c=l>=0;const u=h>=0;if(c&&u){return l-h}if(c){return-1}return 1};var Xe=class extends fe{constructor(){super(...arguments);this.beanName="columnMoveService"}wireBeans(t){this.columnModel=t.columnModel;this.columnAnimationService=t.columnAnimationService;this.eventDispatcher=t.columnEventDispatcher}moveColumnByIndex(t,e,i){const s=this.columnModel.getCols();if(!s){return}const r=s[t];this.moveColumns([r],e,i)}moveColumns(t,e,i,s=true){const r=this.columnModel.getCols();if(!r){return}if(e>r.length-t.length){P("tried to insert columns in invalid location, toIndex = ",e);P("remember that you should not count the moving columns when calculating the new index");return}this.columnAnimationService.start();const o=this.columnModel.getColsForKeys(t);if(this.doesMovePassRules(o,e)){this.columnModel.moveInCols(o,e,i);this.eventDispatcher.columnMoved({movedColumns:o,source:i,toIndex:e,finished:s})}this.columnAnimationService.finish()}doesMovePassRules(t,e){const i=this.getProposedColumnOrder(t,e);return this.doesOrderPassRules(i)}doesOrderPassRules(t){if(!this.doesMovePassMarryChildren(t)){return false}if(!this.doesMovePassLockedPositions(t)){return false}return true}getProposedColumnOrder(t,e){const i=this.columnModel.getCols();const s=i.slice();Xt(s,t,e);return s}doesMovePassLockedPositions(t){const e=t=>{if(!t){return 0}return t==="left"||t===true?-1:1};const i=this.gos.get("enableRtl");let s=i?1:-1;let r=true;t.forEach((t=>{const o=e(t.getColDef().lockPosition);if(i){if(o>s){r=false}}else{if(o<s){r=false}}s=o}));return r}doesMovePassMarryChildren(t){let e=true;const i=this.columnModel.getColTree();We(null,i,(i=>{if(!pe(i)){return}const s=i;const r=s.getColGroupDef();const o=r&&r.marryChildren;if(!o){return}const n=[];s.getLeafColumns().forEach((e=>{const i=t.indexOf(e);n.push(i)}));const a=Math.max.apply(Math,n);const l=Math.min.apply(Math,n);const h=a-l;const c=s.getLeafColumns().length-1;if(h>c){e=false}}));return e}placeLockedColumns(t){const e=[];const i=[];const s=[];t.forEach((t=>{const r=t.getColDef().lockPosition;if(r==="right"){s.push(t)}else if(r==="left"||r===true){e.push(t)}else{i.push(t)}}));const r=this.gos.get("enableRtl");if(r){return[...s,...i,...e]}return[...e,...i,...s]}};var ti=/[&<>"']/g;var ei={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function ii(t,e){if(t==null){return null}const i=t.toString().toString();if(e){return i}return i.replace(ti,(t=>ei[t]))}function si(t){if(!t||t==null){return null}const e=/([a-z])([A-Z])/g;const i=/([A-Z]+)([A-Z])([a-z])/g;const s=t.replace(e,"$1 $2").replace(i,"$1 $2$3").replace(/\./g," ").split(" ");return s.map((t=>t.substring(0,1).toUpperCase()+(t.length>1?t.substring(1,t.length):""))).join(" ")}function ri(t){return t.replace(/[A-Z]/g,(t=>`-${t.toLocaleLowerCase()}`))}var oi=class extends fe{constructor(){super(...arguments);this.beanName="columnNameService"}wireBeans(t){this.expressionService=t.expressionService;this.funcColsService=t.funcColsService;this.columnModel=t.columnModel}getDisplayNameForColumn(t,e,i=false){if(!t){return null}const s=this.getHeaderName(t.getColDef(),t,null,null,e);if(i){return this.wrapHeaderNameWithAggFunc(t,s)}return s}getDisplayNameForProvidedColumnGroup(t,e,i){const s=e?e.getColGroupDef():null;if(s){return this.getHeaderName(s,null,t,e,i)}return null}getDisplayNameForColumnGroup(t,e){return this.getDisplayNameForProvidedColumnGroup(t,t.getProvidedColumnGroup(),e)}getHeaderName(t,e,i,s,r){const o=t.headerValueGetter;if(o){const n=this.gos.addGridCommonParams({colDef:t,column:e,columnGroup:i,providedColumnGroup:s,location:r});if(typeof o==="function"){return o(n)}else if(typeof o==="string"){return this.expressionService.evaluate(o,n)}P("headerValueGetter must be a function or a string");return""}else if(t.headerName!=null){return t.headerName}else if(t.field){return si(t.field)}return""}wrapHeaderNameWithAggFunc(t,e){if(this.gos.get("suppressAggFuncInHeader")){return e}const i=t.getColDef().pivotValueColumn;const s=j(i);let r=null;let o;if(s){const s=this.funcColsService.getValueColumns();const n=this.gos.get("removePivotHeaderRowWhenSingleValueColumn")&&s.length===1;const a=t.getColDef().pivotTotalColumnIds!==void 0;if(n&&!a){return e}r=i?i.getAggFunc():null;o=true}else{const e=t.isValueActive();const i=this.columnModel.isPivotMode()||!this.funcColsService.isRowGroupEmpty();if(e&&i){r=t.getAggFunc();o=true}else{o=false}}if(o){const t=typeof r==="string"?r:"func";const i=this.localeService.getLocaleTextFunc();const s=i(t,t);return`${s}(${e})`}return e}};var ni=class extends fe{constructor(){super(...arguments);this.beanName="pivotResultColsService"}wireBeans(t){this.context=t.context;this.columnModel=t.columnModel;this.columnFactory=t.columnFactory;this.visibleColsService=t.visibleColsService}destroy(){xe(this.context,this.pivotResultCols?.tree);super.destroy()}isPivotResultColsPresent(){return this.pivotResultCols!=null}lookupPivotResultCol(t,e){if(this.pivotResultCols==null){return null}const i=this.columnModel.getColDefCol(e);let s=null;this.pivotResultCols.list.forEach((e=>{const r=e.getColDef().pivotKeys;const o=e.getColDef().pivotValueColumn;const n=Qt(r,t);const a=o===i;if(n&&a){s=e}}));return s}getPivotResultCols(){return this.pivotResultCols}getPivotResultCol(t){if(!this.pivotResultCols){return null}return this.columnModel.getColFromCollection(t,this.pivotResultCols)}setPivotResultCols(t,e){if(!this.columnModel.isReady()){return}if(t==null&&this.pivotResultCols==null){return}if(t){this.processPivotResultColDef(t);const i=this.columnFactory.createColumnTree(t,false,this.pivotResultCols?.tree||this.previousPivotResultCols||void 0,e);xe(this.context,this.pivotResultCols?.tree,i.columnTree);const s=i.columnTree;const r=i.treeDept;const o=ye(s);const n={};this.pivotResultCols={tree:s,treeDepth:r,list:o,map:n};this.pivotResultCols.list.forEach((t=>this.pivotResultCols.map[t.getId()]=t));const a=!!this.previousPivotResultCols;this.previousPivotResultCols=null;this.columnModel.refreshCols(!a)}else{this.previousPivotResultCols=this.pivotResultCols?this.pivotResultCols.tree:null;this.pivotResultCols=null;this.columnModel.refreshCols(false)}this.visibleColsService.refresh(e)}processPivotResultColDef(t){const e=this.gos.get("processPivotResultColDef");const i=this.gos.get("processPivotResultColGroupDef");if(!e&&!i){return void 0}const s=t=>{t.forEach((t=>{const r=j(t.children);if(r){const e=t;if(i){i(e)}s(e.children)}else{const i=t;if(e){e(i)}}}))};if(t){s(t)}}};var ai=class extends fe{constructor(){super(...arguments);this.beanName="columnSizeService"}wireBeans(t){this.columnModel=t.columnModel;this.columnViewportService=t.columnViewportService;this.eventDispatcher=t.columnEventDispatcher;this.visibleColsService=t.visibleColsService;this.ctrlsService=t.ctrlsService}setColumnWidths(t,e,i,s){const r=[];t.forEach((t=>{const i=this.columnModel.getColDefCol(t.key)||this.columnModel.getCol(t.key);if(!i){return}r.push({width:t.newWidth,ratios:[1],columns:[i]});const s=this.gos.get("colResizeDefault")==="shift";if(s){e=!e}if(e){const e=this.visibleColsService.getColAfter(i);if(!e){return}const s=i.getActualWidth()-t.newWidth;const o=e.getActualWidth()+s;r.push({width:o,ratios:[1],columns:[e]})}}));if(r.length===0){return}this.resizeColumnSets({resizeSets:r,finished:i,source:s})}resizeColumnSets(t){const{resizeSets:e,finished:i,source:s}=t;const r=!e||e.every((t=>this.checkMinAndMaxWidthsForSet(t)));if(!r){if(i){const t=e&&e.length>0?e[0].columns:null;this.eventDispatcher.columnResized(t,i,s)}return}const o=[];const n=[];e.forEach((t=>{const{width:e,columns:i,ratios:r}=t;const a={};const l={};i.forEach((t=>n.push(t)));let h=true;let c=0;while(h){c++;if(c>1e3){z("infinite loop in resizeColumnSets");break}h=false;const t=[];let s=0;let o=e;i.forEach(((e,i)=>{const n=l[e.getId()];if(n){o-=a[e.getId()]}else{t.push(e);const o=r[i];s+=o}}));const n=1/s;t.forEach(((i,s)=>{const c=s===t.length-1;let u;if(c){u=o}else{u=Math.round(r[s]*e*n);o-=u}const d=i.getMinWidth();const g=i.getMaxWidth();if(u<d){u=d;l[i.getId()]=true;h=true}else if(g>0&&u>g){u=g;l[i.getId()]=true;h=true}a[i.getId()]=u}))}i.forEach((t=>{const e=a[t.getId()];const i=t.getActualWidth();if(i!==e){t.setActualWidth(e,s);o.push(t)}}))}));const a=o.length>0;let l=[];if(a){l=this.refreshFlexedColumns({resizingCols:n,skipSetLeft:true});this.visibleColsService.setLeftValues(s);this.visibleColsService.updateBodyWidths();this.columnViewportService.checkViewportColumns()}const h=n.concat(l);if(a||i){this.eventDispatcher.columnResized(h,i,s,l)}}checkMinAndMaxWidthsForSet(t){const{columns:e,width:i}=t;let s=0;let r=0;let o=true;e.forEach((t=>{const e=t.getMinWidth();s+=e||0;const i=t.getMaxWidth();if(i>0){r+=i}else{o=false}}));const n=i>=s;const a=!o||i<=r;return n&&a}refreshFlexedColumns(t={}){const e=t.source?t.source:"flex";if(t.viewportWidth!=null){this.flexViewportWidth=t.viewportWidth}if(!this.flexViewportWidth){return[]}const i=this.visibleColsService.getCenterCols();let s=-1;if(t.resizingCols){const e=new Set(t.resizingCols);for(let t=i.length-1;t>=0;t--){if(e.has(i[t])){s=t;break}}}let r=0;let o=[];let n=0;let a=0;for(let t=0;t<i.length;t++){const e=i[t].getFlex()&&t>s;if(e){o.push(i[t]);a+=i[t].getFlex();n+=i[t].getMinWidth()}else{r+=i[t].getActualWidth()}}if(!o.length){return[]}let l=[];if(r+n>this.flexViewportWidth){o.forEach((t=>t.setActualWidth(t.getMinWidth(),e)));l=o;o=[]}const h=[];let c;t:while(true){c=this.flexViewportWidth-r;const t=c/a;for(let i=0;i<o.length;i++){const s=o[i];const n=t*s.getFlex();let c=0;const u=s.getMinWidth();const d=s.getMaxWidth();if(n<u){c=u}else if(n>d){c=d}if(c){s.setActualWidth(c,e);Yt(o,s);a-=s.getFlex();l.push(s);r+=s.getActualWidth();continue t}h[i]=Math.floor(n)}break}let u=c;o.forEach(((t,i)=>{const s=i<o.length-1?Math.min(h[i],u):Math.max(h[i],u);t.setActualWidth(s,e);l.push(t);u-=h[i]}));if(!t.skipSetLeft){this.visibleColsService.setLeftValues(e)}if(t.updateBodyWidths){this.visibleColsService.updateBodyWidths()}if(t.fireResizedEvent){this.eventDispatcher.columnResized(l,true,e,o)}return o}sizeColumnsToFit(t,e="sizeColumnsToFit",i,s){if(this.columnModel.isShouldQueueResizeOperations()){this.columnModel.pushResizeOperation((()=>this.sizeColumnsToFit(t,e,i,s)));return}const r={};if(s){s?.columnLimits?.forEach((({key:t,...e})=>{r[typeof t==="string"?t:t.getColId()]=e}))}const o=this.visibleColsService.getAllCols();const n=t===Ce(o);if(t<=0||!o.length||n){return}const a=[];const l=[];o.forEach((t=>{if(t.getColDef().suppressSizeToFit===true){l.push(t)}else{a.push(t)}}));const h=a.slice(0);let c=false;const u=t=>{qt(a,t);l.push(t)};a.forEach((t=>{t.resetActualWidth(e);const i=r?.[t.getId()];const o=i?.minWidth??s?.defaultMinWidth;const n=i?.maxWidth??s?.defaultMaxWidth;const a=t.getActualWidth();if(typeof o==="number"&&a<o){t.setActualWidth(o,e,true)}else if(typeof n==="number"&&a>n){t.setActualWidth(n,e,true)}}));while(!c){c=true;const i=t-Ce(l);if(i<=0){a.forEach((t=>{const i=r?.[t.getId()]?.minWidth??s?.defaultMinWidth;if(typeof i==="number"){t.setActualWidth(i,e,true);return}t.setMinimum(e)}))}else{const t=i/Ce(a);let o=i;for(let i=a.length-1;i>=0;i--){const n=a[i];const l=r?.[n.getId()];const h=l?.minWidth??s?.defaultMinWidth;const d=l?.maxWidth??s?.defaultMaxWidth;const g=n.getMinWidth();const f=n.getMaxWidth();const p=typeof h==="number"&&h>g?h:g;const m=typeof d==="number"&&d<f?d:f;let v=Math.round(n.getActualWidth()*t);if(v<p){v=p;u(n);c=false}else if(v>m){v=m;u(n);c=false}else if(i===0){v=o}n.setActualWidth(v,e,true);o-=v}}}h.forEach((t=>{t.fireColumnWidthChangedEvent(e)}));this.visibleColsService.setLeftValues(e);this.visibleColsService.updateBodyWidths();if(i){return}this.eventDispatcher.columnResized(h,true,e)}applyAutosizeStrategy(){const t=this.gos.get("autoSizeStrategy");if(!t){return}const{type:e}=t;setTimeout((()=>{if(e==="fitGridWidth"){const{columnLimits:e,defaultMinWidth:i,defaultMaxWidth:s}=t;const r=e?.map((({colId:t,minWidth:e,maxWidth:i})=>({key:t,minWidth:e,maxWidth:i})));this.ctrlsService.getGridBodyCtrl().sizeColumnsToFit({defaultMinWidth:i,defaultMaxWidth:s,columnLimits:r})}else if(e==="fitProvidedWidth"){this.sizeColumnsToFit(t.width,"sizeColumnsToFit")}}))}};function li(t,e){return t+"_"+e}function hi(t){return t instanceof ci}var ci=class extends fe{constructor(t,e,i,s){super();this.isColumn=false;this.displayedChildren=[];this.autoHeaderHeight=null;this.parent=null;this.groupId=e;this.partId=i;this.providedColumnGroup=t;this.pinned=s}reset(){this.parent=null;this.children=null;this.displayedChildren=null}getParent(){return this.parent}setParent(t){this.parent=t}getUniqueId(){return li(this.groupId,this.partId)}isEmptyGroup(){return this.displayedChildren.length===0}isMoving(){const t=this.getProvidedColumnGroup().getLeafColumns();if(!t||t.length===0){return false}return t.every((t=>t.isMoving()))}checkLeft(){this.displayedChildren.forEach((t=>{if(hi(t)){t.checkLeft()}}));if(this.displayedChildren.length>0){if(this.gos.get("enableRtl")){const t=$t(this.displayedChildren);const e=t.getLeft();this.setLeft(e)}else{const t=this.displayedChildren[0].getLeft();this.setLeft(t)}}else{this.setLeft(null)}}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(t){this.oldLeft=this.left;if(this.left!==t){this.left=t;this.dispatchLocalEvent({type:"leftChanged"})}}getPinned(){return this.pinned}getGroupId(){return this.groupId}getPartId(){return this.partId}getActualWidth(){let t=0;if(this.displayedChildren){this.displayedChildren.forEach((e=>{t+=e.getActualWidth()}))}return t}isResizable(){if(!this.displayedChildren){return false}let t=false;this.displayedChildren.forEach((e=>{if(e.isResizable()){t=true}}));return t}getMinWidth(){let t=0;this.displayedChildren.forEach((e=>{t+=e.getMinWidth()}));return t}addChild(t){if(!this.children){this.children=[]}this.children.push(t)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){const t=[];this.addLeafColumns(t);return t}getDisplayedLeafColumns(){const t=[];this.addDisplayedLeafColumns(t);return t}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(t){this.providedColumnGroup.setExpanded(t)}isAutoHeaderHeight(){return!!this.getColGroupDef()?.autoHeaderHeight}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(t){const e=t!==this.autoHeaderHeight;this.autoHeaderHeight=t;return e}addDisplayedLeafColumns(t){this.displayedChildren.forEach((e=>{if(Ge(e)){t.push(e)}else if(hi(e)){e.addDisplayedLeafColumns(t)}}))}addLeafColumns(t){this.children.forEach((e=>{if(Ge(e)){t.push(e)}else if(hi(e)){e.addLeafColumns(t)}}))}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){const t=this.getParent();if(!this.isPadding()||!t||!t.isPadding()){return 0}return 1+t.getPaddingLevel()}calculateDisplayedColumns(){this.displayedChildren=[];let t=this;while(t!=null&&t.isPadding()){t=t.getParent()}const e=t?t.getProvidedColumnGroup().isExpandable():false;if(!e){this.displayedChildren=this.children;this.dispatchLocalEvent({type:"displayedChildrenChanged"});return}this.children.forEach((e=>{const i=hi(e)&&(!e.displayedChildren||!e.displayedChildren.length);if(i){return}const s=e.getColumnGroupShow();switch(s){case"open":if(t.getProvidedColumnGroup().isExpanded()){this.displayedChildren.push(e)}break;case"closed":if(!t.getProvidedColumnGroup().isExpanded()){this.displayedChildren.push(e)}break;default:this.displayedChildren.push(e);break}}));this.dispatchLocalEvent({type:"displayedChildrenChanged"})}};var ui=class{constructor(){this.existingIds={}}getInstanceIdForKey(t){const e=this.existingIds[t];let i;if(typeof e!=="number"){i=0}else{i=e+1}this.existingIds[t]=i;return i}};var di=class extends fe{constructor(){super(...arguments);this.beanName="visibleColsService";this.colsAndGroupsMap={};this.columnsLeft=[];this.columnsRight=[];this.columnsCenter=[];this.columns=[];this.bodyWidth=0;this.leftWidth=0;this.rightWidth=0;this.bodyWidthDirty=true}wireBeans(t){this.columnModel=t.columnModel;this.columnSizeService=t.columnSizeService;this.columnViewportService=t.columnViewportService;this.eventDispatcher=t.columnEventDispatcher}refresh(t,e=false){if(!e){this.buildTrees()}this.updateOpenClosedVisibilityInColumnGroups();this.columnsLeft=fi(this.treeLeft);this.columnsCenter=fi(this.treeCenter);this.columnsRight=fi(this.treeRight);this.joinColsAriaOrder();this.joinCols();this.setLeftValues(t);this.autoHeightCols=this.columns.filter((t=>t.isAutoHeight()));this.columnSizeService.refreshFlexedColumns();this.updateBodyWidths();this.columnViewportService.checkViewportColumns(false);this.setFirstRightAndLastLeftPinned(t);this.eventDispatcher.visibleCols(t)}updateBodyWidths(){const t=Ce(this.columnsCenter);const e=Ce(this.columnsLeft);const i=Ce(this.columnsRight);this.bodyWidthDirty=this.bodyWidth!==t;const s=this.bodyWidth!==t||this.leftWidth!==e||this.rightWidth!==i;if(s){this.bodyWidth=t;this.leftWidth=e;this.rightWidth=i;this.eventService.dispatchEvent({type:"columnContainerWidthChanged"});this.eventService.dispatchEvent({type:"displayedColumnsWidthChanged"})}}setLeftValues(t){this.setLeftValuesOfCols(t);this.setLeftValuesOfGroups()}setFirstRightAndLastLeftPinned(t){let e;let i;if(this.gos.get("enableRtl")){e=this.columnsLeft?this.columnsLeft[0]:null;i=this.columnsRight?$t(this.columnsRight):null}else{e=this.columnsLeft?$t(this.columnsLeft):null;i=this.columnsRight?this.columnsRight[0]:null}this.columnModel.getCols().forEach((s=>{s.setLastLeftPinned(s===e,t);s.setFirstRightPinned(s===i,t)}))}buildTrees(){const t=this.columnModel.getColsToShow();const e=t.filter((t=>t.getPinned()=="left"));const i=t.filter((t=>t.getPinned()=="right"));const s=t.filter((t=>t.getPinned()!="left"&&t.getPinned()!="right"));const r=new ui;this.treeLeft=this.createGroups({columns:e,idCreator:r,pinned:"left",oldDisplayedGroups:this.treeLeft});this.treeRight=this.createGroups({columns:i,idCreator:r,pinned:"right",oldDisplayedGroups:this.treeRight});this.treeCenter=this.createGroups({columns:s,idCreator:r,pinned:null,oldDisplayedGroups:this.treeCenter});this.updateColsAndGroupsMap()}clear(){this.columnsLeft=[];this.columnsRight=[];this.columnsCenter=[];this.columns=[];this.ariaOrderColumns=[]}joinColsAriaOrder(){const t=this.columnModel.getCols();const e=[];const i=[];const s=[];for(const r of t){const t=r.getPinned();if(!t){i.push(r)}else if(t===true||t==="left"){e.push(r)}else{s.push(r)}}this.ariaOrderColumns=e.concat(i).concat(s)}getAriaColIndex(t){let e;if(hi(t)){e=t.getLeafColumns()[0]}else{e=t}return this.ariaOrderColumns.indexOf(e)+1}getAllAutoHeightCols(){return this.autoHeightCols}setLeftValuesOfGroups(){[this.treeLeft,this.treeRight,this.treeCenter].forEach((t=>{t.forEach((t=>{if(hi(t)){const e=t;e.checkLeft()}}))}))}setLeftValuesOfCols(t){const e=this.columnModel.getColDefCols();if(!e){return}const i=this.columnModel.getCols().slice(0);const s=this.gos.get("enableRtl");[this.columnsLeft,this.columnsRight,this.columnsCenter].forEach((e=>{if(s){let i=Ce(e);e.forEach((e=>{i-=e.getActualWidth();e.setLeft(i,t)}))}else{let i=0;e.forEach((e=>{e.setLeft(i,t);i+=e.getActualWidth()}))}Zt(i,e)}));i.forEach((e=>{e.setLeft(null,t)}))}joinCols(){if(this.gos.get("enableRtl")){this.columns=this.columnsRight.concat(this.columnsCenter).concat(this.columnsLeft)}else{this.columns=this.columnsLeft.concat(this.columnsCenter).concat(this.columnsRight)}}getColsCenter(){return this.columnsCenter}getAllTrees(){if(this.treeLeft&&this.treeRight&&this.treeCenter){return this.treeLeft.concat(this.treeCenter).concat(this.treeRight)}return null}getTreeLeft(){return this.treeLeft}getTreeRight(){return this.treeRight}getTreeCenter(){return this.treeCenter}getAllCols(){return this.columns}isColDisplayed(t){return this.getAllCols().indexOf(t)>=0}getLeftColsForRow(t){const e=this.columnModel.isColSpanActive();if(!e){return this.columnsLeft}return this.getColsForRow(t,this.columnsLeft)}getRightColsForRow(t){const e=this.columnModel.isColSpanActive();if(!e){return this.columnsRight}return this.getColsForRow(t,this.columnsRight)}getColsForRow(t,e,i,s){const r=[];let o=null;for(let n=0;n<e.length;n++){const a=e[n];const l=e.length-n;const h=Math.min(a.getColSpan(t),l);const c=[a];if(h>1){const t=h-1;for(let i=1;i<=t;i++){c.push(e[n+i])}n+=t}let u;if(i){u=false;c.forEach((t=>{if(i(t)){u=true}}))}else{u=true}if(u){if(r.length===0&&o){const t=s?s(a):false;if(t){r.push(o)}}r.push(a)}o=a}return r}getBodyContainerWidth(){return this.bodyWidth}getContainerWidth(t){switch(t){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}getCenterCols(){return this.columnsCenter}getLeftCols(){return this.columnsLeft}getRightCols(){return this.columnsRight}getColBefore(t){const e=this.getAllCols();const i=e.indexOf(t);if(i>0){return e[i-1]}return null}getGroupAtDirection(t,e){const i=t.getProvidedColumnGroup().getLevel()+t.getPaddingLevel();const s=t.getDisplayedLeafColumns();const r=e==="After"?$t(s):s[0];const o=`getCol${e}`;while(true){const e=this[o](r);if(!e){return null}const s=this.getColGroupAtLevel(e,i);if(s!==t){return s}}}getColGroupAtLevel(t,e){let i=t.getParent();let s;let r;while(true){const t=i.getProvidedColumnGroup();s=t.getLevel();r=i.getPaddingLevel();if(s+r<=e){break}i=i.getParent()}return i}isPinningLeft(){return this.columnsLeft.length>0}isPinningRight(){return this.columnsRight.length>0}updateColsAndGroupsMap(){this.colsAndGroupsMap={};const t=t=>{this.colsAndGroupsMap[t.getUniqueId()]=t};gi(this.treeCenter,false,t);gi(this.treeLeft,false,t);gi(this.treeRight,false,t)}isVisible(t){const e=this.colsAndGroupsMap[t.getUniqueId()];return e===t}updateOpenClosedVisibilityInColumnGroups(){const t=this.getAllTrees();gi(t,false,(t=>{if(hi(t)){t.calculateDisplayedColumns()}}))}getFirstColumn(){const t=this.gos.get("enableRtl");const e=["getLeftCols","getCenterCols","getRightCols"];if(t){e.reverse()}for(let i=0;i<e.length;i++){const s=this[e[i]]();if(s.length){return t?$t(s):s[0]}}return null}getColumnGroup(t,e){if(!t){return null}if(hi(t)){return t}const i=this.getAllTrees();const s=typeof e==="number";let r=null;gi(i,false,(i=>{if(hi(i)){const o=i;let n;if(s){n=t===o.getGroupId()&&e===o.getPartId()}else{n=t===o.getGroupId()}if(n){r=o}}}));return r}getColAfter(t){const e=this.getAllCols();const i=e.indexOf(t);if(i<e.length-1){return e[i+1]}return null}isBodyWidthDirty(){return this.bodyWidthDirty}setBodyWidthDirty(){this.bodyWidthDirty=true}getColsLeftWidth(){return Ce(this.columnsLeft)}getDisplayedColumnsRightWidth(){return Ce(this.columnsRight)}isColAtEdge(t,e){const i=this.getAllCols();if(!i.length){return false}const s=e==="first";let r;if(hi(t)){const e=t.getDisplayedLeafColumns();if(!e.length){return false}r=s?e[0]:$t(e)}else{r=t}return(s?i[0]:$t(i))===r}createGroups(t){const{columns:e,idCreator:i,pinned:s,oldDisplayedGroups:r,isStandaloneStructure:o}=t;const n=this.mapOldGroupsById(r);const a=[];let l=e;while(l.length){const t=l;l=[];let e=0;const r=r=>{const h=e;e=r;const c=t[h];const u=hi(c)?c.getProvidedColumnGroup():c;const d=u.getOriginalParent();if(d==null){for(let e=h;e<r;e++){a.push(t[e])}return}const g=this.createColGroup(d,i,n,s,o);for(let e=h;e<r;e++){g.addChild(t[e])}l.push(g)};for(let i=1;i<t.length;i++){const s=t[i];const o=hi(s)?s.getProvidedColumnGroup():s;const n=o.getOriginalParent();const a=t[e];const l=hi(a)?a.getProvidedColumnGroup():a;const h=l.getOriginalParent();if(n!==h){r(i)}}if(e<t.length){r(t.length)}}if(!o){this.setupParentsIntoCols(a,null)}return a}createColGroup(t,e,i,s,r){const o=t.getGroupId();const n=e.getInstanceIdForKey(o);const a=li(o,n);let l=i[a];if(l&&l.getProvidedColumnGroup()!==t){l=null}if(j(l)){l.reset()}else{l=new ci(t,o,n,s);if(!r){this.createBean(l)}}return l}mapOldGroupsById(t){const e={};const i=t=>{t.forEach((t=>{if(hi(t)){const s=t;e[t.getUniqueId()]=s;i(s.getChildren())}}))};if(t){i(t)}return e}setupParentsIntoCols(t,e){t.forEach((t=>{t.setParent(e);if(hi(t)){const e=t;this.setupParentsIntoCols(e.getChildren(),e)}}))}};function gi(t,e,i){if(!t){return}for(let s=0;s<t.length;s++){const r=t[s];if(hi(r)){const t=e?r.getDisplayedChildren():r.getChildren();gi(t,e,i)}i(r)}}function fi(t){const e=[];gi(t,true,(t=>{if(Ge(t)){e.push(t)}}));return e}var pi=["columnEverythingChanged","newColumnsLoaded","columnPivotModeChanged","pivotMaxColumnsExceeded","columnRowGroupChanged","expandOrCollapseAll","columnPivotChanged","gridColumnsChanged","columnValueChanged","columnMoved","columnVisible","columnPinned","columnGroupOpened","columnResized","displayedColumnsChanged","virtualColumnsChanged","columnHeaderMouseOver","columnHeaderMouseLeave","columnHeaderClicked","columnHeaderContextMenu","asyncTransactionsFlushed","rowGroupOpened","rowDataUpdated","pinnedRowDataChanged","rangeSelectionChanged","cellSelectionChanged","chartCreated","chartRangeSelectionChanged","chartOptionsChanged","chartDestroyed","toolPanelVisibleChanged","toolPanelSizeChanged","modelUpdated","cutStart","cutEnd","pasteStart","pasteEnd","fillStart","fillEnd","cellSelectionDeleteStart","cellSelectionDeleteEnd","rangeDeleteStart","rangeDeleteEnd","undoStarted","undoEnded","redoStarted","redoEnded","cellClicked","cellDoubleClicked","cellMouseDown","cellContextMenu","cellValueChanged","cellEditRequest","rowValueChanged","headerFocused","cellFocused","rowSelected","selectionChanged","tooltipShow","tooltipHide","cellKeyDown","cellMouseOver","cellMouseOut","filterChanged","filterModified","filterOpened","advancedFilterBuilderVisibleChanged","sortChanged","virtualRowRemoved","rowClicked","rowDoubleClicked","gridReady","gridPreDestroyed","gridSizeChanged","viewportChanged","firstDataRendered","dragStarted","dragStopped","dragCancelled","rowEditingStarted","rowEditingStopped","cellEditingStarted","cellEditingStopped","bodyScroll","bodyScrollEnd","paginationChanged","componentStateChanged","storeRefreshed","stateUpdated","columnMenuVisibleChanged","contextMenuVisibleChanged","rowDragEnter","rowDragMove","rowDragLeave","rowDragEnd","rowDragCancel"];var mi=["scrollbarWidthChanged","keyShortcutChangedCellStart","keyShortcutChangedCellEnd","pinnedHeightChanged","cellFocusCleared","fullWidthRowFocused","checkboxChanged","heightScaleChanged","suppressMovableColumns","suppressMenuHide","suppressFieldDotNotation","columnPanelItemDragStart","columnPanelItemDragEnd","bodyHeightChanged","columnContainerWidthChanged","displayedColumnsWidthChanged","scrollVisibilityChanged","scrollGapChanged","columnHoverChanged","flashCells","paginationPixelOffsetChanged","displayedRowsChanged","leftPinnedWidthChanged","rightPinnedWidthChanged","rowContainerHeightChanged","headerHeightChanged","columnGroupHeaderHeightChanged","columnHeaderHeightChanged","gridStylesChanged","storeUpdated","filterDestroyed","rowDataUpdateStarted","rowCountReady","advancedFilterEnabledChanged","dataTypesInferred","fieldValueChanged","fieldPickerValueSelected","richSelectListRowSelected","sideBarUpdated","alignedGridScroll","alignedGridColumn","gridOptionsChanged","chartTitleEdit","recalculateRowBounds","stickyTopOffsetChanged","overlayExclusiveChanged"];var vi=[...pi,...mi];var wi={enableBrowserTooltips:true,tooltipTrigger:true,tooltipMouseTrack:true,tooltipShowMode:true,tooltipInteraction:true,defaultColGroupDef:true,suppressAutoSize:true,skipHeaderOnAutoSize:true,autoSizeStrategy:true,components:true,stopEditingWhenCellsLoseFocus:true,undoRedoCellEditing:true,undoRedoCellEditingLimit:true,excelStyles:true,cacheQuickFilter:true,advancedFilterModel:true,customChartThemes:true,chartThemeOverrides:true,chartToolPanelsDef:true,loadingCellRendererSelector:true,localeText:true,keepDetailRows:true,keepDetailRowsCount:true,detailRowHeight:true,detailRowAutoHeight:true,tabIndex:true,valueCache:true,valueCacheNeverExpires:true,enableCellExpressions:true,suppressTouch:true,suppressAsyncEvents:true,suppressBrowserResizeObserver:true,suppressPropertyNamesCheck:true,debug:true,dragAndDropImageComponent:true,loadingOverlayComponent:true,suppressLoadingOverlay:true,noRowsOverlayComponent:true,paginationPageSizeSelector:true,paginateChildRows:true,pivotPanelShow:true,pivotSuppressAutoColumn:true,suppressExpandablePivotGroups:true,aggFuncs:true,suppressAggFuncInHeader:true,allowShowChangeAfterFilter:true,ensureDomOrder:true,enableRtl:true,suppressColumnVirtualisation:true,suppressMaxRenderedRowRestriction:true,suppressRowVirtualisation:true,rowDragText:true,suppressGroupMaintainValueType:true,groupLockGroupColumns:true,rowGroupPanelSuppressSort:true,suppressGroupRowsSticky:true,rowModelType:true,cacheOverflowSize:true,infiniteInitialRowCount:true,serverSideInitialRowCount:true,suppressServerSideInfiniteScroll:true,maxBlocksInCache:true,maxConcurrentDatasourceRequests:true,blockLoadDebounceMillis:true,serverSideOnlyRefreshFilteredGroups:true,serverSidePivotResultFieldSeparator:true,viewportRowModelPageSize:true,viewportRowModelBufferSize:true,debounceVerticalScrollbar:true,suppressAnimationFrame:true,suppressPreventDefaultOnMouseWheel:true,scrollbarWidth:true,icons:true,suppressRowTransform:true,gridId:true,enableGroupEdit:true,initialState:true,processUnpinnedColumns:true,createChartContainer:true,getLocaleText:true,getRowId:true,reactiveCustomComponents:true,columnMenu:true,suppressSetFilterByDefault:true};var bi=class t{};bi.STRING_PROPERTIES=["overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu","tooltipShowMode","grandTotalRow"];bi.OBJECT_PROPERTIES=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","dragAndDropImageComponentParams","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","statusBar","sideBar","theme","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterModel","advancedFilterParent","advancedFilterBuilderParams","initialState","autoSizeStrategy","cellSelection","selectionColumnDef"];bi.ARRAY_PROPERTIES=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"];bi.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","cellFlashDuration","cellFadeDuration","tabIndex","pivotMaxGeneratedColumns"];bi.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupIncludeTotalFooter","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressColumnMoveAnimation","suppressMoveWhenColumnDragging","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressFocusAfterRefresh","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","serverSideSortOnServer","serverSideFilterOnServer","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","suppressServerSideInfiniteScroll","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","suppressGroupMaintainValueType","reactiveCustomComponents","applyQuickFilterBeforePivotOrAgg","suppressServerSideFullWidthLoadingRow","suppressAdvancedFilterEval","loading","maintainColumnOrder","enableStrictPivotColumnOrder","suppressSetFilterByDefault"];bi.OTHER_PROPERTIES=["suppressStickyTotalRow","loadThemeGoogleFonts","rowSelection"];bi.FUNCTION_PROPERTIES=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","dragAndDropImageComponent","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher","getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","focusGridInnerElement","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","groupIncludeFooter","loadingCellRendererSelector","getRowId","groupAggFiltering","chartMenuItems","groupTotalRow"];bi.ALL_PROPERTIES=[...bi.ARRAY_PROPERTIES,...bi.OBJECT_PROPERTIES,...bi.STRING_PROPERTIES,...bi.NUMBER_PROPERTIES,...bi.FUNCTION_PROPERTIES,...bi.BOOLEAN_PROPERTIES,...bi.OTHER_PROPERTIES];var yi=bi;var Ci=class t{static getCallbackForEvent(t){if(!t||t.length<2){return t}return"on"+t[0].toUpperCase()+t.substring(1)}};Ci.VUE_OMITTED_PROPERTY="AG-VUE-OMITTED-PROPERTY";Ci.PUBLIC_EVENTS=pi;Ci.EVENT_CALLBACKS=vi.map((t=>Ci.getCallbackForEvent(t)));Ci.BOOLEAN_PROPERTIES=yi.BOOLEAN_PROPERTIES;Ci.ALL_PROPERTIES=yi.ALL_PROPERTIES;Ci.ALL_PROPERTIES_AND_CALLBACKS=[...Ci.ALL_PROPERTIES,...Ci.EVENT_CALLBACKS];Ci.ALL_PROPERTIES_AND_CALLBACKS_SET=new Set(Ci.ALL_PROPERTIES_AND_CALLBACKS);var xi=Ci;function ki(t,e,i){if(i){t.addDestroyFunc((()=>e.destroyBean(i)))}return i??t}var Si=class{constructor(t){this.cssClassStates={};this.getGui=t}addCssClass(t){const e=(t||"").split(" ");if(e.length>1){e.forEach((t=>this.addCssClass(t)));return}const i=this.cssClassStates[t]!==true;if(i&&t.length){const e=this.getGui();if(e){e.classList.add(t)}this.cssClassStates[t]=true}}removeCssClass(t){const e=(t||"").split(" ");if(e.length>1){e.forEach((t=>this.removeCssClass(t)));return}const i=this.cssClassStates[t]!==false;if(i&&t.length){const e=this.getGui();if(e){e.classList.remove(t)}this.cssClassStates[t]=false}}containsCssClass(t){const e=this.getGui();if(!e){return false}return e.classList.contains(t)}addOrRemoveCssClass(t,e){if(!t){return}if(t.indexOf(" ")>=0){const i=(t||"").split(" ");if(i.length>1){i.forEach((t=>this.addOrRemoveCssClass(t,e)));return}}const i=this.cssClassStates[t]!==e;if(i&&t.length){const i=this.getGui();if(i){i.classList.toggle(t,e)}this.cssClassStates[t]=e}}};function Di(t,e,i){if(i==null||typeof i==="string"&&i==""){Ri(t,e)}else{Mi(t,e,i)}}function Mi(t,e,i){t.setAttribute(Fi(e),i.toString())}function Ri(t,e){t.removeAttribute(Fi(e))}function Fi(t){return`aria-${t}`}function Pi(t,e){if(e){t.setAttribute("role",e)}else{t.removeAttribute("role")}}function zi(t){let e;if(t==="asc"){e="ascending"}else if(t==="desc"){e="descending"}else if(t==="mixed"){e="other"}else{e="none"}return e}function Ii(t){return t.getAttribute("aria-label")}function Ti(t,e){Di(t,"label",e)}function Ai(t,e){Di(t,"labelledby",e)}function Ei(t,e){Di(t,"live",e)}function Ni(t,e){Di(t,"atomic",e)}function Oi(t,e){Di(t,"relevant",e)}function Li(t,e){Di(t,"disabled",e)}function Gi(t,e){Di(t,"hidden",e)}function Hi(t,e){Mi(t,"expanded",e)}function Bi(t,e){Mi(t,"setsize",e)}function Vi(t,e){Mi(t,"posinset",e)}function ji(t,e){Mi(t,"multiselectable",e)}function Wi(t,e){Mi(t,"rowcount",e)}function Ui(t,e){Mi(t,"rowindex",e)}function $i(t,e){Mi(t,"colcount",e)}function Qi(t,e){Mi(t,"colindex",e)}function Ki(t,e){Mi(t,"colspan",e)}function Yi(t,e){Mi(t,"sort",e)}function qi(t){Ri(t,"sort")}function Zi(t,e){Di(t,"selected",e)}function _i(t,e){Di(t,"controls",e.id);Ai(e,t.id)}function Ji(t,e){return e===void 0?t("ariaIndeterminate","indeterminate"):e===true?t("ariaChecked","checked"):t("ariaUnchecked","unchecked")}var Xi="[tabindex], input, select, button, textarea, [href]";var ts="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function es(t){const e=Element.prototype.matches||Element.prototype.msMatchesSelector;const i="input, select, button, textarea";const s=e.call(t,i);const r=e.call(t,ts);const o=vs(t);const n=s&&!r&&o;return n}function is(t,e,i={}){const{skipAriaHidden:s}=i;t.classList.toggle("ag-hidden",!e);if(!s){Gi(t,!e)}}function ss(t,e,i={}){const{skipAriaHidden:s}=i;t.classList.toggle("ag-invisible",!e);if(!s){Gi(t,!e)}}function rs(t,e){const i="disabled";const s=e?t=>t.setAttribute(i,""):t=>t.removeAttribute(i);s(t);Ts(t.querySelectorAll("input"),(t=>s(t)))}function os(t,e,i){let s=0;while(t){if(t.classList.contains(e)){return true}t=t.parentElement;if(typeof i=="number"){if(++s>i){break}}else if(t===i){break}}return false}function ns(t){const{height:e,width:i,borderTopWidth:s,borderRightWidth:r,borderBottomWidth:o,borderLeftWidth:n,paddingTop:a,paddingRight:l,paddingBottom:h,paddingLeft:c,marginTop:u,marginRight:d,marginBottom:g,marginLeft:f,boxSizing:p}=window.getComputedStyle(t);return{height:parseFloat(e||"0"),width:parseFloat(i||"0"),borderTopWidth:parseFloat(s||"0"),borderRightWidth:parseFloat(r||"0"),borderBottomWidth:parseFloat(o||"0"),borderLeftWidth:parseFloat(n||"0"),paddingTop:parseFloat(a||"0"),paddingRight:parseFloat(l||"0"),paddingBottom:parseFloat(h||"0"),paddingLeft:parseFloat(c||"0"),marginTop:parseFloat(u||"0"),marginRight:parseFloat(d||"0"),marginBottom:parseFloat(g||"0"),marginLeft:parseFloat(f||"0"),boxSizing:p}}function as(t){const e=ns(t);if(e.boxSizing==="border-box"){return e.height-e.paddingTop-e.paddingBottom}return e.height}function ls(t){const e=ns(t);if(e.boxSizing==="border-box"){return e.width-e.paddingLeft-e.paddingRight}return e.width}function hs(t){const{height:e,marginBottom:i,marginTop:s}=ns(t);return Math.floor(e+i+s)}function cs(t){const{width:e,marginLeft:i,marginRight:s}=ns(t);return Math.floor(e+i+s)}function us(t){const e=t.getBoundingClientRect();const{borderTopWidth:i,borderLeftWidth:s,borderRightWidth:r,borderBottomWidth:o}=ns(t);return{top:e.top+(i||0),left:e.left+(s||0),right:e.right+(r||0),bottom:e.bottom+(o||0)}}function ds(t,e){let i=t.scrollLeft;if(e){i=Math.abs(i)}return i}function gs(t,e,i){if(i){e*=-1}t.scrollLeft=e}function fs(t){while(t&&t.firstChild){t.removeChild(t.firstChild)}}function ps(t){if(t&&t.parentNode){t.parentNode.removeChild(t)}}function ms(t){return!!t.offsetParent}function vs(t){const e=t;if(e.checkVisibility){return e.checkVisibility({checkVisibilityCSS:true})}const i=!ms(t)||window.getComputedStyle(t).visibility!=="visible";return!i}function ws(t){const e=document.createElement("div");e.innerHTML=(t||"").trim();return e.firstChild}function bs(t,e,i){if(i&&i.nextSibling===e){return}if(!t.firstChild){t.appendChild(e)}else if(i){if(i.nextSibling){t.insertBefore(e,i.nextSibling)}else{t.appendChild(e)}}else if(t.firstChild&&t.firstChild!==e){t.insertAdjacentElement("afterbegin",e)}}function ys(t,e){for(let i=0;i<e.length;i++){const s=e[i];const r=t.children[i];if(r!==s){t.insertBefore(s,r)}}}function Cs(t,e){if(!e){return}for(const[i,s]of Object.entries(e)){if(!i||!i.length||s==null){continue}const e=ri(i);const r=s.toString();const o=r.replace(/\s*!important/g,"");const n=o.length!=r.length?"important":void 0;t.style.setProperty(e,o,n)}}function xs(t){return t.clientWidth<t.scrollWidth}function ks(t){return t.clientHeight<t.scrollHeight}function Ss(t,e){if(e==="flex"){t.style.removeProperty("width");t.style.removeProperty("minWidth");t.style.removeProperty("maxWidth");t.style.flex="1 1 auto"}else{Ds(t,e)}}function Ds(t,e){e=Rs(e);t.style.width=e.toString();t.style.maxWidth=e.toString();t.style.minWidth=e.toString()}function Ms(t,e){e=Rs(e);t.style.height=e.toString();t.style.maxHeight=e.toString();t.style.minHeight=e.toString()}function Rs(t){if(typeof t==="number"){return`${t}px`}return t}function Fs(t){return t instanceof Node||t instanceof HTMLElement}function Ps(t){if(t==null){return[]}const e=[];Ts(t,(t=>e.push(t)));return e}function zs(t,e){if(!t){return}for(let i=0;i<t.length;i++){const s=t[i];e(s.name,s.value)}}function Is(t,e,i){if(i==null||i===""){t.removeAttribute(e)}else{t.setAttribute(e,i.toString())}}function Ts(t,e){if(t==null){return}for(let i=0;i<t.length;i++){e(t[i])}}var As=class{constructor(t=0,e=1){this.nextValue=t;this.step=e}next(){const t=this.nextValue;this.nextValue+=this.step;return t}peek(){return this.nextValue}skip(t){this.nextValue+=t}};var Es;var Ns;var Os;var Ls;var Gs;var Hs;var Bs;var Vs;var js;function Ws(){if(Es===void 0){Es=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}return Es}function Us(){if(Ns===void 0){if(Ws()){const t=navigator.userAgent.match(/version\/(\d+)/i);if(t){Ns=t[1]!=null?parseFloat(t[1]):0}}else{Ns=0}}return Ns}function $s(){if(Os===void 0){const t=window;Os=!!t.chrome&&(!!t.chrome.webstore||!!t.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return Os}function Qs(){if(Ls===void 0){Ls=/(firefox)/i.test(navigator.userAgent)}return Ls}function Ks(){if(Gs===void 0){Gs=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)}return Gs}function Ys(){if(Hs===void 0){Hs=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1}return Hs}function qs(){return!Ws()||Us()>=15}function Zs(t){if(!t){return null}const e=t.tabIndex;const i=t.getAttribute("tabIndex");if(e===-1&&(i===null||i===""&&!Qs())){return null}return e.toString()}function _s(){if(js!==void 0){return js}if(!document.body){return-1}let t=1e6;const e=Qs()?6e6:1e9;const i=document.createElement("div");document.body.appendChild(i);while(true){const s=t*2;i.style.height=s+"px";if(s>e||i.clientHeight!==s){break}else{t=s}}document.body.removeChild(i);js=t;return t}function Js(){return document.body?.clientWidth??(window.innerHeight||document.documentElement?.clientWidth||-1)}function Xs(){return document.body?.clientHeight??(window.innerHeight||document.documentElement?.clientHeight||-1)}function tr(){if(Vs==null){er()}return Vs}function er(){const t=document.body;const e=document.createElement("div");e.style.width=e.style.height="100px";e.style.opacity="0";e.style.overflow="scroll";e.style.msOverflowStyle="scrollbar";e.style.position="absolute";t.appendChild(e);let i=e.offsetWidth-e.clientWidth;if(i===0&&e.clientWidth===0){i=null}if(e.parentNode){e.parentNode.removeChild(e)}if(i!=null){Vs=i;Bs=i===0}}function ir(){if(Bs==null){er()}return Bs}var sr=1e3;var rr=1e3;var or=100;var nr=class t extends fe{constructor(t,e,i,s){super();this.parentComp=t;this.tooltipShowDelayOverride=e;this.tooltipHideDelayOverride=i;this.shouldDisplayTooltip=s;this.interactionEnabled=false;this.isInteractingWithTooltip=false;this.state=0;this.tooltipInstanceCount=0;this.tooltipMouseTrack=false}wireBeans(t){this.popupService=t.popupService;this.userComponentFactory=t.userComponentFactory}postConstruct(){if(this.gos.get("tooltipInteraction")){this.interactionEnabled=true}this.tooltipTrigger=this.getTooltipTrigger();this.tooltipMouseTrack=this.gos.get("tooltipMouseTrack");const t=this.parentComp.getGui();if(this.tooltipTrigger===0){this.addManagedListeners(t,{mouseenter:this.onMouseEnter.bind(this),mouseleave:this.onMouseLeave.bind(this)})}if(this.tooltipTrigger===1){this.addManagedListeners(t,{focusin:this.onFocusIn.bind(this),focusout:this.onFocusOut.bind(this)})}this.addManagedListeners(t,{mousemove:this.onMouseMove.bind(this)});if(!this.interactionEnabled){this.addManagedListeners(t,{mousedown:this.onMouseDown.bind(this),keydown:this.onKeyDown.bind(this)})}}getGridOptionsTooltipDelay(t){const e=this.gos.get(t);if(e<0){P(`${t} should not be lower than 0`)}return Math.max(200,e)}getTooltipDelay(t){if(t==="show"){return this.tooltipShowDelayOverride??this.getGridOptionsTooltipDelay("tooltipShowDelay")}return this.tooltipHideDelayOverride??this.getGridOptionsTooltipDelay("tooltipHideDelay")}destroy(){this.setToDoNothing();super.destroy()}getTooltipTrigger(){const t=this.gos.get("tooltipTrigger");if(!t||t==="hover"){return 0}return 1}onMouseEnter(e){if(this.interactionEnabled&&this.interactiveTooltipTimeoutId){this.unlockService();this.startHideTimeout()}if(Ys()){return}if(t.isLocked){this.showTooltipTimeoutId=window.setTimeout((()=>{this.prepareToShowTooltip(e)}),or)}else{this.prepareToShowTooltip(e)}}onMouseMove(t){if(this.lastMouseEvent){this.lastMouseEvent=t}if(this.tooltipMouseTrack&&this.state===2&&this.tooltipComp){this.positionTooltip()}}onMouseDown(){this.setToDoNothing()}onMouseLeave(){if(this.interactionEnabled){this.lockService()}else{this.setToDoNothing()}}onFocusIn(){this.prepareToShowTooltip()}onFocusOut(t){const e=t.relatedTarget;const i=this.parentComp.getGui();const s=this.tooltipComp?.getGui();if(this.isInteractingWithTooltip||i.contains(e)||this.interactionEnabled&&s?.contains(e)){return}this.setToDoNothing()}onKeyDown(){if(this.isInteractingWithTooltip){this.isInteractingWithTooltip=false}this.setToDoNothing()}prepareToShowTooltip(e){if(this.state!=0||t.isLocked){return}let i=0;if(e){i=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")}this.lastMouseEvent=e||null;this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),i);this.state=1}isLastTooltipHiddenRecently(){const e=(new Date).getTime();const i=t.lastTooltipHideTime;return e-i<sr}setToDoNothing(t){if(!t&&this.state===2){this.hideTooltip()}if(this.onBodyScrollEventCallback){this.onBodyScrollEventCallback();this.onBodyScrollEventCallback=void 0}if(this.onColumnMovedEventCallback){this.onColumnMovedEventCallback();this.onColumnMovedEventCallback=void 0}if(this.onDocumentKeyDownCallback){this.onDocumentKeyDownCallback();this.onDocumentKeyDownCallback=void 0}this.clearTimeouts();this.state=0;this.lastMouseEvent=null}showTooltip(){const t={...this.parentComp.getTooltipParams()};if(!j(t.value)||this.shouldDisplayTooltip&&!this.shouldDisplayTooltip()){this.setToDoNothing();return}this.state=2;this.tooltipInstanceCount++;const e=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);const i=this.userComponentFactory.getTooltipCompDetails(t);i.newAgStackInstance().then(e)}hideTooltip(e){if(!e&&this.isInteractingWithTooltip){return}if(this.tooltipComp){this.destroyTooltipComp();t.lastTooltipHideTime=(new Date).getTime()}this.eventService.dispatchEvent({type:"tooltipHide",parentGui:this.parentComp.getGui()});if(e){this.isInteractingWithTooltip=false}this.setToDoNothing(true)}newTooltipComponentCallback(t,e){const i=this.state!==2||this.tooltipInstanceCount!==t;if(i){this.destroyBean(e);return}const s=e.getGui();this.tooltipComp=e;if(!s.classList.contains("ag-tooltip")){s.classList.add("ag-tooltip-custom")}if(this.tooltipTrigger===0){s.classList.add("ag-tooltip-animate")}if(this.interactionEnabled){s.classList.add("ag-tooltip-interactive")}const r=this.localeService.getLocaleTextFunc();const o=this.popupService.addPopup({eChild:s,ariaLabel:r("ariaLabelTooltip","Tooltip")});if(o){this.tooltipPopupDestroyFunc=o.hideFunc}this.positionTooltip();if(this.tooltipTrigger===1){const t=()=>this.setToDoNothing();[this.onBodyScrollEventCallback,this.onColumnMovedEventCallback]=this.addManagedEventListeners({bodyScroll:t,columnMoved:t})}if(this.interactionEnabled){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener]=this.addManagedElementListeners(s,{mouseenter:this.onTooltipMouseEnter.bind(this),mouseleave:this.onTooltipMouseLeave.bind(this)});[this.onDocumentKeyDownCallback]=this.addManagedElementListeners(dt(this.gos),{keydown:t=>{if(!s.contains(t?.target)){this.onKeyDown()}}});if(this.tooltipTrigger===1){[this.tooltipFocusInListener,this.tooltipFocusOutListener]=this.addManagedElementListeners(s,{focusin:this.onTooltipFocusIn.bind(this),focusout:this.onTooltipFocusOut.bind(this)})}}this.eventService.dispatchEvent({type:"tooltipShow",tooltipGui:s,parentGui:this.parentComp.getGui()});this.startHideTimeout()}onTooltipMouseEnter(){this.isInteractingWithTooltip=true;this.unlockService()}onTooltipMouseLeave(){if(this.isTooltipFocused()){return}this.isInteractingWithTooltip=false;this.lockService()}onTooltipFocusIn(){this.isInteractingWithTooltip=true}isTooltipFocused(){const t=this.tooltipComp?.getGui();const e=pt(this.gos);return!!t&&t.contains(e)}onTooltipFocusOut(t){const e=this.parentComp.getGui();if(this.isTooltipFocused()){return}this.isInteractingWithTooltip=false;if(e.contains(t.relatedTarget)){this.startHideTimeout()}else{this.hideTooltip()}}positionTooltip(){const t={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};if(this.lastMouseEvent){this.popupService.positionPopupUnderMouseEvent({...t,mouseEvent:this.lastMouseEvent})}else{this.popupService.positionPopupByComponent({...t,eventSource:this.parentComp.getGui(),position:"under",keepWithinBounds:true,nudgeY:5})}}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");const t=this.tooltipPopupDestroyFunc;const e=this.tooltipComp;const i=this.tooltipTrigger===0?rr:0;window.setTimeout((()=>{t();this.destroyBean(e)}),i);this.clearTooltipListeners();this.tooltipPopupDestroyFunc=void 0;this.tooltipComp=void 0}clearTooltipListeners(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach((t=>{if(t){t()}}));this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null}lockService(){t.isLocked=true;this.interactiveTooltipTimeoutId=window.setTimeout((()=>{this.unlockService();this.setToDoNothing()}),or)}unlockService(){t.isLocked=false;this.clearInteractiveTimeout()}startHideTimeout(){this.clearHideTimeout();this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))}clearShowTimeout(){if(!this.showTooltipTimeoutId){return}window.clearTimeout(this.showTooltipTimeoutId);this.showTooltipTimeoutId=void 0}clearHideTimeout(){if(!this.hideTooltipTimeoutId){return}window.clearTimeout(this.hideTooltipTimeoutId);this.hideTooltipTimeoutId=void 0}clearInteractiveTimeout(){if(!this.interactiveTooltipTimeoutId){return}window.clearTimeout(this.interactiveTooltipTimeoutId);this.interactiveTooltipTimeoutId=void 0}clearTimeouts(){this.clearShowTimeout();this.clearHideTimeout();this.clearInteractiveTimeout()}};nr.isLocked=false;var ar=nr;var lr=class extends fe{constructor(t,e){super();this.ctrl=t;if(e){this.beans=e}}wireBeans(t){this.beans=t}postConstruct(){this.refreshToolTip()}setBrowserTooltip(t){const e="title";const i=this.ctrl.getGui();if(!i){return}if(t!=null&&t!=""){i.setAttribute(e,t)}else{i.removeAttribute(e)}}updateTooltipText(){this.tooltip=this.ctrl.getTooltipValue()}createTooltipFeatureIfNeeded(){if(this.tooltipManager!=null){return}const t={getTooltipParams:()=>this.getTooltipParams(),getGui:()=>this.ctrl.getGui()};this.tooltipManager=this.createBean(new ar(t,this.ctrl.getTooltipShowDelayOverride?.(),this.ctrl.getTooltipHideDelayOverride?.(),this.ctrl.shouldDisplayTooltip),this.beans.context)}refreshToolTip(){this.browserTooltips=this.beans.gos.get("enableBrowserTooltips");this.updateTooltipText();if(this.browserTooltips){this.setBrowserTooltip(this.tooltip);if(this.tooltipManager){this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context)}}else{this.setBrowserTooltip(null);this.createTooltipFeatureIfNeeded()}}getTooltipParams(){const t=this.ctrl;const e=t.getColumn?.();const i=t.getColDef?.();const s=t.getRowNode?.();return{location:t.getLocation(),colDef:i,column:e,rowIndex:t.getRowIndex?.(),node:s,data:s?.data,value:this.getTooltipText(),valueFormatted:t.getValueFormatted?.(),hideTooltipCallback:()=>this.tooltipManager?.hideTooltip(true)}}getTooltipText(){return this.tooltip}destroy(){if(this.tooltipManager){this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context)}super.destroy()}};var hr=new As;var cr=null;var ur=class t extends fe{constructor(t,e){super();this.suppressDataRefValidation=false;this.displayed=true;this.visible=true;this.compId=hr.next();this.cssClassManager=new Si((()=>this.eGui));this.componentSelectors=new Map((e??[]).map((t=>[t.selector,t])));if(t){this.setTemplate(t)}}preWireBeans(t){super.preWireBeans(t)}preConstruct(){this.usingBrowserTooltips=this.gos.get("enableBrowserTooltips");this.wireTemplate(this.getGui())}wireTemplate(t,e){if(t&&this.gos){this.applyElementsToComponent(t);this.createChildComponentsFromTags(t,e)}}getCompId(){return this.compId}getTooltipParams(){return{value:this.tooltipText,location:"UNKNOWN"}}setTooltip(t){const{newTooltipText:e,showDelayOverride:i,hideDelayOverride:s,location:r,shouldDisplayTooltip:o}=t||{};if(this.tooltipFeature){this.tooltipFeature=this.destroyBean(this.tooltipFeature)}if(this.tooltipText!==e){this.tooltipText=e}const n=()=>this.tooltipText;if(e!=null){this.tooltipFeature=this.createBean(new lr({getTooltipValue:n,getGui:()=>this.getGui(),getLocation:()=>r??"UNKNOWN",getColDef:t?.getColDef,getColumn:t?.getColumn,getTooltipShowDelayOverride:i!=null?()=>i:void 0,getTooltipHideDelayOverride:s!=null?()=>s:void 0,shouldDisplayTooltip:o}))}}getDataRefAttribute(t){if(t.getAttribute){return t.getAttribute("data-ref")}return null}applyElementsToComponent(t,e,i,s=null){if(e===void 0){e=this.getDataRefAttribute(t)}if(e){const r=this[e];if(r===cr){this[e]=s??t}else{const t=i&&i[e];if(!this.suppressDataRefValidation&&!t){P(`Issue with data-ref: ${e} on ${this.constructor.name} with ${r}`)}}}}createChildComponentsFromTags(t,e){const i=Ps(t.childNodes);i.forEach((i=>{if(!(i instanceof HTMLElement)){return}const s=this.createComponentFromElement(i,(t=>{const e=t.getGui();if(e){this.copyAttributesFromNode(i,t.getGui())}}),e);if(s){if(s.addItems&&i.children.length){this.createChildComponentsFromTags(i,e);const t=Array.prototype.slice.call(i.children);s.addItems(t)}this.swapComponentForNode(s,t,i)}else if(i.childNodes){this.createChildComponentsFromTags(i,e)}}))}createComponentFromElement(e,i,s){const r=e.nodeName;const o=this.getDataRefAttribute(e);const n=r.indexOf("AG-")===0;const a=n?this.componentSelectors.get(r):null;let l=null;if(a){t.elementGettingCreated=e;const r=s&&o?s[o]:void 0;l=new a.component(r);l.setParentComponent(this);this.createBean(l,null,i)}else if(n){P(`Missing selector: ${r}`)}this.applyElementsToComponent(e,o,s,l);return l}copyAttributesFromNode(t,e){zs(t.attributes,((t,i)=>e.setAttribute(t,i)))}swapComponentForNode(t,e,i){const s=t.getGui();e.replaceChild(s,i);e.insertBefore(document.createComment(i.nodeName),s);this.addDestroyFunc(this.destroyBean.bind(this,t))}activateTabIndex(t){const e=this.gos.get("tabIndex");if(!t){t=[]}if(!t.length){t.push(this.getGui())}t.forEach((t=>t.setAttribute("tabindex",e.toString())))}setTemplate(t,e,i){const s=ws(t);this.setTemplateFromElement(s,e,i)}setTemplateFromElement(t,e,i,s=false){this.eGui=t;this.suppressDataRefValidation=s;if(e){for(let t=0;t<e.length;t++){const i=e[t];this.componentSelectors.set(i.selector,i)}}this.wireTemplate(t,i)}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(t){this.parentComponent=t}getParentComponent(){return this.parentComponent}setGui(t){this.eGui=t}queryForHtmlElement(t){return this.eGui.querySelector(t)}getContainerAndElement(t,e){let i=e;if(t==null){return null}if(!i){i=this.eGui}if(Fs(t)){return{element:t,parent:i}}return{element:t.getGui(),parent:i}}prependChild(t,e){const{element:i,parent:s}=this.getContainerAndElement(t,e)||{};if(!i||!s){return}s.insertAdjacentElement("afterbegin",i)}appendChild(t,e){const{element:i,parent:s}=this.getContainerAndElement(t,e)||{};if(!i||!s){return}s.appendChild(i)}isDisplayed(){return this.displayed}setVisible(t,e={}){if(t!==this.visible){this.visible=t;const{skipAriaHidden:i}=e;ss(this.eGui,t,{skipAriaHidden:i})}}setDisplayed(t,e={}){if(t!==this.displayed){this.displayed=t;const{skipAriaHidden:i}=e;is(this.eGui,t,{skipAriaHidden:i});const s={type:"displayChanged",visible:this.displayed};this.dispatchLocalEvent(s)}}destroy(){if(this.parentComponent){this.parentComponent=void 0}if(this.tooltipFeature){this.tooltipFeature=this.destroyBean(this.tooltipFeature)}super.destroy()}addGuiEventListener(t,e,i){this.eGui.addEventListener(t,e,i);this.addDestroyFunc((()=>this.eGui.removeEventListener(t,e)))}addCssClass(t){this.cssClassManager.addCssClass(t)}removeCssClass(t){this.cssClassManager.removeCssClass(t)}containsCssClass(t){return this.cssClassManager.containsCssClass(t)}addOrRemoveCssClass(t,e){this.cssClassManager.addOrRemoveCssClass(t,e)}};var dr={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",setFilterGroupClosed:"tree-closed",setFilterGroupOpen:"tree-open",setFilterGroupIndeterminate:"tree-indeterminate",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",menuAlt:"menu-alt",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardCut:"cut",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none",advancedFilterBuilder:"group",advancedFilterBuilderDrag:"grip",advancedFilterBuilderInvalid:"not-allowed",advancedFilterBuilderMoveUp:"up",advancedFilterBuilderMoveDown:"down",advancedFilterBuilderAdd:"plus",advancedFilterBuilderRemove:"minus",chartsMenuEdit:"chart",chartsMenuAdvancedSettings:"settings",chartsMenuAdd:"plus",checkboxChecked:"checkbox-checked",checkboxIndeterminate:"checkbox-indeterminate",checkboxUnchecked:"checkbox-unchecked",radioButtonOn:"radio-button-on",radioButtonOff:"radio-button-off"};var gr=(()=>{const t=new Set(Object.values(dr));t.add("eye");return t})();function fr(t,e,i){const s=pr(t,e,i);if(s){const{className:t}=s;if(typeof t==="string"&&t.indexOf("ag-icon")>-1||typeof t==="object"&&t["ag-icon"]){return s}}const r=document.createElement("span");r.appendChild(s);return r}function pr(t,e,i,s){let r=null;const o=i&&i.getColDef().icons;if(o){r=o[t]}if(e&&!r){const i=e.get("icons");if(i){r=i[t]}}if(r){let t;if(typeof r==="function"){t=r()}else if(typeof r==="string"){t=r}else{throw new Error("icon from grid options needs to be a string or a function")}if(typeof t==="string"){return ws(t)}if(Fs(t)){return t}P("iconRenderer should return back a string or a dom object")}else{const e=document.createElement("span");let i=dr[t]??(gr.has(t)?t:void 0);if(!i){{P(`Did not find icon ${t}`);i=""}}e.setAttribute("class",`ag-icon ag-icon-${i}`);e.setAttribute("unselectable","on");Pi(e,"presentation");return e}}var mr=class extends ur{constructor(){super(...arguments);this.dragSource=null;this.eIcon=cr;this.eLabel=cr}postConstruct(){const t=t=>fr(t,this.gos,null);this.dropIconMap={pinned:t("columnMovePin"),hide:t("columnMoveHide"),move:t("columnMoveMove"),left:t("columnMoveLeft"),right:t("columnMoveRight"),group:t("columnMoveGroup"),aggregate:t("columnMoveValue"),pivot:t("columnMovePivot"),notAllowed:t("dropNotAllowed")}}init(t){this.dragSource=t.dragSource;this.setTemplate(`<div class="ag-dnd-ghost ag-unselectable">\n                <span data-ref="eIcon" class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>\n                <div data-ref="eLabel" class="ag-dnd-ghost-label"></div>\n            </div>`)}destroy(){this.dragSource=null;super.destroy()}setIcon(t,e=false){fs(this.eIcon);let i=null;if(!t){t=this.dragSource?.getDefaultIconName?this.dragSource?.getDefaultIconName():"notAllowed"}i=this.dropIconMap[t];this.eIcon.classList.toggle("ag-shake-left-to-right",e);if(i===this.dropIconMap["hide"]&&this.gos.get("suppressDragLeaveHidesColumns")){return}if(i){this.eIcon.appendChild(i)}}setLabel(t){this.eLabel.textContent=ii(t)}};function vr(t,e,i){if(i===0){return false}const s=Math.abs(t.clientX-e.clientX);const r=Math.abs(t.clientY-e.clientY);return Math.max(s,r)<=i}var wr=class{constructor(t,e=false){this.DOUBLE_TAP_MILLIS=500;this.destroyFuncs=[];this.touching=false;this.localEventService=new S;this.eElement=t;this.preventMouseClick=e;const i=this.onTouchStart.bind(this);const s=this.onTouchMove.bind(this);const r=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",i,{passive:true});this.eElement.addEventListener("touchmove",s,{passive:true});this.eElement.addEventListener("touchend",r,{passive:false});this.destroyFuncs.push((()=>{this.eElement.removeEventListener("touchstart",i,{passive:true});this.eElement.removeEventListener("touchmove",s,{passive:true});this.eElement.removeEventListener("touchend",r,{passive:false})}))}getActiveTouch(t){for(let e=0;e<t.length;e++){const i=t[e].identifier===this.touchStart.identifier;if(i){return t[e]}}return null}addEventListener(t,e){this.localEventService.addEventListener(t,e)}removeEventListener(t,e){this.localEventService.removeEventListener(t,e)}onTouchStart(t){if(this.touching){return}this.touchStart=t.touches[0];this.touching=true;this.moved=false;const e=this.touchStart;window.setTimeout((()=>{const i=this.touchStart===e;if(this.touching&&i&&!this.moved){this.moved=true;const e={type:"longTap",touchStart:this.touchStart,touchEvent:t};this.localEventService.dispatchEvent(e)}}),500)}onTouchMove(t){if(!this.touching){return}const e=this.getActiveTouch(t.touches);if(!e){return}const i=!vr(e,this.touchStart,4);if(i){this.moved=true}}onTouchEnd(t){if(!this.touching){return}if(!this.moved){const t={type:"tap",touchStart:this.touchStart};this.localEventService.dispatchEvent(t);this.checkForDoubleTap()}if(this.preventMouseClick&&t.cancelable){t.preventDefault()}this.touching=false}checkForDoubleTap(){const t=(new Date).getTime();if(this.lastTapTime&&this.lastTapTime>0){const e=t-this.lastTapTime;if(e>this.DOUBLE_TAP_MILLIS){const t={type:"doubleTap",touchStart:this.touchStart};this.localEventService.dispatchEvent(t);this.lastTapTime=null}else{this.lastTapTime=t}}else{this.lastTapTime=t}}destroy(){this.destroyFuncs.forEach((t=>t()))}};function br(t,e){return`<span data-ref="eSort${t}" class="ag-sort-indicator-icon ag-sort-${e} ag-hidden" aria-hidden="true"></span>`}var yr=`<span class="ag-sort-indicator-container">\n        ${br("Order","order")}\n        ${br("Asc","ascending-icon")}\n        ${br("Desc","descending-icon")}\n        ${br("Mixed","mixed-icon")}\n        ${br("None","none-icon")}\n    </span>`;var Cr=class extends ur{constructor(t){super();this.eSortOrder=cr;this.eSortAsc=cr;this.eSortDesc=cr;this.eSortMixed=cr;this.eSortNone=cr;if(!t){this.setTemplate(yr)}}wireBeans(t){this.sortController=t.sortController}attachCustomElements(t,e,i,s,r){this.eSortOrder=t;this.eSortAsc=e;this.eSortDesc=i;this.eSortMixed=s;this.eSortNone=r}setupSort(t,e=false){this.column=t;this.suppressOrder=e;this.setupMultiSortIndicator();if(!this.column.isSortable()&&!this.column.getColDef().showRowGroup){return}this.addInIcon("sortAscending",this.eSortAsc,t);this.addInIcon("sortDescending",this.eSortDesc,t);this.addInIcon("sortUnSort",this.eSortNone,t);const i=this.updateIcons.bind(this);const s=this.onSortChanged.bind(this);this.addManagedPropertyListener("unSortIcon",i);this.addManagedEventListeners({newColumnsLoaded:i,sortChanged:s,columnRowGroupChanged:s});this.onSortChanged()}addInIcon(t,e,i){if(e==null){return}const s=pr(t,this.gos,i);if(s){e.appendChild(s)}}onSortChanged(){this.updateIcons();if(!this.suppressOrder){this.updateSortOrder()}}updateIcons(){const t=this.sortController.getDisplaySortForColumn(this.column);if(this.eSortAsc){const e=t==="asc";is(this.eSortAsc,e,{skipAriaHidden:true})}if(this.eSortDesc){const e=t==="desc";is(this.eSortDesc,e,{skipAriaHidden:true})}if(this.eSortNone){const e=!this.column.getColDef().unSortIcon&&!this.gos.get("unSortIcon");const i=t===null||t===void 0;is(this.eSortNone,!e&&i,{skipAriaHidden:true})}}setupMultiSortIndicator(){this.addInIcon("sortUnSort",this.eSortMixed,this.column);const t=this.column.getColDef().showRowGroup;const e=bt(this.gos);if(e&&t){this.addManagedEventListeners({sortChanged:this.updateMultiSortIndicator.bind(this),columnRowGroupChanged:this.updateMultiSortIndicator.bind(this)});this.updateMultiSortIndicator()}}updateMultiSortIndicator(){if(this.eSortMixed){const t=this.sortController.getDisplaySortForColumn(this.column)==="mixed";is(this.eSortMixed,t,{skipAriaHidden:true})}}updateSortOrder(){if(!this.eSortOrder){return}const t=this.sortController.getColumnsWithSortingOrdered();const e=this.sortController.getDisplaySortIndexForColumn(this.column)??-1;const i=t.some((t=>this.sortController.getDisplaySortIndexForColumn(t)??-1>=1));const s=e>=0&&i;is(this.eSortOrder,s,{skipAriaHidden:true});if(e>=0){this.eSortOrder.textContent=(e+1).toString()}else{fs(this.eSortOrder)}}};var xr={selector:"AG-SORT-INDICATOR",component:Cr};var kr=`<div class="ag-cell-label-container" role="presentation">\n        <span data-ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>\n        <span data-ref="eFilterButton" class="ag-header-icon ag-header-cell-filter-button" aria-hidden="true"></span>\n        <div data-ref="eLabel" class="ag-header-cell-label" role="presentation">\n            <span data-ref="eText" class="ag-header-cell-text"></span>\n            <span data-ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>\n            <ag-sort-indicator data-ref="eSortIndicator"></ag-sort-indicator>\n        </div>\n    </div>`;var Sr=class extends ur{constructor(){super(...arguments);this.eFilter=cr;this.eFilterButton=cr;this.eSortIndicator=cr;this.eMenu=cr;this.eLabel=cr;this.eText=cr;this.eSortOrder=cr;this.eSortAsc=cr;this.eSortDesc=cr;this.eSortMixed=cr;this.eSortNone=cr;this.lastMovingChanged=0}wireBeans(t){this.sortController=t.sortController;this.menuService=t.menuService;this.funcColsService=t.funcColsService}destroy(){super.destroy()}refresh(t){const e=this.params;this.params=t;if(this.workOutTemplate()!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||this.workOutSort()!=this.currentSort||this.shouldSuppressMenuHide()!=this.currentSuppressMenuHide||e.enableFilterButton!=t.enableFilterButton||e.enableFilterIcon!=t.enableFilterIcon){return false}this.setDisplayName(t);return true}workOutTemplate(){let t=this.params.template??kr;t=t&&t.trim?t.trim():t;return t}init(t){this.params=t;this.currentTemplate=this.workOutTemplate();this.setTemplate(this.currentTemplate,[xr]);this.setupTap();this.setMenu();this.setupSort();this.setupFilterIcon();this.setupFilterButton();this.setDisplayName(t)}setDisplayName(t){if(this.currentDisplayName!=t.displayName){this.currentDisplayName=t.displayName;const e=ii(this.currentDisplayName,true);if(this.eText){this.eText.textContent=e}}}addInIcon(t,e,i){if(e==null){return}const s=pr(t,this.gos,i);if(s){e.appendChild(s)}}setupTap(){const{gos:t}=this;if(t.get("suppressTouch")){return}const e=new wr(this.getGui(),true);const i=this.shouldSuppressMenuHide();const s=i&&j(this.eMenu);const r=s?new wr(this.eMenu,true):e;if(this.params.enableMenu){const t=s?"tap":"longTap";const e=t=>this.params.showColumnMenuAfterMouseClick(t.touchStart);this.addManagedListeners(r,{[t]:e})}if(this.params.enableSorting){const t=t=>{const e=t.touchStart.target;if(i&&(this.eMenu?.contains(e)||this.eFilterButton?.contains(e))){return}this.sortController.progressSort(this.params.column,false,"uiColumnSorted")};this.addManagedListeners(e,{tap:t})}if(this.params.enableFilterButton){const t=new wr(this.eFilterButton,true);this.addManagedListeners(t,{tap:()=>this.params.showFilter(this.eFilterButton)});this.addDestroyFunc((()=>t.destroy()))}this.addDestroyFunc((()=>e.destroy()));if(s){this.addDestroyFunc((()=>r.destroy()))}}workOutShowMenu(){return this.params.enableMenu&&this.menuService.isHeaderMenuButtonEnabled()}shouldSuppressMenuHide(){return this.menuService.isHeaderMenuButtonAlwaysShowEnabled()}setMenu(){if(!this.eMenu){return}this.currentShowMenu=this.workOutShowMenu();if(!this.currentShowMenu){ps(this.eMenu);this.eMenu=void 0;return}const t=this.menuService.isLegacyMenuEnabled();this.addInIcon(t?"menu":"menuAlt",this.eMenu,this.params.column);this.eMenu.classList.toggle("ag-header-menu-icon",!t);this.currentSuppressMenuHide=this.shouldSuppressMenuHide();this.addManagedElementListeners(this.eMenu,{click:()=>this.params.showColumnMenu(this.eMenu)});this.eMenu.classList.toggle("ag-header-menu-always-show",this.currentSuppressMenuHide)}onMenuKeyboardShortcut(t){const e=this.params.column;const i=this.menuService.isLegacyMenuEnabled();if(t&&!i){if(this.menuService.isFilterMenuInHeaderEnabled(e)){this.params.showFilter(this.eFilterButton??this.eMenu??this.getGui());return true}}else if(this.params.enableMenu){this.params.showColumnMenu(this.eMenu??this.eFilterButton??this.getGui());return true}return false}workOutSort(){return this.params.enableSorting}setupSort(){this.currentSort=this.params.enableSorting;if(!this.eSortIndicator){this.eSortIndicator=this.createBean(new Cr(true));this.eSortIndicator.attachCustomElements(this.eSortOrder,this.eSortAsc,this.eSortDesc,this.eSortMixed,this.eSortNone)}this.eSortIndicator.setupSort(this.params.column);if(!this.currentSort){return}this.addManagedListeners(this.params.column,{movingChanged:()=>{this.lastMovingChanged=(new Date).getTime()}});if(this.eLabel){this.addManagedElementListeners(this.eLabel,{click:t=>{const e=this.params.column.isMoving();const i=(new Date).getTime();const s=i-this.lastMovingChanged<50;const r=e||s;if(!r){const e=this.gos.get("multiSortKey")==="ctrl";const i=e?t.ctrlKey||t.metaKey:t.shiftKey;this.params.progressSort(i)}}})}const t=()=>{const t=this.params.column.getSort();this.addOrRemoveCssClass("ag-header-cell-sorted-asc",t==="asc");this.addOrRemoveCssClass("ag-header-cell-sorted-desc",t==="desc");this.addOrRemoveCssClass("ag-header-cell-sorted-none",!t);if(this.params.column.getColDef().showRowGroup){const t=this.funcColsService.getSourceColumnsForGroupColumn(this.params.column);const e=t?.every((t=>this.params.column.getSort()==t.getSort()));const i=!e;this.addOrRemoveCssClass("ag-header-cell-sorted-mixed",i)}};this.addManagedEventListeners({sortChanged:t,columnRowGroupChanged:t})}setupFilterIcon(){if(!this.eFilter){return}this.configureFilter(this.params.enableFilterIcon,this.eFilter,this.onFilterChangedIcon.bind(this))}setupFilterButton(){if(!this.eFilterButton){return}const t=this.configureFilter(this.params.enableFilterButton,this.eFilterButton,this.onFilterChangedButton.bind(this));if(t){this.addManagedElementListeners(this.eFilterButton,{click:()=>this.params.showFilter(this.eFilterButton)})}else{this.eFilterButton=void 0}}configureFilter(t,e,i){if(!t){ps(e);return false}const s=this.params.column;this.addInIcon("filter",e,s);this.addManagedListeners(s,{filterChanged:i});i();return true}onFilterChangedIcon(){const t=this.params.column.isFilterActive();is(this.eFilter,t,{skipAriaHidden:true})}onFilterChangedButton(){const t=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",t)}getAnchorElementForMenu(t){if(t){return this.eFilterButton??this.eMenu??this.getGui()}return this.eMenu??this.eFilterButton??this.getGui()}};var Dr=class extends ur{constructor(){super(`<div class="ag-header-group-cell-label" role="presentation">\n            <span data-ref="agLabel" class="ag-header-group-text" role="presentation"></span>\n            <span data-ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>\n            <span data-ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>\n        </div>`);this.agOpened=cr;this.agClosed=cr;this.agLabel=cr}wireBeans(t){this.columnModel=t.columnModel}destroy(){super.destroy()}init(t){this.params=t;this.checkWarnings();this.setupLabel();this.addGroupExpandIcon();this.setupExpandIcons()}checkWarnings(){const t=this.params;if(t.template){P(`A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)`)}}setupExpandIcons(){this.addInIcon("columnGroupOpened",this.agOpened);this.addInIcon("columnGroupClosed",this.agClosed);const t=t=>{if(ae(t)){return}const e=!this.params.columnGroup.isExpanded();this.columnModel.setColumnGroupOpened(this.params.columnGroup.getProvidedColumnGroup(),e,"uiColumnExpanded")};this.addTouchAndClickListeners(this.agClosed,t);this.addTouchAndClickListeners(this.agOpened,t);const e=t=>{ne(t)};this.addManagedElementListeners(this.agClosed,{dblclick:e});this.addManagedElementListeners(this.agOpened,{dblclick:e});this.addManagedElementListeners(this.getGui(),{dblclick:t});this.updateIconVisibility();const i=this.params.columnGroup.getProvidedColumnGroup();const s=this.updateIconVisibility.bind(this);this.addManagedListeners(i,{expandedChanged:s,expandableChanged:s})}addTouchAndClickListeners(t,e){const i=new wr(t,true);this.addManagedListeners(i,{tap:e});this.addDestroyFunc((()=>i.destroy()));this.addManagedElementListeners(t,{click:e})}updateIconVisibility(){const t=this.params.columnGroup;if(t.isExpandable()){const t=this.params.columnGroup.isExpanded();is(this.agOpened,t);is(this.agClosed,!t)}else{is(this.agOpened,false);is(this.agClosed,false)}}addInIcon(t,e){const i=pr(t,this.gos,null);if(i){e.appendChild(i)}}addGroupExpandIcon(){if(!this.params.columnGroup.isExpandable()){is(this.agOpened,false);is(this.agClosed,false);return}}setupLabel(){const{displayName:t,columnGroup:e}=this.params;if(j(t)){const e=ii(t,true);this.agLabel.textContent=e}this.addOrRemoveCssClass("ag-sticky-label",!e.getColGroupDef()?.suppressStickyLabel)}};var Mr="";var Rr="";var Fr=class extends ur{constructor(){super();this.refreshCount=0;const t=document.createElement("span");const e=document.createElement("span");e.setAttribute("class","ag-value-change-delta");const i=document.createElement("span");i.setAttribute("class","ag-value-change-value");t.appendChild(e);t.appendChild(i);this.setTemplateFromElement(t)}wireBeans(t){this.filterManager=t.filterManager}init(t){this.eValue=this.queryForHtmlElement(".ag-value-change-value");this.eDelta=this.queryForHtmlElement(".ag-value-change-delta");this.refresh(t,true)}showDelta(t,e){const i=Math.abs(e);const s=t.formatValue(i);const r=j(s)?s:i;const o=e>=0;if(o){this.eDelta.textContent=Mr+r}else{this.eDelta.textContent=Rr+r}this.eDelta.classList.toggle("ag-value-change-delta-up",o);this.eDelta.classList.toggle("ag-value-change-delta-down",!o)}setTimerToRemoveDelta(){this.refreshCount++;const t=this.refreshCount;this.getFrameworkOverrides().wrapIncoming((()=>{window.setTimeout((()=>{if(t===this.refreshCount){this.hideDeltaValue()}}),2e3)}))}hideDeltaValue(){this.eValue.classList.remove("ag-value-change-value-highlight");fs(this.eDelta)}refresh(t,e=false){const i=t.value;if(i===this.lastValue){return false}if(j(t.valueFormatted)){this.eValue.textContent=t.valueFormatted}else if(j(t.value)){this.eValue.textContent=i}else{fs(this.eValue)}if(this.filterManager?.isSuppressFlashingCellsBecauseFiltering()){return false}if(typeof i==="number"&&typeof this.lastValue==="number"){const e=i-this.lastValue;this.showDelta(t,e)}if(this.lastValue){this.eValue.classList.add("ag-value-change-value-highlight")}if(!e){this.setTimerToRemoveDelta()}this.lastValue=i;return true}};var Pr=class extends ur{constructor(){super();this.refreshCount=0;const t=document.createElement("span");const e=document.createElement("span");e.setAttribute("class","ag-value-slide-current");t.appendChild(e);this.setTemplateFromElement(t);this.eCurrent=this.queryForHtmlElement(".ag-value-slide-current")}wireBeans(t){this.filterManager=t.filterManager}init(t){this.refresh(t,true)}addSlideAnimation(){this.refreshCount++;const t=this.refreshCount;if(this.ePrevious){this.getGui().removeChild(this.ePrevious)}const e=document.createElement("span");e.setAttribute("class","ag-value-slide-previous ag-value-slide-out");this.ePrevious=e;this.ePrevious.textContent=this.eCurrent.textContent;this.getGui().insertBefore(this.ePrevious,this.eCurrent);this.getFrameworkOverrides().wrapIncoming((()=>{window.setTimeout((()=>{if(t!==this.refreshCount){return}this.ePrevious.classList.add("ag-value-slide-out-end")}),50);window.setTimeout((()=>{if(t!==this.refreshCount){return}this.getGui().removeChild(this.ePrevious);this.ePrevious=null}),3e3)}))}refresh(t,e=false){let i=t.value;if(W(i)){i=""}if(i===this.lastValue){return false}if(this.filterManager?.isSuppressFlashingCellsBecauseFiltering()){return false}if(!e){this.addSlideAnimation()}this.lastValue=i;if(j(t.valueFormatted)){this.eCurrent.textContent=t.valueFormatted}else if(j(t.value)){this.eCurrent.textContent=i}else{fs(this.eCurrent)}return true}};var zr=class{};zr.BACKSPACE="Backspace";zr.TAB="Tab";zr.ENTER="Enter";zr.ESCAPE="Escape";zr.SPACE=" ";zr.LEFT="ArrowLeft";zr.UP="ArrowUp";zr.RIGHT="ArrowRight";zr.DOWN="ArrowDown";zr.DELETE="Delete";zr.F2="F2";zr.PAGE_UP="PageUp";zr.PAGE_DOWN="PageDown";zr.PAGE_HOME="Home";zr.PAGE_END="End";zr.A="KeyA";zr.C="KeyC";zr.D="KeyD";zr.V="KeyV";zr.X="KeyX";zr.Y="KeyY";zr.Z="KeyZ";var Ir=class extends ur{constructor(t,e,i){super(e,i);this.labelSeparator="";this.labelAlignment="left";this.disabled=false;this.label="";this.config=t||{}}postConstruct(){this.addCssClass("ag-labeled");this.eLabel.classList.add("ag-label");const{labelSeparator:t,label:e,labelWidth:i,labelAlignment:s,disabled:r}=this.config;if(r!=null){this.setDisabled(r)}if(t!=null){this.setLabelSeparator(t)}if(e!=null){this.setLabel(e)}if(i!=null){this.setLabelWidth(i)}this.setLabelAlignment(s||this.labelAlignment);this.refreshLabel()}refreshLabel(){fs(this.eLabel);if(typeof this.label==="string"){this.eLabel.innerText=this.label+this.labelSeparator}else if(this.label){this.eLabel.appendChild(this.label)}if(this.label===""){is(this.eLabel,false);Pi(this.eLabel,"presentation")}else{is(this.eLabel,true);Pi(this.eLabel,null)}}setLabelSeparator(t){if(this.labelSeparator===t){return this}this.labelSeparator=t;if(this.label!=null){this.refreshLabel()}return this}getLabelId(){this.eLabel.id=this.eLabel.id||`ag-${this.getCompId()}-label`;return this.eLabel.id}getLabel(){return this.label}setLabel(t){if(this.label===t){return this}this.label=t;this.refreshLabel();return this}setLabelAlignment(t){const e=this.getGui();const i=e.classList;i.toggle("ag-label-align-left",t==="left");i.toggle("ag-label-align-right",t==="right");i.toggle("ag-label-align-top",t==="top");return this}setLabelEllipsis(t){this.eLabel.classList.toggle("ag-label-ellipsis",t);return this}setLabelWidth(t){if(this.label==null){return this}Ss(this.eLabel,t);return this}setDisabled(t){t=!!t;const e=this.getGui();rs(e,t);e.classList.toggle("ag-disabled",t);this.disabled=t;return this}isDisabled(){return!!this.disabled}};var Tr=class extends Ir{constructor(t,e,i,s){super(t,e,i);this.className=s}postConstruct(){super.postConstruct();const{width:t,value:e,onValueChange:i}=this.config;if(t!=null){this.setWidth(t)}if(e!=null){this.setValue(e)}if(i!=null){this.onValueChange(i)}if(this.className){this.addCssClass(this.className)}this.refreshAriaLabelledBy()}setLabel(t){super.setLabel(t);this.refreshAriaLabelledBy();return this}refreshAriaLabelledBy(){const t=this.getAriaElement();const e=this.getLabelId();const i=this.getLabel();if(i==null||i==""||Ii(t)!==null){Ai(t,"")}else{Ai(t,e??"")}}setAriaLabel(t){Ti(this.getAriaElement(),t);this.refreshAriaLabelledBy();return this}onValueChange(t){this.addManagedListeners(this,{fieldValueChanged:()=>t(this.getValue())});return this}getWidth(){return this.getGui().clientWidth}setWidth(t){Ds(this.getGui(),t);return this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(t,e){if(this.value===t){return this}this.previousValue=this.value;this.value=t;if(!e){this.dispatchLocalEvent({type:"fieldValueChanged"})}return this}};var Ar=class extends Tr{constructor(t,e,i="text",s="input"){super(t,t?.template??`\n            <div role="presentation">\n                <div data-ref="eLabel" class="ag-input-field-label"></div>\n                <div data-ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">\n                    <${s} data-ref="eInput" class="ag-input-field-input"></${s}>\n                </div>\n            </div>`,[],e);this.inputType=i;this.displayFieldTag=s;this.eLabel=cr;this.eWrapper=cr;this.eInput=cr}postConstruct(){super.postConstruct();this.setInputType();this.eLabel.classList.add(`${this.className}-label`);this.eWrapper.classList.add(`${this.className}-input-wrapper`);this.eInput.classList.add(`${this.className}-input`);this.addCssClass("ag-input-field");this.eInput.id=this.eInput.id||`ag-${this.getCompId()}-input`;const{inputName:t,inputWidth:e}=this.config;if(t!=null){this.setInputName(t)}if(e!=null){this.setInputWidth(e)}this.addInputListeners();this.activateTabIndex([this.eInput])}addInputListeners(){this.addManagedElementListeners(this.eInput,{input:t=>this.setValue(t.target.value)})}setInputType(){if(this.displayFieldTag==="input"){this.eInput.setAttribute("type",this.inputType)}}getInputElement(){return this.eInput}setInputWidth(t){Ss(this.eWrapper,t);return this}setInputName(t){this.getInputElement().setAttribute("name",t);return this}getFocusableElement(){return this.eInput}setMaxLength(t){const e=this.eInput;e.maxLength=t;return this}setInputPlaceholder(t){Is(this.eInput,"placeholder",t);return this}setInputAriaLabel(t){Ti(this.eInput,t);this.refreshAriaLabelledBy();return this}setDisabled(t){rs(this.eInput,t);return super.setDisabled(t)}setAutoComplete(t){if(t===true){Is(this.eInput,"autocomplete",null)}else{const e=typeof t==="string"?t:"off";Is(this.eInput,"autocomplete",e)}return this}};var Er=class extends Ar{constructor(t,e="ag-checkbox",i="checkbox"){super(t,e,i);this.labelAlignment="right";this.selected=false;this.readOnly=false;this.passive=false}postConstruct(){super.postConstruct();const{readOnly:t,passive:e}=this.config;if(typeof t==="boolean")this.setReadOnly(t);if(typeof e==="boolean")this.setPassive(e)}addInputListeners(){this.addManagedElementListeners(this.eInput,{click:this.onCheckboxClick.bind(this)});this.addManagedElementListeners(this.eLabel,{click:this.toggle.bind(this)})}getNextValue(){return this.selected===void 0?true:!this.selected}setPassive(t){this.passive=t}isReadOnly(){return this.readOnly}setReadOnly(t){this.eWrapper.classList.toggle("ag-disabled",t);this.eInput.disabled=t;this.readOnly=t}setDisabled(t){this.eWrapper.classList.toggle("ag-disabled",t);return super.setDisabled(t)}toggle(){if(this.eInput.disabled){return}const t=this.isSelected();const e=this.getNextValue();if(this.passive){this.dispatchChange(e,t)}else{this.setValue(e)}}getValue(){return this.isSelected()}setValue(t,e){this.refreshSelectedClass(t);this.setSelected(t,e);return this}setName(t){const e=this.getInputElement();e.name=t;return this}isSelected(){return this.selected}setSelected(t,e){if(this.isSelected()===t){return}this.previousValue=this.isSelected();t=this.selected=typeof t==="boolean"?t:void 0;this.eInput.checked=t;this.eInput.indeterminate=t===void 0;if(!e){this.dispatchChange(this.selected,this.previousValue)}}dispatchChange(t,e,i){this.dispatchLocalEvent({type:"fieldValueChanged",selected:t,previousValue:e,event:i});const s=this.getInputElement();this.eventService.dispatchEvent({type:"checkboxChanged",id:s.id,name:s.name,selected:t,previousValue:e})}onCheckboxClick(t){if(this.passive||this.eInput.disabled){return}const e=this.isSelected();const i=this.selected=t.target.checked;this.refreshSelectedClass(i);this.dispatchChange(i,e,t)}refreshSelectedClass(t){this.eWrapper.classList.toggle("ag-checked",t===true);this.eWrapper.classList.toggle("ag-indeterminate",t==null)}};var Nr={selector:"AG-CHECKBOX",component:Er};var Or=class extends ur{constructor(){super(`\n            <div class="ag-cell-wrapper ag-checkbox-cell" role="presentation">\n                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>\n            </div>`,[Nr]);this.eCheckbox=cr}init(t){this.refresh(t);const e=this.eCheckbox.getInputElement();e.setAttribute("tabindex","-1");Ei(e,"polite");this.addManagedListeners(e,{click:t=>{ne(t);if(this.eCheckbox.isDisabled()){return}const e=this.eCheckbox.getValue();this.onCheckboxChanged(e)},dblclick:t=>{ne(t)}});this.addManagedElementListeners(this.params.eGridCell,{keydown:t=>{if(t.key===zr.SPACE&&!this.eCheckbox.isDisabled()){if(this.params.eGridCell===pt(this.gos)){this.eCheckbox.toggle()}const e=this.eCheckbox.getValue();this.onCheckboxChanged(e);t.preventDefault()}}})}refresh(t){this.params=t;this.updateCheckbox(t);return true}updateCheckbox(t){let e;let i=true;if(t.node.group&&t.column){if(typeof t.value==="boolean"){e=t.value}else{const s=t.column.getColId();if(s.startsWith(be)){e=t.value==null||t.value===""?void 0:t.value==="true"}else if(t.node.aggData&&t.node.aggData[s]!==void 0){e=t.value??void 0}else{i=false}}}else{e=t.value??void 0}if(!i){this.eCheckbox.setDisplayed(false);return}this.eCheckbox.setValue(e);const s=t.disabled!=null?t.disabled:!t.column?.isCellEditable(t.node);this.eCheckbox.setDisabled(s);const r=this.localeService.getLocaleTextFunc();const o=Ji(r,e);const n=s?o:`${r("ariaToggleCellValue","Press SPACE to toggle cell value")} (${o})`;this.eCheckbox.setInputAriaLabel(n)}onCheckboxChanged(t){const{column:e,node:i,value:s}=this.params;this.eventService.dispatchEvent({type:"cellEditingStarted",column:e,colDef:e?.getColDef(),data:i.data,node:i,rowIndex:i.rowIndex,rowPinned:i.rowPinned,value:s});const r=this.params.node.setDataValue(this.params.column,t,"edit");this.eventService.dispatchEvent({type:"cellEditingStopped",column:e,colDef:e?.getColDef(),data:i.data,node:i,rowIndex:i.rowIndex,rowPinned:i.rowPinned,value:s,oldValue:s,newValue:t,valueChanged:r});if(!r){this.updateCheckbox(this.params)}}};var Lr=class extends ur{constructor(){super(`<div class="ag-loading">\n            <span class="ag-loading-icon" data-ref="eLoadingIcon"></span>\n            <span class="ag-loading-text" data-ref="eLoadingText"></span>\n        </div>`);this.eLoadingIcon=cr;this.eLoadingText=cr}init(t){t.node.failedLoad?this.setupFailed():this.setupLoading()}setupFailed(){const t=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=t("loadingError","ERR")}setupLoading(){const t=pr("groupLoading",this.gos,null);if(t){this.eLoadingIcon.appendChild(t)}const e=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=e("loadingOoo","Loading")}refresh(t){return false}destroy(){super.destroy()}};var Gr=class extends ur{constructor(){super(`<div class="ag-skeleton-container"></div>`)}init(t){const e=`ag-cell-skeleton-renderer-${this.getCompId()}`;this.getGui().setAttribute("id",e);this.addDestroyFunc((()=>Ai(t.eParentOfValue)));Ai(t.eParentOfValue,e);t.node.failedLoad?this.setupFailed():this.setupLoading(t)}setupFailed(){const t=this.localeService.getLocaleTextFunc();this.getGui().innerText=t("loadingError","ERR");const e=t("ariaSkeletonCellLoadingFailed","Row failed to load");Ti(this.getGui(),e)}setupLoading(t){const e=dt(this.gos);const i=e.createElement("div");i.classList.add("ag-skeleton-effect");const s=t.node.rowIndex;if(s!=null){const t=75+25*(s%2===0?Math.sin(s):Math.cos(s));i.style.width=`${t}%`}this.getGui().appendChild(i);const r=this.localeService.getLocaleTextFunc();const o=r("ariaSkeletonCellLoading","Row data is loading");Ti(this.getGui(),o)}refresh(t){return false}destroy(){super.destroy()}};var Hr=class extends ur{constructor(){super()}destroy(){super.destroy()}};var Br=class extends Hr{init(){const t=V(this.gos.get("overlayLoadingTemplate")?.trim());this.setTemplate(t??`<span aria-live="polite" aria-atomic="true" class="ag-overlay-loading-center"></span>`);if(!t){const t=this.localeService.getLocaleTextFunc();setTimeout((()=>{this.getGui().textContent=t("loadingOoo","Loading...")}))}}};var Vr=class extends Hr{init(){const t=V(this.gos.get("overlayNoRowsTemplate")?.trim());this.setTemplate(t??`<span class="ag-overlay-no-rows-center"></span>`);if(!t){const t=this.localeService.getLocaleTextFunc();setTimeout((()=>{this.getGui().textContent=t("noRowsToShow","No Rows To Show")}))}}};var jr=class extends ur{isPopup(){return true}setParentComponent(t){t.addCssClass("ag-has-popup");super.setParentComponent(t)}destroy(){const t=this.parentComponent;const e=t&&t.isAlive();if(e){t.getGui().classList.remove("ag-has-popup")}super.destroy()}};var Wr=class extends jr{constructor(){super(`<div class="ag-tooltip"></div>`)}init(t){const{value:e}=t;this.getGui().textContent=ii(e,true)}};function Ur(t){const{inputValue:e,allSuggestions:i,hideIrrelevant:s,filterByPercentageOfBestMatch:r,addSequentialWeight:o}=t;let n=i.map(((t,i)=>({value:t,relevance:Qr(e.toLowerCase(),t.toLocaleLowerCase(),o),idx:i})));n.sort(((t,e)=>e.relevance-t.relevance));if(s){n=n.filter((t=>t.relevance!==0))}if(n.length>0&&r&&r>0){const t=n[0].relevance;const e=t*r;n=n.filter((t=>e-t.relevance<0))}const a=[];const l=[];for(const t of n){a.push(t.value);l.push(t.idx)}return{values:a,indices:l}}function $r(t){const e=[];const i=t.length;for(let s=1;s<=i;s++){for(let r=0;r<=i-s;r++){const i=r+s-1;e.push(t.slice(r,i+1))}}return e}function Qr(t,e,i=false){const s=t.replace(/\s/g,"");const r=e.replace(/\s/g,"");const o=s.length;const n=r.length;const a=new Array(o+1).fill(null).map((()=>new Array(n+1).fill(0)));for(let t=0;t<=o;t+=1){a[t][0]=t}for(let t=0;t<=n;t+=1){a[0][t]=t}for(let t=1;t<=o;t++){for(let e=1;e<=n;e++){if(s[t-1]===r[e-1]){a[t][e]=a[t-1][e-1]}else{a[t][e]=1+Math.min(a[t][e-1],Math.min(a[t-1][e],a[t-1][e-1]))}}}const l=a[o][n];const h=Math.max(o,n);let c=h-l;if(i){const t=$r(s);for(let e=0;e<t.length;e++){const i=t[e];if(r.indexOf(i)!==-1){c+=1;c*=i.length}}}return c}var Kr=class extends fe{constructor(){super(...arguments);this.beanName="userComponentRegistry";this.agGridDefaults={agDragAndDropImage:mr,agColumnHeader:Sr,agColumnGroupHeader:Dr,agSortIndicator:Cr,agAnimateShowChangeCellRenderer:Fr,agAnimateSlideCellRenderer:Pr,agLoadingCellRenderer:Lr,agSkeletonCellRenderer:Gr,agCheckboxCellRenderer:Or,agLoadingOverlay:Br,agNoRowsOverlay:Vr,agTooltipComponent:Wr};this.agGridDefaultParams={};this.enterpriseAgDefaultCompsModule={agSetColumnFilter:"@ag-grid-enterprise/set-filter",agSetColumnFloatingFilter:"@ag-grid-enterprise/set-filter",agMultiColumnFilter:"@ag-grid-enterprise/multi-filter",agMultiColumnFloatingFilter:"@ag-grid-enterprise/multi-filter",agGroupColumnFilter:"@ag-grid-enterprise/row-grouping",agGroupColumnFloatingFilter:"@ag-grid-enterprise/row-grouping",agGroupCellRenderer:"@ag-grid-enterprise/row-grouping",agGroupRowRenderer:"@ag-grid-enterprise/row-grouping",agRichSelect:"@ag-grid-enterprise/rich-select",agRichSelectCellEditor:"@ag-grid-enterprise/rich-select",agDetailCellRenderer:"@ag-grid-enterprise/master-detail",agSparklineCellRenderer:"@ag-grid-enterprise/sparklines"};this.jsComps={}}postConstruct(){const t=this.gos.get("components");if(t!=null){Fe(t,((t,e)=>this.registerJsComponent(t,e)))}}registerDefaultComponent(t,e,i){this.agGridDefaults[t]=e;if(i){this.agGridDefaultParams[t]=i}}registerJsComponent(t,e){this.jsComps[t]=e}retrieve(t,e){const i=(t,e,i)=>({componentFromFramework:e,component:t,params:i});const s=this.getFrameworkOverrides().frameworkComponent(e,this.gos.get("components"));if(s!=null){return i(s,true)}const r=this.jsComps[e];if(r){const t=this.getFrameworkOverrides().isFrameworkComponent(r);return i(r,t)}const o=this.agGridDefaults[e];if(o){return i(o,false,this.agGridDefaultParams[e])}const n=this.enterpriseAgDefaultCompsModule[e];if(n){this.gos.assertModuleRegistered(n,`AG Grid '${t}' component: ${e}`)}else{R((()=>{this.warnAboutMissingComponent(t,e)}),"MissingComp"+e)}return null}warnAboutMissingComponent(t,e){const i=[...Object.keys(this.agGridDefaults).filter((t=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(t))),...Object.keys(this.jsComps)];const s=Ur({inputValue:e,allSuggestions:i,hideIrrelevant:true,filterByPercentageOfBestMatch:.8}).values;P(`Could not find '${e}' component. It was configured as "${t}: '${e}'" but it wasn't found in the list of registered components.`);if(s.length>0){P(`         Did you mean: [${s.slice(0,3)}]?`)}P(`If using a custom component check it has been registered as described in: ${this.getFrameworkOverrides().getDocLink("components/")}`)}};var Yr=class t{constructor(t){this.status=0;this.resolution=null;this.waiters=[];t((t=>this.onDone(t)),(t=>this.onReject(t)))}static all(e){return e.length?new t((t=>{let i=e.length;const s=new Array(i);e.forEach(((e,r)=>{e.then((e=>{s[r]=e;i--;if(i===0){t(s)}}))}))})):t.resolve()}static resolve(e=null){return new t((t=>t(e)))}then(e){return new t((t=>{if(this.status===1){t(e(this.resolution))}else{this.waiters.push((i=>t(e(i))))}}))}onDone(t){this.status=1;this.resolution=t;this.waiters.forEach((e=>e(t)))}onReject(t){}};var qr={propertyName:"dateComponent",cellRenderer:false};var Zr={propertyName:"dragAndDropImageComponent",cellRenderer:false};var _r={propertyName:"headerComponent",cellRenderer:false};var Jr={propertyName:"headerGroupComponent",cellRenderer:false};var Xr={propertyName:"cellRenderer",cellRenderer:true};var to={propertyName:"cellRenderer",cellRenderer:false};var eo={propertyName:"loadingCellRenderer",cellRenderer:true};var io={propertyName:"cellEditor",cellRenderer:false};var so={propertyName:"innerRenderer",cellRenderer:true};var ro={propertyName:"loadingOverlayComponent",cellRenderer:false};var oo={propertyName:"noRowsOverlayComponent",cellRenderer:false};var no={propertyName:"tooltipComponent",cellRenderer:false};var ao={propertyName:"filter",cellRenderer:false};var lo={propertyName:"floatingFilterComponent",cellRenderer:false};var ho={propertyName:"toolPanel",cellRenderer:false};var co={propertyName:"statusPanel",cellRenderer:false};var uo={propertyName:"fullWidthCellRenderer",cellRenderer:true};var go={propertyName:"loadingCellRenderer",cellRenderer:true};var fo={propertyName:"groupRowRenderer",cellRenderer:true};var po={propertyName:"detailCellRenderer",cellRenderer:true};var mo={propertyName:"menuItem",cellRenderer:false};var vo=class t extends fe{constructor(){super(...arguments);this.beanName="userComponentFactory"}wireBeans(t){this.agComponentUtils=t.agComponentUtils;this.componentMetadataProvider=t.componentMetadataProvider;this.userComponentRegistry=t.userComponentRegistry;this.frameworkComponentWrapper=t.frameworkComponentWrapper;this.gridOptions=t.gridOptions}getDragAndDropImageCompDetails(t){return this.getCompDetails(this.gridOptions,Zr,"agDragAndDropImage",t,true)}getHeaderCompDetails(t,e){return this.getCompDetails(t,_r,"agColumnHeader",e)}getHeaderGroupCompDetails(t){const e=t.columnGroup.getColGroupDef();return this.getCompDetails(e,Jr,"agColumnGroupHeader",t)}getFullWidthCellRendererDetails(t){return this.getCompDetails(this.gridOptions,uo,null,t,true)}getFullWidthLoadingCellRendererDetails(t){return this.getCompDetails(this.gridOptions,go,"agLoadingCellRenderer",t,true)}getFullWidthGroupCellRendererDetails(t){return this.getCompDetails(this.gridOptions,fo,"agGroupRowRenderer",t,true)}getFullWidthDetailCellRendererDetails(t){return this.getCompDetails(this.gridOptions,po,"agDetailCellRenderer",t,true)}getInnerRendererDetails(t,e){return this.getCompDetails(t,so,null,e)}getFullWidthGroupRowInnerCellRenderer(t,e){return this.getCompDetails(t,so,null,e)}getCellRendererDetails(t,e){return this.getCompDetails(t,Xr,null,e)}getEditorRendererDetails(t,e){return this.getCompDetails(t,to,null,e)}getLoadingCellRendererDetails(t,e){return this.getCompDetails(t,eo,"agSkeletonCellRenderer",e,true)}getCellEditorDetails(t,e){return this.getCompDetails(t,io,"agCellEditor",e,true)}getFilterDetails(t,e,i){return this.getCompDetails(t,ao,i,e,true)}getDateCompDetails(t){return this.getCompDetails(this.gridOptions,qr,"agDateInput",t,true)}getLoadingOverlayCompDetails(t){return this.getCompDetails(this.gridOptions,ro,"agLoadingOverlay",t,true)}getNoRowsOverlayCompDetails(t){return this.getCompDetails(this.gridOptions,oo,"agNoRowsOverlay",t,true)}getTooltipCompDetails(t){return this.getCompDetails(t.colDef,no,"agTooltipComponent",t,true)}getSetFilterCellRendererDetails(t,e){return this.getCompDetails(t,Xr,null,e)}getFloatingFilterCompDetails(t,e,i){return this.getCompDetails(t,lo,i,e)}getToolPanelCompDetails(t,e){return this.getCompDetails(t,ho,null,e,true)}getStatusPanelCompDetails(t,e){return this.getCompDetails(t,co,null,e,true)}getMenuItemCompDetails(t,e){return this.getCompDetails(t,mo,"agMenuItem",e,true)}getCompDetails(e,i,s,r,o=false){const{propertyName:n,cellRenderer:a}=i;let{compName:l,jsComp:h,fwComp:c,paramsFromSelector:u,popupFromSelector:d,popupPositionFromSelector:g}=t.getCompKeys(this.frameworkOverrides,e,i,r);let f;const p=t=>{const e=this.userComponentRegistry.retrieve(n,t);if(e){h=!e.componentFromFramework?e.component:void 0;c=e.componentFromFramework?e.component:void 0;f=e.params}};if(l!=null){p(l)}if(h==null&&c==null&&s!=null){p(s)}if(h&&a&&!this.agComponentUtils.doesImplementIComponent(h)){h=this.agComponentUtils.adaptFunction(n,h)}if(!h&&!c){if(o){z(`Could not find component ${l}, did you forget to configure this component?`)}return}const m=this.mergeParamsWithApplicationProvidedParams(e,i,r,u,f);const v=h==null;const w=h?h:c;return{componentFromFramework:v,componentClass:w,params:m,type:i,popupFromSelector:d,popupPositionFromSelector:g,newAgStackInstance:()=>this.newAgStackInstance(w,v,m,i)}}static getCompKeys(t,e,i,s){const{propertyName:r}=i;let o;let n;let a;let l;let h;let c;if(e){const i=e;const u=i[r+"Selector"];const d=u?u(s):null;const g=e=>{if(typeof e==="string"){o=e}else if(e!=null&&e!==true){const i=t.isFrameworkComponent(e);if(i){a=e}else{n=e}}};if(d){g(d.component);l=d.params;h=d.popup;c=d.popupPosition}else{g(i[r])}}return{compName:o,jsComp:n,fwComp:a,paramsFromSelector:l,popupFromSelector:h,popupPositionFromSelector:c}}newAgStackInstance(t,e,i,s){const r=s.propertyName;const o=!e;let n;if(o){n=new t}else{const e=this.componentMetadataProvider.retrieve(r);n=this.frameworkComponentWrapper.wrap(t,e.mandatoryMethodList,e.optionalMethodList,s)}const a=this.initComponent(n,i);if(a==null){return Yr.resolve(n)}return a.then((()=>n))}mergeParamsWithApplicationProvidedParams(t,e,i,s=null,r){const o=this.gos.getGridCommonParams();Te(o,i);if(r){Te(o,r)}const n=t;const a=n&&n[e.propertyName+"Params"];if(typeof a==="function"){const t=a(i);Te(o,t)}else if(typeof a==="object"){Te(o,a)}Te(o,s);return o}initComponent(t,e){this.createBean(t);if(t.init==null){return}return t.init(e)}};function wo(t){const e=t;const i=e!=null&&e.getFrameworkComponentInstance!=null;return i?e.getFrameworkComponentInstance():t}var bo=class t{static register(e){t.__register(e,true,void 0)}static registerModules(e){t.__registerModules(e,true,void 0)}static __register(e,i,s){t.runVersionChecks(e);if(s!==void 0){t.areGridScopedModules=true;if(t.gridModulesMap[s]===void 0){t.gridModulesMap[s]={}}t.gridModulesMap[s][e.moduleName]=e}else{t.globalModulesMap[e.moduleName]=e}t.setModuleBased(i)}static __unRegisterGridModules(e){delete t.gridModulesMap[e]}static __registerModules(e,i,s){t.setModuleBased(i);if(!e){return}e.forEach((e=>t.__register(e,i,s)))}static isValidModuleVersion(e){const[i,s]=e.version.split(".")||[];const[r,o]=t.currentModuleVersion.split(".")||[];return i===r&&s===o}static runVersionChecks(e){if(!t.currentModuleVersion){t.currentModuleVersion=e.version}const i=t=>`You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. ${t} Please update all modules to the same version.`;if(!e.version){z(i(`'${e.moduleName}' is incompatible.`))}else if(!t.isValidModuleVersion(e)){z(i(`'${e.moduleName}' is version ${e.version} but the other modules are version ${t.currentModuleVersion}.`))}if(e.validate){const t=e.validate();if(!t.isValid){const e=t;z(`${e.message}`)}}}static setModuleBased(e){if(t.moduleBased===void 0){t.moduleBased=e}else{if(t.moduleBased!==e){z(`AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms.`);z("Please see https://www.ag-grid.com/javascript-grid/modules/ for more information.")}}}static __setIsBundled(){t.isBundled=true}static __assertRegistered(e,i,s){if(this.__isRegistered(e,s)){return true}let r;if(t.isBundled){{r=`AG Grid: unable to use ${i} as 'ag-grid-enterprise' has not been loaded. Check you are using the Enterprise bundle:\n        \n        <script src="https://cdn.jsdelivr.net/npm/ag-grid-enterprise@AG_GRID_VERSION/dist/ag-grid-enterprise.min.js"><\/script>\n        \nFor more info see: https://ag-grid.com/javascript-data-grid/getting-started/#getting-started-with-ag-grid-enterprise`}}else if(t.moduleBased||t.moduleBased===void 0){const o=Object.entries(D).find((([t,i])=>i===e))?.[0];r=`AG Grid: unable to use ${i} as the ${o} is not registered${t.areGridScopedModules?` for gridId: ${s}`:""}. Check if you have registered the module:\n           \n    import { ModuleRegistry } from '@ag-grid-community/core';\n    import { ${o} } from '${e}';\n    \n    ModuleRegistry.registerModules([ ${o} ]);\n\nFor more info see: https://www.ag-grid.com/javascript-grid/modules/`}else{r=`AG Grid: unable to use ${i} as package 'ag-grid-enterprise' has not been imported. Check that you have imported the package:\n            \n    import 'ag-grid-enterprise';`}z(r);return false}static __isRegistered(e,i){return!!t.globalModulesMap[e]||!!t.gridModulesMap[i]?.[e]}static __getRegisteredModules(e){return[..._(t.globalModulesMap),..._(t.gridModulesMap[e]||{})]}static __getGridRegisteredModules(e){return _(t.gridModulesMap[e]??{})||[]}static __isPackageBased(){return!t.moduleBased}};bo.globalModulesMap={};bo.gridModulesMap={};bo.areGridScopedModules=false;var yo=bo;var Co=class{constructor(t){this.beans={};this.createdBeans=[];this.destroyed=false;if(!t||!t.beanClasses){return}this.beanDestroyComparator=t.beanDestroyComparator;this.init(t)}init(t){Object.entries(t.providedBeanInstances).forEach((([t,e])=>{this.beans[t]=e}));t.beanClasses.forEach((t=>{const e=new t;if(e.beanName){this.beans[e.beanName]=e}else{console.error(`Bean ${t.name} is missing beanName`)}this.createdBeans.push(e)}));t.derivedBeans?.forEach((t=>{const{beanName:e,bean:i}=t(this);this.beans[e]=i;this.createdBeans.push(i)}));if(t.beanInitComparator){this.createdBeans.sort(t.beanInitComparator)}this.initBeans(this.createdBeans)}getBeanInstances(){return Object.values(this.beans)}createBean(t,e){if(!t){throw Error(`Can't wire to bean since it is null`)}this.initBeans([t],e);return t}initBeans(t,e){t.forEach((t=>{t.preWireBeans?.(this.beans);t.wireBeans?.(this.beans)}));t.forEach((t=>t.preConstruct?.()));if(e){t.forEach(e)}t.forEach((t=>t.postConstruct?.()))}getBeans(){return this.beans}getBean(t){return this.beans[t]}destroy(){if(this.destroyed){return}this.destroyed=true;const t=this.getBeanInstances();if(this.beanDestroyComparator){t.sort(this.beanDestroyComparator)}this.destroyBeans(t);this.beans={};this.createdBeans=[]}destroyBean(t){t?.destroy?.()}destroyBeans(t){if(t){for(let e=0;e<t.length;e++){this.destroyBean(t[e])}}return[]}isDestroyed(){return this.destroyed}};var xo=class extends Co{init(t){this.gridId=t.gridId;this.beans.context=this;super.init(t)}destroy(){super.destroy();yo.__unRegisterGridModules(this.gridId)}getGridId(){return this.gridId}};var ko=(t=>{t[t["Left"]=0]="Left";t[t["Right"]=1]="Right";return t})(ko||{});var So=class extends fe{constructor(){super(...arguments);this.beanName="dragAndDropService";this.dragSourceAndParamsList=[];this.dropTargets=[]}wireBeans(t){this.ctrlsService=t.ctrlsService;this.dragService=t.dragService;this.mouseEventService=t.mouseEventService;this.environment=t.environment;this.userComponentFactory=t.userComponentFactory}addDragSource(t,e=false){const i={eElement:t.eElement,dragStartPixels:t.dragStartPixels,onDragStart:this.onDragStart.bind(this,t),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),onDragCancel:this.onDragCancel.bind(this),includeTouch:e};this.dragSourceAndParamsList.push({params:i,dragSource:t});this.dragService.addDragSource(i)}getDragAndDropImageComponent(){const{dragAndDropImageComp:t}=this;if(!t||!t.comp){return null}return t.comp}removeDragSource(t){const e=this.dragSourceAndParamsList.find((e=>e.dragSource===t));if(e){this.dragService.removeDragSource(e.params);qt(this.dragSourceAndParamsList,e)}}destroy(){this.dragSourceAndParamsList.forEach((t=>this.dragService.removeDragSource(t.params)));this.dragSourceAndParamsList.length=0;this.dropTargets.length=0;this.clearDragAndDropProperties();super.destroy()}nudge(){if(this.dragging){this.onDragging(this.eventLastTime,true)}}onDragStart(t,e){this.dragging=true;this.dragSource=t;this.eventLastTime=e;this.dragItem=this.dragSource.getDragItem();this.dragSource.onDragStarted?.();this.createDragAndDropImageComponent()}onDragStop(t){this.dragSource?.onDragStopped?.();if(this.lastDropTarget?.onDragStop){const e=this.createDropTargetEvent(this.lastDropTarget,t,null,null,false);this.lastDropTarget.onDragStop(e)}this.clearDragAndDropProperties()}onDragCancel(){this.dragSource?.onDragCancelled?.();if(this.lastDropTarget?.onDragCancel){this.lastDropTarget.onDragCancel(this.createDropTargetEvent(this.lastDropTarget,this.eventLastTime,null,null,false))}this.clearDragAndDropProperties()}clearDragAndDropProperties(){this.eventLastTime=null;this.dragging=false;this.lastDropTarget=void 0;this.dragItem=null;this.dragSource=null;this.removeDragAndDropImageComponent()}onDragging(t,e=false){const i=this.getHorizontalDirection(t);const s=this.getVerticalDirection(t);this.eventLastTime=t;this.positionDragAndDropImageComp(t);const r=this.dropTargets.filter((e=>this.isMouseOnDropTarget(t,e)));const o=this.findCurrentDropTarget(t,r);if(o!==this.lastDropTarget){this.leaveLastTargetIfExists(t,i,s,e);if(this.lastDropTarget!==null&&o===null){this.dragSource?.onGridExit?.(this.dragItem)}if(this.lastDropTarget===null&&o!==null){this.dragSource?.onGridEnter?.(this.dragItem)}this.enterDragTargetIfExists(o,t,i,s,e);if(o&&this.dragAndDropImageComp){const{comp:t,promise:e}=this.dragAndDropImageComp;if(t){t.setIcon(o.getIconName?o.getIconName():null)}else{e.then((t=>{if(t){t.setIcon(o.getIconName?o.getIconName():null)}}))}}this.lastDropTarget=o}else if(o&&o.onDragging){const r=this.createDropTargetEvent(o,t,i,s,e);o.onDragging(r)}}getAllContainersFromDropTarget(t){const e=t.getSecondaryContainers?t.getSecondaryContainers():null;const i=[[t.getContainer()]];return e?i.concat(e):i}allContainersIntersect(t,e){for(const i of e){const{width:e,height:s,left:r,right:o,top:n,bottom:a}=i.getBoundingClientRect();if(e===0||s===0){return false}const l=t.clientX>=r&&t.clientX<o;const h=t.clientY>=n&&t.clientY<a;if(!l||!h){return false}}return true}isMouseOnDropTarget(t,e){const i=this.getAllContainersFromDropTarget(e);let s=false;for(const e of i){if(this.allContainersIntersect(t,e)){s=true;break}}const{eElement:r,type:o}=this.dragSource;if(e.targetContainsSource&&!e.getContainer().contains(r)){return false}return s&&e.isInterestedIn(o,r)}findCurrentDropTarget(t,e){const i=e.length;if(i===0){return null}if(i===1){return e[0]}const s=ft(this.gos);const r=s.elementsFromPoint(t.clientX,t.clientY);for(const t of r){for(const i of e){const e=ee(this.getAllContainersFromDropTarget(i));if(e.indexOf(t)!==-1){return i}}}return null}enterDragTargetIfExists(t,e,i,s,r){if(!t){return}if(t.onDragEnter){const o=this.createDropTargetEvent(t,e,i,s,r);t.onDragEnter(o)}}leaveLastTargetIfExists(t,e,i,s){if(!this.lastDropTarget){return}if(this.lastDropTarget.onDragLeave){const r=this.createDropTargetEvent(this.lastDropTarget,t,e,i,s);this.lastDropTarget.onDragLeave(r)}const r=this.getDragAndDropImageComponent();if(r){r.setIcon(null)}}addDropTarget(t){this.dropTargets.push(t)}removeDropTarget(t){this.dropTargets=this.dropTargets.filter((e=>e.getContainer()!==t.getContainer()))}hasExternalDropZones(){return this.dropTargets.some((t=>t.external))}findExternalZone(t){const e=this.dropTargets.filter((t=>t.external));return e.find((e=>e.getContainer()===t.getContainer()))||null}isDropZoneWithinThisGrid(t){const e=this.ctrlsService.getGridBodyCtrl();const i=e.getGui();const{dropZoneTarget:s}=t;return i.contains(s)}getHorizontalDirection(t){const e=this.eventLastTime&&this.eventLastTime.clientX;const i=t.clientX;if(e===i){return null}return e>i?0:1}getVerticalDirection(t){const e=this.eventLastTime&&this.eventLastTime.clientY;const i=t.clientY;if(e===i){return null}return e>i?0:1}createDropTargetEvent(t,e,i,s,r){const o=t.getContainer();const n=o.getBoundingClientRect();const{dragItem:a,dragSource:l}=this;const h=e.clientX-n.left;const c=e.clientY-n.top;return this.gos.addGridCommonParams({event:e,x:h,y:c,vDirection:s,hDirection:i,dragSource:l,fromNudge:r,dragItem:a,dropZoneTarget:o})}positionDragAndDropImageComp(t){const e=this.getDragAndDropImageComponent();if(!e){return}const i=e.getGui();const s=i.getBoundingClientRect();const r=s.height;const o=Js()-2;const n=Xs()-2;const a=i.offsetParent;if(!a){return}const l=us(i.offsetParent);const{clientY:h,clientX:c}=t;let u=h-l.top-r/2;let d=c-l.left-10;const g=dt(this.gos);const f=g.defaultView||window;const p=f.pageYOffset||g.documentElement.scrollTop;const m=f.pageXOffset||g.documentElement.scrollLeft;if(o>0&&d+i.clientWidth>o+m){d=o+m-i.clientWidth}if(d<0){d=0}if(n>0&&u+i.clientHeight>n+p){u=n+p-i.clientHeight}if(u<0){u=0}i.style.left=`${d}px`;i.style.top=`${u}px`}removeDragAndDropImageComponent(){if(this.dragAndDropImageComp){const{comp:t}=this.dragAndDropImageComp;if(t){const e=t.getGui();if(this.dragAndDropImageParent){this.dragAndDropImageParent.removeChild(e)}this.destroyBean(t)}}this.dragAndDropImageComp=null}createDragAndDropImageComponent(){const{dragSource:t}=this;if(!t){return}const e=this.userComponentFactory.getDragAndDropImageCompDetails({dragSource:t});const i=e.newAgStackInstance();this.dragAndDropImageComp={promise:i};i.then((t=>{if(!t||!this.isAlive()){return}this.processDragAndDropImageComponent(t);this.dragAndDropImageComp.comp=t}))}processDragAndDropImageComponent(t){const{dragSource:e,mouseEventService:i,environment:s}=this;if(!e){return}const r=t.getGui();r.style.setProperty("position","absolute");r.style.setProperty("z-index","9999");i.stampTopLevelGridCompWithGridInstance(r);s.applyThemeClasses(r);t.setIcon(null);let{dragItemName:o}=e;if(I(o)){o=o()}t.setLabel(o||"");r.style.top="20px";r.style.left="20px";const n=dt(this.gos);let a=null;let l=null;try{a=n.fullscreenElement}catch(t){}finally{if(!a){a=ft(this.gos)}const t=a.querySelector("body");if(t){l=t}else if(a instanceof ShadowRoot){l=a}else if(a instanceof Document){l=a?.documentElement}else{l=a}}this.dragAndDropImageParent=l;if(!l){P("Could not find document body, it is needed for drag and drop.")}else{l.appendChild(r)}}};var Do=class{constructor(t){this.tickingInterval=null;this.onScrollCallback=null;this.scrollContainer=t.scrollContainer;this.scrollHorizontally=t.scrollAxis.indexOf("x")!==-1;this.scrollVertically=t.scrollAxis.indexOf("y")!==-1;this.scrollByTick=t.scrollByTick!=null?t.scrollByTick:20;if(t.onScrollCallback){this.onScrollCallback=t.onScrollCallback}if(this.scrollVertically){this.getVerticalPosition=t.getVerticalPosition;this.setVerticalPosition=t.setVerticalPosition}if(this.scrollHorizontally){this.getHorizontalPosition=t.getHorizontalPosition;this.setHorizontalPosition=t.setHorizontalPosition}this.shouldSkipVerticalScroll=t.shouldSkipVerticalScroll||(()=>false);this.shouldSkipHorizontalScroll=t.shouldSkipHorizontalScroll||(()=>false)}check(t,e=false){const i=e||this.shouldSkipVerticalScroll();if(i&&this.shouldSkipHorizontalScroll()){return}const s=this.scrollContainer.getBoundingClientRect();const r=this.scrollByTick;this.tickLeft=t.clientX<s.left+r;this.tickRight=t.clientX>s.right-r;this.tickUp=t.clientY<s.top+r&&!i;this.tickDown=t.clientY>s.bottom-r&&!i;if(this.tickLeft||this.tickRight||this.tickUp||this.tickDown){this.ensureTickingStarted()}else{this.ensureCleared()}}ensureTickingStarted(){if(this.tickingInterval===null){this.tickingInterval=window.setInterval(this.doTick.bind(this),100);this.tickCount=0}}doTick(){this.tickCount++;const t=this.tickCount>20?200:this.tickCount>10?80:40;if(this.scrollVertically){const e=this.getVerticalPosition();if(this.tickUp){this.setVerticalPosition(e-t)}if(this.tickDown){this.setVerticalPosition(e+t)}}if(this.scrollHorizontally){const e=this.getHorizontalPosition();if(this.tickLeft){this.setHorizontalPosition(e-t)}if(this.tickRight){this.setHorizontalPosition(e+t)}}if(this.onScrollCallback){this.onScrollCallback()}}ensureCleared(){if(this.tickingInterval){window.clearInterval(this.tickingInterval);this.tickingInterval=null}}};var Mo=class extends fe{wireBeans(t){this.dragAndDropService=t.dragAndDropService;this.rowModel=t.rowModel;this.pageBoundsService=t.pageBoundsService;this.focusService=t.focusService;this.sortController=t.sortController;this.filterManager=t.filterManager;this.selectionService=t.selectionService;this.mouseEventService=t.mouseEventService;this.ctrlsService=t.ctrlsService;this.funcColsService=t.funcColsService;this.rangeService=t.rangeService}constructor(t){super();this.eContainer=t}postConstruct(){if(X(this.gos)){this.clientSideRowModel=this.rowModel}this.ctrlsService.whenReady(this,(t=>{const e=t.gridBodyCtrl;this.autoScrollService=new Do({scrollContainer:e.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:()=>e.getScrollFeature().getVScrollPosition().top,setVerticalPosition:t=>e.getScrollFeature().setVerticalScrollPosition(t),onScrollCallback:()=>{this.onDragging(this.lastDraggingEvent)}})}))}getContainer(){return this.eContainer}isInterestedIn(t){return t===2}getIconName(){const t=this.gos.get("rowDragManaged");if(t&&this.shouldPreventRowMove()){return"notAllowed"}return"move"}shouldPreventRowMove(){const t=this.funcColsService.getRowGroupColumns();if(t.length){return true}const e=this.filterManager?.isAnyFilterPresent();if(e){return true}const i=this.sortController.isSortActive();if(i){return true}return false}getRowNodes(t){if(!this.isFromThisGrid(t)){return t.dragItem.rowNodes||[]}const e=t.dragItem.rowNode;const i=this.gos.get("rowDragMultiRow");if(i){const t=[...this.selectionService.getSelectedNodes()].sort(((t,e)=>{if(t.rowIndex==null||e.rowIndex==null){return 0}return this.getRowIndexNumber(t)-this.getRowIndexNumber(e)}));if(t.indexOf(e)!==-1){return t}}return[e]}onDragEnter(t){t.dragItem.rowNodes=this.getRowNodes(t);this.dispatchGridEvent("rowDragEnter",t);this.getRowNodes(t).forEach((t=>{t.setDragging(true)}));this.onEnterOrDragging(t)}onDragging(t){this.onEnterOrDragging(t)}isFromThisGrid(t){const{dragSourceDomDataKey:e}=t.dragSource;return e===this.gos.getDomDataKey()}onEnterOrDragging(t){this.dispatchGridEvent("rowDragMove",t);this.lastDraggingEvent=t;const e=this.mouseEventService.getNormalisedPosition(t).y;const i=this.gos.get("rowDragManaged");if(i){this.doManagedDrag(t,e)}this.autoScrollService.check(t.event)}doManagedDrag(t,e){const i=this.isFromThisGrid(t);const s=this.gos.get("rowDragManaged");const r=t.dragItem.rowNodes;if(s&&this.shouldPreventRowMove()){return}if(this.gos.get("suppressMoveWhenRowDragging")||!i){if(this.dragAndDropService.isDropZoneWithinThisGrid(t)){this.clientSideRowModel.highlightRowAtPixel(r[0],e)}}else{this.moveRows(r,e)}}getRowIndexNumber(t){const e=t.getRowIndexString();return parseInt($t(e.split("-")),10)}moveRowAndClearHighlight(t){const e=this.clientSideRowModel.getLastHighlightedRowNode();const i=e&&e.highlighted===1;const s=this.mouseEventService.getNormalisedPosition(t).y;const r=t.dragItem.rowNodes;let o=i?1:0;if(this.isFromThisGrid(t)){r.forEach((t=>{if(t.rowTop<s){o-=1}}));this.moveRows(r,s,o)}else{const t=Dt(this.gos);let e=this.clientSideRowModel.getRowIndexAtPixel(s)+1;if(this.clientSideRowModel.getHighlightPosition(s)===0){e--}this.clientSideRowModel.updateRowData({add:r.filter((e=>!this.clientSideRowModel.getRowNode(t?.({data:e.data,level:0,rowPinned:e.rowPinned})??e.data.id))).map((t=>t.data)),addIndex:e})}this.clearRowHighlight()}clearRowHighlight(){this.clientSideRowModel.highlightRowAtPixel(null)}moveRows(t,e,i=0){const s=this.clientSideRowModel.ensureRowsAtPixel(t,e,i);if(s){this.focusService.clearFocusedCell();this.rangeService?.removeAllCellRanges()}}addRowDropZone(t){if(!t.getContainer()){P("addRowDropZone - A container target needs to be provided");return}if(this.dragAndDropService.findExternalZone(t)){P("addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");return}let e={getContainer:t.getContainer};if(t.fromGrid){e=t}else{if(t.onDragEnter){e.onDragEnter=e=>{t.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",e))}}if(t.onDragLeave){e.onDragLeave=e=>{t.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",e))}}if(t.onDragging){e.onDragging=e=>{t.onDragging(this.draggingToRowDragEvent("rowDragMove",e))}}if(t.onDragStop){e.onDragStop=e=>{t.onDragStop(this.draggingToRowDragEvent("rowDragEnd",e))}}if(t.onDragCancel){e.onDragCancel=e=>{t.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",e))}}}const i={isInterestedIn:t=>t===2,getIconName:()=>"move",external:true,...e};this.dragAndDropService.addDropTarget(i);this.addDestroyFunc((()=>this.dragAndDropService.removeDropTarget(i)))}getRowDropZone(t){const e=this.getContainer.bind(this);const i=this.onDragEnter.bind(this);const s=this.onDragLeave.bind(this);const r=this.onDragging.bind(this);const o=this.onDragStop.bind(this);const n=this.onDragCancel.bind(this);let a;if(!t){a={getContainer:e,onDragEnter:i,onDragLeave:s,onDragging:r,onDragStop:o,onDragCancel:n,fromGrid:true}}else{a={getContainer:e,onDragEnter:t.onDragEnter?e=>{i(e);t.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",e))}:i,onDragLeave:t.onDragLeave?e=>{s(e);t.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",e))}:s,onDragging:t.onDragging?e=>{r(e);t.onDragging(this.draggingToRowDragEvent("rowDragMove",e))}:r,onDragStop:t.onDragStop?e=>{o(e);t.onDragStop(this.draggingToRowDragEvent("rowDragEnd",e))}:o,onDragCancel:t.onDragCancel?e=>{n(e);t.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",e))}:n,fromGrid:true}}return a}draggingToRowDragEvent(t,e){const i=this.mouseEventService.getNormalisedPosition(e).y;const s=i>this.pageBoundsService.getCurrentPageHeight();let r=-1;let o;if(!s){r=this.rowModel.getRowIndexAtPixel(i);o=this.rowModel.getRow(r)}let n;switch(e.vDirection){case 1:n="down";break;case 0:n="up";break;default:n=null;break}const a=this.gos.addGridCommonParams({type:t,event:e.event,node:e.dragItem.rowNode,nodes:e.dragItem.rowNodes,overIndex:r,overNode:o,y:i,vDirection:n});return a}dispatchGridEvent(t,e){const i=this.draggingToRowDragEvent(t,e);this.eventService.dispatchEvent(i)}onDragLeave(t){this.dispatchGridEvent("rowDragLeave",t);this.stopDragging(t);if(this.gos.get("rowDragManaged")){this.clearRowHighlight()}}onDragStop(t){this.dispatchGridEvent("rowDragEnd",t);this.stopDragging(t);if(this.gos.get("rowDragManaged")&&(this.gos.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(t))&&this.dragAndDropService.isDropZoneWithinThisGrid(t)){this.moveRowAndClearHighlight(t)}}onDragCancel(t){this.dispatchGridEvent("rowDragCancel",t);this.stopDragging(t);if(this.gos.get("rowDragManaged")&&(this.gos.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(t))&&this.dragAndDropService.isDropZoneWithinThisGrid(t)){this.clearRowHighlight()}}stopDragging(t){this.autoScrollService.ensureCleared();this.getRowNodes(t).forEach((t=>{t.setDragging(false)}))}};var Ro=class extends fe{constructor(){super(...arguments);this.beanName="dragService";this.dragEndFunctions=[];this.dragSources=[]}wireBeans(t){this.mouseEventService=t.mouseEventService}destroy(){this.dragSources.forEach(this.removeListener.bind(this));this.dragSources.length=0;super.destroy()}removeListener(t){const e=t.dragSource.eElement;const i=t.mouseDownListener;e.removeEventListener("mousedown",i);if(t.touchEnabled){const i=t.touchStartListener;e.removeEventListener("touchstart",i,{passive:true})}}removeDragSource(t){const e=this.dragSources.find((e=>e.dragSource===t));if(!e){return}this.removeListener(e);qt(this.dragSources,e)}isDragging(){return this.dragging}addDragSource(t){const e=this.onMouseDown.bind(this,t);const{eElement:i,includeTouch:s,stopPropagationForTouch:r}=t;i.addEventListener("mousedown",e);let o=null;const n=this.gos.get("suppressTouch");if(s&&!n){o=e=>{if(es(e.target)){return}if(r){e.stopPropagation()}this.onTouchStart(t,e)};i.addEventListener("touchstart",o,{passive:false})}this.dragSources.push({dragSource:t,mouseDownListener:e,touchStartListener:o,touchEnabled:!!s})}getStartTarget(){return this.startTarget}onTouchStart(t,e){this.currentDragParams=t;this.dragging=false;const i=e.touches[0];this.touchLastTime=i;this.touchStart=i;const s=e=>this.onTouchMove(e,t.eElement);const r=e=>this.onTouchUp(e,t.eElement);const o=t=>{if(t.cancelable){t.preventDefault()}};const n=e.target;const a=[{target:ft(this.gos),type:"touchmove",listener:o,options:{passive:false}},{target:n,type:"touchmove",listener:s,options:{passive:true}},{target:n,type:"touchend",listener:r,options:{passive:true}},{target:n,type:"touchcancel",listener:r,options:{passive:true}}];this.addTemporaryEvents(a);if(t.dragStartPixels===0){this.onCommonMove(i,this.touchStart,t.eElement)}}onMouseDown(t,e){const i=e;if(t.skipMouseEvent&&t.skipMouseEvent(e)){return}if(i._alreadyProcessedByDragService){return}i._alreadyProcessedByDragService=true;if(e.button!==0){return}if(this.shouldPreventMouseEvent(e)){e.preventDefault()}this.currentDragParams=t;this.dragging=false;this.mouseStartEvent=e;this.startTarget=e.target;const s=e=>this.onMouseMove(e,t.eElement);const r=e=>this.onMouseUp(e,t.eElement);const o=t=>t.preventDefault();const n=e=>{if(e.key===zr.ESCAPE){this.cancelDrag(t.eElement)}};const a=ft(this.gos);const l=[{target:a,type:"mousemove",listener:s},{target:a,type:"mouseup",listener:r},{target:a,type:"contextmenu",listener:o},{target:a,type:"keydown",listener:n}];this.addTemporaryEvents(l);if(t.dragStartPixels===0){this.onMouseMove(e,t.eElement)}}addTemporaryEvents(t){t.forEach((t=>{const{target:e,type:i,listener:s,options:r}=t;e.addEventListener(i,s,r)}));this.dragEndFunctions.push((()=>{t.forEach((t=>{const{target:e,type:i,listener:s,options:r}=t;e.removeEventListener(i,s,r)}))}))}isEventNearStartEvent(t,e){const{dragStartPixels:i}=this.currentDragParams;const s=j(i)?i:4;return vr(t,e,s)}getFirstActiveTouch(t){for(let e=0;e<t.length;e++){if(t[e].identifier===this.touchStart.identifier){return t[e]}}return null}onCommonMove(t,e,i){if(!this.dragging){if(this.isEventNearStartEvent(t,e)){return}this.dragging=true;this.eventService.dispatchEvent({type:"dragStarted",target:i});this.currentDragParams.onDragStart(e);if(!this.currentDragParams){this.dragging=false;return}this.currentDragParams.onDragging(e)}this.currentDragParams?.onDragging(t)}onTouchMove(t,e){const i=this.getFirstActiveTouch(t.touches);if(!i){return}this.onCommonMove(i,this.touchStart,e)}onMouseMove(t,e){if(Ws()){const t=dt(this.gos);t.getSelection()?.removeAllRanges()}if(this.shouldPreventMouseEvent(t)){t.preventDefault()}this.onCommonMove(t,this.mouseStartEvent,e)}shouldPreventMouseEvent(t){const e=this.gos.get("enableCellTextSelection");const i=t.type==="mousemove";return e&&i&&t.cancelable&&this.mouseEventService.isEventFromThisGrid(t)&&!this.isOverFormFieldElement(t)}isOverFormFieldElement(t){const e=t.target;const i=e?.tagName.toLocaleLowerCase();return!!i?.match("^a$|textarea|input|select|button")}onTouchUp(t,e){let i=this.getFirstActiveTouch(t.changedTouches);if(!i){i=this.touchLastTime}this.onUpCommon(i,e)}onMouseUp(t,e){this.onUpCommon(t,e)}onUpCommon(t,e){if(this.dragging){this.dragging=false;this.currentDragParams.onDragStop(t);this.eventService.dispatchEvent({type:"dragStopped",target:e})}this.resetDragProperties()}cancelDrag(t){this.eventService.dispatchEvent({type:"dragCancelled",target:t});this.currentDragParams?.onDragCancel?.();this.resetDragProperties()}resetDragProperties(){this.mouseStartEvent=null;this.startTarget=null;this.touchStart=null;this.touchLastTime=null;this.currentDragParams=null;this.dragEndFunctions.forEach((t=>t()));this.dragEndFunctions.length=0}};var Fo=class extends ur{constructor(t,e,i,s,r,o){super();this.cellValueFn=t;this.rowNode=e;this.column=i;this.customGui=s;this.dragStartPixels=r;this.suppressVisibilityChange=o;this.dragSource=null}wireBeans(t){this.beans=t}isCustomGui(){return this.customGui!=null}postConstruct(){if(!this.customGui){this.setTemplate(`<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>`);this.getGui().appendChild(pr("rowDrag",this.gos,null));this.addDragSource()}else{this.setDragElement(this.customGui,this.dragStartPixels)}this.checkCompatibility();if(!this.suppressVisibilityChange){const t=this.gos.get("rowDragManaged")?new Io(this,this.beans,this.rowNode,this.column):new zo(this,this.beans,this.rowNode,this.column);this.createManagedBean(t,this.beans.context)}}setDragElement(t,e){this.setTemplateFromElement(t,void 0,void 0,true);this.addDragSource(e)}getSelectedNodes(){const t=this.gos.get("rowDragMultiRow");if(!t){return[this.rowNode]}const e=this.beans.selectionService.getSelectedNodes();return e.indexOf(this.rowNode)!==-1?e:[this.rowNode]}checkCompatibility(){const t=this.gos.get("rowDragManaged");const e=this.gos.get("treeData");if(e&&t){P("If using row drag with tree data, you cannot have rowDragManaged=true")}}getDragItem(){return{rowNode:this.rowNode,rowNodes:this.getSelectedNodes(),columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()}}getRowDragText(t){if(t){const e=t.getColDef();if(e.rowDragText){return e.rowDragText}}return this.gos.get("rowDragText")}addDragSource(t=4){if(this.dragSource){this.removeDragSource()}const e=this.getGui();if(this.gos.get("enableCellTextSelection")){this.removeMouseDownListener();this.mouseDownListener=this.addManagedElementListeners(e,{mousedown:t=>{t?.preventDefault()}})[0]}const i=this.localeService.getLocaleTextFunc();this.dragSource={type:2,eElement:e,dragItemName:()=>{const t=this.getDragItem();const e=t.rowNodes?.length||1;const s=this.getRowDragText(this.column);if(s){return s(t,e)}return e===1?this.cellValueFn():`${e} ${i("rowDragRows","rows")}`},getDragItem:()=>this.getDragItem(),dragStartPixels:t,dragSourceDomDataKey:this.gos.getDomDataKey()};this.beans.dragAndDropService.addDragSource(this.dragSource,true)}destroy(){this.removeDragSource();this.removeMouseDownListener();super.destroy()}removeDragSource(){if(!this.dragSource){return}this.beans.dragAndDropService.removeDragSource(this.dragSource);this.dragSource=null}removeMouseDownListener(){if(!this.mouseDownListener){return}this.mouseDownListener();this.mouseDownListener=void 0}};var Po=class extends fe{constructor(t,e,i){super();this.parent=t;this.rowNode=e;this.column=i}setDisplayedOrVisible(t){const e={skipAriaHidden:true};if(t){this.parent.setDisplayed(false,e)}else{let t=true;let i=false;if(this.column){t=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui();i=I(this.column.getColDef().rowDrag)}if(i){this.parent.setDisplayed(true,e);this.parent.setVisible(t,e)}else{this.parent.setDisplayed(t,e);this.parent.setVisible(true,e)}}}};var zo=class extends Po{constructor(t,e,i,s){super(t,i,s);this.beans=e}postConstruct(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this));const t=this.workOutVisibility.bind(this);this.addManagedListeners(this.rowNode,{dataChanged:t,cellChanged:t});this.addManagedListeners(this.beans.eventService,{newColumnsLoaded:t});this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const t=this.gos.get("suppressRowDrag");this.setDisplayedOrVisible(t)}};var Io=class extends Po{constructor(t,e,i,s){super(t,i,s);this.beans=e}postConstruct(){const t=this.workOutVisibility.bind(this);this.addManagedListeners(this.beans.eventService,{sortChanged:t,filterChanged:t,columnRowGroupChanged:t,newColumnsLoaded:t});this.addManagedListeners(this.rowNode,{dataChanged:t,cellChanged:t});this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this));this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const t=this.beans.ctrlsService.getGridBodyCtrl();const e=t.getRowDragFeature();const i=e&&e.shouldPreventRowMove();const s=this.gos.get("suppressRowDrag");const r=this.beans.dragAndDropService.hasExternalDropZones();const o=i&&!r||s;this.setDisplayedOrVisible(o)}};var To=new Set(["localEventService","__objectId","sticky","__autoHeights","checkAutoHeightsDebounced"]);var Ao=class t{constructor(e){this.rowIndex=null;this.key=null;this.sourceRowIndex=-1;this.childrenMapped={};this.treeNode=null;this.treeNodeFlags=0;this.displayed=false;this.rowTop=null;this.oldRowTop=null;this.selectable=true;this.__objectId=t.OBJECT_ID_SEQUENCE++;this.__autoHeights={};this.alreadyRendered=false;this.highlighted=null;this.hovered=false;this.selected=false;this.beans=e}setData(t){this.setDataCommon(t,false)}updateData(t){this.setDataCommon(t,true)}setDataCommon(t,e){const i=this.data;this.data=t;this.beans.valueCache.onDataChanged();this.updateDataOnDetailNode();this.checkRowSelectable();this.resetQuickFilterAggregateText();const s=this.createDataChangedEvent(t,i,e);this.localEventService?.dispatchEvent(s)}updateDataOnDetailNode(){if(this.detailNode){this.detailNode.data=this.data}}createDataChangedEvent(t,e,i){return{type:"dataChanged",node:this,oldData:e,newData:t,update:i}}getRowIndexString(){if(this.rowIndex==null){z("Could not find rowIndex, this means tasks are being executed on a rowNode that has been removed from the grid.");return null}if(this.rowPinned==="top"){return t.ID_PREFIX_TOP_PINNED+this.rowIndex}if(this.rowPinned==="bottom"){return t.ID_PREFIX_BOTTOM_PINNED+this.rowIndex}return this.rowIndex.toString()}createDaemonNode(){const e=new t(this.beans);e.id=this.id;e.data=this.data;e.__daemon=true;e.selected=this.selected;e.level=this.level;return e}setDataAndId(t,e){const i=j(this.id)?this.createDaemonNode():null;const s=this.data;this.data=t;this.updateDataOnDetailNode();this.setId(e);this.checkRowSelectable();this.beans.selectionService.syncInRowNode(this,i);const r=this.createDataChangedEvent(t,s,false);this.localEventService?.dispatchEvent(r)}checkRowSelectable(){const t=Gt(this.beans.gos);this.setRowSelectable(t?t(this):true)}setRowSelectable(t,e){if(this.selectable!==t){this.selectable=t;this.dispatchRowEvent("selectableChanged");if(e){return}const i=Wt(this.beans.gos);if(i){const t=this.calculateSelectedFromChildren();this.setSelectedParams({newValue:t??false,source:"selectableChanged"});return}if(this.isSelected()&&!this.selectable){this.setSelectedParams({newValue:false,source:"selectableChanged"})}}}setId(e){const i=Dt(this.beans.gos);if(i){if(this.data){const e=this.parent?.getRoute()??[];this.id=i({data:this.data,parentKeys:e.length>0?e:void 0,level:this.level,rowPinned:this.rowPinned});if(this.id.startsWith(t.ID_PREFIX_ROW_GROUP)){z(`Row IDs cannot start with ${t.ID_PREFIX_ROW_GROUP}, this is a reserved prefix for AG Grid's row grouping feature.`)}}else{this.id=void 0}}else{this.id=e}}setRowTop(t){this.oldRowTop=this.rowTop;if(this.rowTop===t){return}this.rowTop=t;this.dispatchRowEvent("topChanged");this.setDisplayed(t!==null)}clearRowTopAndRowIndex(){this.oldRowTop=null;this.setRowTop(null);this.setRowIndex(null)}setHovered(t){this.hovered=t}isHovered(){return this.hovered}setMaster(t){if(this.master===t){return}if(this.master&&!t){this.expanded=false}this.master=t;this.dispatchRowEvent("masterChanged")}setGroup(t){if(this.group===t){return}if(this.group&&!t){this.expanded=false}this.group=t;this.updateHasChildren();this.checkRowSelectable();this.dispatchRowEvent("groupChanged")}setRowHeight(t,e=false){this.rowHeight=t;this.rowHeightEstimated=e;this.dispatchRowEvent("heightChanged")}setRowAutoHeight(t,e){if(!this.__autoHeights){this.__autoHeights={}}this.__autoHeights[e.getId()]=t;if(t!=null){if(this.checkAutoHeightsDebounced==null){this.checkAutoHeightsDebounced=L(this.checkAutoHeights.bind(this),1)}this.checkAutoHeightsDebounced()}}checkAutoHeights(){let t=false;let e=true;let i=0;const s=this.__autoHeights;if(s==null){return}const r=this.beans.visibleColsService.getAllAutoHeightCols();r.forEach((r=>{let o=s[r.getId()];if(o==null){if(this.beans.columnModel.isColSpanActive()){let e=[];switch(r.getPinned()){case"left":e=this.beans.visibleColsService.getLeftColsForRow(this);break;case"right":e=this.beans.visibleColsService.getRightColsForRow(this);break;case null:e=this.beans.columnViewportService.getColsWithinViewport(this);break}if(e.includes(r)){t=true;return}o=-1}else{t=true;return}}else{e=false}if(o>i){i=o}}));if(t){return}if(e||i<10){i=nt(this.beans.gos,this).height}if(i==this.rowHeight){return}this.setRowHeight(i);const o=this.beans.rowModel;o.onRowHeightChangedDebounced?.()}setExpanded(t,e,i){if(this.expanded===t){return}this.expanded=t;this.dispatchRowEvent("expandedChanged");const s={...this.createGlobalRowEvent("rowGroupOpened"),expanded:t,event:e||null};this.beans.rowNodeEventThrottle.dispatchExpanded(s,i);this.beans.rowRenderer.refreshCells({rowNodes:[this]})}createGlobalRowEvent(t){return this.beans.gos.addGridCommonParams({type:t,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned})}setDataValue(t,e,i){const s=()=>{if(typeof t!=="string"){return t}return this.beans.columnModel.getCol(t)??this.beans.columnModel.getColDefCol(t)};const r=s();const o=this.beans.valueService.getValueForDisplay(r,this);if(this.beans.gos.get("readOnlyEdit")){this.beans.eventService.dispatchEvent({type:"cellEditRequest",event:null,rowIndex:this.rowIndex,rowPinned:this.rowPinned,column:r,colDef:r.getColDef(),data:this.data,node:this,oldValue:o,newValue:e,value:e,source:i});return false}const n=this.beans.valueService.setValue(this,r,e,i);this.dispatchCellChangedEvent(r,e,o);this.checkRowSelectable();return n}setGroupValue(t,e){const i=this.beans.columnModel.getCol(t);if(W(this.groupData)){this.groupData={}}const s=i.getColId();const r=this.groupData[s];if(r===e){return}this.groupData[s]=e;this.dispatchCellChangedEvent(i,e,r)}setAggData(t){const e=this.aggData;this.aggData=t;if(this.localEventService){const i=t=>{const i=this.aggData?this.aggData[t]:void 0;const s=e?e[t]:void 0;if(i===s){return}const r=this.beans.columnModel.getCol(t);if(!r){return}this.dispatchCellChangedEvent(r,i,s)};for(const t in e){i(t)}for(const s in t){if(!e||!(s in e)){i(s)}}}}updateHasChildren(){let t=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;const e=tt(this.beans.gos);if(e){const e=this.beans.gos.get("treeData");const i=this.beans.gos.get("isServerSideGroup");t=!this.stub&&!this.footer&&(e?!!i&&i(this.data):!!this.group)}if(t!==this.__hasChildren){this.__hasChildren=!!t;this.dispatchRowEvent("hasChildrenChanged")}}hasChildren(){if(this.__hasChildren==null){this.updateHasChildren()}return this.__hasChildren}dispatchCellChangedEvent(t,e,i){const s={type:"cellChanged",node:this,column:t,newValue:e,oldValue:i};this.localEventService?.dispatchEvent(s)}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){if(this.footer){return false}if(this.beans.columnModel.isPivotMode()){return this.hasChildren()&&!this.leafGroup}return this.hasChildren()||!!this.master}isSelected(){if(this.footer){return this.sibling.isSelected()}return this.selected}depthFirstSearch(t){if(this.childrenAfterGroup){this.childrenAfterGroup.forEach((e=>e.depthFirstSearch(t)))}t(this)}calculateSelectedFromChildren(){let t=false;let e=false;if(!this.childrenAfterGroup?.length){return this.selectable?this.selected:null}for(let i=0;i<this.childrenAfterGroup.length;i++){const s=this.childrenAfterGroup[i];let r=s.isSelected();if(!s.selectable){const t=s.calculateSelectedFromChildren();if(t===null){continue}r=t}switch(r){case true:t=true;break;case false:e=true;break;default:return void 0}}if(t&&e){return void 0}if(t){return true}if(e){return false}if(!this.selectable){return null}return this.selected}setSelectedInitialValue(t){this.selected=t}dispatchRowEvent(t){this.localEventService?.dispatchEvent({type:t,node:this})}selectThisNode(t,e,i="api"){const s=!this.selectable&&t;const r=this.selected===t;if(s||r){return false}this.selected=t;this.dispatchRowEvent("rowSelected");const o=this.sibling;if(o&&o.footer&&o.localEventService){o.dispatchRowEvent("rowSelected")}this.beans.eventService.dispatchEvent({...this.createGlobalRowEvent("rowSelected"),event:e||null,source:i});return true}setSelected(t,e=false,i="api"){if(typeof i==="boolean"){P("since version v30, rowNode.setSelected() property `suppressFinishActions` has been removed, please use `gridApi.setNodesSelected()` for bulk actions, and the event `source` property for ignoring events instead.");return}this.setSelectedParams({newValue:t,clearSelection:e,rangeSelect:false,source:i})}setSelectedParams(t){if(this.rowPinned){P("cannot select pinned rows");return 0}if(this.id===void 0){P("cannot select node until id for node is known");return 0}return this.beans.selectionService.setNodesSelected({...t,nodes:[this.footer?this.sibling:this]})}isRowPinned(){return!!this.rowPinned}addEventListener(t,e){if(!this.localEventService){this.localEventService=new S}if(this.beans.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService){this.localEventService.setFrameworkOverrides(this.beans.frameworkOverrides);this.frameworkEventListenerService=new Me(this.beans.frameworkOverrides)}const i=this.frameworkEventListenerService?.wrap(t,e)??e;this.localEventService.addEventListener(t,i)}removeEventListener(t,e){if(!this.localEventService){return}const i=this.frameworkEventListenerService?.unwrap(t,e)??e;this.localEventService.removeEventListener(t,i);if(this.localEventService.noRegisteredListenersExist()){this.localEventService=null}}onMouseEnter(){this.dispatchRowEvent("mouseEnter")}onMouseLeave(){this.dispatchRowEvent("mouseLeave")}isFullWidthCell(){P("since version v32.2.0, rowNode.isFullWidthCell() has been deprecated. Instead check `rowNode.detail` followed by the user provided `isFullWidthRow` grid option.");if(this.detail){return true}const t=this.beans.gos.getCallback("isFullWidthRow");return t?t({rowNode:this}):false}getRoute(){if(this.level===-1){return[]}if(this.key==null){return void 0}const t=[];let e=this;while(e&&e.key!=null){t.push(e.key);e=e.parent}return t.reverse()}createFooter(){if(this.sibling){return}const e=new t(this.beans);Object.keys(this).forEach((t=>{if(To.has(t)){return}e[t]=this[t]}));e.footer=true;e.setRowTop(null);e.setRowIndex(null);e.oldRowTop=null;e.id="rowGroupFooter_"+this.id;e.sibling=this;this.sibling=e}destroyFooter(){if(!this.sibling){return}this.sibling.setRowTop(null);this.sibling.setRowIndex(null);this.sibling=void 0}setFirstChild(t){if(this.firstChild!==t){this.firstChild=t;this.dispatchRowEvent("firstChildChanged")}}setLastChild(t){if(this.lastChild!==t){this.lastChild=t;this.dispatchRowEvent("lastChildChanged")}}setChildIndex(t){if(this.childIndex!==t){this.childIndex=t;this.dispatchRowEvent("childIndexChanged")}}setDisplayed(t){if(this.displayed!==t){this.displayed=t;this.dispatchRowEvent("displayedChanged")}}setDragging(t){if(this.dragging!==t){this.dragging=t;this.dispatchRowEvent("draggingChanged")}}setHighlighted(t){if(this.highlighted!==t){this.highlighted=t;this.dispatchRowEvent("rowHighlightChanged")}}setAllChildrenCount(t){if(this.allChildrenCount!==t){this.allChildrenCount=t;this.dispatchRowEvent("allChildrenCountChanged")}}setRowIndex(t){if(this.rowIndex!==t){this.rowIndex=t;this.dispatchRowEvent("rowIndexChanged")}}setUiLevel(t){if(this.uiLevel!==t){this.uiLevel=t;this.dispatchRowEvent("uiLevelChanged")}}};Ao.ID_PREFIX_ROW_GROUP="row-group-";Ao.ID_PREFIX_TOP_PINNED="t-";Ao.ID_PREFIX_BOTTOM_PINNED="b-";Ao.OBJECT_ID_SEQUENCE=0;var Eo=Ao;var No=class extends fe{constructor(){super(...arguments);this.beanName="filterManager";this.advancedFilterModelUpdateQueue=[]}wireBeans(t){this.columnModel=t.columnModel;this.dataTypeService=t.dataTypeService;this.quickFilterService=t.quickFilterService;this.advancedFilterService=t.advancedFilterService;this.columnFilterService=t.columnFilterService}postConstruct(){const t=this.refreshFiltersForAggregations.bind(this);const e=this.updateAdvancedFilterColumns.bind(this);this.addManagedEventListeners({columnValueChanged:t,columnPivotChanged:t,columnPivotModeChanged:t,newColumnsLoaded:e,columnVisible:e,advancedFilterEnabledChanged:({enabled:t})=>this.onAdvancedFilterEnabledChanged(t),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)});this.externalFilterPresent=this.isExternalFilterPresentCallback();this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],(()=>{this.onFilterChanged({source:"api"})}));this.updateAggFiltering();this.addManagedPropertyListener("groupAggFiltering",(()=>{this.updateAggFiltering();this.onFilterChanged()}));this.addManagedPropertyListener("advancedFilterModel",(t=>this.setAdvancedFilterModel(t.currentValue)));if(this.quickFilterService){this.addManagedListeners(this.quickFilterService,{quickFilterChanged:()=>this.onFilterChanged({source:"quickFilter"})})}}isExternalFilterPresentCallback(){const t=this.gos.getCallback("isExternalFilterPresent");if(typeof t==="function"){return t({})}return false}doesExternalFilterPass(t){const e=this.gos.get("doesExternalFilterPass");if(typeof e==="function"){return e(t)}return false}setFilterModel(t,e="api"){if(this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return}this.columnFilterService?.setFilterModel(t,e)}getFilterModel(){return this.columnFilterService?.getFilterModel()??{}}isColumnFilterPresent(){return!!this.columnFilterService?.isColumnFilterPresent()}isAggregateFilterPresent(){return!!this.columnFilterService?.isAggregateFilterPresent()}isExternalFilterPresent(){return this.externalFilterPresent}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}isAdvancedFilterPresent(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isFilterPresent()}onAdvancedFilterEnabledChanged(t){if(t){if(this.columnFilterService?.disableColumnFilters()){this.onFilterChanged({source:"advancedFilter"})}}else{if(this.advancedFilterService?.isFilterPresent()){this.advancedFilterService.setModel(null);this.onFilterChanged({source:"advancedFilter"})}}}isAdvancedFilterEnabled(){return!!this.advancedFilterService?.isEnabled()}isAdvancedFilterHeaderActive(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isHeaderActive()}isAnyFilterPresent(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}resetQuickFilterCache(){this.quickFilterService?.resetQuickFilterCache()}refreshFiltersForAggregations(){const t=yt(this.gos);if(t){this.onFilterChanged()}}onFilterChanged(t={}){const{source:e,additionalEventAttributes:i,columns:s=[]}=t;this.externalFilterPresent=this.isExternalFilterPresentCallback();(this.columnFilterService?this.columnFilterService.updateBeforeFilterChanged(t):Yr.resolve()).then((()=>{const t={source:e,type:"filterChanged",columns:s};if(i){Te(t,i)}this.eventService.dispatchEvent(t);this.columnFilterService?.updateAfterFilterChanged()}))}isSuppressFlashingCellsBecauseFiltering(){return!!this.columnFilterService?.isSuppressFlashingCellsBecauseFiltering()}isQuickFilterPresent(){return!!this.quickFilterService?.isQuickFilterPresent()}updateAggFiltering(){this.aggFiltering=!!yt(this.gos)}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&this.shouldApplyQuickFilterAfterAgg()}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!this.shouldApplyQuickFilterAfterAgg()}shouldApplyQuickFilterAfterAgg(){return(this.aggFiltering||this.columnModel.isPivotMode())&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")}doesRowPassOtherFilters(t,e){return this.doesRowPassFilter({rowNode:e,filterInstanceToSkip:t})}doesRowPassAggregateFilters(t){if(this.isAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(t.rowNode)){return false}if(this.isAggregateFilterPresent()&&!this.columnFilterService.doAggregateFiltersPass(t.rowNode,t.filterInstanceToSkip)){return false}return true}doesRowPassFilter(t){if(this.isNonAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(t.rowNode)){return false}if(this.isExternalFilterPresent()&&!this.doesExternalFilterPass(t.rowNode)){return false}if(this.isColumnFilterPresent()&&!this.columnFilterService.doColumnFiltersPass(t.rowNode,t.filterInstanceToSkip)){return false}if(this.isAdvancedFilterPresent()&&!this.advancedFilterService.doesFilterPass(t.rowNode)){return false}return true}isFilterActive(t){return!!this.columnFilterService?.isFilterActive(t)}getOrCreateFilterWrapper(t){return this.columnFilterService?.getOrCreateFilterWrapper(t)??null}getDefaultFloatingFilter(t){return this.columnFilterService.getDefaultFloatingFilter(t)}createFilterParams(t,e){return this.columnFilterService.createFilterParams(t,e)}isFilterAllowed(t){if(this.isAdvancedFilterEnabled()){return false}return!!this.columnFilterService?.isFilterAllowed(t)}getFloatingFilterCompDetails(t,e){return this.columnFilterService?.getFloatingFilterCompDetails(t,e)}getCurrentFloatingFilterParentModel(t){return this.columnFilterService?.getCurrentFloatingFilterParentModel(t)}destroyFilter(t,e="api"){this.columnFilterService?.destroyFilter(t,e)}areFilterCompsDifferent(t,e){return!!this.columnFilterService?.areFilterCompsDifferent(t,e)}getAdvancedFilterModel(){return this.isAdvancedFilterEnabled()?this.advancedFilterService.getModel():null}setAdvancedFilterModel(t){if(!this.isAdvancedFilterEnabled()){return}if(this.dataTypeService?.isPendingInference()){this.advancedFilterModelUpdateQueue.push(t);return}this.advancedFilterService.setModel(t??null);this.onFilterChanged({source:"advancedFilter"})}toggleAdvancedFilterBuilder(t,e){if(!this.isAdvancedFilterEnabled()){return}this.advancedFilterService.getCtrl().toggleFilterBuilder({source:e,force:t})}updateAdvancedFilterColumns(){if(!this.isAdvancedFilterEnabled()){return}if(this.advancedFilterService.updateValidity()){this.onFilterChanged({source:"advancedFilter"})}}hasFloatingFilters(){if(this.isAdvancedFilterEnabled()){return false}return!!this.columnFilterService?.hasFloatingFilters()}getFilterInstance(t,e){if(this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return void 0}return this.columnFilterService?.getFilterInstance(t,e)}getColumnFilterInstance(t){if(this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return Promise.resolve(void 0)}return this.columnFilterService?.getColumnFilterInstance(t)??Promise.resolve(void 0)}warnAdvancedFilters(){P("Column Filter API methods have been disabled as Advanced Filters are enabled.")}setupAdvancedFilterHeaderComp(t){this.advancedFilterService?.getCtrl().setupHeaderComp(t)}getHeaderRowCount(){return this.isAdvancedFilterHeaderActive()?1:0}getHeaderHeight(){return this.isAdvancedFilterHeaderActive()?this.advancedFilterService.getCtrl().getHeaderHeight():0}processFilterModelUpdateQueue(){this.advancedFilterModelUpdateQueue.forEach((t=>this.setAdvancedFilterModel(t)));this.advancedFilterModelUpdateQueue=[]}getColumnFilterModel(t){return this.columnFilterService?.getColumnFilterModel(t)}setColumnFilterModel(t,e){if(this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return Promise.resolve()}return this.columnFilterService?.setColumnFilterModel(t,e)??Promise.resolve()}setColDefPropertiesForDataType(t,e,i){this.columnFilterService?.setColDefPropertiesForDataType(t,e,i)}};var Oo=class extends ur{constructor(t,e){super(`<div class="ag-filter"></div>`);this.column=t;this.source=e;this.filterWrapper=null}wireBeans(t){this.filterManager=t.filterManager;this.columnModel=t.columnModel}postConstruct(){this.createFilter(true);this.addManagedEventListeners({filterDestroyed:this.onFilterDestroyed.bind(this)})}hasFilter(){return!!this.filterWrapper}getFilter(){return this.filterWrapper?.filterPromise??null}afterInit(){return this.filterWrapper?.filterPromise?.then((()=>{}))??Yr.resolve()}afterGuiAttached(t){this.filterWrapper?.filterPromise?.then((e=>{e?.afterGuiAttached?.(t)}))}afterGuiDetached(){this.filterWrapper?.filterPromise?.then((t=>{t?.afterGuiDetached?.()}))}createFilter(t){const{column:e,source:i}=this;this.filterWrapper=this.filterManager?.getOrCreateFilterWrapper(e)??null;if(!this.filterWrapper?.filterPromise){return}this.filterWrapper.filterPromise.then((s=>{const r=s.getGui();if(!j(r)){P(`getGui method from filter returned ${r}; it should be a DOM element.`)}this.appendChild(r);if(t){this.eventService.dispatchEvent({type:"filterOpened",column:e,source:i,eGui:this.getGui()})}}))}onFilterDestroyed(t){if((t.source==="api"||t.source==="paramsUpdated")&&t.column.getId()===this.column.getId()&&this.columnModel.getColDefCol(this.column)){fs(this.getGui());this.createFilter()}}destroy(){this.filterWrapper=null;super.destroy()}};var Lo="ag-resizer-wrapper";var Go=(t,e)=>`<div data-ref="${t}Resizer" class="ag-resizer ag-resizer-${e}"></div>`;var Ho=`<div class="${Lo}">\n        ${Go("eTopLeft","topLeft")}\n        ${Go("eTop","top")}\n        ${Go("eTopRight","topRight")}\n        ${Go("eRight","right")}\n        ${Go("eBottomRight","bottomRight")}\n        ${Go("eBottom","bottom")}\n        ${Go("eBottomLeft","bottomLeft")}\n        ${Go("eLeft","left")}\n    </div>`;var Bo=class extends fe{constructor(t,e){super();this.element=t;this.dragStartPosition={x:0,y:0};this.position={x:0,y:0};this.lastSize={width:-1,height:-1};this.positioned=false;this.resizersAdded=false;this.resizeListeners=[];this.boundaryEl=null;this.isResizing=false;this.isMoving=false;this.resizable={};this.movable=false;this.currentResizer=null;this.config=Object.assign({},{popup:false},e)}wireBeans(t){this.popupService=t.popupService;this.resizeObserverService=t.resizeObserverService;this.dragService=t.dragService}center(){const{clientHeight:t,clientWidth:e}=this.offsetParent;const i=e/2-this.getWidth()/2;const s=t/2-this.getHeight()/2;this.offsetElement(i,s)}initialisePosition(){if(this.positioned){return}const{centered:t,forcePopupParentAsOffsetParent:e,minWidth:i,width:s,minHeight:r,height:o,x:n,y:a}=this.config;if(!this.offsetParent){this.setOffsetParent()}let l=0;let h=0;const c=vs(this.element);if(c){const t=this.findBoundaryElement();const e=window.getComputedStyle(t);if(e.minWidth!=null){const i=t.offsetWidth-this.element.offsetWidth;h=parseInt(e.minWidth,10)-i}if(e.minHeight!=null){const i=t.offsetHeight-this.element.offsetHeight;l=parseInt(e.minHeight,10)-i}}this.minHeight=r||l;this.minWidth=i||h;if(s){this.setWidth(s)}if(o){this.setHeight(o)}if(!s||!o){this.refreshSize()}if(t){this.center()}else if(n||a){this.offsetElement(n,a)}else if(c&&e){let t=this.boundaryEl;let e=true;if(!t){t=this.findBoundaryElement();e=false}if(t){const i=parseFloat(t.style.top);const s=parseFloat(t.style.left);if(e){this.offsetElement(isNaN(s)?0:s,isNaN(i)?0:i)}else{this.setPosition(s,i)}}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(t,e){if(!this.config.popup||t===this.movable){return}this.movable=t;const i=this.moveElementDragListener||{eElement:e,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};if(t){this.dragService.addDragSource(i);this.moveElementDragListener=i}else{this.dragService.removeDragSource(i);this.moveElementDragListener=void 0}}setResizable(t){this.clearResizeListeners();if(t){this.addResizers()}else{this.removeResizers()}if(typeof t==="boolean"){if(t===false){return}t={topLeft:t,top:t,topRight:t,right:t,bottomRight:t,bottom:t,bottomLeft:t,left:t}}Object.keys(t).forEach((e=>{const i=t;const s=!!i[e];const r=this.getResizerElement(e);const o={dragStartPixels:0,eElement:r,onDragStart:t=>this.onResizeStart(t,e),onDragging:this.onResize.bind(this),onDragStop:t=>this.onResizeEnd(t,e)};if(s||!this.isAlive()&&!s){if(s){this.dragService.addDragSource(o);this.resizeListeners.push(o);r.style.pointerEvents="all"}else{r.style.pointerEvents="none"}this.resizable[e]=s}}))}removeSizeFromEl(){this.element.style.removeProperty("height");this.element.style.removeProperty("width");this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";const{height:t,width:e}=this.lastSize;if(e!==-1){this.element.style.width=`${e}px`}if(t!==-1){this.element.style.height=`${t}px`}}getHeight(){return this.element.offsetHeight}setHeight(t){const{popup:e}=this.config;const i=this.element;let s=false;if(typeof t==="string"&&t.indexOf("%")!==-1){Ms(i,t);t=hs(i);s=true}else{t=Math.max(this.minHeight,t);if(this.positioned){const e=this.getAvailableHeight();if(e&&t>e){t=e}}}if(this.getHeight()===t){return}if(!s){if(e){Ms(i,t)}else{i.style.height=`${t}px`;i.style.flex="0 0 auto";this.lastSize.height=typeof t==="number"?t:parseFloat(t)}}else{i.style.maxHeight="unset";i.style.minHeight="unset"}}getAvailableHeight(){const{popup:t,forcePopupParentAsOffsetParent:e}=this.config;if(!this.positioned){this.initialisePosition()}const{clientHeight:i}=this.offsetParent;if(!i){return null}const s=this.element.getBoundingClientRect();const r=this.offsetParent.getBoundingClientRect();const o=t?this.position.y:s.top;const n=t?0:r.top;let a=0;if(e){const t=this.element.parentElement;if(t){const{bottom:e}=t.getBoundingClientRect();a=e-s.bottom}}const l=i+n-o-a;return l}getWidth(){return this.element.offsetWidth}setWidth(t){const e=this.element;const{popup:i}=this.config;let s=false;if(typeof t==="string"&&t.indexOf("%")!==-1){Ds(e,t);t=cs(e);s=true}else if(this.positioned){t=Math.max(this.minWidth,t);const{clientWidth:e}=this.offsetParent;const s=i?this.position.x:this.element.getBoundingClientRect().left;if(e&&t+s>e){t=e-s}}if(this.getWidth()===t){return}if(!s){if(this.config.popup){Ds(e,t)}else{e.style.width=`${t}px`;e.style.flex=" unset";this.lastSize.width=typeof t==="number"?t:parseFloat(t)}}else{e.style.maxWidth="unset";e.style.minWidth="unset"}}offsetElement(t=0,e=0){const{forcePopupParentAsOffsetParent:i}=this.config;const s=i?this.boundaryEl:this.element;if(!s){return}this.popupService.positionPopup({ePopup:s,keepWithinBounds:true,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:t,y:e})});this.setPosition(parseFloat(s.style.left),parseFloat(s.style.top))}constrainSizeToAvailableHeight(t){if(!this.config.forcePopupParentAsOffsetParent){return}const e=()=>{const t=this.getAvailableHeight();this.element.style.setProperty("max-height",`${t}px`)};if(t){this.resizeObserverSubscriber=this.resizeObserverService.observeResize(this.popupService.getPopupParent(),e)}else{this.element.style.removeProperty("max-height");if(this.resizeObserverSubscriber){this.resizeObserverSubscriber();this.resizeObserverSubscriber=void 0}}}setPosition(t,e){this.position.x=t;this.position.y=e}updateDragStartPosition(t,e){this.dragStartPosition={x:t,y:e}}calculateMouseMovement(t){const{e,isLeft:i,isTop:s,anywhereWithin:r,topBuffer:o}=t;const n=e.clientX-this.dragStartPosition.x;const a=e.clientY-this.dragStartPosition.y;const l=this.shouldSkipX(e,!!i,!!r,n)?0:n;const h=this.shouldSkipY(e,!!s,o,a)?0:a;return{movementX:l,movementY:h}}shouldSkipX(t,e,i,s){const r=this.element.getBoundingClientRect();const o=this.offsetParent.getBoundingClientRect();const n=this.boundaryEl.getBoundingClientRect();const a=this.config.popup?this.position.x:r.left;let l=a<=0&&o.left>=t.clientX||o.right<=t.clientX&&o.right<=n.right;if(l){return true}if(e){l=s<0&&t.clientX>a+o.left||s>0&&t.clientX<a+o.left}else{if(i){l=s<0&&t.clientX>n.right||s>0&&t.clientX<a+o.left}else{l=s<0&&t.clientX>n.right||s>0&&t.clientX<n.right}}return l}shouldSkipY(t,e,i=0,s){const r=this.element.getBoundingClientRect();const o=this.offsetParent.getBoundingClientRect();const n=this.boundaryEl.getBoundingClientRect();const a=this.config.popup?this.position.y:r.top;let l=a<=0&&o.top>=t.clientY||o.bottom<=t.clientY&&o.bottom<=n.bottom;if(l){return true}if(e){l=s<0&&t.clientY>a+o.top+i||s>0&&t.clientY<a+o.top}else{l=s<0&&t.clientY>n.bottom||s>0&&t.clientY<n.bottom}return l}createResizeMap(){const t=this.element;this.resizerMap={topLeft:{element:t.querySelector("[data-ref=eTopLeftResizer]")},top:{element:t.querySelector("[data-ref=eTopResizer]")},topRight:{element:t.querySelector("[data-ref=eTopRightResizer]")},right:{element:t.querySelector("[data-ref=eRightResizer]")},bottomRight:{element:t.querySelector("[data-ref=eBottomRightResizer]")},bottom:{element:t.querySelector("[data-ref=eBottomResizer]")},bottomLeft:{element:t.querySelector("[data-ref=eBottomLeftResizer]")},left:{element:t.querySelector("[data-ref=eLeftResizer]")}}}addResizers(){if(this.resizersAdded){return}const t=this.element;if(!t){return}const e=new DOMParser;const i=e.parseFromString(Ho,"text/html").body;t.appendChild(i.firstChild);this.createResizeMap();this.resizersAdded=true}removeResizers(){this.resizerMap=void 0;const t=this.element.querySelector(`.${Lo}`);if(t){this.element.removeChild(t)}this.resizersAdded=false}getResizerElement(t){return this.resizerMap[t].element}onResizeStart(t,e){this.boundaryEl=this.findBoundaryElement();if(!this.positioned){this.initialisePosition()}this.currentResizer={isTop:!!e.match(/top/i),isRight:!!e.match(/right/i),isBottom:!!e.match(/bottom/i),isLeft:!!e.match(/left/i)};this.element.classList.add("ag-resizing");this.resizerMap[e].element.classList.add("ag-active");const{popup:i,forcePopupParentAsOffsetParent:s}=this.config;if(!i&&!s){this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop)}this.isResizing=true;this.updateDragStartPosition(t.clientX,t.clientY)}getSiblings(){const t=this.element;const e=t.parentElement;if(!e){return null}return Array.prototype.slice.call(e.children).filter((t=>!t.classList.contains("ag-hidden")))}getMinSizeOfSiblings(){const t=this.getSiblings()||[];let e=0;let i=0;for(let s=0;s<t.length;s++){const r=t[s];const o=!!r.style.flex&&r.style.flex!=="0 0 auto";if(r===this.element){continue}let n=this.minHeight||0;let a=this.minWidth||0;if(o){const t=window.getComputedStyle(r);if(t.minHeight){n=parseInt(t.minHeight,10)}if(t.minWidth){a=parseInt(t.minWidth,10)}}else{n=r.offsetHeight;a=r.offsetWidth}e+=n;i+=a}return{height:e,width:i}}applySizeToSiblings(t){let e=null;const i=this.getSiblings();if(!i){return}for(let s=0;s<i.length;s++){const r=i[s];if(r===e){continue}if(t){r.style.height=`${r.offsetHeight}px`}else{r.style.width=`${r.offsetWidth}px`}r.style.flex="0 0 auto";if(r===this.element){e=i[s+1]}}if(e){e.style.removeProperty("height");e.style.removeProperty("min-height");e.style.removeProperty("max-height");e.style.flex="1 1 auto"}}isResizable(){return Object.values(this.resizable).some((t=>t))}onResize(t){if(!this.isResizing||!this.currentResizer){return}const{popup:e,forcePopupParentAsOffsetParent:i}=this.config;const{isTop:s,isRight:r,isBottom:o,isLeft:n}=this.currentResizer;const a=r||n;const l=o||s;const{movementX:h,movementY:c}=this.calculateMouseMovement({e:t,isLeft:n,isTop:s});const u=this.position.x;const d=this.position.y;let g=0;let f=0;if(a&&h){const t=n?-1:1;const e=this.getWidth();const i=e+h*t;let s=false;if(n){g=e-i;if(u+g<=0||i<=this.minWidth){s=true;g=0}}if(!s){this.setWidth(i)}}if(l&&c){const t=s?-1:1;const e=this.getHeight();const i=e+c*t;let r=false;if(s){f=e-i;if(d+f<=0||i<=this.minHeight){r=true;f=0}}else{if(!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&e<i&&this.getMinSizeOfSiblings().height+i>this.element.parentElement.offsetHeight){r=true}}if(!r){this.setHeight(i)}}this.updateDragStartPosition(t.clientX,t.clientY);if((e||i)&&g||f){this.offsetElement(u+g,d+f)}}onResizeEnd(t,e){this.isResizing=false;this.currentResizer=null;this.boundaryEl=null;this.element.classList.remove("ag-resizing");this.resizerMap[e].element.classList.remove("ag-active");this.dispatchLocalEvent({type:"resize"})}refreshSize(){const t=this.element;if(this.config.popup){if(!this.config.width){this.setWidth(t.offsetWidth)}if(!this.config.height){this.setHeight(t.offsetHeight)}}}onMoveStart(t){this.boundaryEl=this.findBoundaryElement();if(!this.positioned){this.initialisePosition()}this.isMoving=true;this.element.classList.add("ag-moving");this.updateDragStartPosition(t.clientX,t.clientY)}onMove(t){if(!this.isMoving){return}const{x:e,y:i}=this.position;let s;if(this.config.calculateTopBuffer){s=this.config.calculateTopBuffer()}const{movementX:r,movementY:o}=this.calculateMouseMovement({e:t,isTop:true,anywhereWithin:true,topBuffer:s});this.offsetElement(e+r,i+o);this.updateDragStartPosition(t.clientX,t.clientY)}onMoveEnd(){this.isMoving=false;this.boundaryEl=null;this.element.classList.remove("ag-moving")}setOffsetParent(){if(this.config.forcePopupParentAsOffsetParent){this.offsetParent=this.popupService.getPopupParent()}else{this.offsetParent=this.element.offsetParent}}findBoundaryElement(){let t=this.element;while(t){if(window.getComputedStyle(t).position!=="static"){return t}t=t.parentElement}return this.element}clearResizeListeners(){while(this.resizeListeners.length){const t=this.resizeListeners.pop();this.dragService.removeDragSource(t)}}destroy(){super.destroy();if(this.moveElementDragListener){this.dragService.removeDragSource(this.moveElementDragListener)}this.constrainSizeToAvailableHeight(false);this.clearResizeListeners();this.removeResizers()}};var Vo=class t extends fe{constructor(t,e={}){super();this.eFocusableElement=t;this.callbacks=e;this.callbacks={shouldStopEventPropagation:()=>false,onTabKeyDown:t=>{if(t.defaultPrevented){return}const e=this.focusService.findNextFocusableElement(this.eFocusableElement,false,t.shiftKey);if(!e){return}e.focus();t.preventDefault()},...e}}wireBeans(t){this.focusService=t.focusService}postConstruct(){this.eFocusableElement.classList.add(t.FOCUS_MANAGED_CLASS);this.addKeyDownListeners(this.eFocusableElement);if(this.callbacks.onFocusIn){this.addManagedElementListeners(this.eFocusableElement,{focusin:this.callbacks.onFocusIn})}if(this.callbacks.onFocusOut){this.addManagedElementListeners(this.eFocusableElement,{focusout:this.callbacks.onFocusOut})}}addKeyDownListeners(t){this.addManagedElementListeners(t,{keydown:t=>{if(t.defaultPrevented||ae(t)){return}if(this.callbacks.shouldStopEventPropagation(t)){ne(t);return}if(t.key===zr.TAB){this.callbacks.onTabKeyDown(t)}else if(this.callbacks.handleKeyDown){this.callbacks.handleKeyDown(t)}}})}};Vo.FOCUS_MANAGED_CLASS="ag-focus-managed";var jo=Vo;var Wo={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"};function Uo(t,e){if($o(t)){if(t.debounceMs!=null){P("debounceMs is ignored when apply button is present")}return 0}return t.debounceMs!=null?t.debounceMs:e}function $o(t){return!!t.buttons&&t.buttons.indexOf("apply")>=0}var Qo=class extends ur{constructor(t){super();this.filterNameKey=t;this.applyActive=false;this.hidePopup=null;this.debouncePending=false;this.appliedModel=null;this.eFilterBody=cr;this.buttonListeners=[]}wireBeans(t){this.rowModel=t.rowModel}postConstruct(){this.resetTemplate();this.createManagedBean(new jo(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)}));this.positionableFeature=new Bo(this.getPositionableElement(),{forcePopupParentAsOffsetParent:true});this.createBean(this.positionableFeature)}handleKeyDown(t){}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return!!this.appliedModel}resetTemplate(t){let e=this.getGui();if(e){e.removeEventListener("submit",this.onFormSubmit)}const i=`\n            <form class="ag-filter-wrapper">\n                <div class="ag-filter-body-wrapper ag-${this.getCssIdentifier()}-body-wrapper" data-ref="eFilterBody">\n                    ${this.createBodyTemplate()}\n                </div>\n            </form>`;this.setTemplate(i,this.getAgComponents(),t);e=this.getGui();if(e){e.addEventListener("submit",this.onFormSubmit)}}isReadOnly(){return!!this.providedFilterParams.readOnly}init(t){this.setParams(t);this.resetUiToDefaults(true).then((()=>{this.updateUiVisibility();this.setupOnBtApplyDebounce()}))}setParams(t){this.providedFilterParams=t;this.applyActive=$o(t);this.resetButtonsPanel(t)}updateParams(t){this.providedFilterParams=t;this.applyActive=$o(t);this.resetUiToActiveModel(this.getModel(),(()=>{this.updateUiVisibility();this.setupOnBtApplyDebounce()}))}resetButtonsPanel(t,e){const{buttons:i,readOnly:s}=e??{};const{buttons:r,readOnly:o}=t;if(s===o&&q(i,r)){return}const n=r&&r.length>0&&!this.isReadOnly();if(!this.eButtonsPanel){if(n){this.eButtonsPanel=document.createElement("div");this.eButtonsPanel.classList.add("ag-filter-apply-panel")}}else{fs(this.eButtonsPanel);this.buttonListeners.forEach((t=>t()));this.buttonListeners=[]}if(!n){if(this.eButtonsPanel){ps(this.eButtonsPanel)}return}const a=document.createDocumentFragment();const l=t=>{let e;let i;switch(t){case"apply":e=this.translate("applyFilter");i=t=>this.onBtApply(false,false,t);break;case"clear":e=this.translate("clearFilter");i=()=>this.onBtClear();break;case"reset":e=this.translate("resetFilter");i=()=>this.onBtReset();break;case"cancel":e=this.translate("cancelFilter");i=t=>{this.onBtCancel(t)};break;default:P("Unknown button type specified");return}const s=t==="apply"?"submit":"button";const r=ws(`<button\n                    type="${s}"\n                    data-ref="${t}FilterButton"\n                    class="ag-button ag-standard-button ag-filter-apply-panel-button"\n                >${e}\n                </button>`);this.buttonListeners.push(...this.addManagedElementListeners(r,{click:i}));a.append(r)};r.forEach((t=>l(t)));this.eButtonsPanel.append(a);this.getGui().appendChild(this.eButtonsPanel)}getDefaultDebounceMs(){return 0}setupOnBtApplyDebounce(){const t=Uo(this.providedFilterParams,this.getDefaultDebounceMs());const e=L(this.checkApplyDebounce.bind(this),t);this.onBtApplyDebounce=()=>{this.debouncePending=true;e()}}checkApplyDebounce(){if(this.debouncePending){this.debouncePending=false;this.onBtApply()}}getModel(){return this.appliedModel?this.appliedModel:null}setModel(t){const e=t!=null?this.setModelIntoUi(t):this.resetUiToDefaults();return e.then((()=>{this.updateUiVisibility();this.applyModel("api")}))}onBtCancel(t){this.resetUiToActiveModel(this.getModel(),(()=>{this.handleCancelEnd(t)}))}handleCancelEnd(t){if(this.providedFilterParams.closeOnApply){this.close(t)}}resetUiToActiveModel(t,e){const i=()=>{this.onUiChanged(false,"prevent");e?.()};if(t!=null){this.setModelIntoUi(t).then(i)}else{this.resetUiToDefaults().then(i)}}onBtClear(){this.resetUiToDefaults().then((()=>this.onUiChanged()))}onBtReset(){this.onBtClear();this.onBtApply()}applyModel(t="api"){const e=this.getModelFromUi();if(!this.isModelValid(e)){return false}const i=this.appliedModel;this.appliedModel=e;return!this.areModelsEqual(i,e)}isModelValid(t){return true}onFormSubmit(t){t.preventDefault()}onBtApply(t=false,e=false,i){if(i){i.preventDefault()}if(this.applyModel(e?"rowDataUpdated":"ui")){const i="columnFilter";this.providedFilterParams.filterChangedCallback({afterFloatingFilter:t,afterDataChange:e,source:i})}const{closeOnApply:s}=this.providedFilterParams;if(s&&this.applyActive&&!t&&!e){this.close(i)}}onNewRowsLoaded(){}close(t){if(!this.hidePopup){return}const e=t;const i=e&&e.key;let s;if(i==="Enter"||i==="Space"){s={keyboardEvent:e}}this.hidePopup(s);this.hidePopup=null}onUiChanged(t=false,e){this.updateUiVisibility();this.providedFilterParams.filterModifiedCallback();if(this.applyActive&&!this.isReadOnly()){const t=this.isModelValid(this.getModelFromUi());const e=this.queryForHtmlElement(`[data-ref="applyFilterButton"]`);if(e){rs(e,!t)}}if(t&&!e||e==="immediately"){this.onBtApply(t)}else if(!this.applyActive&&!e||e==="debounce"){this.onBtApplyDebounce()}}afterGuiAttached(t){if(t){this.hidePopup=t.hidePopup}this.refreshFilterResizer(t?.container)}refreshFilterResizer(t){if(!this.positionableFeature||t==="toolPanel"){return}const e=t==="floatingFilter"||t==="columnFilter";const{positionableFeature:i,gos:s}=this;if(e){i.restoreLastSize();i.setResizable(s.get("enableRtl")?{bottom:true,bottomLeft:true,left:true}:{bottom:true,bottomRight:true,right:true})}else{this.positionableFeature.removeSizeFromEl();this.positionableFeature.setResizable(false)}this.positionableFeature.constrainSizeToAvailableHeight(true)}afterGuiDetached(){this.checkApplyDebounce();if(this.positionableFeature){this.positionableFeature.constrainSizeToAvailableHeight(false)}}refresh(t){const e=this.providedFilterParams;this.providedFilterParams=t;this.resetButtonsPanel(t,e);return true}destroy(){const t=this.getGui();if(t){t.removeEventListener("submit",this.onFormSubmit)}this.hidePopup=null;if(this.positionableFeature){this.positionableFeature=this.destroyBean(this.positionableFeature)}this.appliedModel=null;super.destroy()}translate(t){const e=this.localeService.getLocaleTextFunc();return e(t,Wo[t])}getCellValue(t){return this.providedFilterParams.getValue(t)}getPositionableElement(){return this.eFilterBody}};var Ko=class extends Er{constructor(t){super(t,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){if(this.eInput.disabled){return}if(!this.isSelected()){this.setValue(true)}}addInputListeners(){super.addInputListeners();this.addManagedEventListeners({checkboxChanged:this.onChange.bind(this)})}onChange(t){if(t.selected&&t.name&&this.eInput.name&&this.eInput.name===t.name&&t.id&&this.eInput.id!==t.id){this.setValue(false,true)}}};var Yo=class extends ur{constructor(t="default",e=false){super(`<div class="ag-list ag-${t}-list" role="listbox"></div>`);this.cssIdentifier=t;this.unFocusable=e;this.activeClass="ag-active-item";this.options=[];this.itemEls=[]}postConstruct(){const t=this.getGui();this.addManagedElementListeners(t,{mouseleave:()=>this.clearHighlighted()});if(this.unFocusable){return}this.addManagedElementListeners(t,{keydown:this.handleKeyDown.bind(this)})}handleKeyDown(t){const e=t.key;switch(e){case zr.ENTER:if(!this.highlightedEl){this.setValue(this.getValue())}else{const t=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(t)}break;case zr.DOWN:case zr.UP:t.preventDefault();this.navigate(e);break;case zr.PAGE_DOWN:case zr.PAGE_UP:case zr.PAGE_HOME:case zr.PAGE_END:t.preventDefault();this.navigateToPage(e);break}}navigate(t){const e=t===zr.DOWN;let i;if(!this.highlightedEl){i=this.itemEls[e?0:this.itemEls.length-1]}else{const t=this.itemEls.indexOf(this.highlightedEl);let s=t+(e?1:-1);s=Math.min(Math.max(s,0),this.itemEls.length-1);i=this.itemEls[s]}this.highlightItem(i)}navigateToPage(t){if(!this.highlightedEl||this.itemEls.length===0){return}const e=this.itemEls.indexOf(this.highlightedEl);const i=this.options.length-1;const s=this.itemEls[0].clientHeight;const r=Math.floor(this.getGui().clientHeight/s);let o=-1;if(t===zr.PAGE_HOME){o=0}else if(t===zr.PAGE_END){o=i}else if(t===zr.PAGE_DOWN){o=Math.min(e+r,i)}else if(t===zr.PAGE_UP){o=Math.max(e-r,0)}if(o===-1){return}this.highlightItem(this.itemEls[o])}addOptions(t){t.forEach((t=>this.addOption(t)));return this}addOption(t){const{value:e,text:i}=t;const s=i||e;this.options.push({value:e,text:s});this.renderOption(e,s);this.updateIndices();return this}clearOptions(){this.options=[];this.reset(true);this.itemEls.forEach((t=>{ps(t)}));this.itemEls=[]}updateIndices(){const t=this.getGui().querySelectorAll(".ag-list-item");t.forEach(((e,i)=>{Vi(e,i+1);Bi(e,t.length)}))}renderOption(t,e){const i=dt(this.gos);const s=i.createElement("div");Pi(s,"option");s.classList.add("ag-list-item",`ag-${this.cssIdentifier}-list-item`);const r=i.createElement("span");s.appendChild(r);r.textContent=e;if(!this.unFocusable){s.tabIndex=-1}this.itemEls.push(s);this.addManagedListeners(s,{mouseover:()=>this.highlightItem(s),mousedown:e=>{e.preventDefault();e.stopPropagation();this.setValue(t)}});this.createManagedBean(new lr({getTooltipValue:()=>e,getGui:()=>s,getLocation:()=>"UNKNOWN",shouldDisplayTooltip:()=>r.scrollWidth>r.clientWidth}));this.getGui().appendChild(s)}setValue(t,e){if(this.value===t){this.fireItemSelected();return this}if(t==null){this.reset(e);return this}const i=this.options.findIndex((e=>e.value===t));if(i!==-1){const t=this.options[i];this.value=t.value;this.displayValue=t.text;this.highlightItem(this.itemEls[i]);if(!e){this.fireChangeEvent()}}return this}setValueByIndex(t){return this.setValue(this.options[t].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();const t=this.options.findIndex((t=>t.value===this.value));if(t!==-1){this.highlightItem(this.itemEls[t])}}reset(t){this.value=null;this.displayValue=null;this.clearHighlighted();if(!t){this.fireChangeEvent()}}highlightItem(t){if(!vs(t)){return}this.clearHighlighted();this.highlightedEl=t;this.highlightedEl.classList.add(this.activeClass);Zi(this.highlightedEl,true);const e=this.getGui();const{scrollTop:i,clientHeight:s}=e;const{offsetTop:r,offsetHeight:o}=t;if(r+o>i+s||r<i){this.highlightedEl.scrollIntoView({block:"nearest"})}if(!this.unFocusable){this.highlightedEl.focus()}}clearHighlighted(){if(!this.highlightedEl||!vs(this.highlightedEl)){return}this.highlightedEl.classList.remove(this.activeClass);Zi(this.highlightedEl,false);this.highlightedEl=null}fireChangeEvent(){this.dispatchLocalEvent({type:"fieldValueChanged"});this.fireItemSelected()}fireItemSelected(){this.dispatchLocalEvent({type:"selectedItem"})}};var qo=class extends Tr{constructor(t){super(t,t?.template||`\n            <div class="ag-picker-field" role="presentation">\n                <div data-ref="eLabel"></div>\n                <div data-ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-picker-collapsed">\n                    <div data-ref="eDisplayField" class="ag-picker-field-display"></div>\n                    <div data-ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>\n                </div>\n            </div>`,t?.agComponents||[],t?.className);this.isPickerDisplayed=false;this.skipClick=false;this.pickerGap=4;this.hideCurrentPicker=null;this.eLabel=cr;this.eWrapper=cr;this.eDisplayField=cr;this.eIcon=cr;this.ariaRole=t?.ariaRole;this.onPickerFocusIn=this.onPickerFocusIn.bind(this);this.onPickerFocusOut=this.onPickerFocusOut.bind(this);if(!t){return}const{pickerGap:e,maxPickerHeight:i,variableWidth:s,minPickerWidth:r,maxPickerWidth:o}=t;if(e!=null){this.pickerGap=e}this.variableWidth=!!s;if(i!=null){this.setPickerMaxHeight(i)}if(r!=null){this.setPickerMinWidth(r)}if(o!=null){this.setPickerMaxWidth(o)}}wireBeans(t){this.popupService=t.popupService}postConstruct(){super.postConstruct();this.setupAria();const t=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute("id",t);const e=this.getAriaElement();this.addManagedElementListeners(e,{keydown:this.onKeyDown.bind(this)});this.addManagedElementListeners(this.eLabel,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)});this.addManagedElementListeners(this.eWrapper,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)});const{pickerIcon:i,inputWidth:s}=this.config;if(i){const t=pr(i,this.gos);if(t){this.eIcon.appendChild(t)}}if(s!=null){this.setInputWidth(s)}}setupAria(){const t=this.getAriaElement();t.setAttribute("tabindex",this.gos.get("tabIndex").toString());Hi(t,false);if(this.ariaRole){Pi(t,this.ariaRole)}}onLabelOrWrapperMouseDown(t){if(t){const e=this.getFocusableElement();if(e!==this.eWrapper&&t?.target===e){return}t.preventDefault();this.getFocusableElement().focus()}if(this.skipClick){this.skipClick=false;return}if(this.isDisabled()){return}if(this.isPickerDisplayed){this.hidePicker()}else{this.showPicker()}}onKeyDown(t){switch(t.key){case zr.UP:case zr.DOWN:case zr.ENTER:case zr.SPACE:t.preventDefault();this.onLabelOrWrapperMouseDown();break;case zr.ESCAPE:if(this.isPickerDisplayed){t.preventDefault();t.stopPropagation();if(this.hideCurrentPicker){this.hideCurrentPicker()}}break}}showPicker(){this.isPickerDisplayed=true;if(!this.pickerComponent){this.pickerComponent=this.createPickerComponent()}const t=this.pickerComponent.getGui();t.addEventListener("focusin",this.onPickerFocusIn);t.addEventListener("focusout",this.onPickerFocusOut);this.hideCurrentPicker=this.renderAndPositionPicker();this.toggleExpandedStyles(true)}renderAndPositionPicker(){const t=this.pickerComponent.getGui();if(!this.gos.get("suppressScrollWhenPopupsAreOpen")){[this.destroyMouseWheelFunc]=this.addManagedEventListeners({bodyScroll:()=>{this.hidePicker()}})}const e=this.localeService.getLocaleTextFunc();const{pickerAriaLabelKey:i,pickerAriaLabelValue:s,modalPicker:r=true}=this.config;const o={modal:r,eChild:t,closeOnEsc:true,closedCallback:()=>{const t=mt(this.gos);this.beforeHidePicker();if(t&&this.isAlive()){this.getFocusableElement().focus()}},ariaLabel:e(i,s),anchorToElement:this.eWrapper};t.style.position="absolute";const n=this.popupService.addPopup(o);const{maxPickerHeight:a,minPickerWidth:l,maxPickerWidth:h,variableWidth:c}=this;if(c){if(l){t.style.minWidth=l}t.style.width=Rs(cs(this.eWrapper));if(h){t.style.maxWidth=h}}else{Ss(t,h??cs(this.eWrapper))}const u=a??`${as(this.popupService.getPopupParent())}px`;t.style.setProperty("max-height",u);this.alignPickerToComponent();return n.hideFunc}alignPickerToComponent(){if(!this.pickerComponent){return}const{pickerType:t}=this.config;const{pickerGap:e}=this;const i=this.gos.get("enableRtl")?"right":"left";this.popupService.positionPopupByComponent({type:t,eventSource:this.eWrapper,ePopup:this.pickerComponent.getGui(),position:"under",alignSide:i,keepWithinBounds:true,nudgeY:e})}beforeHidePicker(){if(this.destroyMouseWheelFunc){this.destroyMouseWheelFunc();this.destroyMouseWheelFunc=void 0}this.toggleExpandedStyles(false);const t=this.pickerComponent.getGui();t.removeEventListener("focusin",this.onPickerFocusIn);t.removeEventListener("focusout",this.onPickerFocusOut);this.isPickerDisplayed=false;this.pickerComponent=void 0;this.hideCurrentPicker=null}toggleExpandedStyles(t){if(!this.isAlive()){return}const e=this.getAriaElement();Hi(e,t);this.eWrapper.classList.toggle("ag-picker-expanded",t);this.eWrapper.classList.toggle("ag-picker-collapsed",!t)}onPickerFocusIn(){this.togglePickerHasFocus(true)}onPickerFocusOut(t){if(!this.pickerComponent?.getGui().contains(t.relatedTarget)){this.togglePickerHasFocus(false)}}togglePickerHasFocus(t){if(!this.pickerComponent){return}this.eWrapper.classList.toggle("ag-picker-has-focus",t)}hidePicker(){if(this.hideCurrentPicker){this.hideCurrentPicker()}}setInputWidth(t){Ss(this.eWrapper,t);return this}getFocusableElement(){return this.eWrapper}setPickerGap(t){this.pickerGap=t;return this}setPickerMinWidth(t){if(typeof t==="number"){t=`${t}px`}this.minPickerWidth=t==null?void 0:t;return this}setPickerMaxWidth(t){if(typeof t==="number"){t=`${t}px`}this.maxPickerWidth=t==null?void 0:t;return this}setPickerMaxHeight(t){if(typeof t==="number"){t=`${t}px`}this.maxPickerHeight=t==null?void 0:t;return this}destroy(){this.hidePicker();super.destroy()}};var Zo=class extends qo{constructor(t){super({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"smallDown",ariaRole:"combobox",...t})}postConstruct(){super.postConstruct();this.createListComponent();this.eWrapper.tabIndex=this.gos.get("tabIndex");const{options:t,value:e,placeholder:i}=this.config;if(t!=null){this.addOptions(t)}if(e!=null){this.setValue(e,true)}if(i&&e==null){this.eDisplayField.textContent=i}this.addManagedElementListeners(this.eWrapper,{focusout:this.onWrapperFocusOut.bind(this)})}onWrapperFocusOut(t){if(!this.eWrapper.contains(t.relatedTarget)){this.hidePicker()}}createListComponent(){this.listComponent=this.createBean(new Yo("select",true));this.listComponent.setParentComponent(this);const t=this.listComponent.getAriaElement();const e=`ag-select-list-${this.listComponent.getCompId()}`;t.setAttribute("id",e);_i(this.getAriaElement(),t);this.listComponent.addManagedListeners(this.listComponent,{selectedItem:()=>{this.hidePicker();this.dispatchLocalEvent({type:"selectedItem"})}});this.listComponent.addManagedListeners(this.listComponent,{fieldValueChanged:()=>{if(!this.listComponent){return}this.setValue(this.listComponent.getValue(),false,true);this.hidePicker()}})}createPickerComponent(){return this.listComponent}onKeyDown(t){const{key:e}=t;if(e===zr.TAB){this.hidePicker()}switch(e){case zr.ENTER:case zr.UP:case zr.DOWN:case zr.PAGE_UP:case zr.PAGE_DOWN:case zr.PAGE_HOME:case zr.PAGE_END:t.preventDefault();if(this.isPickerDisplayed){this.listComponent?.handleKeyDown(t)}else{super.onKeyDown(t)}break;case zr.ESCAPE:super.onKeyDown(t);break;case zr.SPACE:if(this.isPickerDisplayed){t.preventDefault()}else{super.onKeyDown(t)}break}}showPicker(){if(!this.listComponent){return}super.showPicker();this.listComponent.refreshHighlighted()}addOptions(t){t.forEach((t=>this.addOption(t)));return this}addOption(t){this.listComponent.addOption(t);return this}clearOptions(){this.listComponent?.clearOptions();return this}setValue(t,e,i){if(this.value===t||!this.listComponent){return this}if(!i){this.listComponent.setValue(t,true)}const s=this.listComponent.getValue();if(s===this.getValue()){return this}let r=this.listComponent.getDisplayValue();if(r==null&&this.config.placeholder){r=this.config.placeholder}this.eDisplayField.textContent=r;this.setTooltip({newTooltipText:r??null,shouldDisplayTooltip:()=>this.eDisplayField.scrollWidth>this.eDisplayField.clientWidth});return super.setValue(t,e)}destroy(){if(this.listComponent){this.listComponent=this.destroyBean(this.listComponent)}super.destroy()}};var _o={selector:"AG-SELECT",component:Zo};var Jo=class{constructor(){this.customFilterOptions={}}init(t,e){this.filterOptions=t.filterOptions||e;this.mapCustomOptions();this.selectDefaultItem(t)}getFilterOptions(){return this.filterOptions}mapCustomOptions(){if(!this.filterOptions){return}this.filterOptions.forEach((t=>{if(typeof t==="string"){return}const e=[["displayKey"],["displayName"],["predicate","test"]];const i=e=>{if(!e.some((e=>t[e]!=null))){P(`ignoring FilterOptionDef as it doesn't contain one of '${e}'`);return false}return true};if(!e.every(i)){this.filterOptions=this.filterOptions.filter((e=>e===t))||[];return}this.customFilterOptions[t.displayKey]=t}))}selectDefaultItem(t){if(t.defaultOption){this.defaultOption=t.defaultOption}else if(this.filterOptions.length>=1){const t=this.filterOptions[0];if(typeof t==="string"){this.defaultOption=t}else if(t.displayKey){this.defaultOption=t.displayKey}else{P(`invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'`)}}else{P("no filter options for filter")}}getDefaultOption(){return this.defaultOption}getCustomOption(t){return this.customFilterOptions[t]}};var Xo=class extends Qo{constructor(){super(...arguments);this.eTypes=[];this.eJoinOperatorPanels=[];this.eJoinOperatorsAnd=[];this.eJoinOperatorsOr=[];this.eConditionBodies=[];this.listener=()=>this.onUiChanged();this.lastUiCompletePosition=null;this.joinOperatorId=0}getNumberOfInputs(t){const e=this.optionsFactory.getCustomOption(t);if(e){const{numberOfInputs:t}=e;return t!=null?t:1}const i=["empty","notBlank","blank"];if(t&&i.indexOf(t)>=0){return 0}else if(t==="inRange"){return 2}return 1}onFloatingFilterChanged(t,e){this.setTypeFromFloatingFilter(t);this.setValueFromFloatingFilter(e);this.onUiChanged(true)}setTypeFromFloatingFilter(t){this.eTypes.forEach(((e,i)=>{if(i===0){e.setValue(t,true)}else{e.setValue(this.optionsFactory.getDefaultOption(),true)}}))}getModelFromUi(){const t=this.getUiCompleteConditions();if(t.length===0){return null}if(this.maxNumConditions>1&&t.length>1){return{filterType:this.getFilterType(),operator:this.getJoinOperator(),conditions:t}}return t[0]}getConditionTypes(){return this.eTypes.map((t=>t.getValue()))}getConditionType(t){return this.eTypes[t].getValue()}getJoinOperator(){if(this.eJoinOperatorsOr.length===0){return this.defaultJoinOperator}return this.eJoinOperatorsOr[0].getValue()===true?"OR":"AND"}areModelsEqual(t,e){if(!t&&!e){return true}if(!t&&e||t&&!e){return false}const i=!t.operator;const s=!e.operator;const r=!i&&s||i&&!s;if(r){return false}let o;if(i){const i=t;const s=e;o=this.areSimpleModelsEqual(i,s)}else{const i=t;const s=e;o=i.operator===s.operator&&Qt(i.conditions,s.conditions,((t,e)=>this.areSimpleModelsEqual(t,e)))}return o}shouldRefresh(t){const e=this.getModel();const i=e?e.conditions??[e]:null;const s=t.filterOptions?.map((t=>typeof t==="string"?t:t.displayKey))??this.getDefaultFilterOptions();const r=!i||i.every((t=>s.find((e=>e===t.type))!==void 0));if(!r){return false}if(typeof t.maxNumConditions==="number"&&i&&i.length>t.maxNumConditions){return false}return true}refresh(t){if(!this.shouldRefresh(t)){return false}const e=super.refresh(t);if(!e){return false}this.setParams(t);this.removeConditionsAndOperators(0);this.createOption();this.setModel(this.getModel());return true}setModelIntoUi(t){const e=t.operator;if(e){const e=t;let i=e.conditions;if(i==null){i=[];P(`Filter model is missing 'conditions'`)}const s=this.validateAndUpdateConditions(i);const r=this.getNumConditions();if(s<r){this.removeConditionsAndOperators(s)}else if(s>r){for(let t=r;t<s;t++){this.createJoinOperatorPanel();this.createOption()}}const o=e.operator==="OR";this.eJoinOperatorsAnd.forEach((t=>t.setValue(!o,true)));this.eJoinOperatorsOr.forEach((t=>t.setValue(o,true)));i.forEach(((t,e)=>{this.eTypes[e].setValue(t.type,true);this.setConditionIntoUi(t,e)}))}else{const e=t;if(this.getNumConditions()>1){this.removeConditionsAndOperators(1)}this.eTypes[0].setValue(e.type,true);this.setConditionIntoUi(e,0)}this.lastUiCompletePosition=this.getNumConditions()-1;this.createMissingConditionsAndOperators();this.onUiChanged();return Yr.resolve()}validateAndUpdateConditions(t){let e=t.length;if(e>this.maxNumConditions){t.splice(this.maxNumConditions);P('Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.');e=this.maxNumConditions}return e}doesFilterPass(t){const e=this.getModel();if(e==null){return true}const{operator:i}=e;const s=[];if(i){const t=e;s.push(...t.conditions??[])}else{s.push(e)}const r=i&&i==="OR"?"some":"every";return s[r]((e=>this.individualConditionPasses(t,e)))}setParams(t){super.setParams(t);this.setNumConditions(t);this.defaultJoinOperator=this.getDefaultJoinOperator(t.defaultJoinOperator);this.filterPlaceholder=t.filterPlaceholder;this.optionsFactory=new Jo;this.optionsFactory.init(t,this.getDefaultFilterOptions());this.createFilterListOptions();this.createOption();this.createMissingConditionsAndOperators();if(this.isReadOnly()){this.eFilterBody.setAttribute("tabindex","-1")}}setNumConditions(t){this.maxNumConditions=t.maxNumConditions??2;if(this.maxNumConditions<1){P('"filterParams.maxNumConditions" must be greater than or equal to zero.');this.maxNumConditions=1}this.numAlwaysVisibleConditions=t.numAlwaysVisibleConditions??1;if(this.numAlwaysVisibleConditions<1){P('"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.');this.numAlwaysVisibleConditions=1}if(this.numAlwaysVisibleConditions>this.maxNumConditions){P('"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".');this.numAlwaysVisibleConditions=this.maxNumConditions}}createOption(){const t=this.createManagedBean(new Zo);this.eTypes.push(t);t.addCssClass("ag-filter-select");this.eFilterBody.appendChild(t.getGui());const e=this.createValueElement();this.eConditionBodies.push(e);this.eFilterBody.appendChild(e);this.putOptionsIntoDropdown(t);this.resetType(t);const i=this.getNumConditions()-1;this.forEachPositionInput(i,(t=>this.resetInput(t)));this.addChangedListeners(t,i)}createJoinOperatorPanel(){const t=document.createElement("div");this.eJoinOperatorPanels.push(t);t.classList.add("ag-filter-condition");const e=this.createJoinOperator(this.eJoinOperatorsAnd,t,"and");const i=this.createJoinOperator(this.eJoinOperatorsOr,t,"or");this.eFilterBody.appendChild(t);const s=this.eJoinOperatorPanels.length-1;const r=this.joinOperatorId++;this.resetJoinOperatorAnd(e,s,r);this.resetJoinOperatorOr(i,s,r);if(!this.isReadOnly()){e.onValueChange(this.listener);i.onValueChange(this.listener)}}createJoinOperator(t,e,i){const s=this.createManagedBean(new Ko);t.push(s);s.addCssClass("ag-filter-condition-operator");s.addCssClass(`ag-filter-condition-operator-${i}`);e.appendChild(s.getGui());return s}getDefaultJoinOperator(t){return t==="AND"||t==="OR"?t:"AND"}createFilterListOptions(){const t=this.optionsFactory.getFilterOptions();this.filterListOptions=t.map((t=>typeof t==="string"?this.createBoilerplateListOption(t):this.createCustomListOption(t)))}putOptionsIntoDropdown(t){this.filterListOptions.forEach((e=>{t.addOption(e)}));t.setDisabled(this.filterListOptions.length<=1)}createBoilerplateListOption(t){return{value:t,text:this.translate(t)}}createCustomListOption(t){const{displayKey:e}=t;const i=this.optionsFactory.getCustomOption(t.displayKey);return{value:e,text:i?this.localeService.getLocaleTextFunc()(i.displayKey,i.displayName):this.translate(e)}}createBodyTemplate(){return""}getAgComponents(){return[]}getCssIdentifier(){return"simple-filter"}updateUiVisibility(){const t=this.getJoinOperator();this.updateNumConditions();this.updateConditionStatusesAndValues(this.lastUiCompletePosition,t)}updateNumConditions(){let t=-1;let e=true;for(let i=0;i<this.getNumConditions();i++){if(this.isConditionUiComplete(i)){t=i}else{e=false}}if(this.shouldAddNewConditionAtEnd(e)){this.createJoinOperatorPanel();this.createOption()}else{const e=this.lastUiCompletePosition??this.getNumConditions()-2;if(t<e){this.removeConditionsAndOperators(e+1);const i=t+1;const s=e-i;if(s>0){this.removeConditionsAndOperators(i,s)}this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=t}updateConditionStatusesAndValues(t,e){this.eTypes.forEach(((e,i)=>{const s=this.isConditionDisabled(i,t);e.setDisabled(s||this.filterListOptions.length<=1);if(i===1){rs(this.eJoinOperatorPanels[0],s);this.eJoinOperatorsAnd[0].setDisabled(s);this.eJoinOperatorsOr[0].setDisabled(s)}}));this.eConditionBodies.forEach(((t,e)=>{is(t,this.isConditionBodyVisible(e))}));const i=(e??this.getJoinOperator())==="OR";this.eJoinOperatorsAnd.forEach((t=>{t.setValue(!i,true)}));this.eJoinOperatorsOr.forEach((t=>{t.setValue(i,true)}));this.forEachInput(((e,i,s,r)=>{this.setElementDisplayed(e,i<r);this.setElementDisabled(e,this.isConditionDisabled(s,t))}));this.resetPlaceholder()}shouldAddNewConditionAtEnd(t){return t&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(t,e){if(t>=this.getNumConditions()){return}this.removeComponents(this.eTypes,t,e);this.removeElements(this.eConditionBodies,t,e);this.removeValueElements(t,e);const i=Math.max(t-1,0);this.removeElements(this.eJoinOperatorPanels,i,e);this.removeComponents(this.eJoinOperatorsAnd,i,e);this.removeComponents(this.eJoinOperatorsOr,i,e)}removeElements(t,e,i){const s=this.removeItems(t,e,i);s.forEach((t=>ps(t)))}removeComponents(t,e,i){const s=this.removeItems(t,e,i);s.forEach((t=>{ps(t.getGui());this.destroyBean(t)}))}removeItems(t,e,i){return i==null?t.splice(e):t.splice(e,i)}afterGuiAttached(t){super.afterGuiAttached(t);this.resetPlaceholder();if(!t?.suppressFocus){if(this.isReadOnly()){this.eFilterBody.focus()}else{const t=this.getInputs(0)[0];if(!t){return}if(t instanceof Ar){t.getInputElement().focus()}}}}afterGuiDetached(){super.afterGuiDetached();const t=this.getModel();this.resetUiToActiveModel(t);let e=-1;let i=-1;let s=false;const r=this.getJoinOperator();for(let t=this.getNumConditions()-1;t>=0;t--){if(this.isConditionUiComplete(t)){if(e===-1){e=t;i=t}}else{const r=t>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(t-1);const o=t<e;if(r||o){this.removeConditionsAndOperators(t,1);s=true;if(o){i--}}}}let o=false;if(this.getNumConditions()<this.numAlwaysVisibleConditions){this.createMissingConditionsAndOperators();o=true}if(this.shouldAddNewConditionAtEnd(i===this.getNumConditions()-1)){this.createJoinOperatorPanel();this.createOption();o=true}if(o){this.updateConditionStatusesAndValues(i,r)}if(s){this.updateJoinOperatorsDisabled()}this.lastUiCompletePosition=i}getPlaceholderText(t,e){let i=this.translate(t);if(I(this.filterPlaceholder)){const t=this.filterPlaceholder;const s=this.eTypes[e].getValue();const r=this.translate(s);i=t({filterOptionKey:s,filterOption:r,placeholder:i})}else if(typeof this.filterPlaceholder==="string"){i=this.filterPlaceholder}return i}resetPlaceholder(){const t=this.localeService.getLocaleTextFunc();this.forEachInput(((e,i,s,r)=>{if(!(e instanceof Ar)){return}const o=i===0&&r>1?"inRangeStart":i===0?"filterOoo":"inRangeEnd";const n=i===0&&r>1?t("ariaFilterFromValue","Filter from value"):i===0?t("ariaFilterValue","Filter Value"):t("ariaFilterToValue","Filter to Value");e.setInputPlaceholder(this.getPlaceholderText(o,s));e.setInputAriaLabel(n)}))}setElementValue(t,e,i){if(t instanceof Ar){t.setValue(e!=null?String(e):null,true)}}setElementDisplayed(t,e){if(t instanceof ur){is(t.getGui(),e)}}setElementDisabled(t,e){if(t instanceof ur){rs(t.getGui(),e)}}attachElementOnChange(t,e){if(t instanceof Ar){t.onValueChange(e)}}forEachInput(t){this.getConditionTypes().forEach(((e,i)=>{this.forEachPositionTypeInput(i,e,t)}))}forEachPositionInput(t,e){const i=this.getConditionType(t);this.forEachPositionTypeInput(t,i,e)}forEachPositionTypeInput(t,e,i){const s=this.getNumberOfInputs(e);const r=this.getInputs(t);for(let e=0;e<r.length;e++){const o=r[e];if(o!=null){i(o,e,t,s)}}}isConditionDisabled(t,e){if(this.isReadOnly()){return true}if(t===0){return false}return t>e+1}isConditionBodyVisible(t){const e=this.getConditionType(t);const i=this.getNumberOfInputs(e);return i>0}isConditionUiComplete(t){if(t>=this.getNumConditions()){return false}const e=this.getConditionType(t);if(e==="empty"){return false}if(this.getValues(t).some((t=>t==null))){return false}return true}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){const t=[];for(let e=0;e<this.getNumConditions();e++){if(this.isConditionUiComplete(e)){t.push(this.createCondition(e))}}return t}createMissingConditionsAndOperators(){if(this.isReadOnly()){return}for(let t=this.getNumConditions();t<this.numAlwaysVisibleConditions;t++){this.createJoinOperatorPanel();this.createOption()}}resetUiToDefaults(t){this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions);this.eTypes.forEach((t=>this.resetType(t)));this.eJoinOperatorsAnd.forEach(((t,e)=>this.resetJoinOperatorAnd(t,e,this.joinOperatorId+e)));this.eJoinOperatorsOr.forEach(((t,e)=>this.resetJoinOperatorOr(t,e,this.joinOperatorId+e)));this.joinOperatorId++;this.forEachInput((t=>this.resetInput(t)));this.resetPlaceholder();this.createMissingConditionsAndOperators();this.lastUiCompletePosition=null;if(!t){this.onUiChanged()}return Yr.resolve()}resetType(t){const e=this.localeService.getLocaleTextFunc();const i=e("ariaFilteringOperator","Filtering operator");t.setValue(this.optionsFactory.getDefaultOption(),true).setAriaLabel(i).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(t,e,i){this.resetJoinOperator(t,e,this.isDefaultOperator("AND"),this.translate("andCondition"),i)}resetJoinOperatorOr(t,e,i){this.resetJoinOperator(t,e,this.isDefaultOperator("OR"),this.translate("orCondition"),i)}resetJoinOperator(t,e,i,s,r){this.updateJoinOperatorDisabled(t.setValue(i,true).setName(`ag-simple-filter-and-or-${this.getCompId()}-${r}`).setLabel(s),e)}updateJoinOperatorsDisabled(){this.eJoinOperatorsAnd.forEach(((t,e)=>this.updateJoinOperatorDisabled(t,e)));this.eJoinOperatorsOr.forEach(((t,e)=>this.updateJoinOperatorDisabled(t,e)))}updateJoinOperatorDisabled(t,e){t.setDisabled(this.isReadOnly()||e>0)}resetInput(t){this.setElementValue(t,null);this.setElementDisabled(t,this.isReadOnly())}setConditionIntoUi(t,e){const i=this.mapValuesFromModel(t);this.forEachInput(((t,s,r)=>{if(r!==e){return}this.setElementValue(t,i[s]!=null?i[s]:null)}))}setValueFromFloatingFilter(t){this.forEachInput(((e,i,s)=>{this.setElementValue(e,i===0&&s===0?t:null,true)}))}isDefaultOperator(t){return t===this.defaultJoinOperator}addChangedListeners(t,e){if(this.isReadOnly()){return}t.onValueChange(this.listener);this.forEachPositionInput(e,(t=>{this.attachElementOnChange(t,this.listener)}))}individualConditionPasses(t,e){const i=this.getCellValue(t.node);const s=this.mapValuesFromModel(e);const r=this.optionsFactory.getCustomOption(e.type);const o=this.evaluateCustomFilter(r,s,i);if(o!=null){return o}if(i==null){return this.evaluateNullValue(e.type)}return this.evaluateNonNullValue(s,i,e,t)}evaluateCustomFilter(t,e,i){if(t==null){return}const{predicate:s}=t;if(s!=null&&!e.some((t=>t==null))){return s(e,i)}return}isBlank(t){return t==null||typeof t==="string"&&t.trim().length===0}hasInvalidInputs(){return false}};var tn=class extends Xo{setParams(t){super.setParams(t);this.scalarFilterParams=t}evaluateNullValue(t){switch(t){case"equals":if(this.scalarFilterParams.includeBlanksInEquals){return true}break;case"notEqual":if(this.scalarFilterParams.includeBlanksInNotEqual){return true}break;case"greaterThan":case"greaterThanOrEqual":if(this.scalarFilterParams.includeBlanksInGreaterThan){return true}break;case"lessThan":case"lessThanOrEqual":if(this.scalarFilterParams.includeBlanksInLessThan){return true}break;case"inRange":if(this.scalarFilterParams.includeBlanksInRange){return true}break;case"blank":return true;case"notBlank":return false}return false}evaluateNonNullValue(t,e,i){const s=this.comparator();const r=t[0]!=null?s(t[0],e):0;switch(i.type){case"equals":return r===0;case"notEqual":return r!==0;case"greaterThan":return r>0;case"greaterThanOrEqual":return r>=0;case"lessThan":return r<0;case"lessThanOrEqual":return r<=0;case"inRange":{const i=s(t[1],e);return this.scalarFilterParams.inRangeInclusive?r>=0&&i<=0:r>0&&i<0}case"blank":return this.isBlank(e);case"notBlank":return!this.isBlank(e);default:P('Unexpected type of filter "'+i.type+'", it looks like the filter was configured with incorrect Filter Options');return true}}};var en=65;var sn=67;var rn=86;var on=68;var nn=90;var an=89;function ln(t){if(t.altKey||t.ctrlKey||t.metaKey){return false}const e=t.key?.length===1;return e}function hn(t,e,i,s,r){const o=s?s.getColDef().suppressKeyboardEvent:void 0;if(!o){return false}const n=t.addGridCommonParams({event:e,editing:r,column:s,node:i,data:i.data,colDef:s.getColDef()});if(o){const t=o(n);if(t){return true}}return false}function cn(t,e,i,s){const r=s.getDefinition();const o=r&&r.suppressHeaderKeyboardEvent;if(!j(o)){return false}const n=t.addGridCommonParams({colDef:r,column:s,headerRowIndex:i,event:e});return!!o(n)}function un(t){const{keyCode:e}=t;let i;switch(e){case en:i=zr.A;break;case sn:i=zr.C;break;case rn:i=zr.V;break;case on:i=zr.D;break;case nn:i=zr.Z;break;case an:i=zr.Y;break;default:i=t.code}return i}function dn(t,e=false){if(t===zr.DELETE){return true}if(!e&&t===zr.BACKSPACE){return Ks()}return false}var gn=class extends Ar{constructor(t,e="ag-text-field",i="text"){super(t,e,i)}postConstruct(){super.postConstruct();if(this.config.allowedCharPattern){this.preventDisallowedCharacters()}}setValue(t,e){if(this.eInput.value!==t){this.eInput.value=j(t)?t:""}return super.setValue(t,e)}setStartValue(t){this.setValue(t,true)}preventDisallowedCharacters(){const t=new RegExp(`[${this.config.allowedCharPattern}]`);const e=e=>{if(!ln(e)){return}if(e.key&&!t.test(e.key)){e.preventDefault()}};this.addManagedListeners(this.eInput,{keydown:e,paste:e=>{const i=e.clipboardData?.getData("text");if(i&&i.split("").some((e=>!t.test(e)))){e.preventDefault()}}})}};var fn={selector:"AG-INPUT-TEXT-FIELD",component:gn};var pn=class extends gn{constructor(t){super(t,"ag-number-field","number")}postConstruct(){super.postConstruct();this.addManagedListeners(this.eInput,{blur:()=>{const t=parseFloat(this.eInput.value);const e=isNaN(t)?"":this.normalizeValue(t.toString());if(this.value!==e){this.setValue(e)}},wheel:this.onWheel.bind(this)});this.eInput.step="any";const{precision:t,min:e,max:i,step:s}=this.config;if(typeof t==="number")this.setPrecision(t);if(typeof e==="number")this.setMin(e);if(typeof i==="number")this.setMax(i);if(typeof s==="number")this.setStep(s)}onWheel(t){if(pt(this.gos)===this.eInput){t.preventDefault()}}normalizeValue(t){if(t===""){return""}if(this.precision!=null){t=this.adjustPrecision(t)}const e=parseFloat(t);if(this.min!=null&&e<this.min){t=this.min.toString()}else if(this.max!=null&&e>this.max){t=this.max.toString()}return t}adjustPrecision(t,e){if(this.precision==null){return t}if(e){const e=parseFloat(t).toFixed(this.precision);return parseFloat(e).toString()}const i=String(t).split(".");if(i.length>1){if(i[1].length<=this.precision){return t}else if(this.precision>0){return`${i[0]}.${i[1].slice(0,this.precision)}`}}return i[0]}setMin(t){if(this.min===t){return this}this.min=t;Is(this.eInput,"min",t);return this}setMax(t){if(this.max===t){return this}this.max=t;Is(this.eInput,"max",t);return this}setPrecision(t){this.precision=t;return this}setStep(t){if(this.step===t){return this}this.step=t;Is(this.eInput,"step",t);return this}setValue(t,e){return this.setValueOrInputValue((t=>super.setValue(t,e)),(()=>this),t)}setStartValue(t){return this.setValueOrInputValue((t=>super.setValue(t,true)),(t=>{this.eInput.value=t}),t)}setValueOrInputValue(t,e,i){if(j(i)){let s=this.isScientificNotation(i);if(s&&this.eInput.validity.valid){return t(i)}if(!s){i=this.adjustPrecision(i);const t=this.normalizeValue(i);s=i!=t}if(s){return e(i)}}return t(i)}getValue(){if(!this.eInput.validity.valid){return void 0}const t=this.eInput.value;if(this.isScientificNotation(t)){return this.adjustPrecision(t,true)}return super.getValue()}isScientificNotation(t){return typeof t==="string"&&t.includes("e")}};var mn={selector:"AG-INPUT-NUMBER-FIELD",component:pn};var vn=["equals","notEqual","greaterThan","greaterThanOrEqual","lessThan","lessThanOrEqual","inRange","blank","notBlank"];var wn=class{constructor(t,e,i){this.localeService=t;this.optionsFactory=e;this.valueFormatter=i}getModelAsString(t){if(!t){return null}const e=t.operator!=null;const i=this.localeService.getLocaleTextFunc();if(e){const e=t;const s=e.conditions??[];const r=s.map((t=>this.getModelAsString(t)));const o=e.operator==="AND"?"andCondition":"orCondition";return r.join(` ${i(o,Wo[o])} `)}else if(t.type==="blank"||t.type==="notBlank"){return i(t.type,t.type)}else{const e=t;const s=this.optionsFactory.getCustomOption(e.type);const{displayKey:r,displayName:o,numberOfInputs:n}=s||{};if(r&&o&&n===0){i(r,o);return o}return this.conditionToString(e,s)}}updateParams(t){this.optionsFactory=t.optionsFactory}formatValue(t){return this.valueFormatter?this.valueFormatter(t??null)??"":String(t)}};var bn=class extends wn{conditionToString(t,e){const{numberOfInputs:i}=e||{};const s=t.type=="inRange"||i===2;if(s){return`${this.formatValue(t.filter)}-${this.formatValue(t.filterTo)}`}if(t.filter!=null){return this.formatValue(t.filter)}return`${t.type}`}};function yn(t){const{allowedCharPattern:e}=t??{};return e??null}var Cn=class extends tn{constructor(){super("numberFilter");this.eValuesFrom=[];this.eValuesTo=[]}refresh(t){if(this.numberFilterParams.allowedCharPattern!==t.allowedCharPattern){return false}return super.refresh(t)}mapValuesFromModel(t){const{filter:e,filterTo:i,type:s}=t||{};return[this.processValue(e),this.processValue(i)].slice(0,this.getNumberOfInputs(s))}getDefaultDebounceMs(){return 500}comparator(){return(t,e)=>{if(t===e){return 0}return t<e?1:-1}}setParams(t){this.numberFilterParams=t;super.setParams(t);this.filterModelFormatter=new bn(this.localeService,this.optionsFactory,this.numberFilterParams.numberFormatter)}getDefaultFilterOptions(){return vn}setElementValue(t,e,i){const s=!i&&this.numberFilterParams.numberFormatter?this.numberFilterParams.numberFormatter(e??null):e;super.setElementValue(t,s)}createValueElement(){const t=yn(this.numberFilterParams);const e=document.createElement("div");e.classList.add("ag-filter-body");Pi(e,"presentation");this.createFromToElement(e,this.eValuesFrom,"from",t);this.createFromToElement(e,this.eValuesTo,"to",t);return e}createFromToElement(t,e,i,s){const r=this.createManagedBean(s?new gn({allowedCharPattern:s}):new pn);r.addCssClass(`ag-filter-${i}`);r.addCssClass("ag-filter-filter");e.push(r);t.appendChild(r.getGui())}removeValueElements(t,e){this.removeComponents(this.eValuesFrom,t,e);this.removeComponents(this.eValuesTo,t,e)}getValues(t){const e=[];this.forEachPositionInput(t,((t,i,s,r)=>{if(i<r){e.push(this.processValue(this.stringToFloat(t.getValue())))}}));return e}areSimpleModelsEqual(t,e){return t.filter===e.filter&&t.filterTo===e.filterTo&&t.type===e.type}getFilterType(){return"number"}processValue(t){if(t==null){return null}return isNaN(t)?null:t}stringToFloat(t){if(typeof t==="number"){return t}let e=V(t);if(e!=null&&e.trim()===""){e=null}if(this.numberFilterParams.numberParser){return this.numberFilterParams.numberParser(e)}return e==null||e.trim()==="-"?null:parseFloat(e)}createCondition(t){const e=this.getConditionType(t);const i={filterType:this.getFilterType(),type:e};const s=this.getValues(t);if(s.length>0){i.filter=s[0]}if(s.length>1){i.filterTo=s[1]}return i}getInputs(t){if(t>=this.eValuesFrom.length){return[null,null]}return[this.eValuesFrom[t],this.eValuesTo[t]]}getModelAsString(t){return this.filterModelFormatter.getModelAsString(t)??""}hasInvalidInputs(){let t=false;this.forEachInput((e=>{if(!e.getInputElement().validity.valid){t=true;return}}));return t}};var xn=["contains","notContains","equals","notEqual","startsWith","endsWith","blank","notBlank"];var kn=class extends wn{conditionToString(t,e){const{numberOfInputs:i}=e||{};const s=t.type=="inRange"||i===2;if(s){return`${t.filter}-${t.filterTo}`}if(t.filter!=null){return`${t.filter}`}return`${t.type}`}};function Sn(t){const e=t&&t.trim();return e===""?t:e}var Dn=class extends Xo{constructor(){super("textFilter");this.defaultFormatter=t=>t;this.defaultLowercaseFormatter=t=>t==null?null:t.toString().toLowerCase();this.defaultMatcher=({filterOption:t,value:e,filterText:i})=>{if(i==null){return false}switch(t){case"contains":return e.indexOf(i)>=0;case"notContains":return e.indexOf(i)<0;case"equals":return e===i;case"notEqual":return e!=i;case"startsWith":return e.indexOf(i)===0;case"endsWith":{const t=e.lastIndexOf(i);return t>=0&&t===e.length-i.length}default:return false}};this.eValuesFrom=[];this.eValuesTo=[]}getDefaultDebounceMs(){return 500}setParams(t){this.textFilterParams=t;super.setParams(t);this.matcher=this.getTextMatcher();this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?this.defaultFormatter:this.defaultLowercaseFormatter);this.filterModelFormatter=new kn(this.localeService,this.optionsFactory)}getTextMatcher(){const t=this.textFilterParams.textCustomComparator;if(t){P("textCustomComparator is deprecated, use textMatcher instead.");return({filterOption:e,value:i,filterText:s})=>t(e,i,s)}return this.textFilterParams.textMatcher||this.defaultMatcher}createCondition(t){const e=this.getConditionType(t);const i={filterType:this.getFilterType(),type:e};const s=this.getValuesWithSideEffects(t,true);if(s.length>0){i.filter=s[0]}if(s.length>1){i.filterTo=s[1]}return i}getFilterType(){return"text"}areSimpleModelsEqual(t,e){return t.filter===e.filter&&t.filterTo===e.filterTo&&t.type===e.type}getInputs(t){if(t>=this.eValuesFrom.length){return[null,null]}return[this.eValuesFrom[t],this.eValuesTo[t]]}getValues(t){return this.getValuesWithSideEffects(t,false)}getValuesWithSideEffects(t,e){const i=[];this.forEachPositionInput(t,((t,s,r,o)=>{if(s<o){let s=V(t.getValue());if(e&&this.textFilterParams.trimInput){s=Sn(s)??null;t.setValue(s,true)}i.push(s)}}));return i}getDefaultFilterOptions(){return xn}createValueElement(){const t=document.createElement("div");t.classList.add("ag-filter-body");Pi(t,"presentation");this.createFromToElement(t,this.eValuesFrom,"from");this.createFromToElement(t,this.eValuesTo,"to");return t}createFromToElement(t,e,i){const s=this.createManagedBean(new gn);s.addCssClass(`ag-filter-${i}`);s.addCssClass("ag-filter-filter");e.push(s);t.appendChild(s.getGui())}removeValueElements(t,e){this.removeComponents(this.eValuesFrom,t,e);this.removeComponents(this.eValuesTo,t,e)}mapValuesFromModel(t){const{filter:e,filterTo:i,type:s}=t||{};return[e||null,i||null].slice(0,this.getNumberOfInputs(s))}evaluateNullValue(t){const e=["notEqual","notContains","blank"];return t?e.indexOf(t)>=0:false}evaluateNonNullValue(t,e,i,s){const r=t.map((t=>this.formatter(t)))||[];const o=this.formatter(e);const{api:n,colDef:a,column:l,context:h,textFormatter:c}=this.textFilterParams;if(i.type==="blank"){return this.isBlank(e)}else if(i.type==="notBlank"){return!this.isBlank(e)}const u={api:n,colDef:a,column:l,context:h,node:s.node,data:s.data,filterOption:i.type,value:o,textFormatter:c};return r.some((t=>this.matcher({...u,filterText:t})))}getModelAsString(t){return this.filterModelFormatter.getModelAsString(t)??""}};function Mn(t){if(typeof t==="number"){return t}if(typeof t==="string"){const e=parseInt(t);if(isNaN(e)){return void 0}return e}return void 0}function Rn(t,e=Number.MAX_VALUE){return i=>{const s=Mn(i);if(s==null||s<t||s>e){return void 0}return s}}function Fn(t,e){return t.toString().padStart(e,"0")}function Pn(t,e){const i=[];for(let s=t;s<=e;s++){i.push(s)}return i}function zn(t,e,i){if(typeof t!=="number"){return""}return t.toString().replace(".",i).replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${e}`)}function In(t,e=true,i="-"){if(!t){return null}let s=[t.getFullYear(),t.getMonth()+1,t.getDate()].map((t=>Fn(t,2))).join(i);if(e){s+=" "+[t.getHours(),t.getMinutes(),t.getSeconds()].map((t=>Fn(t,2))).join(":")}return s}var Tn=t=>{if(t>3&&t<21){return"th"}const e=t%10;switch(e){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function An(t,e="YYYY-MM-DD"){const i=Fn(t.getFullYear(),4);const s=["January","February","March","April","May","June","July","August","September","October","November","December"];const r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];const o={YYYY:()=>i.slice(i.length-4,i.length),YY:()=>i.slice(i.length-2,i.length),Y:()=>`${t.getFullYear()}`,MMMM:()=>s[t.getMonth()],MMM:()=>s[t.getMonth()].slice(0,3),MM:()=>Fn(t.getMonth()+1,2),Mo:()=>`${t.getMonth()+1}${Tn(t.getMonth()+1)}`,M:()=>`${t.getMonth()+1}`,Do:()=>`${t.getDate()}${Tn(t.getDate())}`,DD:()=>Fn(t.getDate(),2),D:()=>`${t.getDate()}`,dddd:()=>r[t.getDay()],ddd:()=>r[t.getDay()].slice(0,3),dd:()=>r[t.getDay()].slice(0,2),do:()=>`${t.getDay()}${Tn(t.getDay())}`,d:()=>`${t.getDay()}`};const n=new RegExp(Object.keys(o).join("|"),"g");return e.replace(n,(t=>{if(t in o){return o[t]()}return t}))}function En(t){if(!t){return null}const[e,i]=t.split(" ");if(!e){return null}const s=e.split("-").map((t=>parseInt(t,10)));if(s.filter((t=>!isNaN(t))).length!==3){return null}const[r,o,n]=s;const a=new Date(r,o-1,n);if(a.getFullYear()!==r||a.getMonth()!==o-1||a.getDate()!==n){return null}if(!i||i==="00:00:00"){return a}const[l,h,c]=i.split(":").map((t=>parseInt(t,10)));if(l>=0&&l<24){a.setHours(l)}if(h>=0&&h<60){a.setMinutes(h)}if(c>=0&&c<60){a.setSeconds(c)}return a}var Nn=class{constructor(t,e,i,s,r){this.alive=true;this.context=t;this.eParent=s;const o=e.getDateCompDetails(i);const n=o.newAgStackInstance();n.then((e=>{if(!this.alive){t.destroyBean(e);return}this.dateComp=e;if(!e){return}s.appendChild(e.getGui());if(e.afterGuiAttached){e.afterGuiAttached()}if(this.tempValue){e.setDate(this.tempValue)}if(this.disabled!=null){this.setDateCompDisabled(this.disabled)}r?.(this)}))}destroy(){this.alive=false;this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(t){if(this.dateComp){this.dateComp.setDate(t)}else{this.tempValue=t}}setDisabled(t){if(this.dateComp){this.setDateCompDisabled(t)}else{this.disabled=t}}setDisplayed(t){is(this.eParent,t)}setInputPlaceholder(t){if(this.dateComp&&this.dateComp.setInputPlaceholder){this.dateComp.setInputPlaceholder(t)}}setInputAriaLabel(t){if(this.dateComp&&this.dateComp.setInputAriaLabel){this.dateComp.setInputAriaLabel(t)}}afterGuiAttached(t){if(this.dateComp&&typeof this.dateComp.afterGuiAttached==="function"){this.dateComp.afterGuiAttached(t)}}updateParams(t){let e=false;if(this.dateComp?.refresh&&typeof this.dateComp.refresh==="function"){const i=this.dateComp.refresh(t);if(i!==null){e=true}}if(!e&&this.dateComp?.onParamsUpdated&&typeof this.dateComp.onParamsUpdated==="function"){const e=this.dateComp.onParamsUpdated(t);if(e!==null){P(`Custom date component method 'onParamsUpdated' is deprecated. Use 'refresh' instead.`)}}}setDateCompDisabled(t){if(this.dateComp==null){return}if(this.dateComp.setDisabled==null){return}this.dateComp.setDisabled(t)}};var On=["equals","notEqual","lessThan","greaterThan","inRange","blank","notBlank"];var Ln=class extends wn{constructor(t,e,i){super(e,i);this.dateFilterParams=t}conditionToString(t,e){const{type:i}=t;const{numberOfInputs:s}=e||{};const r=i=="inRange"||s===2;const o=En(t.dateFrom);const n=En(t.dateTo);const a=this.dateFilterParams.inRangeFloatingFilterDateFormat;if(r){const t=o!==null?An(o,a):"null";const e=n!==null?An(n,a):"null";return`${t}-${e}`}if(o!=null){return An(o,a)}return`${i}`}updateParams(t){super.updateParams(t);this.dateFilterParams=t.dateFilterParams}};var Gn=1e3;var Hn=Infinity;var Bn=class extends tn{constructor(){super("dateFilter");this.eConditionPanelsFrom=[];this.eConditionPanelsTo=[];this.dateConditionFromComps=[];this.dateConditionToComps=[];this.minValidYear=Gn;this.maxValidYear=Hn;this.minValidDate=null;this.maxValidDate=null}wireBeans(t){super.wireBeans(t);this.context=t.context;this.userComponentFactory=t.userComponentFactory}afterGuiAttached(t){super.afterGuiAttached(t);this.dateConditionFromComps[0].afterGuiAttached(t)}mapValuesFromModel(t){const{dateFrom:e,dateTo:i,type:s}=t||{};return[e&&En(e)||null,i&&En(i)||null].slice(0,this.getNumberOfInputs(s))}comparator(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)}defaultComparator(t,e){const i=e;if(e==null||i<t){return-1}if(i>t){return 1}return 0}setParams(t){this.dateFilterParams=t;super.setParams(t);const e=(e,i)=>{if(t[e]!=null){if(!isNaN(t[e])){return t[e]==null?i:Number(t[e])}else{P(`DateFilter ${e} is not a number`)}}return i};this.minValidYear=e("minValidYear",Gn);this.maxValidYear=e("maxValidYear",Hn);if(this.minValidYear>this.maxValidYear){P(`DateFilter minValidYear should be <= maxValidYear`)}if(t.minValidDate){this.minValidDate=t.minValidDate instanceof Date?t.minValidDate:En(t.minValidDate)}else{this.minValidDate=null}if(t.maxValidDate){this.maxValidDate=t.maxValidDate instanceof Date?t.maxValidDate:En(t.maxValidDate)}else{this.maxValidDate=null}if(this.minValidDate&&this.maxValidDate&&this.minValidDate>this.maxValidDate){P(`DateFilter minValidDate should be <= maxValidDate`)}this.filterModelFormatter=new Ln(this.dateFilterParams,this.localeService,this.optionsFactory)}createDateCompWrapper(t){const e=new Nn(this.context,this.userComponentFactory,{onDateChanged:()=>this.onUiChanged(),filterParams:this.dateFilterParams},t);this.addDestroyFunc((()=>e.destroy()));return e}setElementValue(t,e){t.setDate(e)}setElementDisplayed(t,e){t.setDisplayed(e)}setElementDisabled(t,e){t.setDisabled(e)}getDefaultFilterOptions(){return On}createValueElement(){const t=dt(this.gos);const e=t.createElement("div");e.classList.add("ag-filter-body");this.createFromToElement(e,this.eConditionPanelsFrom,this.dateConditionFromComps,"from");this.createFromToElement(e,this.eConditionPanelsTo,this.dateConditionToComps,"to");return e}createFromToElement(t,e,i,s){const r=dt(this.gos);const o=r.createElement("div");o.classList.add(`ag-filter-${s}`);o.classList.add(`ag-filter-date-${s}`);e.push(o);t.appendChild(o);i.push(this.createDateCompWrapper(o))}removeValueElements(t,e){this.removeDateComps(this.dateConditionFromComps,t,e);this.removeDateComps(this.dateConditionToComps,t,e);this.removeItems(this.eConditionPanelsFrom,t,e);this.removeItems(this.eConditionPanelsTo,t,e)}removeDateComps(t,e,i){const s=this.removeItems(t,e,i);s.forEach((t=>t.destroy()))}isValidDateValue(t){if(t===null){return false}if(this.minValidDate){if(t<this.minValidDate){return false}}else{if(t.getUTCFullYear()<this.minValidYear){return false}}if(this.maxValidDate){if(t>this.maxValidDate){return false}}else{if(t.getUTCFullYear()>this.maxValidYear){return false}}return true}isConditionUiComplete(t){if(!super.isConditionUiComplete(t)){return false}let e=true;this.forEachInput(((i,s,r,o)=>{if(r!==t||!e||s>=o){return}e=e&&this.isValidDateValue(i.getDate())}));return e}areSimpleModelsEqual(t,e){return t.dateFrom===e.dateFrom&&t.dateTo===e.dateTo&&t.type===e.type}getFilterType(){return"date"}createCondition(t){const e=this.getConditionType(t);const i={};const s=this.getValues(t);if(s.length>0){i.dateFrom=In(s[0])}if(s.length>1){i.dateTo=In(s[1])}return{dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:e,...i}}resetPlaceholder(){const t=this.localeService.getLocaleTextFunc();const e=this.translate("dateFormatOoo");const i=t("ariaFilterValue","Filter Value");this.forEachInput((t=>{t.setInputPlaceholder(e);t.setInputAriaLabel(i)}))}getInputs(t){if(t>=this.dateConditionFromComps.length){return[null,null]}return[this.dateConditionFromComps[t],this.dateConditionToComps[t]]}getValues(t){const e=[];this.forEachPositionInput(t,((t,i,s,r)=>{if(i<r){e.push(t.getDate())}}));return e}translate(t){if(t==="lessThan"){return super.translate("before")}if(t==="greaterThan"){return super.translate("after")}return super.translate(t)}getModelAsString(t){return this.filterModelFormatter.getModelAsString(t)??""}};var Vn=class extends fe{constructor(t,e,i,s){super();this.columnOrGroup=t;this.columnOrGroup=t;this.eCell=e;this.ariaEl=this.eCell.querySelector("[role=columnheader]")||this.eCell;this.colsSpanning=s;this.beans=i}setColsSpanning(t){this.colsSpanning=t;this.onLeftChanged()}getColumnOrGroup(){if(this.beans.gos.get("enableRtl")&&this.colsSpanning){return $t(this.colsSpanning)}return this.columnOrGroup}postConstruct(){const t=this.onLeftChanged.bind(this);this.addManagedListeners(this.columnOrGroup,{leftChanged:t});this.setLeftFirstTime();this.addManagedEventListeners({displayedColumnsWidthChanged:t});this.addManagedPropertyListener("domLayout",t)}setLeftFirstTime(){const t=this.beans.gos.get("suppressColumnMoveAnimation");const e=j(this.columnOrGroup.getOldLeft());const i=this.beans.columnAnimationService.isActive()&&e&&!t;if(i){this.animateInLeft()}else{this.onLeftChanged()}}animateInLeft(){const t=this.getColumnOrGroup();const e=t.getLeft();const i=t.getOldLeft();const s=this.modifyLeftForPrintLayout(t,i);const r=this.modifyLeftForPrintLayout(t,e);this.setLeft(s);this.actualLeft=r;this.beans.columnAnimationService.executeNextVMTurn((()=>{if(this.actualLeft===r){this.setLeft(r)}}))}onLeftChanged(){const t=this.getColumnOrGroup();const e=t.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(t,e);this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(t,e){const i=et(this.beans.gos,"print");if(!i){return e}if(t.getPinned()==="left"){return e}const s=this.beans.visibleColsService.getColsLeftWidth();if(t.getPinned()==="right"){const t=this.beans.visibleColsService.getBodyContainerWidth();return s+t+e}return s+e}setLeft(t){if(j(t)){this.eCell.style.left=`${t}px`}if(hi(this.columnOrGroup)){const t=this.columnOrGroup.getLeafColumns();if(!t.length){return}if(t.length>1){Ki(this.ariaEl,t.length)}}}};var jn="ag-column-first";var Wn="ag-column-last";function Un(t,e,i,s){if(W(t)){return[]}return Kn(t.headerClass,t,e,i,s)}function $n(t,e,i){t.addOrRemoveCssClass(jn,i.isColAtEdge(e,"first"));t.addOrRemoveCssClass(Wn,i.isColAtEdge(e,"last"))}function Qn(t,e,i,s){return e.addGridCommonParams({colDef:t,column:i,columnGroup:s})}function Kn(t,e,i,s,r){if(W(t)){return[]}let o;if(typeof t==="function"){const n=Qn(e,i,s,r);o=t(n)}else{o=t}if(typeof o==="string"){return[o]}if(Array.isArray(o)){return[...o]}return[]}var Yn=0;var qn=class t extends fe{constructor(t,e,i){super();this.resizeToggleTimeout=0;this.resizeMultiplier=1;this.resizeFeature=null;this.lastFocusEvent=null;this.dragSource=null;this.columnGroupChild=t;this.parentRowCtrl=i;this.beans=e;this.instanceId=t.getUniqueId()+"-"+Yn++}wireBeans(t){this.pinnedWidthService=t.pinnedWidthService;this.focusService=t.focusService;this.userComponentFactory=t.userComponentFactory;this.ctrlsService=t.ctrlsService;this.dragAndDropService=t.dragAndDropService;this.menuService=t.menuService}postConstruct(){const t=this.refreshTabIndex.bind(this);this.addManagedPropertyListeners(["suppressHeaderFocus"],t);this.addManagedEventListeners({overlayExclusiveChanged:t})}shouldStopEventPropagation(t){const{headerRowIndex:e,column:i}=this.focusService.getFocusedHeader();return cn(this.gos,t,e,i)}getWrapperHasFocus(){const t=pt(this.gos);return t===this.eGui}setGui(t,e){this.eGui=t;this.addDomData(e);e.addManagedListeners(this.beans.eventService,{displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)});e.addManagedElementListeners(this.eGui,{focus:this.onGuiFocus.bind(this)});this.onDisplayedColumnsChanged();this.refreshTabIndex()}onGuiFocus(){this.eventService.dispatchEvent({type:"headerFocused",column:this.column})}setupAutoHeight(t){const{wrapperElement:e,checkMeasuringCallback:i,compBean:s}=t;const{animationFrameService:r,resizeObserverService:o,columnModel:n,gos:a}=this.beans;const l=t=>{if(!this.isAlive()||!s.isAlive()){return}const{paddingTop:i,paddingBottom:o,borderBottomWidth:h,borderTopWidth:c}=ns(this.getGui());const u=i+o+h+c;const d=e.offsetHeight;const g=d+u;if(t<5){const i=dt(a);const s=!i||!i.contains(e);const o=g==0;if(s||o){r.requestAnimationFrame((()=>l(t+1)));return}}n.setColHeaderHeight(this.column,g)};let h=false;let c;const u=()=>{const t=this.column.isAutoHeaderHeight();if(t&&!h){d()}if(!t&&h){g()}};const d=()=>{h=true;l(0);this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",true);c=o.observeResize(e,(()=>l(0)))};const g=()=>{h=false;if(c){c()}this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",false);c=void 0};u();s.addDestroyFunc((()=>g()));s.addManagedListeners(this.column,{widthChanged:()=>h&&l(0)});s.addManagedEventListeners({sortChanged:()=>{if(h){window.setTimeout((()=>l(0)))}}});if(i){i(u)}}onDisplayedColumnsChanged(){const{comp:t,column:e,beans:i,eGui:s}=this;if(!t||!e||!s){return}$n(t,e,i.visibleColsService);Qi(s,i.visibleColsService.getAriaColIndex(e))}addResizeAndMoveKeyboardListeners(t){if(!this.resizeFeature){return}t.addManagedListeners(this.eGui,{keydown:this.onGuiKeyDown.bind(this),keyup:this.onGuiKeyUp.bind(this)})}refreshTabIndex(){const t=this.focusService.isHeaderFocusSuppressed();if(this.eGui){Is(this.eGui,"tabindex",t?null:"-1")}}onGuiKeyDown(t){const e=pt(this.gos);const i=t.key===zr.LEFT||t.key===zr.RIGHT;if(this.isResizing){t.preventDefault();t.stopImmediatePropagation()}if(e!==this.eGui||!t.shiftKey&&!t.altKey){return}if(this.isResizing||i){t.preventDefault();t.stopImmediatePropagation()}if(!i){return}const s=t.key===zr.LEFT!==this.gos.get("enableRtl");const r=ko[s?"Left":"Right"];if(t.altKey){this.isResizing=true;this.resizeMultiplier+=1;const e=this.getViewportAdjustedResizeDiff(t);this.resizeHeader(e,t.shiftKey);this.resizeFeature?.toggleColumnResizing(true)}else{this.moveHeader(r)}}getViewportAdjustedResizeDiff(t){let e=this.getResizeDiff(t);const i=this.column.getPinned();if(i){const t=this.pinnedWidthService.getPinnedLeftWidth();const i=this.pinnedWidthService.getPinnedRightWidth();const s=ls(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(t+i+e>s){if(s>t+i){e=s-t-i}else{return 0}}}return e}getResizeDiff(t){let e=t.key===zr.LEFT!==this.gos.get("enableRtl");const i=this.column.getPinned();const s=this.gos.get("enableRtl");if(i){if(s!==(i==="right")){e=!e}}return(e?-1:1)*this.resizeMultiplier}onGuiKeyUp(){if(!this.isResizing){return}if(this.resizeToggleTimeout){window.clearTimeout(this.resizeToggleTimeout);this.resizeToggleTimeout=0}this.isResizing=false;this.resizeMultiplier=1;this.resizeToggleTimeout=window.setTimeout((()=>{this.resizeFeature?.toggleColumnResizing(false)}),150)}handleKeyDown(t){const e=this.getWrapperHasFocus();switch(t.key){case zr.PAGE_DOWN:case zr.PAGE_UP:case zr.PAGE_HOME:case zr.PAGE_END:if(e){t.preventDefault()}}}addDomData(e){const i=t.DOM_DATA_KEY_HEADER_CTRL;ut(this.gos,this.eGui,i,this);e.addDestroyFunc((()=>ut(this.gos,this.eGui,i,null)))}getGui(){return this.eGui}focus(t){if(!this.eGui){return false}this.lastFocusEvent=t||null;this.eGui.focus();return true}getRowIndex(){return this.parentRowCtrl.getRowIndex()}getParentRowCtrl(){return this.parentRowCtrl}getPinned(){return this.parentRowCtrl.getPinned()}getColumnGroupChild(){return this.columnGroupChild}removeDragSource(){if(this.dragSource){this.dragAndDropService.removeDragSource(this.dragSource);this.dragSource=null}}handleContextMenuMouseEvent(t,e,i){const s=t??e;if(this.gos.get("preventDefaultOnContextMenu")){s.preventDefault()}if(this.menuService.isHeaderContextMenuEnabled(i)){this.menuService.showHeaderContextMenu(i,t,e)}this.dispatchColumnMouseEvent("columnHeaderContextMenu",i)}dispatchColumnMouseEvent(t,e){this.eventService.dispatchEvent({type:t,column:e})}clearComponent(){this.removeDragSource();this.resizeFeature=null;this.comp=null;this.eGui=null}destroy(){super.destroy();this.column=null;this.lastFocusEvent=null;this.columnGroupChild=null;this.parentRowCtrl=null}};qn.DOM_DATA_KEY_HEADER_CTRL="headerCtrl";var Zn=qn;var _n=class extends fe{wireBeans(t){this.columnHoverService=t.columnHoverService}constructor(t,e){super();this.columns=t;this.element=e}postConstruct(){if(this.gos.get("columnHoverHighlight")){this.addMouseHoverListeners()}}addMouseHoverListeners(){this.addManagedListeners(this.element,{mouseout:this.onMouseOut.bind(this),mouseover:this.onMouseOver.bind(this)})}onMouseOut(){this.columnHoverService.clearMouseOver()}onMouseOver(){this.columnHoverService.setMouseOver(this.columns)}};var Jn=class extends Zn{constructor(t,e,i){super(t,e,i);this.iconCreated=false;this.column=t}setComp(t,e,i,s,r){this.comp=t;r=ki(this,this.beans.context,r);this.eButtonShowMainFilter=i;this.eFloatingFilterBody=s;this.setGui(e,r);this.setupActive();this.setupWidth(r);this.setupLeft(r);this.setupHover(r);this.setupFocus(r);this.setupAria();this.setupFilterButton();this.setupUserComp();this.setupSyncWithFilter(r);this.setupUi();r.addManagedElementListeners(this.eButtonShowMainFilter,{click:this.showParentFilter.bind(this)});this.setupFilterChangedListener(r);r.addManagedListeners(this.column,{colDefChanged:()=>this.onColDefChanged(r)});r.addDestroyFunc((()=>{this.eButtonShowMainFilter=null;this.eFloatingFilterBody=null;this.userCompDetails=null;this.clearComponent()}))}resizeHeader(){}moveHeader(){}setupActive(){const t=this.column.getColDef();const e=!!t.filter;const i=!!t.floatingFilter;this.active=e&&i}setupUi(){this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active);this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton);this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton);if(!this.active||this.iconCreated){return}const t=pr("filter",this.gos,this.column);if(t){this.iconCreated=true;this.eButtonShowMainFilter.appendChild(t)}}setupFocus(t){t.createManagedBean(new jo(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){const t=this.localeService.getLocaleTextFunc();Ti(this.eButtonShowMainFilter,t("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(t){const e=pt(this.gos);const i=e===this.eGui;if(i){return}const s=this.focusService.findNextFocusableElement(this.eGui,null,t.shiftKey);if(s){this.beans.headerNavigationService.scrollToColumn(this.column);t.preventDefault();s.focus();return}const r=this.findNextColumnWithFloatingFilter(t.shiftKey);if(!r){return}if(this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:r},event:t})){t.preventDefault()}}findNextColumnWithFloatingFilter(t){const e=this.beans.visibleColsService;let i=this.column;do{i=t?e.getColBefore(i):e.getColAfter(i);if(!i){break}}while(!i.getColDef().filter||!i.getColDef().floatingFilter);return i}handleKeyDown(t){super.handleKeyDown(t);const e=this.getWrapperHasFocus();switch(t.key){case zr.UP:case zr.DOWN:if(!e){t.preventDefault()}case zr.LEFT:case zr.RIGHT:if(e){return}t.stopPropagation();case zr.ENTER:if(e){if(this.focusService.focusInto(this.eGui)){t.preventDefault()}}break;case zr.ESCAPE:if(!e){this.eGui.focus()}}}onFocusIn(t){const e=this.eGui.contains(t.relatedTarget);if(e){return}const i=!!t.relatedTarget&&!t.relatedTarget.classList.contains("ag-floating-filter");const s=!!t.relatedTarget&&os(t.relatedTarget,"ag-floating-filter");if(i&&s&&t.target===this.eGui){const t=this.lastFocusEvent;const e=!!(t&&t.key===zr.TAB);if(t&&e){const e=t.shiftKey;this.focusService.focusInto(this.eGui,e)}}const r=this.getRowIndex();this.beans.focusService.setFocusedHeader(r,this.column)}setupHover(t){t.createManagedBean(new _n([this.column],this.eGui));const e=()=>{if(!this.gos.get("columnHoverHighlight")){return}const t=this.beans.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",t)};t.addManagedEventListeners({columnHoverChanged:e});e()}setupLeft(t){const e=new Vn(this.column,this.eGui,this.beans);t.createManagedBean(e)}setupFilterButton(){this.suppressFilterButton=!this.menuService.isFloatingFilterButtonEnabled(this.column);this.highlightFilterButtonWhenActive=!this.menuService.isLegacyMenuEnabled()}setupUserComp(){if(!this.active){return}const t=this.beans.filterManager?.getFloatingFilterCompDetails(this.column,(()=>this.showParentFilter()));if(t){this.setCompDetails(t)}}setCompDetails(t){this.userCompDetails=t;this.comp.setCompDetails(t)}showParentFilter(){const t=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.menuService.showFilterMenu({column:this.column,buttonElement:t,containerType:"floatingFilter",positionBy:"button"})}setupSyncWithFilter(t){if(!this.active){return}const{filterManager:e}=this.beans;const i=t=>{if(t?.source==="filterDestroyed"&&!this.isAlive()){return}const i=this.comp.getFloatingFilterComp();if(!i){return}i.then((i=>{if(i){const s=e?.getCurrentFloatingFilterParentModel(this.column);const r=t?{...t,columns:t.columns??[],source:t.source==="api"?"api":"columnFilter"}:null;i.onParentModelChanged(s,r)}}))};[this.destroySyncListener]=t.addManagedListeners(this.column,{filterChanged:i});if(e?.isFilterActive(this.column)){i(null)}}setupWidth(t){const e=()=>{const t=`${this.column.getActualWidth()}px`;this.comp.setWidth(t)};t.addManagedListeners(this.column,{widthChanged:e});e()}setupFilterChangedListener(t){if(this.active){[this.destroyFilterChangedListener]=t.addManagedListeners(this.column,{filterChanged:this.updateFilterButton.bind(this)});this.updateFilterButton()}}updateFilterButton(){if(!this.suppressFilterButton&&this.comp){const t=!!this.beans.filterManager?.isFilterAllowed(this.column);this.comp.setButtonWrapperDisplayed(t);if(this.highlightFilterButtonWhenActive&&t){this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}}}onColDefChanged(t){const e=this.active;this.setupActive();const i=!e&&this.active;if(e&&!this.active){this.destroySyncListener();this.destroyFilterChangedListener()}const s=this.active?this.beans.filterManager?.getFloatingFilterCompDetails(this.column,(()=>this.showParentFilter())):null;const r=this.comp.getFloatingFilterComp();if(!r||!s){this.updateCompDetails(t,s,i)}else{r.then((e=>{if(!e||this.beans.filterManager?.areFilterCompsDifferent(this.userCompDetails??null,s)){this.updateCompDetails(t,s,i)}else{this.updateFloatingFilterParams(s)}}))}}updateCompDetails(t,e,i){if(!this.isAlive()){return}this.setCompDetails(e);this.setupFilterButton();this.setupUi();if(i){this.setupSyncWithFilter(t);this.setupFilterChangedListener(t)}}updateFloatingFilterParams(t){if(!t){return}const e=t.params;this.comp.getFloatingFilterComp()?.then((t=>{let i=false;if(t?.refresh&&typeof t.refresh==="function"){const s=t.refresh(e);if(s!==null){i=true}}if(!i&&t?.onParamsUpdated&&typeof t.onParamsUpdated==="function"){const i=t.onParamsUpdated(e);if(i!==null){P(`Custom floating filter method 'onParamsUpdated' is deprecated. Use 'refresh' instead.`)}}}))}destroy(){super.destroy();this.destroySyncListener=null;this.destroyFilterChangedListener=null}};function Xn(t){return t}var ta="32.3.9";function ea(t){return!!t.filterManager?.isColumnFilterPresent()||!!t.filterManager?.isAggregateFilterPresent()}function ia(t,e,i){return t.filterManager?.getFilterInstance(e,i)}function sa(t,e){return t.filterManager?.getColumnFilterInstance(e)??Promise.resolve(void 0)}function ra(t,e){const i=t.columnModel.getColDefCol(e);if(i){return t.filterManager?.destroyFilter(i,"api")}}function oa(t,e){t.frameworkOverrides.wrapIncoming((()=>t.filterManager?.setFilterModel(e)))}function na(t){return t.filterManager?.getFilterModel()??{}}function aa(t,e){return t.filterManager?.getColumnFilterModel(e)??null}function la(t,e,i){return t.filterManager?.setColumnFilterModel(e,i)??Promise.resolve()}function ha(t,e){const i=t.columnModel.getCol(e);if(!i){z(`column '${e}' not found`);return}t.menuService.showFilterMenu({column:i,containerType:"columnFilter",positionBy:"auto"})}function ca(t,e,i){if(e==null){return null}let s=null;const{compName:r,jsComp:o,fwComp:n}=vo.getCompKeys(t,e,ao);if(r){const t={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",group:"agGroupColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"};s=t[r]}else{const t=o==null&&n==null&&e.filter===true;if(t){s=i()}}return s}var ua={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"};var da=["january","february","march","april","may","june","july","august","september","october","november","december"];var ga=class extends fe{constructor(){super(...arguments);this.beanName="columnFilterService";this.allColumnFilters=new Map;this.allColumnListeners=new Map;this.activeAggregateFilters=[];this.activeColumnFilters=[];this.processingFilterChange=false;this.filterModelUpdateQueue=[];this.columnFilterModelUpdateQueue=[]}wireBeans(t){this.valueService=t.valueService;this.columnModel=t.columnModel;this.rowModel=t.rowModel;this.userComponentFactory=t.userComponentFactory;this.rowRenderer=t.rowRenderer;this.dataTypeService=t.dataTypeService;this.filterManager=t.filterManager}postConstruct(){this.addManagedEventListeners({gridColumnsChanged:this.onColumnsChanged.bind(this),rowDataUpdated:()=>this.onNewRowsLoaded("rowDataUpdated"),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)});this.initialFilterModel={...this.gos.get("initialState")?.filter?.filterModel??{}}}setFilterModel(t,e="api"){if(this.dataTypeService?.isPendingInference()){this.filterModelUpdateQueue.push({model:t,source:e});return}const i=[];const s=this.getFilterModel(true);if(t){const e=new Set(Object.keys(t));this.allColumnFilters.forEach(((s,r)=>{const o=t[r];i.push(this.setModelOnFilterWrapper(s.filterPromise,o));e.delete(r)}));e.forEach((e=>{const s=this.columnModel.getColDefCol(e)||this.columnModel.getCol(e);if(!s){P("setFilterModel() - no column found for colId: "+e);return}if(!s.isFilterAllowed()){P("setFilterModel() - unable to fully apply model, filtering disabled for colId: "+e);return}const r=this.getOrCreateFilterWrapper(s);if(!r){P("setFilterModel() - unable to fully apply model, unable to create filter for colId: "+e);return}i.push(this.setModelOnFilterWrapper(r.filterPromise,t[e]))}))}else{this.allColumnFilters.forEach((t=>{i.push(this.setModelOnFilterWrapper(t.filterPromise,null))}))}Yr.all(i).then((()=>{const t=this.getFilterModel(true);const i=[];this.allColumnFilters.forEach(((e,r)=>{const o=s?s[r]:null;const n=t?t[r]:null;if(!q(o,n)){i.push(e.column)}}));if(i.length>0){this.filterManager?.onFilterChanged({columns:i,source:e})}}))}setModelOnFilterWrapper(t,e){return new Yr((i=>{t.then((t=>{if(typeof t.setModel!=="function"){P("filter missing setModel method, which is needed for setFilterModel");i()}(t.setModel(e)||Yr.resolve()).then((()=>i()))}))}))}getFilterModel(t){const e={};const{allColumnFilters:i,initialFilterModel:s}=this;i.forEach(((t,i)=>{const s=this.getModelFromFilterWrapper(t);if(j(s)){e[i]=s}}));if(!t){Object.entries(s).forEach((([t,s])=>{if(j(s)&&!i.has(t)&&this.columnModel.getCol(t)?.isFilterAllowed()){e[t]=s}}))}return e}getModelFromFilterWrapper(t){const{filter:e}=t;if(e){if(typeof e.getModel!=="function"){P("filter API missing getModel method, which is needed for getFilterModel");return null}return e.getModel()}else{return this.getModelFromInitialState(t.column)}}getModelFromInitialState(t){return this.initialFilterModel[t.getColId()]??null}isColumnFilterPresent(){return this.activeColumnFilters.length>0}isAggregateFilterPresent(){return!!this.activeAggregateFilters.length}disableColumnFilters(){if(this.allColumnFilters.size){this.allColumnFilters.forEach((t=>this.disposeFilterWrapper(t,"advancedFilterEnabled")));return true}return false}doAggregateFiltersPass(t,e){return this.doColumnFiltersPass(t,e,true)}updateActiveFilters(){const t=t=>{if(!t){return false}if(!t.isFilterActive){P("Filter is missing isFilterActive() method");return false}return t.isFilterActive()};const e=!!yt(this.gos);const i=t=>{const i=!t.isPrimary();if(i){return true}const s=!this.columnModel.isPivotActive();const r=t.isValueActive();if(!r||!s){return false}if(this.columnModel.isPivotMode()){return true}return e};const s=[];const r=[];return this.forEachColumnFilter(((e,o)=>{const n=t(e);if(n){if(i(o.column)){s.push(e)}else{r.push(e)}}})).then((()=>{this.activeAggregateFilters=s;this.activeColumnFilters=r}))}updateFilterFlagInColumns(t,e){return this.forEachColumnFilter(((i,s)=>s.column.setFilterActive(i.isFilterActive(),t,e)))}forEachColumnFilter(t){return Yr.all(Array.from(this.allColumnFilters.values()).map((e=>e.filterPromise.then((i=>t(i,e))))))}doColumnFiltersPass(t,e,i){const{data:s,aggData:r}=t;const o=i?this.activeAggregateFilters:this.activeColumnFilters;const n=i?r:s;for(let i=0;i<o.length;i++){const s=o[i];if(s==null||s===e){continue}if(typeof s.doesFilterPass!=="function"){throw new Error("Filter is missing method doesFilterPass")}if(!s.doesFilterPass({node:t,data:n})){return false}}return true}callOnFilterChangedOutsideRenderCycle(t){const e=()=>this.filterManager?.onFilterChanged(t);if(this.rowRenderer.isRefreshInProgress()){setTimeout(e,0)}else{e()}}updateBeforeFilterChanged(t={}){const{filterInstance:e,additionalEventAttributes:i}=t;this.updateDependentFilters();return this.updateActiveFilters().then((()=>this.updateFilterFlagInColumns("filterChanged",i).then((()=>{this.allColumnFilters.forEach((t=>{if(!t.filterPromise){return}t.filterPromise.then((t=>{if(t&&t!==e&&t.onAnyFilterChanged){t.onAnyFilterChanged()}}))}));this.processingFilterChange=true}))))}updateAfterFilterChanged(){this.processingFilterChange=false}isSuppressFlashingCellsBecauseFiltering(){const t=this.gos.get("allowShowChangeAfterFilter")??false;return!t&&this.processingFilterChange}onNewRowsLoaded(t){this.forEachColumnFilter((t=>{if(t.onNewRowsLoaded){t.onNewRowsLoaded()}})).then((()=>this.updateFilterFlagInColumns(t,{afterDataChange:true}))).then((()=>this.updateActiveFilters()))}createValueGetter(t){return({node:e})=>this.valueService.getValue(t,e,true)}createGetValue(t){return(e,i)=>{const s=i?this.columnModel.getCol(i):t;return s?this.valueService.getValue(s,e,true):void 0}}isFilterActive(t){const{filter:e}=this.cachedFilter(t)??{};if(e){return e.isFilterActive()}return this.getModelFromInitialState(t)!=null}getOrCreateFilterWrapper(t){if(!t.isFilterAllowed()){return null}let e=this.cachedFilter(t);if(!e){e=this.createFilterWrapper(t);this.setColumnFilterWrapper(t,e)}return e}cachedFilter(t){return this.allColumnFilters.get(t.getColId())}getDefaultFilter(t){let e;if(Ut(this.gos)){e="agSetColumnFilter"}else{const i=this.dataTypeService?.getBaseDataType(t);if(i==="number"){e="agNumberColumnFilter"}else if(i==="date"||i==="dateString"){e="agDateColumnFilter"}else{e="agTextColumnFilter"}}return e}getDefaultFloatingFilter(t){let e;if(Ut(this.gos)){e="agSetColumnFloatingFilter"}else{const i=this.dataTypeService?.getBaseDataType(t);if(i==="number"){e="agNumberColumnFloatingFilter"}else if(i==="date"||i==="dateString"){e="agDateColumnFloatingFilter"}else{e="agTextColumnFloatingFilter"}}return e}createFilterInstance(t,e){const i=this.getDefaultFilter(t);const s=t.getColDef();let r;const o={...this.createFilterParams(t,s),filterModifiedCallback:()=>this.filterModifiedCallbackFactory(r,t)(),filterChangedCallback:e=>this.filterChangedCallbackFactory(r,t)(e),doesRowPassOtherFilter:t=>this.filterManager?this.filterManager.doesRowPassOtherFilters(r,t):true};const n=this.userComponentFactory.getFilterDetails(s,o,i);if(!n){return{filterPromise:null,compDetails:null}}return{filterPromise:()=>{const t=n.newAgStackInstance();if(t!=null){t.then((t=>{r=t;if(e){e.filter=t}}))}return t},compDetails:n}}createFilterParams(t,e){const i=this.gos.addGridCommonParams({column:t,colDef:Pe(e),rowModel:this.rowModel,filterChangedCallback:()=>{},filterModifiedCallback:()=>{},valueGetter:this.createValueGetter(t),getValue:this.createGetValue(t),doesRowPassOtherFilter:()=>true});return i}createFilterWrapper(t){const e={column:t,filterPromise:null,compiledElement:null,compDetails:null};const{filterPromise:i,compDetails:s}=this.createFilterInstance(t,e);e.filterPromise=i?.()??null;e.compDetails=s;return e}onColumnsChanged(){const t=[];this.allColumnFilters.forEach(((e,i)=>{let s;if(e.column.isPrimary()){s=this.columnModel.getColDefCol(i)}else{s=this.columnModel.getCol(i)}if(s&&s===e.column){return}t.push(e.column);this.disposeFilterWrapper(e,"columnChanged");this.disposeColumnListener(i)}));const e=t.every((t=>t.getColDef().filter==="agGroupColumnFilter"));if(t.length>0&&!e){this.filterManager?.onFilterChanged({columns:t,source:"api"})}else{this.updateDependentFilters()}}updateDependentFilters(){const t=this.columnModel.getAutoCols();t?.forEach((t=>{if(t.getColDef().filter==="agGroupColumnFilter"){this.getOrCreateFilterWrapper(t)}}))}isFilterAllowed(t){const e=t.isFilterAllowed();if(!e){return false}const{filter:i}=this.allColumnFilters.get(t.getColId())??{};if(i){return typeof i?.isFilterAllowed==="function"?i.isFilterAllowed():true}return true}getFloatingFilterCompDetails(t,e){const i=e=>{const i=this.getOrCreateFilterWrapper(t)?.filterPromise;if(i==null){return}i.then((t=>{e(wo(t))}))};const s=t.getColDef();const r={...this.createFilterParams(t,s),filterChangedCallback:()=>i((e=>this.filterChangedCallbackFactory(e,t)()))};const o=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(s,ao,r);let n=ca(this.frameworkOverrides,s,(()=>this.getDefaultFloatingFilter(t)));if(n==null){n="agReadOnlyFloatingFilter"}const a={column:t,filterParams:o,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(t),parentFilterInstance:i,showParentFilter:e,suppressFilterButton:false};return this.userComponentFactory.getFloatingFilterCompDetails(s,a,n)}getCurrentFloatingFilterParentModel(t){return this.getModelFromFilterWrapper(this.cachedFilter(t)??{column:t})}destroyFilter(t,e="api"){const i=t.getColId();const s=this.allColumnFilters.get(i);this.disposeColumnListener(i);delete this.initialFilterModel[i];if(s){this.disposeFilterWrapper(s,e);this.filterManager?.onFilterChanged({columns:[t],source:"api"})}}disposeColumnListener(t){const e=this.allColumnListeners.get(t);if(e){this.allColumnListeners.delete(t);e()}}disposeFilterWrapper(t,e){t.filterPromise.then((i=>{this.destroyBean(i);t.column.setFilterActive(false,"filterDestroyed");this.allColumnFilters.delete(t.column.getColId());this.eventService.dispatchEvent({type:"filterDestroyed",source:e,column:t.column})}))}filterModifiedCallbackFactory(t,e){return()=>{this.eventService.dispatchEvent({type:"filterModified",column:e,filterInstance:t})}}filterChangedCallbackFactory(t,e){return i=>{const s=i?.source??"columnFilter";const r={filter:t,additionalEventAttributes:i,columns:[e],source:s};this.callOnFilterChangedOutsideRenderCycle(r)}}checkDestroyFilter(t){const e=this.allColumnFilters.get(t);if(!e){return}const i=e.column;const{compDetails:s}=i.isFilterAllowed()?this.createFilterInstance(i):{compDetails:null};if(this.areFilterCompsDifferent(e.compDetails,s)){this.destroyFilter(i,"paramsUpdated");return}const r=i.getColDef().filterParams;if(!e.filterPromise){this.destroyFilter(i,"paramsUpdated");return}e.filterPromise.then((t=>{const e=t?.refresh?t.refresh({...this.createFilterParams(i,i.getColDef()),filterModifiedCallback:this.filterModifiedCallbackFactory(t,i),filterChangedCallback:this.filterChangedCallbackFactory(t,i),doesRowPassOtherFilter:e=>this.filterManager?this.filterManager.doesRowPassOtherFilters(t,e):true,...r}):true;if(e===false){this.destroyFilter(i,"paramsUpdated")}}))}setColumnFilterWrapper(t,e){const i=t.getColId();this.allColumnFilters.set(i,e);this.allColumnListeners.set(i,this.addManagedListeners(t,{colDefChanged:()=>this.checkDestroyFilter(i)})[0])}areFilterCompsDifferent(t,e){if(!e||!t){return true}const{componentClass:i}=t;const{componentClass:s}=e;const r=i===s||i?.render&&s?.render&&i.render===s.render;return!r}hasFloatingFilters(){const t=this.columnModel.getCols();return t.some((t=>t.getColDef().floatingFilter))}getFilterInstance(t,e){if(!e){return void 0}this.getFilterInstanceImpl(t).then((t=>{const i=wo(t);e(i)}));return void 0}getColumnFilterInstance(t){return new Promise((e=>{this.getFilterInstanceImpl(t).then((t=>{e(wo(t))}))}))}getFilterInstanceImpl(t){const e=this.columnModel.getColDefCol(t);if(!e){return Yr.resolve(void 0)}const i=this.getOrCreateFilterWrapper(e)?.filterPromise;return i??Yr.resolve(null)}processFilterModelUpdateQueue(){this.filterModelUpdateQueue.forEach((({model:t,source:e})=>this.setFilterModel(t,e)));this.filterModelUpdateQueue=[];this.columnFilterModelUpdateQueue.forEach((({key:t,model:e,resolve:i})=>{this.setColumnFilterModel(t,e).then((()=>i()))}));this.columnFilterModelUpdateQueue=[]}getColumnFilterModel(t){const e=this.getFilterWrapper(t);return e?this.getModelFromFilterWrapper(e):null}setColumnFilterModel(t,e){if(this.dataTypeService?.isPendingInference()){let i=()=>{};const s=new Promise((t=>{i=t}));this.columnFilterModelUpdateQueue.push({key:t,model:e,resolve:i});return s}const i=this.columnModel.getColDefCol(t);const s=i?this.getOrCreateFilterWrapper(i):null;const r=t=>new Promise((e=>{t.then((t=>e(t)))}));return s?r(this.setModelOnFilterWrapper(s.filterPromise,e)):Promise.resolve()}getFilterWrapper(t){const e=this.columnModel.getColDefCol(t);return e?this.cachedFilter(e)??null:null}setColDefPropertiesForDataType(t,e,i){const s=Ut(this.gos);const r=this.localeService.getLocaleTextFunc();const o=e=>{const{filterParams:i}=t;t.filterParams=typeof i==="object"?{...i,...e}:e};switch(e.baseDataType){case"number":{if(s){o({comparator:(t,e)=>{const i=t==null?0:parseInt(t);const s=e==null?0:parseInt(e);if(i===s)return 0;return i>s?1:-1}})}break}case"boolean":{if(s){o({valueFormatter:t=>{if(!j(t.value)){return r("blanks","(Blanks)")}return r(String(t.value),t.value?"True":"False")}})}else{o({maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(t,e)=>e,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(t,e)=>e===false,numberOfInputs:0}]})}break}case"date":{if(s){o({valueFormatter:t=>{const e=i(t);return j(e)?e:r("blanks","(Blanks)")},treeList:true,treeListFormatter:(t,e)=>{if(e===1&&t!=null){const e=da[Number(t)-1];return r(e,ua[e])}return t??r("blanks","(Blanks)")}})}break}case"dateString":{const t=e.dateParser;if(s){o({valueFormatter:t=>{const e=i(t);return j(e)?e:r("blanks","(Blanks)")},treeList:true,treeListPathGetter:e=>{const i=t(e??void 0);return i?[String(i.getFullYear()),String(i.getMonth()+1),String(i.getDate())]:null},treeListFormatter:(t,e)=>{if(e===1&&t!=null){const e=da[Number(t)-1];return r(e,ua[e])}return t??r("blanks","(Blanks)")}})}else{o({comparator:(e,i)=>{const s=t(i);if(i==null||s<e){return-1}if(s>e){return 1}return 0}})}break}case"object":{if(s){o({valueFormatter:t=>{const e=i(t);return j(e)?e:r("blanks","(Blanks)")}})}else{t.filterValueGetter=t=>i({column:t.column,node:t.node,value:this.valueService.getValue(t.column,t.node)})}break}}}destroy(){super.destroy();this.allColumnFilters.forEach((t=>this.disposeFilterWrapper(t,"gridDestroyed")));this.allColumnListeners.clear()}};function fa(t){return!!t.filterManager?.isAnyFilterPresent()}function pa(t,e="api"){t.filterManager?.onFilterChanged({source:e})}var ma=class extends ur{constructor(){super(`\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field data-ref="eFloatingFilterText"></ag-input-text-field>\n            </div>`,[fn]);this.eFloatingFilterText=cr}wireBeans(t){this.columnNameService=t.columnNameService}destroy(){super.destroy()}init(t){this.params=t;const e=this.columnNameService.getDisplayNameForColumn(t.column,"header",true);const i=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(true).setInputAriaLabel(`${e} ${i("ariaFilterInput","Filter Input")}`)}onParentModelChanged(t){if(t==null){this.eFloatingFilterText.setValue("");return}this.params.parentFilterInstance((e=>{if(e.getModelAsString){const i=e.getModelAsString(t);this.eFloatingFilterText.setValue(i)}}))}onParamsUpdated(t){this.refresh(t)}refresh(t){this.init(t)}};var va=class extends ur{wireBeans(t){this.columnNameService=t.columnNameService}getDefaultDebounceMs(){return 0}destroy(){super.destroy()}isEventFromFloatingFilter(t){return t&&t.afterFloatingFilter}isEventFromDataChange(t){return t?.afterDataChange}getLastType(){return this.lastType}isReadOnly(){return this.readOnly}setLastTypeFromModel(t){if(!t){this.lastType=this.optionsFactory.getDefaultOption();return}const e=t.operator;let i;if(e){const e=t;i=e.conditions[0]}else{i=t}this.lastType=i.type}canWeEditAfterModelFromParentFilter(t){if(!t){return this.isTypeEditable(this.lastType)}const e=t.operator;if(e){return false}const i=t;return this.isTypeEditable(i.type)}init(t){this.setSimpleParams(t,false)}setSimpleParams(t,e=true){this.optionsFactory=new Jo;this.optionsFactory.init(t.filterParams,this.getDefaultFilterOptions());if(!e){this.lastType=this.optionsFactory.getDefaultOption()}this.readOnly=!!t.filterParams.readOnly;const i=this.isTypeEditable(this.optionsFactory.getDefaultOption());this.setEditable(i)}onParamsUpdated(t){this.refresh(t)}refresh(t){this.setSimpleParams(t)}doesFilterHaveSingleInput(t){const e=this.optionsFactory.getCustomOption(t);const{numberOfInputs:i}=e||{};return i==null||i==1}isTypeEditable(t){const e=["inRange","empty","blank","notBlank"];return!!t&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(t)&&e.indexOf(t)<0}getAriaLabel(t){const e=this.columnNameService.getDisplayNameForColumn(t.column,"header",true);const i=this.localeService.getLocaleTextFunc();return`${e} ${i("ariaFilterInput","Filter Input")}`}};var wa=class extends va{constructor(){super(`\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field data-ref="eReadOnlyText"></ag-input-text-field>\n                <div data-ref="eDateWrapper" style="display: flex;"></div>\n            </div>`,[fn]);this.eReadOnlyText=cr;this.eDateWrapper=cr}wireBeans(t){super.wireBeans(t);this.context=t.context;this.userComponentFactory=t.userComponentFactory}getDefaultFilterOptions(){return On}init(t){super.init(t);this.params=t;this.filterParams=t.filterParams;this.createDateComponent();this.filterModelFormatter=new Ln(this.filterParams,this.localeService,this.optionsFactory);const e=this.localeService.getLocaleTextFunc();this.eReadOnlyText.setDisabled(true).setInputAriaLabel(e("ariaDateFilterInput","Date Filter Input"))}onParamsUpdated(t){this.refresh(t)}refresh(t){super.refresh(t);this.params=t;this.filterParams=t.filterParams;this.updateDateComponent();this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory,dateFilterParams:this.filterParams});this.updateCompOnModelChange(t.currentParentModel())}updateCompOnModelChange(t){const e=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(t);this.setEditable(e);if(e){if(t){const e=t;this.dateComp.setDate(En(e.dateFrom))}else{this.dateComp.setDate(null)}this.eReadOnlyText.setValue("")}else{this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(t));this.dateComp.setDate(null)}}setEditable(t){is(this.eDateWrapper,t);is(this.eReadOnlyText.getGui(),!t)}onParentModelChanged(t,e){if(this.isEventFromFloatingFilter(e)||this.isEventFromDataChange(e)){return}super.setLastTypeFromModel(t);this.updateCompOnModelChange(t)}onDateChanged(){const t=this.dateComp.getDate();const e=In(t);this.params.parentFilterInstance((t=>{if(t){const i=En(e);t.onFloatingFilterChanged(this.getLastType()||null,i)}}))}getDateComponentParams(){const t=Uo(this.params.filterParams,this.getDefaultDebounceMs());return{onDateChanged:L(this.onDateChanged.bind(this),t),filterParams:this.params.column.getColDef().filterParams}}createDateComponent(){this.dateComp=new Nn(this.context,this.userComponentFactory,this.getDateComponentParams(),this.eDateWrapper,(t=>{t.setInputAriaLabel(this.getAriaLabel(this.params))}));this.addDestroyFunc((()=>this.dateComp.destroy()))}updateDateComponent(){const t=this.gos.addGridCommonParams(this.getDateComponentParams());this.dateComp.updateParams(t)}getFilterModelFormatter(){return this.filterModelFormatter}};var ba=class extends ur{constructor(){super(`\n            <div class="ag-filter-filter">\n                <ag-input-text-field class="ag-date-filter" data-ref="eDateInput"></ag-input-text-field>\n            </div>`,[fn]);this.eDateInput=cr}destroy(){super.destroy()}init(t){this.params=t;this.setParams(t);const e=this.eDateInput.getInputElement();this.addManagedListeners(e,{mouseDown:()=>{if(this.eDateInput.isDisabled()||this.usingSafariDatePicker){return}e.focus()},input:t=>{if(t.target!==pt(this.gos)){return}if(this.eDateInput.isDisabled()){return}this.params.onDateChanged()}})}setParams(t){const e=this.eDateInput.getInputElement();const i=this.shouldUseBrowserDatePicker(t);this.usingSafariDatePicker=i&&Ws();e.type=i?"date":"text";const{minValidYear:s,maxValidYear:r,minValidDate:o,maxValidDate:n}=t.filterParams||{};if(o&&s){P("DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored.")}if(n&&r){P("DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored.")}if(o&&n){const[t,e]=[o,n].map((t=>t instanceof Date?t:En(t)));if(t&&e&&t.getTime()>e.getTime()){P("DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.")}}if(o){if(o instanceof Date){e.min=An(o)}else{e.min=o}}else{if(s){e.min=`${s}-01-01`}}if(n){if(n instanceof Date){e.max=An(n)}else{e.max=n}}else{if(r){e.max=`${r}-12-31`}}}onParamsUpdated(t){this.refresh(t)}refresh(t){this.params=t;this.setParams(t)}getDate(){return En(this.eDateInput.getValue())}setDate(t){this.eDateInput.setValue(In(t,false))}setInputPlaceholder(t){this.eDateInput.setInputPlaceholder(t)}setInputAriaLabel(t){this.eDateInput.setAriaLabel(t)}setDisabled(t){this.eDateInput.setDisabled(t)}afterGuiAttached(t){if(!t||!t.suppressFocus){this.eDateInput.getInputElement().focus()}}shouldUseBrowserDatePicker(t){if(t.filterParams&&t.filterParams.browserDatePicker!=null){return t.filterParams.browserDatePicker}return $s()||Qs()||Ws()&&Us()>=14.1}};var ya=class extends fe{constructor(t){super();this.params=t;this.eFloatingFilterTextInput=cr;this.valueChangedListener=()=>{}}setupGui(t){this.eFloatingFilterTextInput=this.createManagedBean(new gn(this.params?.config));const e=this.eFloatingFilterTextInput.getGui();t.appendChild(e);const i=t=>this.valueChangedListener(t);this.addManagedListeners(e,{input:i,keydown:i})}setEditable(t){this.eFloatingFilterTextInput.setDisabled(!t)}setAutoComplete(t){this.eFloatingFilterTextInput.setAutoComplete(t)}getValue(){return this.eFloatingFilterTextInput.getValue()}setValue(t,e){this.eFloatingFilterTextInput.setValue(t,e)}setValueChangedListener(t){this.valueChangedListener=t}setParams(t){this.setAriaLabel(t.ariaLabel);if(t.autoComplete!==void 0){this.setAutoComplete(t.autoComplete)}}setAriaLabel(t){this.eFloatingFilterTextInput.setInputAriaLabel(t)}};var Ca=class extends va{constructor(){super(...arguments);this.eFloatingFilterInputContainer=cr}postConstruct(){this.setTemplate(`\n            <div class="ag-floating-filter-input" role="presentation" data-ref="eFloatingFilterInputContainer"></div>\n        `)}getDefaultDebounceMs(){return 500}onParentModelChanged(t,e){if(this.isEventFromFloatingFilter(e)||this.isEventFromDataChange(e)){return}this.setLastTypeFromModel(t);this.setEditable(this.canWeEditAfterModelFromParentFilter(t));this.floatingFilterInputService.setValue(this.getFilterModelFormatter().getModelAsString(t))}init(t){this.setupFloatingFilterInputService(t);super.init(t);this.setTextInputParams(t)}setupFloatingFilterInputService(t){this.floatingFilterInputService=this.createFloatingFilterInputService(t);this.floatingFilterInputService.setupGui(this.eFloatingFilterInputContainer)}setTextInputParams(t){this.params=t;const e=t.browserAutoComplete??false;this.floatingFilterInputService.setParams({ariaLabel:this.getAriaLabel(t),autoComplete:e});this.applyActive=$o(this.params.filterParams);if(!this.isReadOnly()){const t=Uo(this.params.filterParams,this.getDefaultDebounceMs());const e=L(this.syncUpWithParentFilter.bind(this),t);this.floatingFilterInputService.setValueChangedListener(e)}}onParamsUpdated(t){this.refresh(t)}refresh(t){super.refresh(t);this.setTextInputParams(t)}recreateFloatingFilterInputService(t){const e=this.floatingFilterInputService.getValue();fs(this.eFloatingFilterInputContainer);this.destroyBean(this.floatingFilterInputService);this.setupFloatingFilterInputService(t);this.floatingFilterInputService.setValue(e,true)}syncUpWithParentFilter(t){const e=t.key===zr.ENTER;if(this.applyActive&&!e){return}let i=this.floatingFilterInputService.getValue();if(this.params.filterParams.trimInput){i=Sn(i);this.floatingFilterInputService.setValue(i,true)}this.params.parentFilterInstance((t=>{if(t){t.onFloatingFilterChanged(this.getLastType()||null,i||null)}}))}setEditable(t){this.floatingFilterInputService.setEditable(t)}};var xa=class extends fe{constructor(){super(...arguments);this.valueChangedListener=()=>{};this.numberInputActive=true}setupGui(t){this.eFloatingFilterNumberInput=this.createManagedBean(new pn);this.eFloatingFilterTextInput=this.createManagedBean(new gn);this.eFloatingFilterTextInput.setDisabled(true);const e=this.eFloatingFilterNumberInput.getGui();const i=this.eFloatingFilterTextInput.getGui();t.appendChild(e);t.appendChild(i);this.setupListeners(e,(t=>this.valueChangedListener(t)));this.setupListeners(i,(t=>this.valueChangedListener(t)))}setEditable(t){this.numberInputActive=t;this.eFloatingFilterNumberInput.setDisplayed(this.numberInputActive);this.eFloatingFilterTextInput.setDisplayed(!this.numberInputActive)}setAutoComplete(t){this.eFloatingFilterNumberInput.setAutoComplete(t);this.eFloatingFilterTextInput.setAutoComplete(t)}getValue(){return this.getActiveInputElement().getValue()}setValue(t,e){this.getActiveInputElement().setValue(t,e)}getActiveInputElement(){return this.numberInputActive?this.eFloatingFilterNumberInput:this.eFloatingFilterTextInput}setValueChangedListener(t){this.valueChangedListener=t}setupListeners(t,e){this.addManagedListeners(t,{input:e,keydown:e})}setParams(t){this.setAriaLabel(t.ariaLabel);if(t.autoComplete!==void 0){this.setAutoComplete(t.autoComplete)}}setAriaLabel(t){this.eFloatingFilterNumberInput.setInputAriaLabel(t);this.eFloatingFilterTextInput.setInputAriaLabel(t)}};var ka=class extends Ca{init(t){super.init(t);this.filterModelFormatter=new bn(this.localeService,this.optionsFactory,t.filterParams?.numberFormatter)}onParamsUpdated(t){this.refresh(t)}refresh(t){const e=yn(t.filterParams);if(e!==this.allowedCharPattern){this.recreateFloatingFilterInputService(t)}super.refresh(t);this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return vn}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(t){this.allowedCharPattern=yn(t.filterParams);if(this.allowedCharPattern){return this.createManagedBean(new ya({config:{allowedCharPattern:this.allowedCharPattern}}))}return this.createManagedBean(new xa)}};var Sa=class extends Ca{init(t){super.init(t);this.filterModelFormatter=new kn(this.localeService,this.optionsFactory)}onParamsUpdated(t){this.refresh(t)}refresh(t){super.refresh(t);this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return xn}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(){return this.createManagedBean(new ya)}};function Da(t){return!!t.filterManager?.isQuickFilterPresent()}function Ma(t){return t.gos.get("quickFilterText")}function Ra(t){t.filterManager?.resetQuickFilterCache()}var Fa=class extends fe{constructor(){super(...arguments);this.beanName="quickFilterService";this.quickFilter=null;this.quickFilterParts=null}wireBeans(t){this.valueService=t.valueService;this.columnModel=t.columnModel;this.rowModel=t.rowModel;this.pivotResultColsService=t.pivotResultColsService}postConstruct(){const t=this.resetQuickFilterCache.bind(this);this.addManagedEventListeners({columnPivotModeChanged:t,newColumnsLoaded:t,columnRowGroupChanged:t,columnVisible:()=>{if(!this.gos.get("includeHiddenColumnsInQuickFilter")){this.resetQuickFilterCache()}}});this.addManagedPropertyListener("quickFilterText",(t=>this.setQuickFilter(t.currentValue)));this.addManagedPropertyListeners(["includeHiddenColumnsInQuickFilter","applyQuickFilterBeforePivotOrAgg"],(()=>this.onQuickFilterColumnConfigChanged()));this.quickFilter=this.parseQuickFilter(this.gos.get("quickFilterText"));this.parser=this.gos.get("quickFilterParser");this.matcher=this.gos.get("quickFilterMatcher");this.setQuickFilterParts();this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],(()=>this.setQuickFilterParserAndMatcher()))}refreshQuickFilterCols(){const t=this.columnModel.isPivotMode();const e=this.columnModel.getAutoCols();const i=this.columnModel.getColDefCols();let s=(t&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")?this.pivotResultColsService.getPivotResultCols()?.list:i)??[];if(e){s=s.concat(e)}this.colsForQuickFilter=this.gos.get("includeHiddenColumnsInQuickFilter")?s:s.filter((t=>t.isVisible()||t.isRowGroupActive()))}isQuickFilterPresent(){return this.quickFilter!==null}doesRowPassQuickFilter(t){const e=this.gos.get("cacheQuickFilter");if(this.matcher){return this.doesRowPassQuickFilterMatcher(e,t)}return this.quickFilterParts.every((i=>e?this.doesRowPassQuickFilterCache(t,i):this.doesRowPassQuickFilterNoCache(t,i)))}resetQuickFilterCache(){this.rowModel.forEachNode((t=>t.quickFilterAggregateText=null))}setQuickFilterParts(){const{quickFilter:t,parser:e}=this;if(t){this.quickFilterParts=e?e(t):t.split(" ")}else{this.quickFilterParts=null}}parseQuickFilter(t){if(!j(t)){return null}if(!X(this.gos)){P("Quick filtering only works with the Client-Side Row Model");return null}return t.toUpperCase()}setQuickFilter(t){if(t!=null&&typeof t!=="string"){P(`Grid option quickFilterText only supports string inputs, received: ${typeof t}`);return}const e=this.parseQuickFilter(t);if(this.quickFilter!==e){this.quickFilter=e;this.setQuickFilterParts();this.dispatchLocalEvent({type:"quickFilterChanged"})}}setQuickFilterParserAndMatcher(){const t=this.gos.get("quickFilterParser");const e=this.gos.get("quickFilterMatcher");const i=t!==this.parser||e!==this.matcher;this.parser=t;this.matcher=e;if(i){this.setQuickFilterParts();this.dispatchLocalEvent({type:"quickFilterChanged"})}}onQuickFilterColumnConfigChanged(){this.refreshQuickFilterCols();this.resetQuickFilterCache();if(this.isQuickFilterPresent()){this.dispatchLocalEvent({type:"quickFilterChanged"})}}doesRowPassQuickFilterNoCache(t,e){return this.colsForQuickFilter.some((i=>{const s=this.getQuickFilterTextForColumn(i,t);return j(s)&&s.indexOf(e)>=0}))}doesRowPassQuickFilterCache(t,e){this.checkGenerateQuickFilterAggregateText(t);return t.quickFilterAggregateText.indexOf(e)>=0}doesRowPassQuickFilterMatcher(t,e){let i;if(t){this.checkGenerateQuickFilterAggregateText(e);i=e.quickFilterAggregateText}else{i=this.getQuickFilterAggregateText(e)}const{quickFilterParts:s,matcher:r}=this;return r(s,i)}checkGenerateQuickFilterAggregateText(t){if(!t.quickFilterAggregateText){t.quickFilterAggregateText=this.getQuickFilterAggregateText(t)}}getQuickFilterTextForColumn(t,e){let i=this.valueService.getValue(t,e,true);const s=t.getColDef();if(s.getQuickFilterText){const r=this.gos.addGridCommonParams({value:i,node:e,data:e.data,column:t,colDef:s});i=s.getQuickFilterText(r)}return j(i)?i.toString().toUpperCase():null}getQuickFilterAggregateText(t){const e=[];this.colsForQuickFilter.forEach((i=>{const s=this.getQuickFilterTextForColumn(i,t);if(j(s)){e.push(s)}}));return e.join("\n")}};var Pa=Xn({version:ta,moduleName:"@ag-grid-community/filter-core",beans:[No]});var za=Xn({version:ta,moduleName:"@ag-grid-community/filter-api",apiFunctions:{isAnyFilterPresent:fa,onFilterChanged:pa},dependantModules:[Pa]});var Ia=Xn({version:ta,moduleName:"@ag-grid-community/column-filter",beans:[ga],dependantModules:[Pa]});var Ta=Xn({version:ta,moduleName:"@ag-grid-community/column-filter-api",apiFunctions:{isColumnFilterPresent:ea,getFilterInstance:ia,getColumnFilterInstance:sa,destroyFilter:ra,setFilterModel:oa,getFilterModel:na,getColumnFilterModel:aa,setColumnFilterModel:la,showColumnFilter:ha},dependantModules:[Ia,za]});var Aa=Xn({version:ta,moduleName:"@ag-grid-community/floating-filter-core",controllers:[{name:"headerFilterCell",classImp:Jn}],dependantModules:[Ia]});var Ea=Xn({version:ta,moduleName:"@ag-grid-community/read-only-floating-filter",userComponents:[{name:"agReadOnlyFloatingFilter",classImp:ma}],dependantModules:[Aa]});var Na=Xn({version:ta,moduleName:"@ag-grid-community/simple-filter",dependantModules:[Ia],userComponents:[{name:"agTextColumnFilter",classImp:Dn},{name:"agNumberColumnFilter",classImp:Cn},{name:"agDateColumnFilter",classImp:Bn},{name:"agDateInput",classImp:ba}]});var Oa=Xn({version:ta,moduleName:"@ag-grid-community/simple-floating-filter",dependantModules:[Na,Aa],userComponents:[{name:"agTextColumnFloatingFilter",classImp:Sa},{name:"agNumberColumnFloatingFilter",classImp:ka},{name:"agDateColumnFloatingFilter",classImp:wa}]});var La=Xn({version:ta,moduleName:"@ag-grid-community/quick-filter-core",beans:[Fa],dependantModules:[Pa]});var Ga=Xn({version:ta,moduleName:"@ag-grid-community/quick-filter-api",apiFunctions:{isQuickFilterPresent:Da,getQuickFilter:Ma,resetQuickFilter:Ra},dependantModules:[La]});var Ha=Xn({version:ta,moduleName:"@ag-grid-community/quick-filter",dependantModules:[La,Ga]});var Ba=Xn({version:ta,moduleName:"@ag-grid-community/filter",dependantModules:[Oa,Ea,Ha,Ta]});var Va=class extends ur{constructor(t,e){super(t);this.ctrl=e}getCtrl(){return this.ctrl}};var ja=class extends Va{constructor(t){super(`<div class="ag-header-cell ag-floating-filter" role="gridcell">\n            <div data-ref="eFloatingFilterBody" role="presentation"></div>\n            <div class="ag-floating-filter-button ag-hidden" data-ref="eButtonWrapper" role="presentation">\n                <button type="button" class="ag-button ag-floating-filter-button-button" data-ref="eButtonShowMainFilter" tabindex="-1"></button>\n            </div>\n        </div>`,t);this.eFloatingFilterBody=cr;this.eButtonWrapper=cr;this.eButtonShowMainFilter=cr}postConstruct(){const t=this.getGui();const e={addOrRemoveCssClass:(t,e)=>this.addOrRemoveCssClass(t,e),addOrRemoveBodyCssClass:(t,e)=>this.eFloatingFilterBody.classList.toggle(t,e),setButtonWrapperDisplayed:t=>is(this.eButtonWrapper,t),setCompDetails:t=>this.setCompDetails(t),getFloatingFilterComp:()=>this.compPromise,setWidth:e=>t.style.width=e,setMenuIcon:t=>this.eButtonShowMainFilter.appendChild(t)};this.ctrl.setComp(e,t,this.eButtonShowMainFilter,this.eFloatingFilterBody,void 0)}setCompDetails(t){if(!t){this.destroyFloatingFilterComp();this.compPromise=null;return}this.compPromise=t.newAgStackInstance();this.compPromise.then((t=>this.afterCompCreated(t)))}destroy(){this.destroyFloatingFilterComp();super.destroy()}destroyFloatingFilterComp(){if(this.floatingFilterComp){this.eFloatingFilterBody.removeChild(this.floatingFilterComp.getGui());this.floatingFilterComp=this.destroyBean(this.floatingFilterComp)}}afterCompCreated(t){if(!t){return}if(!this.isAlive()){this.destroyBean(t);return}this.destroyFloatingFilterComp();this.floatingFilterComp=t;this.eFloatingFilterBody.appendChild(t.getGui());if(t.afterGuiAttached){t.afterGuiAttached()}}};var Wa=class extends Va{constructor(t){super(`<div class="ag-header-cell" role="columnheader">\n            <div data-ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n            <div data-ref="eHeaderCompWrapper" class="ag-header-cell-comp-wrapper" role="presentation"></div>\n        </div>`,t);this.eResize=cr;this.eHeaderCompWrapper=cr;this.headerCompVersion=0;this.column=t.getColumnGroupChild();this.pinned=t.getPinned()}postConstruct(){const t=this.getGui();const e=(e,i)=>{if(i!=null&&i!=""){t.setAttribute(e,i)}else{t.removeAttribute(e)}};e("col-id",this.column.getColId());const i={setWidth:e=>t.style.width=e,addOrRemoveCssClass:(t,e)=>this.addOrRemoveCssClass(t,e),setAriaSort:e=>e?Yi(t,e):qi(t),setUserCompDetails:t=>this.setUserCompDetails(t),getUserCompInstance:()=>this.headerComp};this.ctrl.setComp(i,this.getGui(),this.eResize,this.eHeaderCompWrapper,void 0);const s=this.ctrl.getSelectAllGui();this.eResize.insertAdjacentElement("afterend",s)}destroy(){this.destroyHeaderComp();super.destroy()}destroyHeaderComp(){if(this.headerComp){this.eHeaderCompWrapper.removeChild(this.headerCompGui);this.headerComp=this.destroyBean(this.headerComp);this.headerCompGui=void 0}}setUserCompDetails(t){this.headerCompVersion++;const e=this.headerCompVersion;t.newAgStackInstance().then((t=>this.afterCompCreated(e,t)))}afterCompCreated(t,e){if(t!=this.headerCompVersion||!this.isAlive()){this.destroyBean(e);return}this.destroyHeaderComp();this.headerComp=e;this.headerCompGui=e.getGui();this.eHeaderCompWrapper.appendChild(this.headerCompGui);this.ctrl.setDragSource(this.getGui())}};var Ua=class extends Va{constructor(t){super(`<div class="ag-header-group-cell" role="columnheader">\n            <div data-ref="eHeaderCompWrapper" class="ag-header-cell-comp-wrapper" role="presentation"></div>\n            <div data-ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n        </div>`,t);this.eResize=cr;this.eHeaderCompWrapper=cr}postConstruct(){const t=this.getGui();const e=(e,i)=>i!=void 0?t.setAttribute(e,i):t.removeAttribute(e);t.setAttribute("col-id",this.ctrl.getColId());const i={addOrRemoveCssClass:(t,e)=>this.addOrRemoveCssClass(t,e),setHeaderWrapperHidden:t=>{if(t){this.eHeaderCompWrapper.style.setProperty("display","none")}else{this.eHeaderCompWrapper.style.removeProperty("display")}},setHeaderWrapperMaxHeight:t=>{if(t!=null){this.eHeaderCompWrapper.style.setProperty("max-height",`${t}px`)}else{this.eHeaderCompWrapper.style.removeProperty("max-height")}this.eHeaderCompWrapper.classList.toggle("ag-header-cell-comp-wrapper-limited-height",t!=null)},setResizableDisplayed:t=>is(this.eResize,t),setWidth:e=>t.style.width=e,setAriaExpanded:t=>e("aria-expanded",t),setUserCompDetails:t=>this.setUserCompDetails(t),getUserCompInstance:()=>this.headerGroupComp};this.ctrl.setComp(i,t,this.eResize,this.eHeaderCompWrapper,void 0)}setUserCompDetails(t){t.newAgStackInstance().then((t=>this.afterHeaderCompCreated(t)))}afterHeaderCompCreated(t){const e=()=>this.destroyBean(t);if(!this.isAlive()){e();return}const i=this.getGui();const s=t.getGui();this.eHeaderCompWrapper.appendChild(s);this.addDestroyFunc(e);this.headerGroupComp=t;this.ctrl.setDragSource(i)}addOrRemoveHeaderWrapperStyle(t,e){const{eHeaderCompWrapper:i}=this;if(e){i.style.setProperty(t,e)}else{i.style.removeProperty(t)}}};var $a=class extends ur{constructor(t){super();this.headerComps={};this.ctrl=t;this.setTemplate(`<div class="${this.ctrl.getHeaderRowClass()}" role="row"></div>`)}postConstruct(){Ui(this.getGui(),this.ctrl.getAriaRowIndex());const t={setHeight:t=>this.getGui().style.height=t,setTop:t=>this.getGui().style.top=t,setHeaderCtrls:(t,e)=>this.setHeaderCtrls(t,e),setWidth:t=>this.getGui().style.width=t};this.ctrl.setComp(t,void 0)}destroy(){this.setHeaderCtrls([],false);super.destroy()}setHeaderCtrls(t,e){if(!this.isAlive()){return}const i=this.headerComps;this.headerComps={};t.forEach((t=>{const e=t.instanceId;let s=i[e];delete i[e];if(s==null){s=this.createHeaderComp(t);this.getGui().appendChild(s.getGui())}this.headerComps[e]=s}));Fe(i,((t,e)=>{this.getGui().removeChild(e.getGui());this.destroyBean(e)}));if(e){const t=Ie(this.headerComps);t.sort(((t,e)=>{const i=t.getCtrl().getColumnGroupChild().getLeft();const s=e.getCtrl().getColumnGroupChild().getLeft();return i-s}));const e=t.map((t=>t.getGui()));ys(this.getGui(),e)}}createHeaderComp(t){let e;switch(this.ctrl.getType()){case"group":e=new Ua(t);break;case"filter":e=new ja(t);break;default:e=new Wa(t);break}this.createBean(e);e.setParentComponent(this);return e}};var Qa=class extends fe{constructor(){super(...arguments);this.beanName="headerNavigationService";this.currentHeaderRowWithoutSpan=-1}wireBeans(t){this.focusService=t.focusService;this.headerPositionUtils=t.headerPositionUtils;this.ctrlsService=t.ctrlsService;this.columnModel=t.columnModel;this.visibleColService=t.visibleColsService}postConstruct(){this.ctrlsService.whenReady(this,(t=>{this.gridBodyCon=t.gridBodyCtrl}));const t=dt(this.gos);this.addManagedElementListeners(t,{mousedown:()=>this.setCurrentHeaderRowWithoutSpan(-1)})}getHeaderRowCount(){return this.ctrlsService.getHeaderRowContainerCtrl()?.getRowCount()??0}getHeaderPositionForColumn(t,e){let i;if(typeof t==="string"){i=this.columnModel.getCol(t);if(!i){i=this.visibleColService.getColumnGroup(t)}}else{i=t}if(!i){return null}const s=this.ctrlsService.getHeaderRowContainerCtrl();const r=s?.getAllCtrls();const o=$t(r||[]).getType()==="filter";const n=this.getHeaderRowCount()-1;let a=-1;let l=i;while(l){a++;l=l.getParent()}let h=a;if(e&&o&&h===n-1){h++}return h===-1?null:{headerRowIndex:h,column:i}}navigateVertically(t,e,i){if(!e){e=this.focusService.getFocusedHeader()}if(!e){return false}const{headerRowIndex:s}=e;const r=e.column;const o=this.getHeaderRowCount();const n=t===0;let{headerRowIndex:a,column:l,headerRowIndexWithoutSpan:h}=n?this.headerPositionUtils.getColumnVisibleParent(r,s):this.headerPositionUtils.getColumnVisibleChild(r,s);let c=false;if(a<0){a=0;l=r;c=true}if(a>=o){a=-1;this.setCurrentHeaderRowWithoutSpan(-1)}else if(h!==void 0){this.currentHeaderRowWithoutSpan=h}if(!c&&!l){return false}return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:a,column:l},allowUserOverride:true,event:i})}setCurrentHeaderRowWithoutSpan(t){this.currentHeaderRowWithoutSpan=t}navigateHorizontally(t,e=false,i){const s=this.focusService.getFocusedHeader();const r=t===2;const o=this.gos.get("enableRtl");let n;let a;if(this.currentHeaderRowWithoutSpan!==-1){s.headerRowIndex=this.currentHeaderRowWithoutSpan}else{this.currentHeaderRowWithoutSpan=s.headerRowIndex}if(r!==o){a="Before";n=this.headerPositionUtils.findHeader(s,a)}else{a="After";n=this.headerPositionUtils.findHeader(s,a)}if(n||!e){return this.focusService.focusHeaderPosition({headerPosition:n,direction:a,fromTab:e,allowUserOverride:true,event:i})}else if(e){const t=this.gos.getCallback("tabToNextHeader");if(t){return this.focusService.focusHeaderPositionFromUserFunc({userFunc:t,headerPosition:n,direction:a})}}return this.focusNextHeaderRow(s,a,i)}focusNextHeaderRow(t,e,i){const s=t.headerRowIndex;let r=null;let o;if(e==="Before"){if(s>0){o=s-1;this.currentHeaderRowWithoutSpan-=1;r=this.headerPositionUtils.findColAtEdgeForHeaderRow(o,"end")}}else{o=s+1;if(this.currentHeaderRowWithoutSpan<this.getHeaderRowCount()){this.currentHeaderRowWithoutSpan+=1}else{this.setCurrentHeaderRowWithoutSpan(-1)}r=this.headerPositionUtils.findColAtEdgeForHeaderRow(o,"start")}if(!r){return false}const{column:n,headerRowIndex:a}=this.headerPositionUtils.getHeaderIndexToFocus(r.column,r?.headerRowIndex);return this.focusService.focusHeaderPosition({headerPosition:{column:n,headerRowIndex:a},direction:e,fromTab:true,allowUserOverride:true,event:i})}scrollToColumn(t,e="After"){if(t.getPinned()){return}let i;if(hi(t)){const s=t.getDisplayedLeafColumns();i=e==="Before"?$t(s):s[0]}else{i=t}this.gridBodyCon.getScrollFeature().ensureColumnVisible(i)}};var Ka=class extends fe{wireBeans(t){this.animationFrameService=t.animationFrameService;this.headerNavigationService=t.headerNavigationService;this.focusService=t.focusService;this.columnModel=t.columnModel;this.visibleColsService=t.visibleColsService;this.ctrlsService=t.ctrlsService;this.filterManager=t.filterManager;this.menuService=t.menuService}setComp(t,e,i){this.comp=t;this.eGui=e;this.createManagedBean(new jo(i,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)}));this.addManagedEventListeners({columnPivotModeChanged:this.onPivotModeChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)});this.onPivotModeChanged();this.setupHeaderHeight();const s=this.onHeaderContextMenu.bind(this);this.addManagedElementListeners(this.eGui,{contextmenu:s});this.mockContextMenuForIPad(s);this.ctrlsService.register("gridHeaderCtrl",this)}setupHeaderHeight(){const t=this.setHeaderHeight.bind(this);t();this.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],t);this.addManagedEventListeners({displayedColumnsChanged:t,columnHeaderHeightChanged:t,columnGroupHeaderHeightChanged:()=>this.animationFrameService.requestAnimationFrame((()=>t())),gridStylesChanged:t,advancedFilterEnabledChanged:t})}getHeaderHeight(){return this.headerHeight}setHeaderHeight(){const{columnModel:t}=this;let e=0;const i=this.columnModel.getGroupRowsHeight().reduce(((t,e)=>t+e),0);const s=this.columnModel.getColumnHeaderRowHeight();if(this.filterManager?.hasFloatingFilters()){e+=t.getFloatingFiltersHeight()}e+=i;e+=s;if(this.headerHeight===e){return}this.headerHeight=e;const r=`${e+1}px`;this.comp.setHeightAndMinHeight(r);this.eventService.dispatchEvent({type:"headerHeightChanged"})}onPivotModeChanged(){const t=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",t);this.comp.addOrRemoveCssClass("ag-pivot-off",!t)}onDisplayedColumnsChanged(){const t=this.visibleColsService.getAllCols();const e=t.some((t=>t.isSpanHeaderHeight()));this.comp.addOrRemoveCssClass("ag-header-allow-overflow",e)}onTabKeyDown(t){const e=this.gos.get("enableRtl");const i=t.shiftKey;const s=i!==e?2:3;if(this.headerNavigationService.navigateHorizontally(s,true,t)||!i&&this.focusService.focusOverlay(false)||this.focusService.focusNextGridCoreContainer(i,true)){t.preventDefault()}}handleKeyDown(t){let e=null;switch(t.key){case zr.LEFT:e=2;case zr.RIGHT:{if(!j(e)){e=3}if(this.headerNavigationService.navigateHorizontally(e,false,t)){t.preventDefault()}break}case zr.UP:e=0;case zr.DOWN:{if(!j(e)){e=1}if(this.headerNavigationService.navigateVertically(e,null,t)){t.preventDefault()}break}default:return}}onFocusOut(t){const{relatedTarget:e}=t;if(!e&&this.eGui.contains(pt(this.gos))){return}if(!this.eGui.contains(e)){this.focusService.clearFocusedHeader()}}onHeaderContextMenu(t,e,i){if(!t&&!i||!this.menuService.isHeaderContextMenuEnabled()){return}const{target:s}=t??e;if(s===this.eGui||s===this.ctrlsService.getHeaderRowContainerCtrl()?.getViewportElement()){this.menuService.showHeaderContextMenu(void 0,t,i)}}mockContextMenuForIPad(t){if(!Ys()){return}const e=new wr(this.eGui);const i=e=>{t(void 0,e.touchStart,e.touchEvent)};this.addManagedListeners(e,{longTap:i});this.addDestroyFunc((()=>e.destroy()))}};var Ya=class extends fe{constructor(t,e=false){super();this.callback=t;this.addSpacer=e}wireBeans(t){this.visibleColsService=t.visibleColsService;this.scrollVisibleService=t.scrollVisibleService}postConstruct(){const t=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",t);this.addManagedEventListeners({columnContainerWidthChanged:t,displayedColumnsChanged:t,leftPinnedWidthChanged:t});if(this.addSpacer){this.addManagedEventListeners({rightPinnedWidthChanged:t,scrollVisibilityChanged:t,scrollbarWidthChanged:t})}this.setWidth()}setWidth(){const t=et(this.gos,"print");const e=this.visibleColsService.getBodyContainerWidth();const i=this.visibleColsService.getColsLeftWidth();const s=this.visibleColsService.getDisplayedColumnsRightWidth();let r;if(t){r=e+i+s}else{r=e;if(this.addSpacer){const t=this.gos.get("enableRtl")?i:s;if(t===0&&this.scrollVisibleService.isVerticalScrollShowing()){r+=this.scrollVisibleService.getScrollbarWidth()}}}this.callback(r)}};var qa=class extends fe{constructor(t){super();this.columnsToAggregate=[];this.columnsToGroup=[];this.columnsToPivot=[];this.pinned=t}wireBeans(t){this.funcColsService=t.funcColsService}onDragEnter(t){this.clearColumnsList();if(this.gos.get("functionsReadOnly")){return}const e=t.dragItem.columns;if(!e){return}e.forEach((t=>{if(!t.isPrimary()){return}if(t.isAnyFunctionActive()){return}if(t.isAllowValue()){this.columnsToAggregate.push(t)}else if(t.isAllowRowGroup()){this.columnsToGroup.push(t)}else if(t.isAllowPivot()){this.columnsToPivot.push(t)}}))}getIconName(){const t=this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length;if(t>0){return this.pinned?"pinned":"move"}return null}onDragLeave(t){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0;this.columnsToGroup.length=0;this.columnsToPivot.length=0}onDragging(t){}onDragStop(t){if(this.columnsToAggregate.length>0){this.funcColsService.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop")}if(this.columnsToGroup.length>0){this.funcColsService.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop")}if(this.columnsToPivot.length>0){this.funcColsService.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")}}onDragCancel(){this.clearColumnsList()}};function Za(t){const{isFromHeader:e,fromLeft:i,xPosition:s,fromEnter:r,fakeEvent:o,pinned:n,gos:a,columnModel:l,columnMoveService:h,visibleColsService:c}=t;let{allMovingColumns:u}=t;if(e){const t=[];u.forEach((e=>{let i=null;let s=e.getParent();while(s!=null&&s.getDisplayedLeafColumns().length===1){i=s;s=s.getParent()}if(i!=null){const e=!!i.getColGroupDef()?.marryChildren;const s=e?i.getProvidedColumnGroup().getLeafColumns():i.getLeafColumns();s.forEach((e=>{if(!t.includes(e)){t.push(e)}}))}else if(!t.includes(e)){t.push(e)}}));u=t}const d=u.slice();l.sortColsLikeCols(d);const g=el({movingCols:d,draggingRight:i,xPosition:s,pinned:n,gos:a,columnModel:l,visibleColsService:c});const f=Ja(d,l);if(g.length===0){return}const p=g[0];let m=f!==null&&!r;if(e){m=f!==null}if(m&&!o){if(!i&&p>=f){return}if(i&&p<=f){return}}const v=c.getAllCols();const w=[];let b=null;for(let t=0;t<g.length;t++){const e=g[t];const i=h.getProposedColumnOrder(d,e);if(!h.doesOrderPassRules(i)){continue}const s=i.filter((t=>v.includes(t)));if(b===null){b=s}else if(!Qt(s,b)){break}const r=Xa(i);w.push({move:e,fragCount:r})}if(w.length===0){return}w.sort(((t,e)=>t.fragCount-e.fragCount));const y=w[0].move;if(y>l.getCols().length-u.length){return}return{columns:u,toIndex:y}}function _a(t){const{columns:e,toIndex:i}=Za(t)||{};const{finished:s,columnMoveService:r}=t;if(!e||i==null){return null}r.moveColumns(e,i,"uiColumnMoved",s);return s?null:{columns:e,toIndex:i}}function Ja(t,e){const i=e.getCols();const s=Kt(t.map((t=>i.indexOf(t))));const r=s[0];const o=$t(s);const n=o-r;const a=n!==s.length-1;return a?null:r}function Xa(t){function e(t){const e=[];let i=t.getOriginalParent();while(i!=null){e.push(i);i=i.getOriginalParent()}return e}let i=0;for(let s=0;s<t.length-1;s++){let r=e(t[s]);let o=e(t[s+1]);[r,o]=r.length>o.length?[r,o]:[o,r];r.forEach((t=>{if(o.indexOf(t)===-1){i++}}))}return i}function tl(t,e){switch(e){case"left":return t.getLeftCols();case"right":return t.getRightCols();default:return t.getCenterCols()}}function el(t){const{movingCols:e,draggingRight:i,xPosition:s,pinned:r,gos:o,columnModel:n,visibleColsService:a}=t;const l=o.get("suppressMovableColumns")||e.some((t=>t.getColDef().suppressMovable));if(l){return[]}const h=tl(a,r);const c=n.getCols();const u=h.filter((t=>te(e,t)));const d=h.filter((t=>!te(e,t)));const g=c.filter((t=>!te(e,t)));let f=0;let p=s;if(i){let t=0;u.forEach((e=>t+=e.getActualWidth()));p-=t}if(p>0){for(let t=0;t<d.length;t++){const e=d[t];p-=e.getActualWidth();if(p<0){break}f++}if(i){f++}}let m;if(f>0){const t=d[f-1];m=g.indexOf(t)+1}else{m=g.indexOf(d[0]);if(m===-1){m=0}}const v=[m];const w=(t,e)=>t-e;if(i){let t=m+1;const e=c.length-1;while(t<=e){v.push(t);t++}v.sort(w)}else{let t=m;const e=c.length-1;let i=c[t];while(t<=e&&h.indexOf(i)<0){t++;v.push(t);i=c[t]}t=m-1;const s=0;while(t>=s){v.push(t);t--}v.sort(w).reverse()}return v}function il(t){const{pinned:e,fromKeyboard:i,gos:s,ctrlsService:r,useHeaderRow:o,skipScrollPadding:n}=t;let a=r.getHeaderRowContainerCtrl(e)?.getViewportElement();let{x:l}=t;if(!a){return 0}if(i){l-=a.getBoundingClientRect().left}if(s.get("enableRtl")){if(o){a=a.querySelector(".ag-header-row")}l=a.clientWidth-l}if(e==null&&!n){l+=r.get("center").getCenterViewportScrollLeft()}return l}function sl(t,e){for(const i of t){i.setMoving(e,"uiColumnMoved")}}var rl=7;var ol=100;var nl=ol/2;var al=5;var ll=100;var hl=class extends fe{constructor(t){super();this.needToMoveLeft=false;this.needToMoveRight=false;this.lastMovedInfo=null;this.pinned=t;this.isCenterContainer=!j(t)}wireBeans(t){this.columnModel=t.columnModel;this.visibleColsService=t.visibleColsService;this.columnMoveService=t.columnMoveService;this.dragAndDropService=t.dragAndDropService;this.ctrlsService=t.ctrlsService}postConstruct(){this.ctrlsService.whenReady(this,(t=>{this.gridBodyCon=t.gridBodyCtrl}))}getIconName(){const t=this.lastDraggingEvent?.dragItem.columns??[];for(const e of t){const t=e.getPinned();if(e.getColDef().lockPinned){if(t==this.pinned){return"move"}continue}if(t===this.pinned||!this.pinned){return"move"}if(!t&&this.pinned){return"pinned"}}return"notAllowed"}onDragEnter(t){const e=t.dragItem.columns;const i=t.dragSource.type===0;if(i){this.setColumnsVisible(e,true,"uiColumnDragged")}else{const i=t.dragItem.visibleState;const s=(e||[]).filter((t=>i[t.getId()]));this.setColumnsVisible(s,true,"uiColumnDragged")}if(!this.gos.get("suppressMoveWhenColumnDragging")){this.attemptToPinColumns(e,this.pinned)}this.onDragging(t,true,true)}onDragging(t=this.lastDraggingEvent,e=false,i=false,s=false){const r=this.gos.get("suppressMoveWhenColumnDragging");if(s&&!r){this.finishColumnMoving();return}this.lastDraggingEvent=t;if(!t||!s&&W(t.hDirection)){return}const{pinned:o,gos:n,ctrlsService:a}=this;const l=il({x:t.x,pinned:o,gos:n,ctrlsService:a});if(!e){this.checkCenterForScrolling(l)}if(r){this.handleColumnDragWhileSuppressingMovement(t,e,i,l,s)}else{this.handleColumnDragWhileAllowingMovement(t,e,i,l,s)}}onDragLeave(){this.ensureIntervalCleared();this.clearHighlighted();this.lastMovedInfo=null}onDragStop(){this.onDragging(this.lastDraggingEvent,false,true,true);this.ensureIntervalCleared();this.lastMovedInfo=null}onDragCancel(){this.clearHighlighted();this.ensureIntervalCleared();this.lastMovedInfo=null}setColumnsVisible(t,e,i){if(!t){return}const s=t.filter((t=>!t.getColDef().lockVisible));this.columnModel.setColsVisible(s,e,i)}finishColumnMoving(){this.clearHighlighted();if(!this.lastMovedInfo){return}const{columns:t,toIndex:e}=this.lastMovedInfo;this.columnMoveService.moveColumns(t,e,"uiColumnMoved",true)}handleColumnDragWhileSuppressingMovement(t,e,i,s,r){const o=this.getAllMovingColumns(t,true);if(r){const t=this.isAttemptingToPin(o);if(t){this.attemptToPinColumns(o,void 0,true)}const{fromLeft:s,xPosition:r}=this.getNormalisedXPositionInfo(o,t)||{};if(s==null||r==null){this.finishColumnMoving();return}this.moveColumnsAfterHighlight({allMovingColumns:o,xPosition:r,fromEnter:e,fakeEvent:i,fromLeft:s})}else{if(!this.dragAndDropService.isDropZoneWithinThisGrid(t)){return}this.highlightHoveredColumn(o,s)}}handleColumnDragWhileAllowingMovement(t,e,i,s,r){const o=this.getAllMovingColumns(t);const n=this.normaliseDirection(t.hDirection)===1;const a=t.dragSource.type===1;const l=this.getMoveColumnParams({allMovingColumns:o,isFromHeader:a,xPosition:s,fromLeft:n,fromEnter:e,fakeEvent:i});const h=_a({...l,finished:r});if(h){this.lastMovedInfo=h}}getAllMovingColumns(t,e=false){const i=t.dragSource.getDragItem();let s=null;if(e){s=i.columnsInSplit;if(!s){s=i.columns}}else{s=i.columns}const r=t=>t.getColDef().lockPinned?t.getPinned()==this.pinned:true;if(!s){return[]}return s.filter(r)}getMoveColumnParams(t){const{allMovingColumns:e,isFromHeader:i,xPosition:s,fromLeft:r,fromEnter:o,fakeEvent:n}=t;const{pinned:a,gos:l,columnModel:h,columnMoveService:c,visibleColsService:u}=this;return{allMovingColumns:e,isFromHeader:i,fromLeft:r,xPosition:s,pinned:a,fromEnter:o,fakeEvent:n,gos:l,columnModel:h,columnMoveService:c,visibleColsService:u}}findFirstAndLastMovingColumns(t){const e=t.length;let i;let s;for(let r=0;r<=e;r++){if(!i){const e=t[r];if(e.getLeft()!=null){i=e}}if(!s){const i=t[e-1-r];if(i.getLeft()!=null){s=i}}if(i&&s){break}}return{firstMovingCol:i,lastMovingCol:s}}highlightHoveredColumn(t,e){const{gos:i,columnModel:s}=this;const r=i.get("enableRtl");const o=s.getCols().filter((t=>t.isVisible()&&t.getPinned()===this.pinned));let n=null;let a=null;let l=null;for(const t of o){a=t.getActualWidth();n=this.getNormalisedColumnLeft(t,0,r);if(n!=null){const i=n+a;if(n<=e&&i>=e){l=t;break}}n=null;a=null}if(!l){for(let t=o.length-1;t>=0;t--){const e=o[t];const i=o[t].getParent();if(!i){l=e;break}const s=i?.getDisplayedLeafColumns();if(s.length){l=$t(s);break}}if(!l){return}n=this.getNormalisedColumnLeft(l,0,r);a=l.getActualWidth()}else if(t.indexOf(l)!==-1){l=null}if(this.lastHighlightedColumn?.column!==l){this.clearHighlighted()}if(l==null||n==null||a==null){return}let h;if(e-n<a/2!==r){h=0}else{h=1}l.setHighlighted(h);this.lastHighlightedColumn={column:l,position:h}}getNormalisedXPositionInfo(t,e){const{gos:i,visibleColsService:s}=this;const r=i.get("enableRtl");const{firstMovingCol:o,column:n,position:a}=this.getColumnMoveAndTargetInfo(t,e,r);if(!o||!n||a==null){return}const l=s.getAllCols();const h=l.indexOf(o);const c=l.indexOf(n);const u=a===0!==r;const d=h<c||h===c&&!u;let g=0;if(u){if(d){g-=1}}else{if(!d){g+=1}}if(c+g===h){return}const f=l[c+g];if(!f){return}const p=this.getNormalisedColumnLeft(f,20,r);return{fromLeft:d,xPosition:p}}getColumnMoveAndTargetInfo(t,e,i){const s=this.lastHighlightedColumn||{};const{firstMovingCol:r,lastMovingCol:o}=this.findFirstAndLastMovingColumns(t);if(!r||!o||s.column||!e){return{firstMovingCol:r,...s}}const n=this.getPinDirection();const a=n==="left";return{firstMovingCol:r,position:a?1:0,column:a!==i?r:o}}normaliseDirection(t){if(this.gos.get("enableRtl")){switch(t){case 0:return 1;case 1:return 0}}return t}getNormalisedColumnLeft(t,e,i){const{gos:s,ctrlsService:r}=this;const o=t.getLeft();if(o==null){return null}const n=t.getActualWidth();return il({x:i?o+n-e:o+e,pinned:t.getPinned(),useHeaderRow:i,skipScrollPadding:true,gos:s,ctrlsService:r})}isAttemptingToPin(t){const e=this.needToMoveLeft||this.needToMoveRight;const i=this.failedMoveAttempts>rl;return e&&i||t.some((t=>t.getPinned()!==this.pinned))}moveColumnsAfterHighlight(t){const{allMovingColumns:e,xPosition:i,fromEnter:s,fakeEvent:r,fromLeft:o}=t;const n=this.getMoveColumnParams({allMovingColumns:e,isFromHeader:true,xPosition:i,fromLeft:o,fromEnter:s,fakeEvent:r});const{columns:a,toIndex:l}=Za(n)||{};if(a&&l!=null){this.lastMovedInfo={columns:a,toIndex:l}}this.finishColumnMoving()}clearHighlighted(){if(!this.lastHighlightedColumn){return}this.lastHighlightedColumn.column.setHighlighted(null);this.lastHighlightedColumn=null}checkCenterForScrolling(t){if(!this.isCenterContainer){return}const e=this.ctrlsService.get("center");const i=e.getCenterViewportScrollLeft();const s=i+e.getCenterWidth();if(this.gos.get("enableRtl")){this.needToMoveRight=t<i+nl;this.needToMoveLeft=t>s-nl}else{this.needToMoveLeft=t<i+nl;this.needToMoveRight=t>s-nl}if(this.needToMoveLeft||this.needToMoveRight){this.ensureIntervalStarted()}else{this.ensureIntervalCleared()}}ensureIntervalStarted(){if(this.movingIntervalId){return}this.intervalCount=0;this.failedMoveAttempts=0;this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),ll);this.dragAndDropService.getDragAndDropImageComponent()?.setIcon(this.needToMoveLeft?"left":"right",true)}ensureIntervalCleared(){if(!this.movingIntervalId){return}window.clearInterval(this.movingIntervalId);this.movingIntervalId=null;this.failedMoveAttempts=0;this.dragAndDropService.getDragAndDropImageComponent()?.setIcon(this.getIconName())}moveInterval(){let t;this.intervalCount++;t=10+this.intervalCount*al;if(t>ol){t=ol}let e=null;const i=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft){e=i.scrollHorizontally(-t)}else if(this.needToMoveRight){e=i.scrollHorizontally(t)}if(e!==0){this.onDragging(this.lastDraggingEvent);this.failedMoveAttempts=0}else{this.failedMoveAttempts++;if(this.failedMoveAttempts<=rl+1){return}this.dragAndDropService.getDragAndDropImageComponent()?.setIcon("pinned");if(!this.gos.get("suppressMoveWhenColumnDragging")){const t=this.lastDraggingEvent?.dragItem.columns;this.attemptToPinColumns(t,void 0,true)}}}getPinDirection(){if(this.needToMoveLeft||this.pinned==="left"){return"left"}if(this.needToMoveRight||this.pinned==="right"){return"right"}}attemptToPinColumns(t,e,i=false){const s=(t||[]).filter((t=>!t.getColDef().lockPinned));if(!s.length){return 0}if(i){e=this.getPinDirection()}this.columnModel.setColsPinned(s,e,"uiColumnDragged");if(i){this.dragAndDropService.nudge()}return s.length}destroy(){super.destroy();this.lastDraggingEvent=null;this.clearHighlighted();this.lastMovedInfo=null}};var cl=class extends fe{wireBeans(t){this.dragAndDropService=t.dragAndDropService;this.columnModel=t.columnModel;this.ctrlsService=t.ctrlsService}constructor(t,e){super();this.pinned=t;this.eContainer=e}postConstruct(){this.ctrlsService.whenReady(this,(t=>{switch(this.pinned){case"left":this.eSecondaryContainers=[[t.gridBodyCtrl.getBodyViewportElement(),t.left.getContainerElement()],[t.bottomLeft.getContainerElement()],[t.topLeft.getContainerElement()]];break;case"right":this.eSecondaryContainers=[[t.gridBodyCtrl.getBodyViewportElement(),t.right.getContainerElement()],[t.bottomRight.getContainerElement()],[t.topRight.getContainerElement()]];break;default:this.eSecondaryContainers=[[t.gridBodyCtrl.getBodyViewportElement(),t.center.getViewportElement()],[t.bottomCenter.getViewportElement()],[t.topCenter.getViewportElement()]];break}}));this.moveColumnFeature=this.createManagedBean(new hl(this.pinned));this.bodyDropPivotTarget=this.createManagedBean(new qa(this.pinned));this.dragAndDropService.addDropTarget(this);this.addDestroyFunc((()=>this.dragAndDropService.removeDropTarget(this)))}isInterestedIn(t){return t===1||t===0&&this.gos.get("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(t){return this.columnModel.isPivotMode()&&t.dragSource.type===0}onDragEnter(t){this.currentDropListener=this.isDropColumnInPivotMode(t)?this.bodyDropPivotTarget:this.moveColumnFeature;this.currentDropListener.onDragEnter(t)}onDragLeave(t){this.currentDropListener.onDragLeave(t)}onDragging(t){this.currentDropListener.onDragging(t)}onDragStop(t){this.currentDropListener.onDragStop(t)}onDragCancel(){this.currentDropListener.onDragCancel()}};var ul=class extends fe{wireBeans(t){this.horizontalResizeService=t.horizontalResizeService;this.pinnedWidthService=t.pinnedWidthService;this.ctrlsService=t.ctrlsService;this.columnSizeService=t.columnSizeService;this.columnAutosizeService=t.columnAutosizeService}constructor(t,e,i,s,r){super();this.pinned=t;this.column=e;this.eResize=i;this.comp=s;this.ctrl=r}postConstruct(){const t=[];let e;let i;const s=()=>{is(this.eResize,e);if(!e){return}const s=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,false),onResizeEnd:this.onResizing.bind(this,true)});t.push(s);if(i){const e=this.gos.get("skipHeaderOnAutoSize");const i=()=>{this.columnAutosizeService.autoSizeColumn(this.column,"uiColumnResized",e)};this.eResize.addEventListener("dblclick",i);const s=new wr(this.eResize);s.addEventListener("doubleTap",i);t.push((()=>{this.eResize.removeEventListener("dblclick",i);s.removeEventListener("doubleTap",i);s.destroy()}))}};const r=()=>{t.forEach((t=>t()));t.length=0};const o=()=>{const t=this.column.isResizable();const o=!this.gos.get("suppressAutoSize")&&!this.column.getColDef().suppressAutoSize;const n=t!==e||o!==i;if(n){e=t;i=o;r();s()}};o();this.addDestroyFunc(r);this.ctrl.setRefreshFunction("resize",o)}onResizing(t,e){const{column:i,lastResizeAmount:s,resizeStartWidth:r}=this;const o=this.normaliseResizeAmount(e);const n=r+o;const a=[{key:i,newWidth:n}];if(this.column.getPinned()){const t=this.pinnedWidthService.getPinnedLeftWidth();const e=this.pinnedWidthService.getPinnedRightWidth();const i=ls(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(t+e+(o-s)>i){return}}this.lastResizeAmount=o;this.columnSizeService.setColumnWidths(a,this.resizeWithShiftKey,t,"uiColumnResized");if(t){this.toggleColumnResizing(false)}}onResizeStart(t){this.resizeStartWidth=this.column.getActualWidth();this.lastResizeAmount=0;this.resizeWithShiftKey=t;this.toggleColumnResizing(true)}toggleColumnResizing(t){this.comp.addOrRemoveCssClass("ag-column-resizing",t)}normaliseResizeAmount(t){let e=t;const i=this.pinned!=="left";const s=this.pinned==="right";if(this.gos.get("enableRtl")){if(i){e*=-1}}else{if(s){e*=-1}}return e}};var dl=class extends fe{constructor(t){super();this.cbSelectAllVisible=false;this.processingEventFromCheckbox=false;this.column=t}wireBeans(t){this.rowModel=t.rowModel;this.selectionService=t.selectionService}onSpaceKeyDown(t){const e=this.cbSelectAll;if(e.isDisplayed()&&!e.getGui().contains(pt(this.gos))){t.preventDefault();e.setValue(!e.getValue())}}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(t){this.headerCellCtrl=t;this.cbSelectAll=this.createManagedBean(new Er);this.cbSelectAll.addCssClass("ag-header-select-all");Pi(this.cbSelectAll.getGui(),"presentation");this.showOrHideSelectAll();this.addManagedEventListeners({newColumnsLoaded:this.onNewColumnsLoaded.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),selectionChanged:this.onSelectionChanged.bind(this),paginationChanged:this.onSelectionChanged.bind(this),modelUpdated:this.onModelChanged.bind(this)});this.addManagedListeners(this.cbSelectAll,{fieldValueChanged:this.onCbSelectAll.bind(this)});this.cbSelectAll.getInputElement().setAttribute("tabindex","-1");this.refreshSelectAllLabel()}onNewColumnsLoaded(){this.showOrHideSelectAll()}onDisplayedColumnsChanged(){if(!this.isAlive()){return}this.showOrHideSelectAll()}showOrHideSelectAll(){this.cbSelectAllVisible=this.isCheckboxSelection();this.cbSelectAll.setDisplayed(this.cbSelectAllVisible);if(this.cbSelectAllVisible){this.checkRightRowModelType("selectAllCheckbox");this.checkSelectionType("selectAllCheckbox");this.updateStateOfCheckbox()}this.refreshSelectAllLabel()}onModelChanged(){if(!this.cbSelectAllVisible){return}this.updateStateOfCheckbox()}onSelectionChanged(){if(!this.cbSelectAllVisible){return}this.updateStateOfCheckbox()}updateStateOfCheckbox(){if(this.processingEventFromCheckbox){return}this.processingEventFromCheckbox=true;const t=this.selectionService.getSelectAllState(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setValue(t);const e=this.selectionService.hasNodesToSelect(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setDisabled(!e);this.refreshSelectAllLabel();this.processingEventFromCheckbox=false}refreshSelectAllLabel(){const t=this.localeService.getLocaleTextFunc();const e=this.cbSelectAll.getValue();const i=e?t("ariaChecked","checked"):t("ariaUnchecked","unchecked");const s=t("ariaRowSelectAll","Press Space to toggle all rows selection");if(!this.cbSelectAllVisible){this.headerCellCtrl.setAriaDescriptionProperty("selectAll",null)}else{this.headerCellCtrl.setAriaDescriptionProperty("selectAll",`${s} (${i})`)}this.cbSelectAll.setInputAriaLabel(t("ariaHeaderSelection","Column with Header Selection"));this.headerCellCtrl.announceAriaDescription()}checkSelectionType(t){const e=Bt(this.gos);if(!e){P(`${t} is only available if using 'multiRow' selection mode.`);return false}return true}checkRightRowModelType(t){const e=X(this.gos)||tt(this.gos);if(!e){P(`${t} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${this.rowModel.getType()}.`);return false}return true}onCbSelectAll(){if(this.processingEventFromCheckbox){return}if(!this.cbSelectAllVisible){return}const t=this.cbSelectAll.getValue();const e=this.isFilteredOnly();const i=this.isCurrentPageOnly();let s="uiSelectAll";if(i){s="uiSelectAllCurrentPage"}else if(e){s="uiSelectAllFiltered"}const r={source:s,justFiltered:e,justCurrentPage:i};if(t){this.selectionService.selectAllRowNodes(r)}else{this.selectionService.deselectAllRowNodes(r)}}isCheckboxSelection(){const t=this.gos.get("rowSelection");const e=typeof t==="object"&&Rt(t)&&Se(this.column);const i=this.column.getColDef().headerCheckboxSelection;let s=false;if(e){s=true}else if(typeof i==="function"){s=i(this.gos.addGridCommonParams({column:this.column,colDef:this.column.getColDef()}))}else{s=!!i}return s&&this.checkRightRowModelType(e?"headerCheckbox":"headerCheckboxSelection")&&this.checkSelectionType(e?"headerCheckbox":"headerCheckboxSelection")}isFilteredOnly(){const t=this.gos.get("rowSelection");return typeof t==="object"?t.mode==="multiRow"&&t.selectAll==="filtered":!!this.column.getColDef().headerCheckboxSelectionFilteredOnly}isCurrentPageOnly(){const t=this.gos.get("rowSelection");return typeof t==="object"?t.mode==="multiRow"&&t.selectAll==="currentPage":!!this.column.getColDef().headerCheckboxSelectionCurrentPageOnly}};var gl=class extends Zn{constructor(t,e,i){super(t,e,i);this.refreshFunctions={};this.userHeaderClasses=new Set;this.ariaDescriptionProperties=new Map;this.column=t}setComp(t,e,i,s,r){this.comp=t;r=ki(this,this.beans.context,r);this.setGui(e,r);this.updateState();this.setupWidth(r);this.setupMovingCss(r);this.setupMenuClass(r);this.setupSortableClass(r);this.setupWrapTextClass();this.refreshSpanHeaderHeight();this.setupAutoHeight({wrapperElement:s,checkMeasuringCallback:t=>this.setRefreshFunction("measuring",t),compBean:r});this.addColumnHoverListener(r);this.setupFilterClass(r);this.setupClassesFromColDef();this.setupTooltip(r);this.addActiveHeaderMouseListeners(r);this.setupSelectAll(r);this.setupUserComp(r);this.refreshAria();this.resizeFeature=r.createManagedBean(new ul(this.getPinned(),this.column,i,t,this));r.createManagedBean(new _n([this.column],e));r.createManagedBean(new Vn(this.column,e,this.beans));r.createManagedBean(new jo(e,{shouldStopEventPropagation:t=>this.shouldStopEventPropagation(t),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)}));this.addResizeAndMoveKeyboardListeners(r);r.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader"],(()=>this.refresh(r)));r.addManagedListeners(this.column,{colDefChanged:()=>this.refresh(r)});r.addManagedListeners(this.column,{headerHighlightChanged:this.onHeaderHighlightChanged.bind(this)});const o=()=>this.checkDisplayName(r);r.addManagedEventListeners({columnValueChanged:o,columnRowGroupChanged:o,columnPivotChanged:o,headerHeightChanged:this.onHeaderHeightChanged.bind(this)});r.addDestroyFunc((()=>{this.refreshFunctions={};this.selectAllFeature=null;this.dragSourceElement=void 0;this.userCompDetails=null;this.userHeaderClasses.clear();this.ariaDescriptionProperties.clear();this.clearComponent()}))}resizeHeader(t,e){if(!this.column.isResizable()){return}const i=this.column.getActualWidth();const s=this.column.getMinWidth();const r=this.column.getMaxWidth();const o=Math.min(Math.max(i+t,s),r);this.beans.columnSizeService.setColumnWidths([{key:this.column,newWidth:o}],e,true,"uiColumnResized")}moveHeader(t){const{eGui:e,beans:i,column:s,ctrlsService:r}=this;const{gos:o,columnModel:n,columnMoveService:a,visibleColsService:l}=i;const h=this.getPinned();const c=e.getBoundingClientRect().left;const u=s.getActualWidth();const d=o.get("enableRtl");const g=t===0!==d;const f=il({x:g?c-20:c+u+20,pinned:h,fromKeyboard:true,gos:o,ctrlsService:r});const p=this.focusService.getFocusedHeader();_a({allMovingColumns:[s],isFromHeader:true,fromLeft:t===1,xPosition:f,pinned:h,fromEnter:false,fakeEvent:false,gos:o,columnModel:n,columnMoveService:a,visibleColsService:l,finished:true});r.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(s,"auto");if((!this.isAlive()||this.beans.gos.get("ensureDomOrder"))&&p){this.restoreFocus(p)}}restoreFocus(t){this.focusService.focusHeaderPosition({headerPosition:{...t,column:this.column}})}setupUserComp(t){const e=this.lookupUserCompDetails(t);this.setCompDetails(e)}setCompDetails(t){this.userCompDetails=t;this.comp.setUserCompDetails(t)}lookupUserCompDetails(t){const e=this.createParams(t);const i=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(i,e)}createParams(t){const e=this.gos.addGridCommonParams({column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&this.menuService.isHeaderFilterButtonEnabled(this.column),enableFilterIcon:!this.openFilterEnabled||this.menuService.isLegacyMenuEnabled(),showColumnMenu:t=>{this.menuService.showColumnMenu({column:this.column,buttonElement:t,positionBy:"button"})},showColumnMenuAfterMouseClick:t=>{this.menuService.showColumnMenu({column:this.column,mouseEvent:t,positionBy:"mouse"})},showFilter:t=>{this.menuService.showFilterMenu({column:this.column,buttonElement:t,containerType:"columnFilter",positionBy:"button"})},progressSort:t=>{this.beans.sortController.progressSort(this.column,!!t,"uiColumnSorted")},setSort:(t,e)=>{this.beans.sortController.setSortForColumn(this.column,t,!!e,"uiColumnSorted")},eGridHeader:this.getGui(),setTooltip:(e,i)=>{this.setupTooltip(t,e,i)}});return e}setupSelectAll(t){this.selectAllFeature=t.createManagedBean(new dl(this.column));this.selectAllFeature.setComp(this)}getSelectAllGui(){return this.selectAllFeature.getCheckboxGui()}handleKeyDown(t){super.handleKeyDown(t);if(t.key===zr.SPACE){this.selectAllFeature.onSpaceKeyDown(t)}if(t.key===zr.ENTER){this.onEnterKeyDown(t)}if(t.key===zr.DOWN&&t.altKey){this.showMenuOnKeyPress(t,false)}}onEnterKeyDown(t){if(t.ctrlKey||t.metaKey){this.showMenuOnKeyPress(t,true)}else if(this.sortable){const e=t.shiftKey;this.beans.sortController.progressSort(this.column,e,"uiColumnSorted")}}showMenuOnKeyPress(t,e){const i=this.comp.getUserCompInstance();if(!i||!(i instanceof Sr)){return}if(i.onMenuKeyboardShortcut(e)){t.preventDefault()}}onFocusIn(t){if(!this.getGui().contains(t.relatedTarget)){const t=this.getRowIndex();this.focusService.setFocusedHeader(t,this.column);this.announceAriaDescription()}if(this.focusService.isKeyboardMode()){this.setActiveHeader(true)}}onFocusOut(t){if(this.getGui().contains(t.relatedTarget)){return}this.setActiveHeader(false)}setupTooltip(t,e,i){if(this.tooltipFeature){this.tooltipFeature=this.destroyBean(this.tooltipFeature)}const s=this.gos.get("tooltipShowMode")==="whenTruncated";const r=this.eGui;const o=this.column.getColDef();if(!i&&s&&!o.headerComponent){i=()=>{const t=r.querySelector(".ag-header-cell-text");if(!t){return true}return t.scrollWidth>t.clientWidth}}const n={getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getGui:()=>r,getLocation:()=>"header",getTooltipValue:()=>{if(e!=null){return e}const t=this.column.getColDef().headerTooltip;return t},shouldDisplayTooltip:i};const a=t.createManagedBean(new lr(n));this.setRefreshFunction("tooltip",(()=>a.refreshToolTip()))}setupClassesFromColDef(){const t=()=>{const t=this.column.getColDef();const e=Un(t,this.gos,this.column,null);const i=this.userHeaderClasses;this.userHeaderClasses=new Set(e);e.forEach((t=>{if(i.has(t)){i.delete(t)}else{this.comp.addOrRemoveCssClass(t,true)}}));i.forEach((t=>this.comp.addOrRemoveCssClass(t,false)))};this.setRefreshFunction("headerClasses",t);t()}setDragSource(t){this.dragSourceElement=t;this.removeDragSource();if(!t||!this.draggable){return}const{column:e,beans:i,displayName:s,dragAndDropService:r,gos:o}=this;const{columnModel:n}=i;let a=!this.gos.get("suppressDragLeaveHidesColumns");const l=this.dragSource={type:1,eElement:t,getDefaultIconName:()=>a?"hide":"notAllowed",getDragItem:()=>this.createDragItem(e),dragItemName:s,onDragStarted:()=>{a=!o.get("suppressDragLeaveHidesColumns");sl([e],true)},onDragStopped:()=>sl([e],false),onDragCancelled:()=>sl([e],false),onGridEnter:t=>{if(a){const e=t?.columns?.filter((t=>!t.getColDef().lockVisible))||[];n.setColsVisible(e,true,"uiColumnMoved")}},onGridExit:t=>{if(a){const e=t?.columns?.filter((t=>!t.getColDef().lockVisible))||[];n.setColsVisible(e,false,"uiColumnMoved")}}};r.addDragSource(l,true)}createDragItem(t){const e={};e[t.getId()]=t.isVisible();return{columns:[t],visibleState:e}}updateState(){this.menuEnabled=this.menuService.isColumnMenuInHeaderEnabled(this.column);this.openFilterEnabled=this.menuService.isFilterMenuInHeaderEnabled(this.column);this.sortable=this.column.isSortable();this.displayName=this.calculateDisplayName();this.draggable=this.workOutDraggable()}setRefreshFunction(t,e){this.refreshFunctions[t]=e}refresh(t){this.updateState();this.refreshHeaderComp(t);this.refreshAria();Object.values(this.refreshFunctions).forEach((t=>t()))}refreshHeaderComp(t){const e=this.lookupUserCompDetails(t);const i=this.comp.getUserCompInstance();const s=i!=null&&this.userCompDetails.componentClass==e.componentClass;const r=s?this.attemptHeaderCompRefresh(e.params):false;if(r){this.setDragSource(this.dragSourceElement)}else{this.setCompDetails(e)}}attemptHeaderCompRefresh(t){const e=this.comp.getUserCompInstance();if(!e){return false}if(!e.refresh){return false}const i=e.refresh(t);return i}calculateDisplayName(){return this.beans.columnNameService.getDisplayNameForColumn(this.column,"header",true)}checkDisplayName(t){if(this.displayName!==this.calculateDisplayName()){this.refresh(t)}}workOutDraggable(){const t=this.column.getColDef();const e=this.gos.get("suppressMovableColumns");const i=!e&&!t.suppressMovable&&!t.lockPosition;return!!i||!!t.enableRowGroup||!!t.enablePivot}setupWidth(t){const e=()=>{const t=this.column.getActualWidth();this.comp.setWidth(`${t}px`)};t.addManagedListeners(this.column,{widthChanged:e});e()}setupMovingCss(t){const e=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving())};t.addManagedListeners(this.column,{movingChanged:e});e()}setupMenuClass(t){const e=()=>{this.comp.addOrRemoveCssClass("ag-column-menu-visible",this.column.isMenuVisible())};t.addManagedListeners(this.column,{menuVisibleChanged:e});e()}setupSortableClass(t){const e=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!this.sortable)};e();this.setRefreshFunction("updateSortable",e);t.addManagedEventListeners({sortChanged:this.refreshAriaSort.bind(this)})}setupFilterClass(t){const e=()=>{const t=this.column.isFilterActive();this.comp.addOrRemoveCssClass("ag-header-cell-filtered",t);this.refreshAria()};t.addManagedListeners(this.column,{filterActiveChanged:e});e()}setupWrapTextClass(){const t=()=>{const t=!!this.column.getColDef().wrapHeaderText;this.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",t)};t();this.setRefreshFunction("wrapText",t)}onHeaderHighlightChanged(){const t=this.column.getHighlighted();const e=t===0;const i=t===1;this.comp.addOrRemoveCssClass("ag-header-highlight-before",e);this.comp.addOrRemoveCssClass("ag-header-highlight-after",i)}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged();if(!this.isAlive()){return}this.onHeaderHeightChanged()}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){const{eGui:t,column:e,comp:i,beans:s}=this;const r=this.beans.columnModel.getGroupRowsHeight();const o=r.reduce(((t,e)=>t+=e),0)===0;i.addOrRemoveCssClass("ag-header-parent-hidden",o);if(!e.isSpanHeaderHeight()){t.style.removeProperty("top");t.style.removeProperty("height");i.addOrRemoveCssClass("ag-header-span-height",false);i.addOrRemoveCssClass("ag-header-span-total",false);return}const{numberOfParents:n,isSpanningTotal:a}=this.column.getColumnGroupPaddingInfo();i.addOrRemoveCssClass("ag-header-span-height",n>0);const{columnModel:l}=s;const h=l.getColumnHeaderRowHeight();if(n===0){i.addOrRemoveCssClass("ag-header-span-total",false);t.style.setProperty("top",`0px`);t.style.setProperty("height",`${h}px`);return}i.addOrRemoveCssClass("ag-header-span-total",a);let c=0;for(let t=0;t<n;t++){c+=r[r.length-1-t]}t.style.setProperty("top",`${-c}px`);t.style.setProperty("height",`${h+c}px`)}refreshAriaSort(){if(this.sortable){const t=this.localeService.getLocaleTextFunc();const e=this.beans.sortController.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(zi(e));this.setAriaDescriptionProperty("sort",t("ariaSortableColumn","Press ENTER to sort"))}else{this.comp.setAriaSort();this.setAriaDescriptionProperty("sort",null)}}refreshAriaMenu(){if(this.menuEnabled){const t=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",t("ariaMenuColumn","Press ALT DOWN to open column menu"))}else{this.setAriaDescriptionProperty("menu",null)}}refreshAriaFilterButton(){if(this.openFilterEnabled&&!this.menuService.isLegacyMenuEnabled()){const t=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",t("ariaFilterColumn","Press CTRL ENTER to open filter"))}else{this.setAriaDescriptionProperty("filterButton",null)}}refreshAriaFiltered(){const t=this.localeService.getLocaleTextFunc();const e=this.column.isFilterActive();if(e){this.setAriaDescriptionProperty("filter",t("ariaColumnFiltered","Column Filtered"))}else{this.setAriaDescriptionProperty("filter",null)}}setAriaDescriptionProperty(t,e){if(e!=null){this.ariaDescriptionProperties.set(t,e)}else{this.ariaDescriptionProperties.delete(t)}}announceAriaDescription(){if(!this.eGui.contains(pt(this.beans.gos))){return}const t=Array.from(this.ariaDescriptionProperties.keys()).sort(((t,e)=>t==="filter"?-1:e.charCodeAt(0)-t.charCodeAt(0))).map((t=>this.ariaDescriptionProperties.get(t))).join(". ");this.beans.ariaAnnouncementService.announceValue(t,"columnHeader")}refreshAria(){this.refreshAriaSort();this.refreshAriaMenu();this.refreshAriaFilterButton();this.refreshAriaFiltered()}addColumnHoverListener(t){const e=()=>{if(!this.gos.get("columnHoverHighlight")){return}const t=this.beans.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",t)};t.addManagedEventListeners({columnHoverChanged:e});e()}getColId(){return this.column.getColId()}addActiveHeaderMouseListeners(t){const e=t=>this.handleMouseOverChange(t.type==="mouseenter");const i=()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column);const s=t=>this.handleContextMenuMouseEvent(t,void 0,this.column);t.addManagedListeners(this.getGui(),{mouseenter:e,mouseleave:e,click:i,contextmenu:s})}handleMouseOverChange(t){this.setActiveHeader(t);this.eventService.dispatchEvent({type:t?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column})}setActiveHeader(t){this.comp.addOrRemoveCssClass("ag-header-active",t)}getAnchorElementForMenu(t){const e=this.comp.getUserCompInstance();if(e instanceof Sr){return e.getAnchorElementForMenu(t)}return this.getGui()}destroy(){super.destroy()}};var fl=class extends fe{wireBeans(t){this.horizontalResizeService=t.horizontalResizeService;this.autoWidthCalculator=t.autoWidthCalculator;this.visibleColsService=t.visibleColsService;this.columnSizeService=t.columnSizeService;this.columnAutosizeService=t.columnAutosizeService}constructor(t,e,i,s){super();this.eResize=e;this.comp=t;this.pinned=i;this.columnGroup=s}postConstruct(){if(!this.columnGroup.isResizable()){this.comp.setResizableDisplayed(false);return}const t=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,false),onResizeEnd:this.onResizing.bind(this,true)});this.addDestroyFunc(t);if(!this.gos.get("suppressAutoSize")){const t=this.gos.get("skipHeaderOnAutoSize");this.eResize.addEventListener("dblclick",(()=>{const e=[];const i=this.columnGroup.getDisplayedLeafColumns();i.forEach((t=>{if(!t.getColDef().suppressAutoSize){e.push(t.getColId())}}));if(e.length>0){this.columnAutosizeService.autoSizeCols({colKeys:e,skipHeader:t,stopAtGroup:this.columnGroup,source:"uiColumnResized"})}this.resizeLeafColumnsToFit("uiColumnResized")}))}}onResizeStart(t){const e=this.getInitialValues(t);this.storeLocalValues(e);this.toggleColumnResizing(true)}onResizing(t,e,i="uiColumnResized"){const s=this.normaliseDragChange(e);const r=this.resizeStartWidth+s;this.resizeColumnsFromLocalValues(r,i,t)}getInitialValues(t){const e=this.getColumnsToResize();const i=this.getInitialSizeOfColumns(e);const s=this.getSizeRatiosOfColumns(e,i);const r={columnsToResize:e,resizeStartWidth:i,resizeRatios:s};let o=null;if(t){o=this.visibleColsService.getGroupAtDirection(this.columnGroup,"After")}if(o){const t=o.getDisplayedLeafColumns();const e=r.groupAfterColumns=t.filter((t=>t.isResizable()));const i=r.groupAfterStartWidth=this.getInitialSizeOfColumns(e);r.groupAfterRatios=this.getSizeRatiosOfColumns(e,i)}else{r.groupAfterColumns=void 0;r.groupAfterStartWidth=void 0;r.groupAfterRatios=void 0}return r}storeLocalValues(t){const{columnsToResize:e,resizeStartWidth:i,resizeRatios:s,groupAfterColumns:r,groupAfterStartWidth:o,groupAfterRatios:n}=t;this.resizeCols=e;this.resizeStartWidth=i;this.resizeRatios=s;this.resizeTakeFromCols=r;this.resizeTakeFromStartWidth=o;this.resizeTakeFromRatios=n}clearLocalValues(){this.resizeCols=void 0;this.resizeRatios=void 0;this.resizeTakeFromCols=void 0;this.resizeTakeFromRatios=void 0}resizeLeafColumnsToFit(t){const e=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup);const i=this.getInitialValues();if(e>i.resizeStartWidth){this.resizeColumns(i,e,t,true)}}resizeColumnsFromLocalValues(t,e,i=true){if(!this.resizeCols||!this.resizeRatios){return}const s={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:this.resizeTakeFromCols??void 0,groupAfterStartWidth:this.resizeTakeFromStartWidth??void 0,groupAfterRatios:this.resizeTakeFromRatios??void 0};this.resizeColumns(s,t,e,i)}resizeColumns(t,e,i,s=true){const{columnsToResize:r,resizeStartWidth:o,resizeRatios:n,groupAfterColumns:a,groupAfterStartWidth:l,groupAfterRatios:h}=t;const c=[];c.push({columns:r,ratios:n,width:e});if(a){const t=e-o;c.push({columns:a,ratios:h,width:l-t})}this.columnSizeService.resizeColumnSets({resizeSets:c,finished:s,source:i});if(s){this.toggleColumnResizing(false)}}toggleColumnResizing(t){this.comp.addOrRemoveCssClass("ag-column-resizing",t)}getColumnsToResize(){const t=this.columnGroup.getDisplayedLeafColumns();return t.filter((t=>t.isResizable()))}getInitialSizeOfColumns(t){return t.reduce(((t,e)=>t+e.getActualWidth()),0)}getSizeRatiosOfColumns(t,e){return t.map((t=>t.getActualWidth()/e))}normaliseDragChange(t){let e=t;if(this.gos.get("enableRtl")){if(this.pinned!=="left"){e*=-1}}else if(this.pinned==="right"){e*=-1}return e}destroy(){super.destroy();this.clearLocalValues()}};var pl=class extends fe{constructor(t,e){super();this.removeChildListenersFuncs=[];this.columnGroup=e;this.comp=t}postConstruct(){this.addListenersToChildrenColumns();this.addManagedListeners(this.columnGroup,{displayedChildrenChanged:this.onDisplayedChildrenChanged.bind(this)});this.onWidthChanged();this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();const t=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach((e=>{e.addEventListener("widthChanged",t);e.addEventListener("visibleChanged",t);this.removeChildListenersFuncs.push((()=>{e.removeEventListener("widthChanged",t);e.removeEventListener("visibleChanged",t)}))}))}removeListenersOnChildrenColumns(){this.removeChildListenersFuncs.forEach((t=>t()));this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns();this.onWidthChanged()}onWidthChanged(){const t=this.columnGroup.getActualWidth();this.comp.setWidth(`${t}px`);this.comp.addOrRemoveCssClass("ag-hidden",t===0)}};var ml=class extends Zn{constructor(t,e,i){super(t,e,i);this.onSuppressColMoveChange=()=>{if(!this.isAlive()||this.isSuppressMoving()){this.removeDragSource()}else{if(!this.dragSource){const t=this.getGui();this.setDragSource(t)}}};this.column=t}setComp(t,e,i,s,r){this.comp=t;r=ki(this,this.beans.context,r);this.setGui(e,r);this.displayName=this.beans.columnNameService.getDisplayNameForColumnGroup(this.column,"header");this.addClasses();this.setupMovingCss(r);this.setupExpandable(r);this.setupTooltip(r);this.setupAutoHeight({wrapperElement:s,compBean:r});this.setupUserComp(r);this.addHeaderMouseListeners(r);this.addManagedPropertyListener("groupHeaderHeight",this.refreshMaxHeaderHeight.bind(this));this.refreshMaxHeaderHeight();const o=this.getParentRowCtrl().getPinned();const n=this.column.getProvidedColumnGroup().getLeafColumns();r.createManagedBean(new _n(n,e));r.createManagedBean(new Vn(this.column,e,this.beans));r.createManagedBean(new pl(t,this.column));this.resizeFeature=r.createManagedBean(new fl(t,i,o,this.column));r.createManagedBean(new jo(e,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>void 0,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}));this.addHighlightListeners(r,n);r.addManagedPropertyListener("suppressMovableColumns",this.onSuppressColMoveChange);this.addResizeAndMoveKeyboardListeners(r);r.addDestroyFunc((()=>this.clearComponent()))}refreshMaxHeaderHeight(){const{gos:t,comp:e}=this;const i=t.get("groupHeaderHeight");if(i!=null){if(i===0){e.setHeaderWrapperHidden(true)}else{e.setHeaderWrapperMaxHeight(i)}}else{e.setHeaderWrapperHidden(false);e.setHeaderWrapperMaxHeight(null)}}addHighlightListeners(t,e){if(!this.beans.gos.get("suppressMoveWhenColumnDragging")){return}for(const i of e){t.addManagedListeners(i,{headerHighlightChanged:this.onLeafColumnHighlightChanged.bind(this,i)})}}onLeafColumnHighlightChanged(t){const e=this.column.getDisplayedLeafColumns();const i=e[0]===t;const s=$t(e)===t;if(!i&&!s){return}const r=t.getHighlighted();const o=!!this.getParentRowCtrl().findHeaderCellCtrl((t=>t.getColumnGroupChild().isMoving()));let n=false;let a=false;if(o){const t=this.beans.gos.get("enableRtl");const e=r===1;const o=r===0;if(i){if(t){a=e}else{n=o}}if(s){if(t){n=o}else{a=e}}}this.comp.addOrRemoveCssClass("ag-header-highlight-before",n);this.comp.addOrRemoveCssClass("ag-header-highlight-after",a)}getColumn(){return this.column}resizeHeader(t,e){if(!this.resizeFeature){return}const i=this.resizeFeature.getInitialValues(e);this.resizeFeature.resizeColumns(i,i.resizeStartWidth+t,"uiColumnResized",true)}moveHeader(t){const{beans:e,eGui:i,column:s,ctrlsService:r}=this;const{gos:o,columnModel:n,columnMoveService:a,visibleColsService:l}=e;const h=o.get("enableRtl");const c=t===0;const u=this.getPinned();const d=i.getBoundingClientRect();const g=d.left;const f=d.width;const p=il({x:c!==h?g-20:g+f+20,pinned:u,fromKeyboard:true,gos:o,ctrlsService:r});const m=s.getGroupId();const v=this.focusService.getFocusedHeader();_a({allMovingColumns:this.column.getLeafColumns(),isFromHeader:true,fromLeft:t===1,xPosition:p,pinned:u,fromEnter:false,fakeEvent:false,gos:o,columnModel:n,columnMoveService:a,visibleColsService:l,finished:true});const w=s.getDisplayedLeafColumns();const b=c?w[0]:$t(w);this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(b,"auto");if((!this.isAlive()||this.beans.gos.get("ensureDomOrder"))&&v){this.restoreFocus(m,s,v)}}restoreFocus(t,e,i){const s=e.getLeafColumns();if(!s.length){return}const r=s[0].getParent();if(!r){return}const o=this.findGroupWidthId(r,t);if(o){this.focusService.focusHeaderPosition({headerPosition:{...i,column:o}})}}findGroupWidthId(t,e){while(t){if(t.getGroupId()===e){return t}t=t.getParent()}return null}resizeLeafColumnsToFit(t){if(!this.resizeFeature){return}this.resizeFeature.resizeLeafColumnsToFit(t)}setupUserComp(t){const e=this.gos.addGridCommonParams({displayName:this.displayName,columnGroup:this.column,setExpanded:t=>{this.beans.columnModel.setColumnGroupOpened(this.column.getProvidedColumnGroup(),t,"gridInitializing")},setTooltip:(e,i)=>{this.setupTooltip(t,e,i)}});const i=this.userComponentFactory.getHeaderGroupCompDetails(e);this.comp.setUserCompDetails(i)}addHeaderMouseListeners(t){const e=t=>this.handleMouseOverChange(t.type==="mouseenter");const i=()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column.getProvidedColumnGroup());const s=t=>this.handleContextMenuMouseEvent(t,void 0,this.column.getProvidedColumnGroup());t.addManagedListeners(this.getGui(),{mouseenter:e,mouseleave:e,click:i,contextmenu:s})}handleMouseOverChange(t){this.eventService.dispatchEvent({type:t?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column.getProvidedColumnGroup()})}setupTooltip(t,e,i){if(this.tooltipFeature){this.tooltipFeature=this.destroyBean(this.tooltipFeature)}const s=this.column.getColGroupDef();const r=this.gos.get("tooltipShowMode")==="whenTruncated";const o=this.eGui;if(!i&&r&&!s?.headerGroupComponent){i=()=>{const t=o.querySelector(".ag-header-group-text");if(!t){return true}return t.scrollWidth>t.clientWidth}}const n={getColumn:()=>this.column,getGui:()=>o,getLocation:()=>"headerGroup",getTooltipValue:()=>e??(s&&s.headerTooltip),shouldDisplayTooltip:i};if(s){n.getColDef=()=>s}t.createManagedBean(new lr(n))}setupExpandable(t){const e=this.column.getProvidedColumnGroup();this.refreshExpanded();const i=this.refreshExpanded.bind(this);t.addManagedListeners(e,{expandedChanged:i,expandableChanged:i})}refreshExpanded(){const{column:t}=this;this.expandable=t.isExpandable();const e=t.isExpanded();if(this.expandable){this.comp.setAriaExpanded(e?"true":"false")}else{this.comp.setAriaExpanded(void 0)}}getColId(){return this.column.getUniqueId()}addClasses(){const t=this.column.getColGroupDef();const e=Un(t,this.gos,null,this.column);if(this.column.isPadding()){e.push("ag-header-group-cell-no-group");const t=this.column.getLeafColumns();if(t.every((t=>t.isSpanHeaderHeight()))){e.push("ag-header-span-height")}}else{e.push("ag-header-group-cell-with-group");if(t?.wrapHeaderText){e.push("ag-header-cell-wrap-text")}}e.forEach((t=>this.comp.addOrRemoveCssClass(t,true)))}setupMovingCss(t){const e=this.column.getProvidedColumnGroup();const i=e.getLeafColumns();const s=()=>this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving());i.forEach((e=>{t.addManagedListeners(e,{movingChanged:s})}));s()}onFocusIn(t){if(!this.eGui.contains(t.relatedTarget)){const t=this.getRowIndex();this.beans.focusService.setFocusedHeader(t,this.column)}}handleKeyDown(t){super.handleKeyDown(t);const e=this.getWrapperHasFocus();if(!this.expandable||!e){return}if(t.key===zr.ENTER){const t=this.column;const e=!t.isExpanded();this.beans.columnModel.setColumnGroupOpened(t.getProvidedColumnGroup(),e,"uiColumnExpanded")}}setDragSource(t){if(!this.isAlive()||this.isSuppressMoving()){return}this.removeDragSource();if(!t){return}const{beans:e,column:i,displayName:s,gos:r,dragAndDropService:o}=this;const{columnModel:n}=e;const a=i.getProvidedColumnGroup().getLeafColumns();let l=!r.get("suppressDragLeaveHidesColumns");const h=this.dragSource={type:1,eElement:t,getDefaultIconName:()=>l?"hide":"notAllowed",dragItemName:s,getDragItem:()=>this.getDragItemForGroup(i),onDragStarted:()=>{l=!r.get("suppressDragLeaveHidesColumns");sl(a,true)},onDragStopped:()=>sl(a,false),onDragCancelled:()=>sl(a,false),onGridEnter:t=>{if(l){const{columns:e=[],visibleState:i}=t??{};const s=e.filter((t=>!t.getColDef().lockVisible&&(!i||i[t.getColId()])));n.setColsVisible(s,true,"uiColumnMoved")}},onGridExit:t=>{if(l){const e=t?.columns?.filter((t=>!t.getColDef().lockVisible))||[];n.setColsVisible(e,false,"uiColumnMoved")}}};o.addDragSource(h,true)}getDragItemForGroup(t){const e=t.getProvidedColumnGroup().getLeafColumns();const i={};e.forEach((t=>i[t.getId()]=t.isVisible()));const s=[];this.beans.visibleColsService.getAllCols().forEach((t=>{if(e.indexOf(t)>=0){s.push(t);qt(e,t)}}));e.forEach((t=>s.push(t)));const r=[];const o=t.getLeafColumns();for(const t of s){if(o.indexOf(t)!==-1){r.push(t)}}return{columns:s,columnsInSplit:r,visibleState:i}}isSuppressMoving(){let t=false;this.column.getLeafColumns().forEach((e=>{if(e.getColDef().suppressMovable||e.getColDef().lockPosition){t=true}}));const e=t||this.gos.get("suppressMovableColumns");return e}destroy(){super.destroy()}};var vl=0;var wl=class extends fe{constructor(t,e,i){super();this.instanceId=vl++;this.rowIndex=t;this.pinned=e;this.type=i;const s=i=="group"?`ag-header-row-column-group`:i=="filter"?`ag-header-row-column-filter`:`ag-header-row-column`;this.headerRowClass=`ag-header-row ${s}`}wireBeans(t){this.beans=t}postConstruct(){this.isPrintLayout=et(this.gos,"print");this.isEnsureDomOrder=this.gos.get("ensureDomOrder")}areCellsRendered(){if(!this.comp){return false}return this.getHeaderCellCtrls().every((t=>t.getGui()!=null))}setComp(t,e,i=true){this.comp=t;e=ki(this,this.beans.context,e);if(i){this.onRowHeightChanged();this.onVirtualColumnsChanged()}this.setWidth();this.addEventListeners(e)}getHeaderRowClass(){return this.headerRowClass}getAriaRowIndex(){return this.rowIndex+1}addEventListeners(t){const e=this.onRowHeightChanged.bind(this);t.addManagedEventListeners({columnResized:this.onColumnResized.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:t=>this.onVirtualColumnsChanged(t.afterScroll),columnGroupHeaderHeightChanged:e,columnHeaderHeightChanged:e,gridStylesChanged:e,advancedFilterEnabledChanged:e});t.addManagedPropertyListener("domLayout",this.onDisplayedColumnsChanged.bind(this));t.addManagedPropertyListener("ensureDomOrder",(t=>this.isEnsureDomOrder=t.currentValue));t.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],e)}getHeaderCellCtrl(t){if(!this.headerCellCtrls){return}return _(this.headerCellCtrls).find((e=>e.getColumnGroupChild()===t))}onDisplayedColumnsChanged(){this.isPrintLayout=et(this.gos,"print");this.onVirtualColumnsChanged();this.setWidth();this.onRowHeightChanged()}getType(){return this.type}onColumnResized(){this.setWidth()}setWidth(){const t=this.getWidthForRow();this.comp.setWidth(`${t}px`)}getWidthForRow(){const{visibleColsService:t}=this.beans;if(this.isPrintLayout){const e=this.pinned!=null;if(e){return 0}return t.getContainerWidth("right")+t.getContainerWidth("left")+t.getContainerWidth(null)}return t.getContainerWidth(this.pinned)}onRowHeightChanged(){const{topOffset:t,rowHeight:e}=this.getTopAndHeight();this.comp.setTop(t+"px");this.comp.setHeight(e+"px")}getTopAndHeight(){const{columnModel:t,filterManager:e}=this.beans;const i=[];const s=t.getGroupRowsHeight();const r=t.getColumnHeaderRowHeight();i.push(...s);i.push(r);if(e?.hasFloatingFilters()){i.push(t.getFloatingFiltersHeight())}let o=0;for(let t=0;t<this.rowIndex;t++){o+=i[t]}const n=i[this.rowIndex];return{topOffset:o,rowHeight:n}}getPinned(){return this.pinned}getRowIndex(){return this.rowIndex}onVirtualColumnsChanged(t=false){const e=this.getHeaderCtrls();const i=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(e,i,t)}getHeaderCtrls(){const t=this.headerCellCtrls;this.headerCellCtrls=new Map;const e=this.getColumnsInViewport();for(const i of e){this.recycleAndCreateHeaderCtrls(i,t)}const i=t=>{const{focusService:e,visibleColsService:i}=this.beans;const s=e.isHeaderWrapperFocused(t);if(!s){return false}const r=i.isVisible(t.getColumnGroupChild());return r};if(t){for(const[e,s]of t){const t=i(s);if(t){this.headerCellCtrls.set(e,s)}else{this.destroyBean(s)}}}return this.getHeaderCellCtrls()}getHeaderCellCtrls(){return Array.from(this.headerCellCtrls?.values()??[])}recycleAndCreateHeaderCtrls(t,e){if(!this.headerCellCtrls){return}if(t.isEmptyGroup()){return}const i=t.getUniqueId();let s;if(e){s=e.get(i);e.delete(i)}const r=s&&s.getColumnGroupChild()!=t;if(r){this.destroyBean(s);s=void 0}if(s==null){switch(this.type){case"filter":{s=this.createBean(this.beans.ctrlsFactory.getInstance("headerFilterCell",t,this.beans,this));break}case"group":s=this.createBean(new ml(t,this.beans,this));break;default:s=this.createBean(new gl(t,this.beans,this));break}}this.headerCellCtrls.set(i,s)}getColumnsInViewport(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()}getColumnsInViewportPrintLayout(){if(this.pinned!=null){return[]}let t=[];const e=this.getActualDepth();const{columnViewportService:i}=this.beans;["left",null,"right"].forEach((s=>{const r=i.getHeadersToRender(s,e);t=t.concat(r)}));return t}getActualDepth(){return this.type=="filter"?this.rowIndex-1:this.rowIndex}getColumnsInViewportNormalLayout(){return this.beans.columnViewportService.getHeadersToRender(this.pinned,this.getActualDepth())}findHeaderCellCtrl(t){if(!this.headerCellCtrls){return}const e=this.getHeaderCellCtrls();let i;if(typeof t==="function"){i=e.find(t)}else{i=e.find((e=>e.getColumnGroupChild()==t))}return i}focusHeader(t,e){const i=this.findHeaderCellCtrl(t);if(!i){return false}const s=i.focus(e);return s}destroy(){this.headerCellCtrls?.forEach((t=>{this.destroyBean(t)}));this.headerCellCtrls=void 0;super.destroy()}};var bl=class extends fe{constructor(t){super();this.hidden=false;this.includeFloatingFilter=false;this.groupsRowCtrls=[];this.pinned=t}wireBeans(t){this.ctrlsService=t.ctrlsService;this.scrollVisibleService=t.scrollVisibleService;this.pinnedWidthService=t.pinnedWidthService;this.columnModel=t.columnModel;this.focusService=t.focusService;this.filterManager=t.filterManager}setComp(t,e){this.comp=t;this.eViewport=e;this.setupCenterWidth();this.setupPinnedWidth();this.setupDragAndDrop(this.eViewport);const i=this.onDisplayedColumnsChanged.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),displayedColumnsChanged:i,advancedFilterEnabledChanged:i});const s=`${typeof this.pinned==="string"?this.pinned:"center"}Header`;this.ctrlsService.register(s,this);if(this.columnModel.isReady()){this.refresh()}}getAllCtrls(){const t=[...this.groupsRowCtrls];if(this.columnsRowCtrl){t.push(this.columnsRowCtrl)}if(this.filtersRowCtrl){t.push(this.filtersRowCtrl)}return t}refresh(t=false){const e=new As;const i=this.focusService.getFocusHeaderToUseAfterRefresh();const s=()=>{const t=this.columnModel.getHeaderRowCount()-1;this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls);for(let i=0;i<t;i++){const t=this.createBean(new wl(e.next(),this.pinned,"group"));this.groupsRowCtrls.push(t)}};const r=()=>{const i=e.next();const s=!this.hidden&&(this.columnsRowCtrl==null||!t||this.columnsRowCtrl.getRowIndex()!==i);const r=s||this.hidden;if(r){this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)}if(s){this.columnsRowCtrl=this.createBean(new wl(i,this.pinned,"column"))}};const o=()=>{this.includeFloatingFilter=!!this.filterManager?.hasFloatingFilters()&&!this.hidden;const i=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter){i();return}const s=e.next();if(this.filtersRowCtrl){const e=this.filtersRowCtrl.getRowIndex()!==s;if(!t||e){i()}}if(!this.filtersRowCtrl){this.filtersRowCtrl=this.createBean(new wl(s,this.pinned,"filter"))}};s();r();o();const n=this.getAllCtrls();this.comp.setCtrls(n);this.restoreFocusOnHeader(i)}getHeaderCtrlForColumn(t){if(Ge(t)){return this.columnsRowCtrl?.getHeaderCellCtrl(t)}if(this.groupsRowCtrls.length===0){return}for(let e=0;e<this.groupsRowCtrls.length;e++){const i=this.groupsRowCtrls[e].getHeaderCellCtrl(t);if(i){return i}}}getHtmlElementForColumnHeader(t){const e=this.getHeaderCtrlForColumn(t);if(!e){return null}return e.getGui()}getRowType(t){const e=this.getAllCtrls();const i=e[t];return i?i.getType():void 0}focusHeader(t,e,i){const s=this.getAllCtrls();const r=s[t];if(!r){return false}return r.focusHeader(e,i)}getViewportElement(){return this.eViewport}getGroupRowCount(){return this.groupsRowCtrls.length}getGroupRowCtrlAtIndex(t){return this.groupsRowCtrls[t]}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}setHorizontalScroll(t){this.comp.setViewportScrollLeft(t)}onScrollCallback(t){this.addManagedElementListeners(this.getViewportElement(),{scroll:t})}destroy(){if(this.filtersRowCtrl){this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)}if(this.columnsRowCtrl){this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)}if(this.groupsRowCtrls&&this.groupsRowCtrls.length){this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls)}super.destroy()}setupDragAndDrop(t){const e=new cl(this.pinned,t);this.createManagedBean(e)}restoreFocusOnHeader(t){if(!t){return}const{column:e}=t;if(e.getPinned()!=this.pinned){return}this.focusService.focusHeaderPosition({headerPosition:t})}onGridColumnsChanged(){this.refresh(true)}onDisplayedColumnsChanged(){const t=this.filterManager?.hasFloatingFilters()&&!this.hidden;if(this.includeFloatingFilter!==t){this.refresh(true)}}setupCenterWidth(){if(this.pinned!=null){return}this.createManagedBean(new Ya((t=>this.comp.setCenterWidth(`${t}px`)),true))}setupPinnedWidth(){if(this.pinned==null){return}const t=this.pinned==="left";const e=this.pinned==="right";this.hidden=true;const i=()=>{const i=t?this.pinnedWidthService.getPinnedLeftWidth():this.pinnedWidthService.getPinnedRightWidth();if(i==null){return}const s=i==0;const r=this.hidden!==s;const o=this.gos.get("enableRtl");const n=this.scrollVisibleService.getScrollbarWidth();const a=this.scrollVisibleService.isVerticalScrollShowing()&&(o&&t||!o&&e);const l=a?i+n:i;this.comp.setPinnedContainerWidth(`${l}px`);this.comp.setDisplayed(!s);if(r){this.hidden=s;this.refresh()}};this.addManagedEventListeners({leftPinnedWidthChanged:i,rightPinnedWidthChanged:i,scrollVisibilityChanged:i,scrollbarWidthChanged:i})}};var yl=`<div class="ag-pinned-left-header" role="rowgroup"></div>`;var Cl=`<div class="ag-pinned-right-header" role="rowgroup"></div>`;var xl=`<div class="ag-header-viewport" role="presentation">\n        <div class="ag-header-container" data-ref="eCenterContainer" role="rowgroup"></div>\n    </div>`;var kl=class extends ur{constructor(t){super();this.eCenterContainer=cr;this.headerRowComps={};this.rowCompsList=[];this.pinned=t}postConstruct(){this.selectAndSetTemplate();const t={setDisplayed:t=>this.setDisplayed(t),setCtrls:t=>this.setCtrls(t),setCenterWidth:t=>this.eCenterContainer.style.width=t,setViewportScrollLeft:t=>this.getGui().scrollLeft=t,setPinnedContainerWidth:t=>{const e=this.getGui();e.style.width=t;e.style.maxWidth=t;e.style.minWidth=t}};const e=this.createManagedBean(new bl(this.pinned));e.setComp(t,this.getGui())}selectAndSetTemplate(){const t=this.pinned=="left";const e=this.pinned=="right";const i=t?yl:e?Cl:xl;this.setTemplate(i);this.eRowContainer=this.eCenterContainer!==cr?this.eCenterContainer:this.getGui()}destroy(){this.setCtrls([]);super.destroy()}destroyRowComp(t){this.destroyBean(t);this.eRowContainer.removeChild(t.getGui())}setCtrls(t){const e=this.headerRowComps;this.headerRowComps={};this.rowCompsList=[];let i;const s=t=>{const e=t.getGui();const s=e.parentElement!=this.eRowContainer;if(s){this.eRowContainer.appendChild(e)}if(i){bs(this.eRowContainer,e,i)}i=e};t.forEach((t=>{const i=t.instanceId;const r=e[i];delete e[i];const o=r?r:this.createBean(new $a(t));this.headerRowComps[i]=o;this.rowCompsList.push(o);s(o)}));Ie(e).forEach((t=>this.destroyRowComp(t)))}};var Sl=class extends ur{constructor(){super(`<div class="ag-header" role="presentation"/>`)}postConstruct(){const t={addOrRemoveCssClass:(t,e)=>this.addOrRemoveCssClass(t,e),setHeightAndMinHeight:t=>{this.getGui().style.height=t;this.getGui().style.minHeight=t}};const e=this.createManagedBean(new Ka);e.setComp(t,this.getGui(),this.getFocusableElement());const i=t=>{this.createManagedBean(t);this.appendChild(t)};i(new kl("left"));i(new kl(null));i(new kl("right"))}};var Dl={selector:"AG-HEADER-ROOT",component:Sl};var Ml=class extends fe{constructor(t){super();this.view=t}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this));this.updateLayoutClasses()}updateLayoutClasses(){const t=this.getDomLayout();const e={autoHeight:t==="autoHeight",normal:t==="normal",print:t==="print"};const i=e.autoHeight?"ag-layout-auto-height":e.print?"ag-layout-print":"ag-layout-normal";this.view.updateLayoutClasses(i,e)}getDomLayout(){const t=this.gos.get("domLayout")??"normal";const e=["normal","print","autoHeight"];if(e.indexOf(t)===-1){P(`${t} is not valid for DOM Layout, valid values are 'normal', 'autoHeight', 'print'.`);return"normal"}return t}};var Rl=class extends ur{constructor(){super(`\n            <div class="ag-overlay" role="presentation">\n                <div class="ag-overlay-panel" role="presentation">\n                    <div class="ag-overlay-wrapper" data-ref="eOverlayWrapper" role="presentation"></div>\n                </div>\n            </div>`);this.eOverlayWrapper=cr;this.activePromise=null;this.activeOverlay=null;this.updateListenerDestroyFunc=null;this.activeOverlayWrapperCssClass=null;this.elToFocusAfter=null}wireBeans(t){this.overlayService=t.overlayService;this.focusService=t.focusService;this.visibleColsService=t.visibleColsService}handleKeyDown(t){if(t.key!==zr.TAB||t.defaultPrevented||ae(t)){return}const e=this.focusService.findNextFocusableElement(this.eOverlayWrapper,false,t.shiftKey);if(e){return}let i=false;if(t.shiftKey){i=this.focusService.focusGridView($t(this.visibleColsService.getAllCols()),true,false)}else{i=this.focusService.focusNextGridCoreContainer(false)}if(i){t.preventDefault()}}updateLayoutClasses(t,e){const i=this.eOverlayWrapper.classList;i.toggle("ag-layout-auto-height",e.autoHeight);i.toggle("ag-layout-normal",e.normal);i.toggle("ag-layout-print",e.print)}postConstruct(){this.createManagedBean(new Ml(this));this.setDisplayed(false,{skipAriaHidden:true});this.overlayService.setOverlayWrapperComp(this);this.addManagedElementListeners(this.getFocusableElement(),{keydown:this.handleKeyDown.bind(this)})}setWrapperTypeClass(t){const e=this.eOverlayWrapper.classList;if(this.activeOverlayWrapperCssClass){e.toggle(this.activeOverlayWrapperCssClass,false)}this.activeOverlayWrapperCssClass=t;e.toggle(t,true)}showOverlay(t,e,i,s){this.setWrapperTypeClass(e);this.destroyActiveOverlay();this.elToFocusAfter=null;this.activePromise=t;if(!t){return}this.setDisplayed(true,{skipAriaHidden:true});if(i&&this.focusService.isGridFocused()){const t=pt(this.gos);if(t&&!mt(this.gos)){this.elToFocusAfter=t}}t.then((e=>{if(this.activePromise!==t){if(this.activeOverlay!==e){this.destroyBean(e);e=null}return}this.activePromise=null;if(!e){return}if(this.activeOverlay!==e){this.eOverlayWrapper.appendChild(e.getGui());this.activeOverlay=e;if(s){const t=e;this.updateListenerDestroyFunc=this.addManagedPropertyListener(s,(({currentValue:e})=>{t.refresh?.(this.gos.addGridCommonParams({...e??{}}))}))}}const r=this.focusService;if(i&&r.isGridFocused()){r.focusInto(this.eOverlayWrapper)}}))}updateOverlayWrapperPaddingTop(t){this.eOverlayWrapper.style.setProperty("padding-top",`${t}px`)}destroyActiveOverlay(){this.activePromise=null;const t=this.activeOverlay;if(!t){return}let e=this.elToFocusAfter;this.activeOverlay=null;this.elToFocusAfter=null;if(e&&!this.focusService.isGridFocused()){e=null}const i=this.updateListenerDestroyFunc;if(i){i();this.updateListenerDestroyFunc=null}this.destroyBean(t);fs(this.eOverlayWrapper);e?.focus?.({preventScroll:true})}hideOverlay(){this.destroyActiveOverlay();this.setDisplayed(false,{skipAriaHidden:true})}destroy(){this.elToFocusAfter=null;this.destroyActiveOverlay();this.overlayService.setOverlayWrapperComp(void 0);super.destroy()}};var Fl={selector:"AG-OVERLAY-WRAPPER",component:Rl};var Pl=class extends ur{constructor(t,e){super();this.direction=e;this.eViewport=cr;this.eContainer=cr;this.hideTimeout=null;this.setTemplate(t)}wireBeans(t){this.animationFrameService=t.animationFrameService}postConstruct(){this.addManagedEventListeners({scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this)});this.onScrollVisibilityChanged();this.addOrRemoveCssClass("ag-apple-scrollbar",Ks()||Ys())}initialiseInvisibleScrollbar(){if(this.invisibleScrollbar!==void 0){return}this.invisibleScrollbar=ir();if(this.invisibleScrollbar){this.hideAndShowInvisibleScrollAsNeeded();this.addActiveListenerToggles()}}addActiveListenerToggles(){const t=this.getGui();const e=()=>this.addOrRemoveCssClass("ag-scrollbar-active",true);const i=()=>this.addOrRemoveCssClass("ag-scrollbar-active",false);this.addManagedListeners(t,{mouseenter:e,mousedown:e,touchstart:e,mouseleave:i,touchend:i})}onScrollVisibilityChanged(){if(this.invisibleScrollbar===void 0){this.initialiseInvisibleScrollbar()}this.animationFrameService.requestAnimationFrame((()=>this.setScrollVisible()))}hideAndShowInvisibleScrollAsNeeded(){this.addManagedEventListeners({bodyScroll:t=>{if(t.direction===this.direction){if(this.hideTimeout!==null){window.clearTimeout(this.hideTimeout);this.hideTimeout=null}this.addOrRemoveCssClass("ag-scrollbar-scrolling",true)}},bodyScrollEnd:()=>{this.hideTimeout=window.setTimeout((()=>{this.addOrRemoveCssClass("ag-scrollbar-scrolling",false);this.hideTimeout=null}),400)}})}attemptSettingScrollPosition(t){const e=this.getViewportElement();H((()=>vs(e)),(()=>this.setScrollPosition(t)),100)}getViewportElement(){return this.eViewport}getContainer(){return this.eContainer}onScrollCallback(t){this.addManagedElementListeners(this.getViewportElement(),{scroll:t})}};var zl=class extends Pl{constructor(){super(`<div class="ag-body-horizontal-scroll" aria-hidden="true">\n            <div class="ag-horizontal-left-spacer" data-ref="eLeftSpacer"></div>\n            <div class="ag-body-horizontal-scroll-viewport" data-ref="eViewport">\n                <div class="ag-body-horizontal-scroll-container" data-ref="eContainer"></div>\n            </div>\n            <div class="ag-horizontal-right-spacer" data-ref="eRightSpacer"></div>\n        </div>`,"horizontal");this.eLeftSpacer=cr;this.eRightSpacer=cr}wireBeans(t){super.wireBeans(t);this.visibleColsService=t.visibleColsService;this.pinnedRowModel=t.pinnedRowModel;this.ctrlsService=t.ctrlsService;this.scrollVisibleService=t.scrollVisibleService}postConstruct(){super.postConstruct();const t=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:t,displayedColumnsWidthChanged:t,pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this)});this.addManagedPropertyListener("domLayout",t);this.ctrlsService.register("fakeHScrollComp",this);this.createManagedBean(new Ya((t=>this.eContainer.style.width=`${t}px`)));this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))}initialiseInvisibleScrollbar(){if(this.invisibleScrollbar!==void 0){return}this.enableRtl=this.gos.get("enableRtl");super.initialiseInvisibleScrollbar();if(this.invisibleScrollbar){this.refreshCompBottom()}}onPinnedRowDataChanged(){this.refreshCompBottom()}refreshCompBottom(){if(!this.invisibleScrollbar){return}const t=this.pinnedRowModel.getPinnedBottomTotalHeight();this.getGui().style.bottom=`${t}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged();this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){const t=this.scrollVisibleService.isVerticalScrollShowing();let e=this.visibleColsService.getDisplayedColumnsRightWidth();const i=!this.enableRtl&&t;const s=this.scrollVisibleService.getScrollbarWidth();if(i){e+=s}Ds(this.eRightSpacer,e);this.eRightSpacer.classList.toggle("ag-scroller-corner",e<=s);let r=this.visibleColsService.getColsLeftWidth();const o=this.enableRtl&&t;if(o){r+=s}Ds(this.eLeftSpacer,r);this.eLeftSpacer.classList.toggle("ag-scroller-corner",r<=s)}setScrollVisible(){const t=this.scrollVisibleService.isHorizontalScrollShowing();const e=this.invisibleScrollbar;const i=this.gos.get("suppressHorizontalScroll");const s=t?this.scrollVisibleService.getScrollbarWidth()||0:0;const r=s===0&&e?16:s;const o=!i?r:0;this.addOrRemoveCssClass("ag-scrollbar-invisible",e);Ms(this.getGui(),o);Ms(this.eViewport,o);Ms(this.eContainer,o);this.setDisplayed(t,{skipAriaHidden:true})}getScrollPosition(){return ds(this.getViewportElement(),this.enableRtl)}setScrollPosition(t){if(!vs(this.getViewportElement())){this.attemptSettingScrollPosition(t)}gs(this.getViewportElement(),t,this.enableRtl)}};var Il={selector:"AG-FAKE-HORIZONTAL-SCROLL",component:zl};var Tl=class extends fe{wireBeans(t){this.maxDivHeightScaler=t.rowContainerHeightService}constructor(t,e){super();this.eContainer=t;this.eViewport=e}postConstruct(){this.addManagedEventListeners({rowContainerHeightChanged:this.onHeightChanged.bind(this)})}onHeightChanged(){const t=this.maxDivHeightScaler.getUiContainerHeight();const e=t!=null?`${t}px`:``;this.eContainer.style.height=e;if(this.eViewport){this.eViewport.style.height=e}}};var Al=class extends Pl{wireBeans(t){super.wireBeans(t);this.ctrlsService=t.ctrlsService;this.scrollVisibleService=t.scrollVisibleService}constructor(){super(`<div class="ag-body-vertical-scroll" aria-hidden="true">\n            <div class="ag-body-vertical-scroll-viewport" data-ref="eViewport">\n                <div class="ag-body-vertical-scroll-container" data-ref="eContainer"></div>\n            </div>\n        </div>`,"vertical")}postConstruct(){super.postConstruct();this.createManagedBean(new Tl(this.eContainer));this.ctrlsService.register("fakeVScrollComp",this);this.addManagedEventListeners({rowContainerHeightChanged:this.onRowContainerHeightChanged.bind(this)})}setScrollVisible(){const t=this.scrollVisibleService.isVerticalScrollShowing();const e=this.invisibleScrollbar;const i=t?this.scrollVisibleService.getScrollbarWidth()||0:0;const s=i===0&&e?16:i;this.addOrRemoveCssClass("ag-scrollbar-invisible",e);Ds(this.getGui(),s);Ds(this.eViewport,s);Ds(this.eContainer,s);this.setDisplayed(t,{skipAriaHidden:true})}onRowContainerHeightChanged(){const{ctrlsService:t}=this;const e=t.getGridBodyCtrl();const i=e.getBodyViewportElement();const s=this.getScrollPosition();const r=i.scrollTop;if(s!=r){this.setScrollPosition(r,true)}}getScrollPosition(){return this.getViewportElement().scrollTop}setScrollPosition(t,e){if(!e&&!vs(this.getViewportElement())){this.attemptSettingScrollPosition(t)}this.getViewportElement().scrollTop=t}};var El={selector:"AG-FAKE-VERTICAL-SCROLL",component:Al};var Nl=(t=>{t["FakeHScrollbar"]="fakeHScrollComp";t["Header"]="centerHeader";t["PinnedTop"]="topCenter";t["PinnedBottom"]="bottomCenter";t["StickyTop"]="stickyTopCenter";t["StickyBottom"]="stickyBottomCenter";return t})(Nl||{});var Ol=class extends fe{constructor(t){super();this.lastScrollSource=[null,null];this.scrollLeft=-1;this.nextScrollTop=-1;this.scrollTop=-1;this.lastOffsetHeight=-1;this.lastScrollTop=-1;this.eBodyViewport=t;this.resetLastHScrollDebounced=L((()=>this.lastScrollSource[1]=null),500);this.resetLastVScrollDebounced=L((()=>this.lastScrollSource[0]=null),500)}wireBeans(t){this.ctrlsService=t.ctrlsService;this.animationFrameService=t.animationFrameService;this.paginationService=t.paginationService;this.pageBoundsService=t.pageBoundsService;this.rowModel=t.rowModel;this.heightScaler=t.rowContainerHeightService;this.rowRenderer=t.rowRenderer;this.columnModel=t.columnModel;this.visibleColsService=t.visibleColsService}postConstruct(){this.enableRtl=this.gos.get("enableRtl");this.addManagedEventListeners({displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this)});this.ctrlsService.whenReady(this,(t=>{this.centerRowsCtrl=t.center;this.onDisplayedColumnsWidthChanged();this.addScrollListener()}))}addScrollListener(){this.addHorizontalScrollListeners();this.addVerticalScrollListeners()}addHorizontalScrollListeners(){this.addManagedElementListeners(this.centerRowsCtrl.getViewportElement(),{scroll:this.onHScroll.bind(this,"Viewport")});for(const t of Object.values(Nl)){const e=this.ctrlsService.get(t);this.registerScrollPartner(e,this.onHScroll.bind(this,t))}}addVerticalScrollListeners(){const t=this.ctrlsService.get("fakeVScrollComp");const e=this.gos.get("debounceVerticalScrollbar");const i=e?L(this.onVScroll.bind(this,"Viewport"),100):this.onVScroll.bind(this,"Viewport");const s=e?L(this.onVScroll.bind(this,"fakeVScrollComp"),100):this.onVScroll.bind(this,"fakeVScrollComp");this.addManagedElementListeners(this.eBodyViewport,{scroll:i});this.registerScrollPartner(t,s)}registerScrollPartner(t,e){t.onScrollCallback(e)}onDisplayedColumnsWidthChanged(){if(this.enableRtl){this.horizontallyScrollHeaderCenterAndFloatingCenter()}}horizontallyScrollHeaderCenterAndFloatingCenter(t){const e=this.centerRowsCtrl==null;if(e){return}if(t===void 0){t=this.centerRowsCtrl.getCenterViewportScrollLeft()}this.setScrollLeftForAllContainersExceptCurrent(Math.abs(t))}setScrollLeftForAllContainersExceptCurrent(t){for(const e of[...Object.values(Nl),"Viewport"]){if(this.lastScrollSource[1]===e){continue}const i=this.getViewportForSource(e);gs(i,t,this.enableRtl)}}getViewportForSource(t){if(t==="Viewport"){return this.centerRowsCtrl.getViewportElement()}return this.ctrlsService.get(t).getViewportElement()}isControllingScroll(t,e){if(this.lastScrollSource[e]==null){if(e===0){this.lastScrollSource[0]=t}else{this.lastScrollSource[1]=t}return true}return this.lastScrollSource[e]===t}onHScroll(t){if(!this.isControllingScroll(t,1)){return}const e=this.centerRowsCtrl.getViewportElement();const{scrollLeft:i}=e;if(this.shouldBlockScrollUpdate(1,i,true)){return}const s=ds(this.getViewportForSource(t),this.enableRtl);this.doHorizontalScroll(s);this.resetLastHScrollDebounced()}onVScroll(t){if(!this.isControllingScroll(t,0)){return}let e;if(t==="Viewport"){e=this.eBodyViewport.scrollTop}else{e=this.ctrlsService.get("fakeVScrollComp").getScrollPosition()}if(this.shouldBlockScrollUpdate(0,e,true)){return}this.animationFrameService.setScrollTop(e);this.nextScrollTop=e;if(t==="Viewport"){this.ctrlsService.get("fakeVScrollComp").setScrollPosition(e)}else{this.eBodyViewport.scrollTop=e}if(this.gos.get("suppressAnimationFrame")){this.scrollGridIfNeeded()}else{this.animationFrameService.schedule()}this.resetLastVScrollDebounced()}doHorizontalScroll(t){const e=this.ctrlsService.get("fakeHScrollComp").getScrollPosition();if(this.scrollLeft===t&&t===e){return}this.scrollLeft=t;this.fireScrollEvent(1);this.horizontallyScrollHeaderCenterAndFloatingCenter(t);this.centerRowsCtrl.onHorizontalViewportChanged(true)}fireScrollEvent(t){const e={type:"bodyScroll",direction:t===1?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(e);window.clearTimeout(this.scrollTimer);this.scrollTimer=void 0;this.scrollTimer=window.setTimeout((()=>{this.eventService.dispatchEvent({...e,type:"bodyScrollEnd"})}),100)}shouldBlockScrollUpdate(t,e,i=false){if(i&&!Ys()){return false}if(t===0){return this.shouldBlockVerticalScroll(e)}return this.shouldBlockHorizontalScroll(e)}shouldBlockVerticalScroll(t){const e=as(this.eBodyViewport);const{scrollHeight:i}=this.eBodyViewport;if(t<0||t+e>i){return true}return false}shouldBlockHorizontalScroll(t){const e=this.centerRowsCtrl.getCenterWidth();const{scrollWidth:i}=this.centerRowsCtrl.getViewportElement();if(this.enableRtl){if(t>0){return true}}else if(t<0){return true}if(Math.abs(t)+e>i){return true}return false}redrawRowsAfterScroll(){this.fireScrollEvent(0)}checkScrollLeft(){if(this.scrollLeft!==this.centerRowsCtrl.getCenterViewportScrollLeft()){this.onHScroll("Viewport")}}scrollGridIfNeeded(){const t=this.scrollTop!=this.nextScrollTop;if(t){this.scrollTop=this.nextScrollTop;this.redrawRowsAfterScroll()}return t}setHorizontalScrollPosition(t,e=false){const i=0;const s=this.centerRowsCtrl.getViewportElement().scrollWidth-this.centerRowsCtrl.getCenterWidth();if(!e&&this.shouldBlockScrollUpdate(1,t)){if(this.enableRtl){t=t>0?0:s}else{t=Math.min(Math.max(t,i),s)}}gs(this.centerRowsCtrl.getViewportElement(),Math.abs(t),this.enableRtl);this.doHorizontalScroll(t)}setVerticalScrollPosition(t){this.eBodyViewport.scrollTop=t}getVScrollPosition(){this.lastScrollTop=this.eBodyViewport.scrollTop;this.lastOffsetHeight=this.eBodyViewport.offsetHeight;const t={top:this.lastScrollTop,bottom:this.lastScrollTop+this.lastOffsetHeight};return t}getApproximateVScollPosition(){if(this.lastScrollTop>=0&&this.lastOffsetHeight>=0){return{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}}return this.getVScrollPosition()}getHScrollPosition(){return this.centerRowsCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.centerRowsCtrl.isHorizontalScrollShowing()}scrollHorizontally(t){const e=this.centerRowsCtrl.getViewportElement().scrollLeft;this.setHorizontalScrollPosition(e+t);return this.centerRowsCtrl.getViewportElement().scrollLeft-e}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(t,e=null){const i=this.rowModel.getRowCount();let s=-1;for(let e=0;e<i;e++){const i=this.rowModel.getRow(e);if(typeof t==="function"){const r=t;if(i&&r(i)){s=e;break}}else{if(t===i||t===i.data){s=e;break}}}if(s>=0){this.ensureIndexVisible(s,e)}}ensureIndexVisible(t,e){if(et(this.gos,"print")){return}const i=this.rowModel.getRowCount();if(typeof t!=="number"||t<0||t>=i){P("Invalid row index for ensureIndexVisible: "+t);return}const s=this.gos.get("pagination");const r=s&&!this.gos.get("suppressPaginationPanel");this.getFrameworkOverrides().wrapIncoming((()=>{if(!r){this.paginationService?.goToPageWithIndex(t)}const i=this.ctrlsService.getGridBodyCtrl();const s=i.getStickyTopHeight();const o=i.getStickyBottomHeight();const n=this.rowModel.getRow(t);let a;do{const t=n.rowTop;const i=n.rowHeight;const r=this.pageBoundsService.getPixelOffset();const l=n.rowTop-r;const h=l+n.rowHeight;const c=this.getVScrollPosition();const u=this.heightScaler.getDivStretchOffset();const d=c.top+u;const g=c.bottom+u;const f=g-d;const p=this.heightScaler.getScrollPositionForPixel(l);const m=this.heightScaler.getScrollPositionForPixel(h-f);const v=Math.min((p+m)/2,l);const w=d+s>l;const b=g-o<h;let y=null;if(e==="top"){y=p}else if(e==="bottom"){y=m}else if(e==="middle"){y=v}else if(w){y=p-s}else if(b){y=m+o}if(y!==null){this.setVerticalScrollPosition(y);this.rowRenderer.redraw({afterScroll:true})}a=t!==n.rowTop||i!==n.rowHeight}while(a);this.animationFrameService.flushAllFrames()}))}ensureColumnVisible(t,e="auto"){const i=this.columnModel.getCol(t);if(!i){return}if(i.isPinned()){return}if(!this.visibleColsService.isColDisplayed(i)){return}const s=this.getPositionedHorizontalScroll(i,e);this.getFrameworkOverrides().wrapIncoming((()=>{if(s!==null){this.centerRowsCtrl.setCenterViewportScrollLeft(s)}this.centerRowsCtrl.onHorizontalViewportChanged();this.animationFrameService.flushAllFrames()}))}setScrollPosition(t,e){this.getFrameworkOverrides().wrapIncoming((()=>{this.centerRowsCtrl.setCenterViewportScrollLeft(e);this.setVerticalScrollPosition(t);this.rowRenderer.redraw({afterScroll:true});this.animationFrameService.flushAllFrames()}))}getPositionedHorizontalScroll(t,e){const{columnBeforeStart:i,columnAfterEnd:s}=this.isColumnOutsideViewport(t);const r=this.centerRowsCtrl.getCenterWidth()<t.getActualWidth();const o=this.centerRowsCtrl.getCenterWidth();const n=this.enableRtl;let a=(n?i:s)||r;let l=n?s:i;if(e!=="auto"){a=e==="start";l=e==="end"}const h=e==="middle";if(a||l||h){const{colLeft:e,colMiddle:i,colRight:s}=this.getColumnBounds(t);if(h){return i-o/2}if(a){return n?s:e}return n?e-o:s-o}return null}isColumnOutsideViewport(t){const{start:e,end:i}=this.getViewportBounds();const{colLeft:s,colRight:r}=this.getColumnBounds(t);const o=this.enableRtl;const n=o?e>r:i<r;const a=o?i<s:e>s;return{columnBeforeStart:n,columnAfterEnd:a}}getColumnBounds(t){const e=this.enableRtl;const i=this.visibleColsService.getBodyContainerWidth();const s=t.getActualWidth();const r=t.getLeft();const o=e?-1:1;const n=e?i-r:r;const a=n+s*o;const l=n+s/2*o;return{colLeft:n,colMiddle:l,colRight:a}}getViewportBounds(){const t=this.centerRowsCtrl.getCenterWidth();const e=this.centerRowsCtrl.getCenterViewportScrollLeft();const i=e;const s=t+e;return{start:i,end:s,width:t}}};var Ll=class extends fe{wireBeans(t){this.animationFrameService=t.animationFrameService;this.ctrlsService=t.ctrlsService;this.pinnedWidthService=t.pinnedWidthService;this.columnModel=t.columnModel;this.visibleColsService=t.visibleColsService;this.columnSizeService=t.columnSizeService;this.scrollVisibleService=t.scrollVisibleService;this.columnViewportService=t.columnViewportService}constructor(t){super();this.centerContainerCtrl=t}postConstruct(){this.ctrlsService.whenReady(this,(t=>{this.gridBodyCtrl=t.gridBodyCtrl;this.listenForResize()}));this.addManagedEventListeners({scrollbarWidthChanged:this.onScrollbarWidthChanged.bind(this)});this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],(()=>{this.checkViewportAndScrolls()}))}listenForResize(){const t=()=>{this.animationFrameService.requestAnimationFrame((()=>{this.onCenterViewportResized()}))};this.centerContainerCtrl.registerViewportResizeListener(t);this.gridBodyCtrl.registerBodyViewportResizeListener(t)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){this.scrollVisibleService.onCentreViewportResized();if(this.centerContainerCtrl.isViewportInTheDOMTree()){this.keepPinnedColumnsNarrowerThanViewport();this.checkViewportAndScrolls();const t=this.centerContainerCtrl.getCenterWidth();if(t!==this.centerWidth){this.centerWidth=t;this.columnSizeService.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:true,fireResizedEvent:true})}}else{this.bodyHeight=0}}keepPinnedColumnsNarrowerThanViewport(){const t=this.gridBodyCtrl.getBodyViewportElement();const e=ls(t);if(e<=50){return}let i=this.getPinnedColumnsOverflowingViewport(e-50);const s=this.gos.getCallback("processUnpinnedColumns");if(!i.length){return}if(s){const t={columns:i,viewportWidth:e};i=s(t)}this.columnModel.setColsPinned(i,null,"viewportSizeFeature")}getPinnedColumnsOverflowingViewport(t){const e=this.pinnedWidthService.getPinnedRightWidth();const i=this.pinnedWidthService.getPinnedLeftWidth();const s=e+i;if(s<t){return[]}const r=[...this.visibleColsService.getLeftCols()];const o=[...this.visibleColsService.getRightCols()];let n=0;let a=0;const l=0;const h=[];let c=s-l-t;while((a<r.length||n<o.length)&&c>0){if(n<o.length){const t=o[n++];c-=t.getActualWidth();h.push(t)}if(a<r.length&&c>0){const t=r[a++];c-=t.getActualWidth();h.push(t)}}return h}checkViewportAndScrolls(){this.updateScrollVisibleService();this.checkBodyHeight();this.onHorizontalViewportChanged();this.gridBodyCtrl.getScrollFeature().checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){const t=this.gridBodyCtrl.getBodyViewportElement();const e=as(t);if(this.bodyHeight!==e){this.bodyHeight=e;this.eventService.dispatchEvent({type:"bodyHeightChanged"})}}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl();setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){const t={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(t)}isHorizontalScrollShowing(){return this.centerContainerCtrl.isHorizontalScrollShowing()}onHorizontalViewportChanged(){const t=this.centerContainerCtrl.getCenterWidth();const e=this.centerContainerCtrl.getViewportScrollLeft();this.columnViewportService.setScrollPosition(t,e)}};var Gl=class extends fe{wireBeans(t){this.dragService=t.dragService;this.rangeService=t.rangeService}constructor(t){super();this.eContainer=t}postConstruct(){if(!this.rangeService){return}this.params={eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)};this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],(()=>{const t=Tt(this.gos);if(t){this.enableFeature()}else{this.disableFeature()}}));this.addDestroyFunc((()=>this.disableFeature()));const t=Tt(this.gos);if(t){this.enableFeature()}}enableFeature(){this.dragService.addDragSource(this.params)}disableFeature(){this.dragService.removeDragSource(this.params)}};var Hl=class extends ur{constructor(){super(`\n            <div class="ag-selection-checkbox" role="presentation">\n                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>\n            </div>`,[Nr]);this.eCheckbox=cr}postConstruct(){this.eCheckbox.setPassive(true)}getCheckboxId(){return this.eCheckbox.getInputElement().id}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){const t=this.localeService.getLocaleTextFunc();const e=this.rowNode.isSelected();const i=Ji(t,e);const[s,r]=this.rowNode.selectable?["ariaRowToggleSelection","Press Space to toggle row selection"]:["ariaRowSelectionDisabled","Row Selection is disabled for this row"];const o=t(s,r);this.eCheckbox.setValue(e,true);this.eCheckbox.setInputAriaLabel(`${o} (${i})`)}onClicked(t,e,i){return this.rowNode.setSelectedParams({newValue:t,rangeSelect:i.shiftKey,groupSelectsFiltered:e,event:i,source:"checkboxSelected"})}init(t){this.rowNode=t.rowNode;this.column=t.column;this.overrides=t.overrides;this.onSelectionChanged();this.addManagedListeners(this.eCheckbox.getInputElement(),{dblclick:t=>ne(t),click:t=>{ne(t);const e=jt(this.gos)==="filteredDescendants";const i=this.eCheckbox.getValue();if(this.shouldHandleIndeterminateState(i,e)){const i=this.onClicked(true,e,t||{});if(i===0){this.onClicked(false,e,t)}}else if(i){this.onClicked(false,e,t)}else{this.onClicked(true,e,t||{})}}});this.addManagedListeners(this.rowNode,{rowSelected:this.onSelectionChanged.bind(this),dataChanged:this.onDataChanged.bind(this),selectableChanged:this.onSelectableChanged.bind(this)});const e=Gt(this.gos);const i=e||typeof this.getIsVisible()==="function";if(i){const t=this.showOrHideSelect.bind(this);this.addManagedEventListeners({displayedColumnsChanged:t});this.addManagedListeners(this.rowNode,{dataChanged:t,cellChanged:t});this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}shouldHandleIndeterminateState(t,e){return e&&(this.eCheckbox.getPreviousValue()===void 0||t===void 0)&&X(this.gos)}showOrHideSelect(){let t=this.rowNode.selectable;const e=this.getIsVisible();if(t){if(typeof e==="function"){const i=this.overrides?.callbackParams;if(!this.column){t=e({...i,node:this.rowNode,data:this.rowNode.data})}else{const s=this.column.createColumnFunctionCallbackParams(this.rowNode);t=e({...i,...s})}}else{t=e??false}}const i=this.gos.get("rowSelection");const s=i&&typeof i!=="string"?!Ft(i):this.column?.getColDef().showDisabledCheckboxes;if(s){this.eCheckbox.setDisabled(!t);this.setVisible(true);this.setDisplayed(true);return}if(this.overrides?.removeHidden){this.setDisplayed(t);return}this.setVisible(t)}getIsVisible(){if(this.overrides){return this.overrides.isVisible}const t=this.gos.get("rowSelection");if(t&&typeof t!=="string"){return Mt(t)}return this.column?.getColDef()?.checkboxSelection}};var Bl=class extends ur{constructor(t,e,i){super(`<div class="ag-drag-handle ag-row-drag" draggable="true"></div>`);this.rowNode=t;this.column=e;this.eCell=i}postConstruct(){const t=this.getGui();t.appendChild(pr("rowDrag",this.gos,null));this.addGuiEventListener("mousedown",(t=>{t.stopPropagation()}));this.addDragSource();this.checkVisibility()}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}onDragStart(t){const e=this.column.getColDef().dndSourceOnRowDrag;t.dataTransfer.setDragImage(this.eCell,0,0);const i=()=>{try{const e=JSON.stringify(this.rowNode.data);t.dataTransfer.setData("application/json",e);t.dataTransfer.setData("text/plain",e)}catch(t){}};if(e){const i=this.gos.addGridCommonParams({rowNode:this.rowNode,dragEvent:t});e(i)}else{i()}}checkVisibility(){const t=this.column.isDndSource(this.rowNode);this.setDisplayed(t)}};var Vl=class extends fe{constructor(t,e){super();this.staticClasses=[];this.cellCtrl=t;this.beans=e;this.column=t.getColumn();this.rowNode=t.getRowNode()}setComp(t){this.cellComp=t;this.applyUserStyles();this.applyCellClassRules();this.applyClassesFromColDef()}applyCellClassRules(){const t=this.column.getColDef();const{cellClassRules:e}=t;const i=this.beans.gos.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:t,column:this.column,rowIndex:this.rowNode.rowIndex});this.beans.stylingService.processClassRules(e===this.cellClassRules?void 0:this.cellClassRules,e,i,(t=>this.cellComp.addOrRemoveCssClass(t,true)),(t=>this.cellComp.addOrRemoveCssClass(t,false)));this.cellClassRules=e}applyUserStyles(){const t=this.column.getColDef();if(!t.cellStyle){return}let e;if(typeof t.cellStyle==="function"){const i=this.beans.gos.addGridCommonParams({column:this.column,value:this.cellCtrl.getValue(),colDef:t,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex});const s=t.cellStyle;e=s(i)}else{e=t.cellStyle}if(e){this.cellComp.setUserStyles(e)}}applyClassesFromColDef(){const t=this.column.getColDef();const e=this.beans.gos.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,column:this.column,colDef:t,rowIndex:this.rowNode.rowIndex});if(this.staticClasses.length){this.staticClasses.forEach((t=>this.cellComp.addOrRemoveCssClass(t,false)))}this.staticClasses=this.beans.stylingService.getStaticCellClasses(t,e);if(this.staticClasses.length){this.staticClasses.forEach((t=>this.cellComp.addOrRemoveCssClass(t,true)))}}destroy(){super.destroy()}};var jl=class extends fe{constructor(t,e,i,s,r){super();this.cellCtrl=t;this.beans=e;this.rowNode=s;this.rowCtrl=r}setComp(t){this.eGui=t}onKeyDown(t){const e=t.key;switch(e){case zr.ENTER:this.onEnterKeyDown(t);break;case zr.F2:this.onF2KeyDown(t);break;case zr.ESCAPE:this.onEscapeKeyDown(t);break;case zr.TAB:this.onTabKeyDown(t);break;case zr.BACKSPACE:case zr.DELETE:this.onBackspaceOrDeleteKeyDown(e,t);break;case zr.DOWN:case zr.UP:case zr.RIGHT:case zr.LEFT:this.onNavigationKeyDown(t,e);break}}onNavigationKeyDown(t,e){if(this.cellCtrl.isEditing()){return}if(t.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()){this.onShiftRangeSelect(t)}else{this.beans.navigationService.navigateToNextCell(t,e,this.cellCtrl.getCellPosition(),true)}t.preventDefault()}onShiftRangeSelect(t){if(!this.beans.rangeService){return}const e=this.beans.rangeService.extendLatestRangeInDirection(t);if(e){this.beans.navigationService.ensureCellVisible(e)}}onTabKeyDown(t){this.beans.navigationService.onTabKeyDown(this.cellCtrl,t)}onBackspaceOrDeleteKeyDown(t,e){const{cellCtrl:i,beans:s,rowNode:r}=this;const{gos:o,rangeService:n,eventService:a}=s;if(i.isEditing()){return}a.dispatchEvent({type:"keyShortcutChangedCellStart"});if(dn(t,o.get("enableCellEditingOnBackspace"))){if(n&&Tt(o)){n.clearCellRangeCellValues({dispatchWrapperEvents:true,wrapperEventSource:"deleteKey"})}else if(i.isCellEditable()){const t=i.getColumn();const e=this.beans.valueService.getDeleteValue(t,r);r.setDataValue(t,e,"cellClear")}}else{i.startRowOrCellEdit(t,e)}a.dispatchEvent({type:"keyShortcutChangedCellEnd"})}onEnterKeyDown(t){if(this.cellCtrl.isEditing()||this.rowCtrl.isEditing()){this.cellCtrl.stopEditingAndFocus(false,t.shiftKey)}else{if(this.beans.gos.get("enterNavigatesVertically")){const e=t.shiftKey?zr.UP:zr.DOWN;this.beans.navigationService.navigateToNextCell(null,e,this.cellCtrl.getCellPosition(),false)}else{this.cellCtrl.startRowOrCellEdit(zr.ENTER,t);if(this.cellCtrl.isEditing()){t.preventDefault()}}}}onF2KeyDown(t){if(!this.cellCtrl.isEditing()){this.cellCtrl.startRowOrCellEdit(zr.F2,t)}}onEscapeKeyDown(t){if(this.cellCtrl.isEditing()){this.cellCtrl.stopRowOrCellEdit(true);this.cellCtrl.focusCell(true)}}processCharacter(t){const e=t.target;const i=e!==this.eGui;if(i||this.cellCtrl.isEditing()){return}const s=t.key;if(s===" "){this.onSpaceKeyDown(t)}else{if(this.cellCtrl.startRowOrCellEdit(s,t)){t.preventDefault()}}}onSpaceKeyDown(t){const{gos:e}=this.beans;if(!this.cellCtrl.isEditing()&&it(e)){const i=this.rowNode.isSelected();const s=!i;const r=jt(e)==="filteredDescendants";const o=this.rowNode.setSelectedParams({newValue:s,rangeSelect:t.shiftKey,groupSelectsFiltered:r,event:t,source:"spaceKey"});if(i===void 0&&o===0){this.rowNode.setSelectedParams({newValue:false,rangeSelect:t.shiftKey,groupSelectsFiltered:r,event:t,source:"spaceKey"})}}t.preventDefault()}destroy(){super.destroy()}};var Wl=class extends fe{constructor(t,e,i){super();this.cellCtrl=t;this.beans=e;this.column=i}onMouseEvent(t,e){if(ae(e)){return}switch(t){case"click":this.onCellClicked(e);break;case"mousedown":case"touchstart":this.onMouseDown(e);break;case"dblclick":this.onCellDoubleClicked(e);break;case"mouseout":this.onMouseOut(e);break;case"mouseover":this.onMouseOver(e);break}}onCellClicked(t){if(this.isDoubleClickOnIPad()){this.onCellDoubleClicked(t);t.preventDefault();return}const{eventService:e,rangeService:i,gos:s}=this.beans;const r=t.ctrlKey||t.metaKey;if(i&&r){if(i.getCellRangeCount(this.cellCtrl.getCellPosition())>1){i.intersectLastRange(true)}}const o=this.cellCtrl.createEvent(t,"cellClicked");e.dispatchEvent(o);const n=this.column.getColDef();if(n.onCellClicked){window.setTimeout((()=>{this.beans.frameworkOverrides.wrapOutgoing((()=>{n.onCellClicked(o)}))}),0)}const a=(s.get("singleClickEdit")||n.singleClickEdit)&&!s.get("suppressClickEdit");if(a&&!(t.shiftKey&&i?.getCellRanges().length!=0)){this.cellCtrl.startRowOrCellEdit()}}isDoubleClickOnIPad(){if(!Ys()||le("dblclick")){return false}const t=(new Date).getTime();const e=t-this.lastIPadMouseClickEvent<200;this.lastIPadMouseClickEvent=t;return e}onCellDoubleClicked(t){const{column:e,beans:i,cellCtrl:s}=this;const{eventService:r,frameworkOverrides:o,gos:n}=i;const a=e.getColDef();const l=s.createEvent(t,"cellDoubleClicked");r.dispatchEvent(l);if(typeof a.onCellDoubleClicked==="function"){window.setTimeout((()=>{o.wrapOutgoing((()=>{a.onCellDoubleClicked(l)}))}),0)}const h=!n.get("singleClickEdit")&&!n.get("suppressClickEdit");if(h){s.startRowOrCellEdit(null,t)}}onMouseDown(t){const{ctrlKey:e,metaKey:i,shiftKey:s}=t;const r=t.target;const{cellCtrl:o,beans:n}=this;const{eventService:a,rangeService:l,focusService:h,gos:c}=n;if(this.isRightClickInExistingRange(t)){return}const u=l&&l.getCellRanges().length!=0;if(!s||!u){const e=c.get("enableCellTextSelection");const i=e&&t.defaultPrevented;const s=(Ws()||i)&&!o.isEditing()&&!es(r);o.focusCell(s)}if(s&&u&&!h.isCellFocused(o.getCellPosition())){t.preventDefault();const e=h.getFocusedCell();if(e){const{column:t,rowIndex:i,rowPinned:s}=e;const r=n.rowRenderer.getRowByPosition({rowIndex:i,rowPinned:s});const o=r?.getCellCtrl(t);if(o?.isEditing()){o.stopEditing()}h.setFocusedCell({column:t,rowIndex:i,rowPinned:s,forceBrowserFocus:true,preventScrollOnBrowserFocus:true})}}if(this.containsWidget(r)){return}if(l){const t=this.cellCtrl.getCellPosition();if(s){l.extendLatestRangeToCell(t)}else{const s=e||i;l.setRangeToCell(t,s)}}a.dispatchEvent(this.cellCtrl.createEvent(t,"cellMouseDown"))}isRightClickInExistingRange(t){const{rangeService:e}=this.beans;if(e){const i=e.isCellInAnyRange(this.cellCtrl.getCellPosition());const s=t.button===2||t.ctrlKey&&this.beans.gos.get("allowContextMenuWithControlKey");if(i&&s){return true}}return false}containsWidget(t){return os(t,"ag-selection-checkbox",3)}onMouseOut(t){if(this.mouseStayingInsideCell(t)){return}this.beans.eventService.dispatchEvent(this.cellCtrl.createEvent(t,"cellMouseOut"));this.beans.columnHoverService.clearMouseOver()}onMouseOver(t){if(this.mouseStayingInsideCell(t)){return}this.beans.eventService.dispatchEvent(this.cellCtrl.createEvent(t,"cellMouseOver"));this.beans.columnHoverService.setMouseOver([this.column])}mouseStayingInsideCell(t){if(!t.target||!t.relatedTarget){return false}const e=this.cellCtrl.getGui();const i=e.contains(t.target);const s=e.contains(t.relatedTarget);return i&&s}destroy(){super.destroy()}};var Ul=class extends fe{constructor(t,e){super();this.cellCtrl=t;this.beans=e;this.column=t.getColumn();this.rowNode=t.getRowNode()}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode);this.addManagedListeners(this.beans.eventService,{newColumnsLoaded:()=>this.onNewColumnsLoaded()})}setComp(t){this.eGui=t;this.setupColSpan();this.setupRowSpan();this.onLeftChanged();this.onWidthChanged();this.applyRowSpan()}onNewColumnsLoaded(){const t=this.column.getRowSpan(this.rowNode);if(this.rowSpan===t){return}this.rowSpan=t;this.applyRowSpan(true)}onDisplayColumnsChanged(){const t=this.getColSpanningList();if(!Qt(this.colsSpanning,t)){this.colsSpanning=t;this.onWidthChanged();this.onLeftChanged()}}setupColSpan(){if(this.column.getColDef().colSpan==null){return}this.colsSpanning=this.getColSpanningList();this.addManagedListeners(this.beans.eventService,{displayedColumnsChanged:this.onDisplayColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onWidthChanged.bind(this)})}onWidthChanged(){if(!this.eGui){return}const t=this.getCellWidth();this.eGui.style.width=`${t}px`}getCellWidth(){if(!this.colsSpanning){return this.column.getActualWidth()}return this.colsSpanning.reduce(((t,e)=>t+e.getActualWidth()),0)}getColSpanningList(){const t=this.column.getColSpan(this.rowNode);const e=[];if(t===1){e.push(this.column)}else{let i=this.column;const s=this.column.getPinned();for(let r=0;i&&r<t;r++){e.push(i);i=this.beans.visibleColsService.getColAfter(i);if(!i||W(i)){break}if(s!==i.getPinned()){break}}}return e}onLeftChanged(){if(!this.eGui){return}const t=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=t+"px"}getCellLeft(){let t;if(this.beans.gos.get("enableRtl")&&this.colsSpanning){t=$t(this.colsSpanning)}else{t=this.column}return t.getLeft()}modifyLeftForPrintLayout(t){if(!this.cellCtrl.isPrintLayout()||this.column.getPinned()==="left"){return t}const e=this.beans.visibleColsService.getColsLeftWidth();if(this.column.getPinned()==="right"){const i=this.beans.visibleColsService.getBodyContainerWidth();return e+i+(t||0)}return e+(t||0)}applyRowSpan(t){if(this.rowSpan===1&&!t){return}const e=lt(this.beans.gos);const i=e*this.rowSpan;this.eGui.style.height=`${i}px`;this.eGui.style.zIndex="1"}destroy(){super.destroy()}};var $l="ag-cell-range-selected";var Ql="ag-cell-range-chart";var Kl="ag-cell-range-single-cell";var Yl="ag-cell-range-chart-category";var ql="ag-cell-range-handle";var Zl="ag-cell-range-top";var _l="ag-cell-range-right";var Jl="ag-cell-range-bottom";var Xl="ag-cell-range-left";var th=class{constructor(t,e){this.beans=t;this.rangeService=t.rangeService;this.selectionHandleFactory=t.selectionHandleFactory;this.cellCtrl=e}setComp(t,e){this.cellComp=t;this.eGui=e;this.onCellSelectionChanged()}onCellSelectionChanged(){if(!this.cellComp){return}this.rangeCount=this.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition());this.hasChartRange=this.getHasChartRange();this.cellComp.addOrRemoveCssClass($l,this.rangeCount!==0);this.cellComp.addOrRemoveCssClass(`${$l}-1`,this.rangeCount===1);this.cellComp.addOrRemoveCssClass(`${$l}-2`,this.rangeCount===2);this.cellComp.addOrRemoveCssClass(`${$l}-3`,this.rangeCount===3);this.cellComp.addOrRemoveCssClass(`${$l}-4`,this.rangeCount>=4);this.cellComp.addOrRemoveCssClass(Ql,this.hasChartRange);Zi(this.eGui,this.rangeCount>0?true:void 0);this.cellComp.addOrRemoveCssClass(Kl,this.isSingleCell());this.updateRangeBorders();this.refreshHandle()}updateRangeBorders(){const t=this.getRangeBorders();const e=this.isSingleCell();const i=!e&&t.top;const s=!e&&t.right;const r=!e&&t.bottom;const o=!e&&t.left;this.cellComp.addOrRemoveCssClass(Zl,i);this.cellComp.addOrRemoveCssClass(_l,s);this.cellComp.addOrRemoveCssClass(Jl,r);this.cellComp.addOrRemoveCssClass(Xl,o)}isSingleCell(){const{rangeService:t}=this.beans;return this.rangeCount===1&&!!t&&!t.isMoreThanOneCell()}getHasChartRange(){const{rangeService:t}=this.beans;if(!this.rangeCount||!t){return false}const e=t.getCellRanges();return e.length>0&&e.every((t=>te([1,0],t.type)))}updateRangeBordersIfRangeCount(){if(this.rangeCount>0){this.updateRangeBorders();this.refreshHandle()}}getRangeBorders(){const t=this.beans.gos.get("enableRtl");let e=false;let i=false;let s=false;let r=false;const o=this.cellCtrl.getCellPosition().column;const n=this.beans.visibleColsService;let a;let l;if(t){a=n.getColAfter(o);l=n.getColBefore(o)}else{a=n.getColBefore(o);l=n.getColAfter(o)}const h=this.rangeService.getCellRanges().filter((t=>this.rangeService.isCellInSpecificRange(this.cellCtrl.getCellPosition(),t)));if(!a){r=true}if(!l){i=true}for(let t=0;t<h.length;t++){if(e&&i&&s&&r){break}const o=h[t];const n=this.rangeService.getRangeStartRow(o);const c=this.rangeService.getRangeEndRow(o);if(!e&&this.beans.rowPositionUtils.sameRow(n,this.cellCtrl.getCellPosition())){e=true}if(!s&&this.beans.rowPositionUtils.sameRow(c,this.cellCtrl.getCellPosition())){s=true}if(!r&&a&&o.columns.indexOf(a)<0){r=true}if(!i&&l&&o.columns.indexOf(l)<0){i=true}}return{top:e,right:i,bottom:s,left:r}}refreshHandle(){if(this.beans.context.isDestroyed()){return}const t=this.shouldHaveSelectionHandle();if(this.selectionHandle&&!t){this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)}if(t){this.addSelectionHandle()}this.cellComp.addOrRemoveCssClass(ql,!!this.selectionHandle)}shouldHaveSelectionHandle(){const t=this.beans.gos;const e=this.rangeService.getCellRanges();const i=e.length;if(this.rangeCount<1||i<1){return false}const s=$t(e);const r=this.cellCtrl.getCellPosition();const o=Et(t)&&!this.cellCtrl.isSuppressFillHandle();const n=At(t);let a=i===1&&!this.cellCtrl.isEditing()&&(o||n);if(this.hasChartRange){const t=e[0].type===1;const i=t&&this.rangeService.isCellInSpecificRange(r,e[0]);this.cellComp.addOrRemoveCssClass(Yl,i);a=s.type===0}return a&&s.endRow!=null&&this.rangeService.isContiguousRange(s)&&this.rangeService.isBottomRightCell(s,r)}addSelectionHandle(){const t=$t(this.rangeService.getCellRanges()).type;const e=Et(this.beans.gos)&&W(t);const i=e?0:1;if(this.selectionHandle&&this.selectionHandle.getType()!==i){this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)}if(!this.selectionHandle){this.selectionHandle=this.selectionHandleFactory.createSelectionHandle(i)}this.selectionHandle.refresh(this.cellCtrl)}destroy(){this.beans.context.destroyBean(this.selectionHandle)}};var eh="ag-cell";var ih="ag-cell-auto-height";var sh="ag-cell-normal-height";var rh="ag-cell-focus";var oh="ag-cell-first-right-pinned";var nh="ag-cell-last-left-pinned";var ah="ag-cell-not-inline-editing";var lh="ag-column-hover";var hh="ag-cell-wrap-text";var ch=0;var uh=class t extends fe{constructor(t,e,i,s){super();this.column=t;this.rowNode=e;this.beans=i;this.rowCtrl=s;this.cellRangeFeature=void 0;this.cellPositionFeature=void 0;this.cellCustomStyleFeature=void 0;this.tooltipFeature=void 0;this.cellMouseListenerFeature=void 0;this.cellKeyboardListenerFeature=void 0;this.suppressRefreshCell=false;this.onCellCompAttachedFuncs=[];this.onCellEditorAttachedFuncs=[];this.instanceId=t.getId()+"-"+ch++;this.colIdSanitised=ii(this.column.getId());this.createCellPosition();this.updateAndFormatValue(false)}shouldRestoreFocus(){return this.beans.focusService.shouldRestoreFocus(this.cellPosition)}onFocusOut(){this.beans.focusService.clearRestoreFocus()}addFeatures(){this.cellPositionFeature=new Ul(this,this.beans);this.cellCustomStyleFeature=new Vl(this,this.beans);this.cellMouseListenerFeature=new Wl(this,this.beans,this.column);this.cellKeyboardListenerFeature=new jl(this,this.beans,this.column,this.rowNode,this.rowCtrl);if(this.column.isTooltipEnabled()){this.enableTooltipFeature()}const t=this.beans.rangeService&&Tt(this.beans.gos);if(t){this.cellRangeFeature=new th(this.beans,this)}}removeFeatures(){const t=this.beans.context;this.cellPositionFeature=t.destroyBean(this.cellPositionFeature);this.cellCustomStyleFeature=t.destroyBean(this.cellCustomStyleFeature);this.cellMouseListenerFeature=t.destroyBean(this.cellMouseListenerFeature);this.cellKeyboardListenerFeature=t.destroyBean(this.cellKeyboardListenerFeature);this.cellRangeFeature=t.destroyBean(this.cellRangeFeature);this.disableTooltipFeature()}enableTooltipFeature(t,e){const i=()=>{const t=this.column.getColDef();const e=this.rowNode.data;if(t.tooltipField&&j(e)){return Ae(e,t.tooltipField,this.column.isTooltipFieldContainsDots())}const i=t.tooltipValueGetter;if(i){return i(this.beans.gos.addGridCommonParams({location:"cell",colDef:this.column.getColDef(),column:this.column,rowIndex:this.cellPosition.rowIndex,node:this.rowNode,data:this.rowNode.data,value:this.value,valueFormatted:this.valueFormatted}))}return null};const s=this.beans.gos.get("tooltipShowMode")==="whenTruncated";if(!e&&s&&!this.isCellRenderer()){e=()=>{const t=this.getGui();const e=t.children.length===0?t:t.querySelector(".ag-cell-value");if(!e){return true}return e.scrollWidth>e.clientWidth}}const r={getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getRowIndex:()=>this.cellPosition.rowIndex,getRowNode:()=>this.rowNode,getGui:()=>this.getGui(),getLocation:()=>"cell",getTooltipValue:t!=null?()=>t:i,getValueFormatted:()=>this.valueFormatted,shouldDisplayTooltip:e};this.tooltipFeature=new lr(r,this.beans)}disableTooltipFeature(){this.tooltipFeature=this.beans.context.destroyBean(this.tooltipFeature)}setComp(t,e,i,s,r,o){this.cellComp=t;this.eGui=e;this.printLayout=s;o??(o=this);this.addDomData(o);this.addFeatures();o.addDestroyFunc((()=>this.removeFeatures()));this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus"));this.onCellFocused(this.focusEventToRestore);this.applyStaticCssClasses();this.setWrapText();this.onFirstRightPinnedChanged();this.onLastLeftPinnedChanged();this.onColumnHover();this.setupControlComps();this.setupAutoHeight(i,o);this.refreshFirstAndLastStyles();this.refreshAriaColIndex();this.cellPositionFeature?.setComp(e);this.cellCustomStyleFeature?.setComp(t);this.tooltipFeature?.refreshToolTip();this.cellKeyboardListenerFeature?.setComp(this.eGui);if(this.cellRangeFeature){this.cellRangeFeature.setComp(t,e)}if(r&&this.isCellEditable()){this.startEditing()}else{this.showValue()}if(this.onCellCompAttachedFuncs.length){this.onCellCompAttachedFuncs.forEach((t=>t()));this.onCellCompAttachedFuncs=[]}}setupAutoHeight(t,e){this.isAutoHeight=this.column.isAutoHeight();if(!this.isAutoHeight||!t){return}const i=t.parentElement;const s=nt(this.beans.gos,this.rowNode).height;const r=o=>{if(this.editing){return}if(!this.isAlive()||!e.isAlive()){return}const{paddingTop:n,paddingBottom:a,borderBottomWidth:l,borderTopWidth:h}=ns(i);const c=n+a+l+h;const u=t.offsetHeight;const d=u+c;if(o<5){const e=dt(this.beans.gos);const i=!e||!e.contains(t);const s=d==0;if(i||s){window.setTimeout((()=>r(o+1)),0);return}}const g=Math.max(d,s);this.rowNode.setRowAutoHeight(g,this.column)};const o=()=>r(0);o();const n=this.beans.resizeObserverService.observeResize(t,o);e.addDestroyFunc((()=>{n();this.rowNode.setRowAutoHeight(void 0,this.column)}))}getCellAriaRole(){return this.column.getColDef().cellAriaRole??"gridcell"}isCellRenderer(){const t=this.column.getColDef();return t.cellRenderer!=null||t.cellRendererSelector!=null}getValueToDisplay(){return this.valueFormatted??this.value}showValue(t=false){const{beans:e,column:i,rowNode:s,cellRangeFeature:r,cellComp:o}=this;const{userComponentFactory:n,animationFrameService:a}=e;const l=this.getValueToDisplay();let h;const c=s.stub&&s.groupData?.[this.column.getId()]==null;if(c){const t=this.createCellRendererParams();h=n.getLoadingCellRendererDetails(i.getColDef(),t)}else if(this.isCellRenderer()){const t=this.createCellRendererParams();h=n.getCellRendererDetails(i.getColDef(),t)}o.setRenderDetails(h,l,t);a.requestAnimationFrame((()=>r?.refreshHandle()))}setupControlComps(){const t=this.column.getColDef();this.includeSelection=this.isIncludeControl(this.isCheckboxSelection(t));this.includeRowDrag=this.isIncludeControl(t.rowDrag);this.includeDndSource=this.isIncludeControl(t.dndSource);this.cellComp.setIncludeSelection(this.includeSelection);this.cellComp.setIncludeDndSource(this.includeDndSource);this.cellComp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){const t=this.beans.gos.get("enableCellTextSelection")||this.column.isAutoHeight();return t}isIncludeControl(t){const e=this.rowNode.rowPinned!=null;const i=typeof t==="function";const s=e?false:i||t===true;return s}isCheckboxSelection(t){const{rowSelection:e}=this.beans.gridOptions;return t.checkboxSelection||Se(this.column)&&e&&typeof e!=="string"&&Mt(e)}refreshShouldDestroy(){const t=this.column.getColDef();const e=this.includeSelection!=this.isIncludeControl(this.isCheckboxSelection(t));const i=this.includeRowDrag!=this.isIncludeControl(t.rowDrag);const s=this.includeDndSource!=this.isIncludeControl(t.dndSource);const r=this.isAutoHeight!=this.column.isAutoHeight();return e||i||s||r}startEditing(t=null,e=false,i=null){const{editService:s}=this.beans;if(!this.isCellEditable()||this.editing||!s){return true}if(!this.cellComp){this.onCellCompAttachedFuncs.push((()=>{this.startEditing(t,e,i)}));return true}return s.startEditing(this,t,e,i)}setEditing(t,e){this.editCompDetails=e;if(this.editing===t){return}this.editing=t}stopRowOrCellEdit(t=false){if(this.beans.gos.get("editType")==="fullRow"){this.rowCtrl.stopEditing(t)}else{this.stopEditing(t)}}onPopupEditorClosed(){if(!this.editing){return}this.stopEditingAndFocus()}stopEditing(t=false){this.onCellEditorAttachedFuncs=[];const{editService:e}=this.beans;if(!this.editing||!e){return false}return e.stopEditing(this,t)}createCellRendererParams(){const t=this.beans.gos.addGridCommonParams({value:this.value,valueFormatted:this.valueFormatted,getValue:()=>this.beans.valueService.getValueForDisplay(this.column,this.rowNode),setValue:t=>this.beans.valueService.setValue(this.rowNode,this.column,t),formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,pinned:this.column.getPinned(),colDef:this.column.getColDef(),column:this.column,refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:(t,e,i,s)=>this.registerRowDragger(t,e,s),setTooltip:(t,e)=>{if(this.tooltipFeature){this.disableTooltipFeature()}this.enableTooltipFeature(t,e);this.tooltipFeature?.refreshToolTip()}});return t}setFocusOutOnEditor(){if(!this.editing){return}this.beans.editService?.setFocusOutOnEditor(this)}setFocusInOnEditor(){if(!this.editing){return}this.beans.editService?.setFocusInOnEditor(this)}onCellChanged(t){const e=t.column===this.column;if(e){this.refreshCell({})}}refreshOrDestroyCell(t){if(this.refreshShouldDestroy()){this.rowCtrl?.recreateCell(this)}else{this.refreshCell(t)}}refreshCell(t){if(this.suppressRefreshCell||this.editing){return}const e=this.column.getColDef();const i=t!=null&&!!t.newData;const s=t!=null&&!!t.suppressFlash||!!e.suppressCellFlash;const r=e.field==null&&e.valueGetter==null&&e.showRowGroup==null;const o=t&&t.forceRefresh||r||i;const n=!!this.cellComp;const a=this.updateAndFormatValue(n);const l=o||a;if(!n){return}if(l){this.showValue(i);const t=this.beans.filterManager?.isSuppressFlashingCellsBecauseFiltering();const r=!s&&!t&&(this.beans.gos.get("enableCellChangeFlash")||e.enableCellChangeFlash);if(r){this.flashCell()}this.cellCustomStyleFeature?.applyUserStyles();this.cellCustomStyleFeature?.applyClassesFromColDef()}this.tooltipFeature?.refreshToolTip();this.cellCustomStyleFeature?.applyCellClassRules()}stopEditingAndFocus(t=false,e=false){this.beans.editService?.stopEditingAndFocus(this,t,e)}flashCell(t){const e=t?.flashDuration??t?.flashDelay;const i=t?.fadeDuration??t?.fadeDelay;this.animateCell("data-changed",e,i)}animateCell(t,e,i){if(!this.cellComp){return}const{gos:s}=this.beans;if(!e){e=s.get("cellFlashDuration")}if(e===0){return}if(!j(i)){i=s.get("cellFadeDuration")}const r=`ag-cell-${t}`;const o=`ag-cell-${t}-animation`;this.cellComp.addOrRemoveCssClass(r,true);this.cellComp.addOrRemoveCssClass(o,false);this.beans.frameworkOverrides.wrapIncoming((()=>{window.setTimeout((()=>{if(!this.isAlive()){return}this.cellComp.addOrRemoveCssClass(r,false);this.cellComp.addOrRemoveCssClass(o,true);this.eGui.style.transition=`background-color ${i}ms`;window.setTimeout((()=>{if(!this.isAlive()){return}this.cellComp.addOrRemoveCssClass(o,false);this.eGui.style.transition=""}),i)}),e)}))}onFlashCells(t){if(!this.cellComp){return}const e=this.beans.cellPositionUtils.createId(this.getCellPosition());const i=t.cells[e];if(i){this.animateCell("highlight")}}isCellEditable(){return this.column.isCellEditable(this.rowNode)}isSuppressFillHandle(){return this.column.isSuppressFillHandle()}formatValue(t){return this.callValueFormatter(t)??t}callValueFormatter(t){return this.beans.valueService.formatValue(this.column,this.rowNode,t)}updateAndFormatValue(t){const e=this.value;const i=this.valueFormatted;this.value=this.beans.valueService.getValueForDisplay(this.column,this.rowNode);this.valueFormatted=this.callValueFormatter(this.value);if(t){return!this.valuesAreEqual(e,this.value)||this.valueFormatted!=i}return true}valuesAreEqual(t,e){const i=this.column.getColDef();return i.equals?i.equals(t,e):t===e}getComp(){return this.cellComp}getValue(){return this.value}addDomData(e){const i=this.getGui();ut(this.beans.gos,i,t.DOM_DATA_KEY_CELL_CTRL,this);e.addDestroyFunc((()=>ut(this.beans.gos,i,t.DOM_DATA_KEY_CELL_CTRL,null)))}createEvent(t,e){const i=this.beans.gos.addGridCommonParams({type:e,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),rowPinned:this.rowNode.rowPinned,event:t,rowIndex:this.rowNode.rowIndex});return i}processCharacter(t){this.cellKeyboardListenerFeature?.processCharacter(t)}onKeyDown(t){this.cellKeyboardListenerFeature?.onKeyDown(t)}onMouseEvent(t,e){this.cellMouseListenerFeature?.onMouseEvent(t,e)}getGui(){return this.eGui}getColSpanningList(){return this.cellPositionFeature.getColSpanningList()}onLeftChanged(){if(!this.cellComp){return}this.cellPositionFeature?.onLeftChanged()}onDisplayedColumnsChanged(){if(!this.eGui){return}this.refreshAriaColIndex();this.refreshFirstAndLastStyles()}refreshFirstAndLastStyles(){const{cellComp:t,column:e,beans:i}=this;$n(t,e,i.visibleColsService)}refreshAriaColIndex(){const t=this.beans.visibleColsService.getAriaColIndex(this.column);Qi(this.getGui(),t)}isSuppressNavigable(){return this.column.isSuppressNavigable(this.rowNode)}onWidthChanged(){return this.cellPositionFeature?.onWidthChanged()}getColumn(){return this.column}getRowNode(){return this.rowNode}isPrintLayout(){return this.printLayout}getCellPosition(){return this.cellPosition}isEditing(){return this.editing}startRowOrCellEdit(t,e=null){if(!this.cellComp){this.onCellCompAttachedFuncs.push((()=>{this.startRowOrCellEdit(t,e)}));return true}if(this.beans.gos.get("editType")==="fullRow"){return this.rowCtrl.startRowEditing(t,this)}else{return this.startEditing(t,true,e)}}getRowCtrl(){return this.rowCtrl}getRowPosition(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}}updateRangeBordersIfRangeCount(){if(!this.cellComp){return}if(this.cellRangeFeature){this.cellRangeFeature.updateRangeBordersIfRangeCount()}}onCellSelectionChanged(){if(!this.cellComp){return}if(this.cellRangeFeature){this.cellRangeFeature.onCellSelectionChanged()}}isRangeSelectionEnabled(){return this.cellRangeFeature!=null}focusCell(t=false){this.beans.focusService.setFocusedCell({rowIndex:this.getCellPosition().rowIndex,column:this.column,rowPinned:this.rowNode.rowPinned,forceBrowserFocus:t})}onRowIndexChanged(){this.createCellPosition();this.onCellFocused();if(this.cellRangeFeature){this.cellRangeFeature.onCellSelectionChanged()}}onSuppressCellFocusChanged(t){if(!this.eGui){return}Is(this.eGui,"tabindex",t?void 0:-1)}onFirstRightPinnedChanged(){if(!this.cellComp){return}const t=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass(oh,t)}onLastLeftPinnedChanged(){if(!this.cellComp){return}const t=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass(nh,t)}onCellFocused(t){if(this.beans.focusService.isCellFocusSuppressed()){return}const e=this.beans.focusService.isCellFocused(this.cellPosition);if(!this.cellComp){if(e&&t?.forceBrowserFocus){this.focusEventToRestore=t}return}this.focusEventToRestore=void 0;this.cellComp.addOrRemoveCssClass(rh,e);if(e&&t&&t.forceBrowserFocus){let e=this.cellComp.getFocusableElement();if(this.editing){const t=this.beans.focusService.findFocusableElements(e,null,true);if(t.length){e=t[0]}}e.focus({preventScroll:!!t.preventScrollOnBrowserFocus})}const i=this.beans.gos.get("editType")==="fullRow";if(!e&&!i&&this.editing){this.stopRowOrCellEdit()}if(e){this.rowCtrl.announceDescription()}}createCellPosition(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:V(this.rowNode.rowPinned),column:this.column}}applyStaticCssClasses(){this.cellComp.addOrRemoveCssClass(eh,true);this.cellComp.addOrRemoveCssClass(ah,true);const t=this.column.isAutoHeight()==true;this.cellComp.addOrRemoveCssClass(ih,t);this.cellComp.addOrRemoveCssClass(sh,!t)}onColumnHover(){if(!this.cellComp){return}if(!this.beans.gos.get("columnHoverHighlight")){return}const t=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass(lh,t)}onColDefChanged(){if(!this.cellComp){return}const t=this.column.isTooltipEnabled();if(t){this.disableTooltipFeature();this.enableTooltipFeature()}else{this.disableTooltipFeature()}this.setWrapText();if(!this.editing){this.refreshOrDestroyCell({forceRefresh:true,suppressFlash:true})}else{this.beans.editService?.handleColDefChanged(this)}}setWrapText(){const t=this.column.getColDef().wrapText==true;this.cellComp.addOrRemoveCssClass(hh,t)}dispatchCellContextMenuEvent(t){const e=this.column.getColDef();const i=this.createEvent(t,"cellContextMenu");this.beans.eventService.dispatchEvent(i);if(e.onCellContextMenu){window.setTimeout((()=>{this.beans.frameworkOverrides.wrapOutgoing((()=>{e.onCellContextMenu(i)}))}),0)}}getCellRenderer(){return this.cellComp?this.cellComp.getCellRenderer():null}getCellEditor(){return this.cellComp?this.cellComp.getCellEditor():null}destroy(){this.onCellCompAttachedFuncs=[];this.onCellEditorAttachedFuncs=[];super.destroy()}createSelectionCheckbox(){const t=new Hl;this.beans.context.createBean(t);t.init({rowNode:this.rowNode,column:this.column});return t}createDndSource(){const t=new Bl(this.rowNode,this.column,this.eGui);this.beans.context.createBean(t);return t}registerRowDragger(t,e,i){if(this.customRowDragComp){this.customRowDragComp.setDragElement(t,e);return}const s=this.createRowDragComp(t,e,i);if(s){this.customRowDragComp=s;this.addDestroyFunc((()=>{this.beans.context.destroyBean(s);this.customRowDragComp=null}))}}createRowDragComp(t,e,i){const s=this.beans.gos.get("pagination");const r=this.beans.gos.get("rowDragManaged");const o=X(this.beans.gos);if(r){if(!o){P("managed row dragging is only allowed in the Client Side Row Model");return}if(s){P("managed row dragging is not possible when doing pagination");return}}const n=new Fo((()=>this.value),this.rowNode,this.column,t,e,i);this.beans.context.createBean(n);return n}setSuppressRefreshCell(t){this.suppressRefreshCell=t}getEditCompDetails(){return this.editCompDetails}onCellEditorAttached(t){this.onCellEditorAttachedFuncs.push(t)}cellEditorAttached(){this.onCellEditorAttachedFuncs.forEach((t=>t()));this.onCellEditorAttachedFuncs=[]}};uh.DOM_DATA_KEY_CELL_CTRL="cellCtrl";var dh=uh;var gh=0;var fh=class t extends fe{constructor(t,e,i,s,r){super();this.allRowGuis=[];this.active=true;this.centerCellCtrls={list:[],map:{}};this.leftCellCtrls={list:[],map:{}};this.rightCellCtrls={list:[],map:{}};this.slideInAnimation={left:false,center:false,right:false,fullWidth:false};this.fadeInAnimation={left:false,center:false,right:false,fullWidth:false};this.rowDragComps=[];this.lastMouseDownOnDragger=false;this.emptyStyle={};this.updateColumnListsPending=false;this.rowId=null;this.businessKeySanitised=null;this.beans=e;this.gos=e.gos;this.rowNode=t;this.paginationPage=e.paginationService?.getCurrentPage()??0;this.useAnimationFrameForCreate=s;this.printLayout=r;this.suppressRowTransform=this.gos.get("suppressRowTransform");this.instanceId=t.id+"-"+gh++;this.rowId=ii(t.id);this.initRowBusinessKey();this.rowFocused=e.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);this.rowLevel=e.rowCssClassCalculator.calculateRowLevel(this.rowNode);this.setRowType();this.setAnimateFlags(i);this.rowStyles=this.processStylesFromGridOptions();this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gos.get("getBusinessKeyForNode");this.updateRowBusinessKey()}updateRowBusinessKey(){if(typeof this.businessKeyForNodeFunc!=="function"){return}const t=this.businessKeyForNodeFunc(this.rowNode);this.businessKeySanitised=ii(t)}getRowId(){return this.rowId}getRowStyles(){return this.rowStyles}isSticky(){return this.rowNode.sticky}updateGui(t,e){if(t==="left"){this.leftGui=e}else if(t==="right"){this.rightGui=e}else if(t==="fullWidth"){this.fullWidthGui=e}else{this.centerGui=e}}setComp(t,e,i,s){s=ki(this,this.beans.context,s);const r={rowComp:t,element:e,containerType:i,compBean:s};this.allRowGuis.push(r);this.updateGui(i,r);this.initialiseRowComp(r);if(this.rowType!=="FullWidthLoading"&&!this.rowNode.rowPinned){this.beans.rowRenderer.dispatchFirstDataRenderedEvent()}}unsetComp(t){this.allRowGuis=this.allRowGuis.filter((e=>e.containerType!==t));this.updateGui(t,void 0)}isCacheable(){return this.rowType==="FullWidthDetail"&&this.gos.get("keepDetailRows")}setCached(t){const e=t?"none":"";this.allRowGuis.forEach((t=>t.element.style.display=e))}initialiseRowComp(e){const i=this.gos;this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus"));this.listenOnDomOrder(e);if(this.beans.columnModel.wasAutoRowHeightEverActive()){this.rowNode.checkAutoHeights()}this.onRowHeightChanged(e);this.updateRowIndexes(e);this.setFocusedClasses(e);this.setStylesFromGridOptions(false,e);if(it(i)&&this.rowNode.selectable){this.onRowSelected(e)}this.updateColumnLists(!this.useAnimationFrameForCreate);const s=e.rowComp;const r=this.getInitialRowClasses(e.containerType);r.forEach((t=>s.addOrRemoveCssClass(t,true)));this.executeSlideAndFadeAnimations(e);if(this.rowNode.group){Hi(e.element,this.rowNode.expanded==true)}this.setRowCompRowId(s);this.setRowCompRowBusinessKey(s);ut(i,e.element,t.DOM_DATA_KEY_ROW_CTRL,this);e.compBean.addDestroyFunc((()=>ut(i,e.element,t.DOM_DATA_KEY_ROW_CTRL,null)));if(this.useAnimationFrameForCreate){this.beans.animationFrameService.createTask(this.addHoverFunctionality.bind(this,e),this.rowNode.rowIndex,"createTasksP2")}else{this.addHoverFunctionality(e)}if(this.isFullWidth()){this.setupFullWidth(e)}if(i.get("rowDragEntireRow")){this.addRowDraggerToRow(e)}if(this.useAnimationFrameForCreate){this.beans.animationFrameService.addDestroyTask((()=>{if(!this.isAlive()){return}e.rowComp.addOrRemoveCssClass("ag-after-created",true)}))}this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(t){if(this.businessKeySanitised==null){return}t.setRowBusinessKey(this.businessKeySanitised)}getBusinessKey(){return this.businessKeySanitised}setRowCompRowId(t){this.rowId=ii(this.rowNode.id);if(this.rowId==null){return}t.setRowId(this.rowId)}executeSlideAndFadeAnimations(t){const{containerType:e}=t;const i=this.slideInAnimation[e];if(i){N((()=>{this.onTopChanged()}));this.slideInAnimation[e]=false}const s=this.fadeInAnimation[e];if(s){N((()=>{t.rowComp.addOrRemoveCssClass("ag-opacity-zero",false)}));this.fadeInAnimation[e]=false}}addRowDraggerToRow(t){if(Tt(this.gos)){P("Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `cellSelection: true`");return}const e=this.beans.localeService.getLocaleTextFunc();const i=new Fo((()=>`1 ${e("rowDragRow","row")}`),this.rowNode,void 0,t.element,void 0,true);const s=this.createBean(i,this.beans.context);this.rowDragComps.push(s);t.compBean.addDestroyFunc((()=>{this.rowDragComps=this.rowDragComps.filter((t=>t!==s));this.destroyBean(s,this.beans.context)}))}setupFullWidth(t){const e=this.getPinnedForContainer(t.containerType);if(this.rowType=="FullWidthDetail"){if(!this.gos.assertModuleRegistered("@ag-grid-enterprise/master-detail","cell renderer 'agDetailCellRenderer' (for master detail)")){return}}const i=this.createFullWidthCompDetails(t.element,e);t.rowComp.showFullWidth(i)}isPrintLayout(){return this.printLayout}getFullWidthCellRenderers(){if(this.gos.get("embedFullWidthRows")){return this.allRowGuis.map((t=>t?.rowComp?.getFullWidthCellRenderer()))}return[this.fullWidthGui?.rowComp?.getFullWidthCellRenderer()]}getCellElement(t){const e=this.getCellCtrl(t);return e?e.getGui():null}executeProcessRowPostCreateFunc(){const t=this.gos.getCallback("processRowPostCreate");if(!t||!this.areAllContainersReady()){return}const e={eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};t(e)}areAllContainersReady(){const t=!!this.leftGui||!this.beans.visibleColsService.isPinningLeft();const e=!!this.centerGui;const i=!!this.rightGui||!this.beans.visibleColsService.isPinningRight();return t&&e&&i}isNodeFullWidthCell(){if(this.rowNode.detail){return true}const t=this.beans.gos.getCallback("isFullWidthRow");return t?t({rowNode:this.rowNode}):false}setRowType(){const t=this.rowNode.stub&&!this.gos.get("suppressServerSideFullWidthLoadingRow")&&!this.gos.get("groupHideOpenParents");const e=this.isNodeFullWidthCell();const i=this.gos.get("masterDetail")&&this.rowNode.detail;const s=this.beans.columnModel.isPivotMode();const r=!!this.rowNode.group&&!this.rowNode.footer;const o=r&&St(this.gos,s);if(t){this.rowType="FullWidthLoading"}else if(i){this.rowType="FullWidthDetail"}else if(e){this.rowType="FullWidth"}else if(o){this.rowType="FullWidthGroup"}else{this.rowType="Normal"}}updateColumnLists(t=false,e=false){if(this.isFullWidth()){return}const i=t||this.gos.get("suppressAnimationFrame")||this.printLayout;if(i){this.updateColumnListsImpl(e);return}if(this.updateColumnListsPending){return}this.beans.animationFrameService.createTask((()=>{if(!this.active){return}this.updateColumnListsImpl(true)}),this.rowNode.rowIndex,"createTasksP1");this.updateColumnListsPending=true}createCellCtrls(t,e,i=null){const s={list:[],map:{}};const r=(t,e,i)=>{if(i!=null){s.list.splice(i,0,e)}else{s.list.push(e)}s.map[t]=e};const o=[];for(const i of e){const e=i.getInstanceId();let s=t.map[e];if(!s){s=new dh(i,this.rowNode,this.beans,this)}r(e,s)}for(const e of t.list){const t=e.getColumn().getInstanceId();const r=s.map[t]!=null;if(r){continue}const n=!this.isCellEligibleToBeRemoved(e,i);if(n){o.push([t,e])}else{e.destroy()}}if(o.length){for(const[t,e]of o){const i=s.list.findIndex((t=>t.getColumn().getLeft()>e.getColumn().getLeft()));const o=i===-1?void 0:Math.max(i-1,0);r(t,e,o)}}return s}updateColumnListsImpl(t){this.updateColumnListsPending=false;this.createAllCellCtrls();this.setCellCtrls(t)}setCellCtrls(t){this.allRowGuis.forEach((e=>{const i=this.getCellCtrlsForContainer(e.containerType);e.rowComp.setCellCtrls(i,t)}))}getCellCtrlsForContainer(t){switch(t){case"left":return this.leftCellCtrls.list;case"right":return this.rightCellCtrls.list;case"fullWidth":return[];case"center":return this.centerCellCtrls.list}}createAllCellCtrls(){const t=this.beans.columnViewportService;const e=this.beans.visibleColsService;if(this.printLayout){this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,e.getAllCols());this.leftCellCtrls={list:[],map:{}};this.rightCellCtrls={list:[],map:{}}}else{const i=t.getColsWithinViewport(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,i);const s=e.getLeftColsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,s,"left");const r=e.getRightColsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,r,"right")}}isCellEligibleToBeRemoved(t,e){const i=true;const s=false;const r=t.getColumn();if(r.getPinned()!=e){return i}const o=t.isEditing();const n=this.beans.focusService.isCellFocused(t.getCellPosition());const a=o||n;if(a){const e=t.getColumn();const r=this.beans.visibleColsService.getAllCols();const o=r.indexOf(e)>=0;return o?s:i}return i}getDomOrder(){const t=this.gos.get("ensureDomOrder");return t||et(this.gos,"print")}listenOnDomOrder(t){const e=()=>{t.rowComp.setDomOrder(this.getDomOrder())};t.compBean.addManagedPropertyListeners(["domLayout","ensureDomOrder"],e)}setAnimateFlags(t){if(this.isSticky()||!t){return}const e=j(this.rowNode.oldRowTop);const i=this.beans.visibleColsService.isPinningLeft();const s=this.beans.visibleColsService.isPinningRight();if(e){if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){this.slideInAnimation.fullWidth=true;return}this.slideInAnimation.center=true;this.slideInAnimation.left=i;this.slideInAnimation.right=s}else{if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){this.fadeInAnimation.fullWidth=true;return}this.fadeInAnimation.center=true;this.fadeInAnimation.left=i;this.fadeInAnimation.right=s}}isEditing(){return this.editingRow}isFullWidth(){return this.rowType!=="Normal"}refreshFullWidth(){const t=(t,e)=>{if(!t){return true}return t.rowComp.refreshFullWidth((()=>{const i=this.createFullWidthCompDetails(t.element,e);return i.params}))};const e=t(this.fullWidthGui,null);const i=t(this.centerGui,null);const s=t(this.leftGui,"left");const r=t(this.rightGui,"right");const o=e&&i&&s&&r;return o}addListeners(){this.addManagedListeners(this.rowNode,{heightChanged:()=>this.onRowHeightChanged(),rowSelected:()=>this.onRowSelected(),rowIndexChanged:this.onRowIndexChanged.bind(this),topChanged:this.onTopChanged.bind(this),expandedChanged:this.updateExpandedCss.bind(this),hasChildrenChanged:this.updateExpandedCss.bind(this)});if(this.rowNode.detail){this.addManagedListeners(this.rowNode.parent,{dataChanged:this.onRowNodeDataChanged.bind(this)})}this.addManagedListeners(this.rowNode,{dataChanged:this.onRowNodeDataChanged.bind(this),cellChanged:this.postProcessCss.bind(this),rowHighlightChanged:this.onRowNodeHighlightChanged.bind(this),draggingChanged:this.postProcessRowDragging.bind(this),uiLevelChanged:this.onUiLevelChanged.bind(this)});this.addManagedListeners(this.beans.eventService,{paginationPixelOffsetChanged:this.onPaginationPixelOffsetChanged.bind(this),heightScaleChanged:this.onTopChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:this.onVirtualColumnsChanged.bind(this),cellFocused:this.onCellFocusChanged.bind(this),cellFocusCleared:this.onCellFocusChanged.bind(this),paginationChanged:this.onPaginationChanged.bind(this),modelUpdated:this.refreshFirstAndLastRowStyles.bind(this),columnMoved:()=>this.updateColumnLists()});this.addDestroyFunc((()=>{this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context);if(this.tooltipFeature){this.tooltipFeature=this.destroyBean(this.tooltipFeature,this.beans.context)}}));this.addManagedPropertyListeners(["rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules"],this.postProcessCss.bind(this));this.addManagedPropertyListener("rowDragEntireRow",(()=>{const t=this.gos.get("rowDragEntireRow");if(t){this.allRowGuis.forEach((t=>{this.addRowDraggerToRow(t)}));return}this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context)}));this.addListenersForCellComps()}addListenersForCellComps(){this.addManagedListeners(this.rowNode,{rowIndexChanged:()=>{this.getAllCellCtrls().forEach((t=>t.onRowIndexChanged()))},cellChanged:t=>{this.getAllCellCtrls().forEach((e=>e.onCellChanged(t)))}})}onRowNodeDataChanged(t){const e=this.isFullWidth()!==!!this.isNodeFullWidthCell();if(e){this.beans.rowRenderer.redrawRow(this.rowNode);return}if(this.isFullWidth()){const t=this.refreshFullWidth();if(!t){this.beans.rowRenderer.redrawRow(this.rowNode)}return}this.getAllCellCtrls().forEach((e=>e.refreshCell({suppressFlash:!t.update,newData:!t.update})));this.allRowGuis.forEach((t=>{this.setRowCompRowId(t.rowComp);this.updateRowBusinessKey();this.setRowCompRowBusinessKey(t.rowComp)}));this.onRowSelected();this.postProcessCss()}postProcessCss(){this.setStylesFromGridOptions(true);this.postProcessClassesFromGridOptions();this.postProcessRowClassRules();this.postProcessRowDragging()}onRowNodeHighlightChanged(){const t=this.rowNode.highlighted;this.allRowGuis.forEach((e=>{const i=t===0;const s=t===1;e.rowComp.addOrRemoveCssClass("ag-row-highlight-above",i);e.rowComp.addOrRemoveCssClass("ag-row-highlight-below",s)}))}postProcessRowDragging(){const t=this.rowNode.dragging;this.allRowGuis.forEach((e=>e.rowComp.addOrRemoveCssClass("ag-row-dragging",t)))}updateExpandedCss(){const t=this.rowNode.isExpandable();const e=this.rowNode.expanded==true;this.allRowGuis.forEach((i=>{i.rowComp.addOrRemoveCssClass("ag-row-group",t);i.rowComp.addOrRemoveCssClass("ag-row-group-expanded",t&&e);i.rowComp.addOrRemoveCssClass("ag-row-group-contracted",t&&!e);Hi(i.element,t&&e)}))}onDisplayedColumnsChanged(){this.updateColumnLists(true);if(this.beans.columnModel.wasAutoRowHeightEverActive()){this.rowNode.checkAutoHeights()}}onVirtualColumnsChanged(){this.updateColumnLists(false,true)}getRowPosition(){return{rowPinned:V(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}findFullWidthRowGui(t){return this.allRowGuis.find((e=>e.element.contains(t)))}onKeyboardNavigate(t){const e=this.findFullWidthRowGui(t.target);const i=e?e.element:null;const s=i===t.target;if(!s){return}const r=this.rowNode;const o=this.beans.focusService.getFocusedCell();const n={rowIndex:r.rowIndex,rowPinned:r.rowPinned,column:o?.column??this.getColumnForFullWidth(e)};this.beans.navigationService.navigateToNextCell(t,t.key,n,true);t.preventDefault()}onTabKeyDown(t){if(t.defaultPrevented||ae(t)){return}const e=this.allRowGuis.find((e=>e.element.contains(t.target)));const i=e?e.element:null;const s=i===t.target;const r=pt(this.gos);let o=false;if(i&&r){o=i.contains(r)&&r.classList.contains("ag-cell")}let n=null;if(!s&&!o){n=this.beans.focusService.findNextFocusableElement(i,false,t.shiftKey)}if(this.isFullWidth()&&s||!n){this.beans.navigationService.onTabKeyDown(this,t)}}getFullWidthElement(){if(this.fullWidthGui){return this.fullWidthGui.element}return null}getRowYPosition(){const t=this.allRowGuis.find((t=>vs(t.element)))?.element;if(t){return t.getBoundingClientRect().top}return 0}onSuppressCellFocusChanged(t){const e=this.isFullWidth()&&t?void 0:-1;this.allRowGuis.forEach((t=>{Is(t.element,"tabindex",e)}))}onFullWidthRowFocused(t){const e=this.rowNode;const i=!t?false:this.isFullWidth()&&t.rowIndex===e.rowIndex&&t.rowPinned==e.rowPinned;const s=this.fullWidthGui?this.fullWidthGui.element:this.centerGui?.element;if(!s){return}s.classList.toggle("ag-full-width-focus",i);if(i&&t?.forceBrowserFocus){s.focus({preventScroll:true})}}recreateCell(t){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,t);this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,t);this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,t);t.destroy();this.updateColumnLists()}removeCellCtrl(t,e){const i={list:[],map:{}};t.list.forEach((t=>{if(t===e){return}i.list.push(t);i.map[t.getColumn().getInstanceId()]=t}));return i}onMouseEvent(t,e){switch(t){case"dblclick":this.onRowDblClick(e);break;case"click":this.onRowClick(e);break;case"touchstart":case"mousedown":this.onRowMouseDown(e);break}}createRowEvent(t,e){return this.gos.addGridCommonParams({type:t,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,event:e})}createRowEventWithSource(t,e){const i=this.createRowEvent(t,e);i.source=this;return i}onRowDblClick(t){if(ae(t)){return}this.beans.eventService.dispatchEvent(this.createRowEventWithSource("rowDoubleClicked",t))}getColumnForFullWidth(t){const{visibleColsService:e}=this.beans;switch(t?.containerType){case"center":return e.getCenterCols()[0];case"left":return e.getLeftCols()[0];case"right":return e.getRightCols()[0];default:return e.getAllCols()[0]}}onRowMouseDown(t){this.lastMouseDownOnDragger=os(t.target,"ag-row-drag",3);if(!this.isFullWidth()){return}const e=this.rowNode;if(this.beans.rangeService){this.beans.rangeService.removeAllCellRanges()}const i=this.findFullWidthRowGui(t.target);const s=i?.element;const r=t.target;let o=true;if(s&&s.contains(r)&&es(r)){o=false}this.beans.focusService.setFocusedCell({rowIndex:e.rowIndex,column:this.getColumnForFullWidth(i),rowPinned:e.rowPinned,forceBrowserFocus:o})}onRowClick(t){const e=ae(t)||this.lastMouseDownOnDragger;if(e){return}const{gos:i}=this;this.beans.eventService.dispatchEvent(this.createRowEventWithSource("rowClicked",t));const s=t.ctrlKey||t.metaKey;const r=t.shiftKey;const o=this.rowNode.isSelected();const n=Wt(i);const a=Lt(i);const l=Ot(i);if(n&&this.rowNode.group||this.isRowSelectionBlocked()||!l&&!o||!a&&o){return}const h=Vt(i);const c="rowClicked";if(o){if(h){this.rowNode.setSelectedParams({newValue:false,event:t,source:c})}else if(s){if(a){this.rowNode.setSelectedParams({newValue:false,event:t,source:c})}}else if(l){this.rowNode.setSelectedParams({newValue:true,clearSelection:!r,rangeSelect:r,event:t,source:c})}}else{const e=h?false:!s;this.rowNode.setSelectedParams({newValue:true,clearSelection:e,rangeSelect:r,event:t,source:c})}}isRowSelectionBlocked(){return!this.rowNode.selectable||!!this.rowNode.rowPinned||!it(this.gos)}setupDetailRowAutoHeight(t){if(this.rowType!=="FullWidthDetail"){return}if(!this.gos.get("detailRowAutoHeight")){return}const e=()=>{const e=t.clientHeight;if(e!=null&&e>0){const t=()=>{this.rowNode.setRowHeight(e);if(X(this.gos)||tt(this.gos)){this.beans.rowModel.onRowHeightChanged()}};window.setTimeout(t,0)}};const i=this.beans.resizeObserverService.observeResize(t,e);this.addDestroyFunc(i);e()}createFullWidthCompDetails(t,e){const{gos:i,rowNode:s}=this;const r=i.addGridCommonParams({fullWidth:true,data:s.data,node:s,value:s.key,valueFormatted:s.key,eGridCell:t,eParentOfValue:t,pinned:e,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(t,e,i,s)=>this.addFullWidthRowDragging(t,e,i,s),setTooltip:(t,e)=>this.refreshRowTooltip(t,e)});const o=this.beans.userComponentFactory;switch(this.rowType){case"FullWidthDetail":return o.getFullWidthDetailCellRendererDetails(r);case"FullWidthGroup":return o.getFullWidthGroupCellRendererDetails(r);case"FullWidthLoading":return o.getFullWidthLoadingCellRendererDetails(r);default:return o.getFullWidthCellRendererDetails(r)}}refreshRowTooltip(t,e){if(!this.fullWidthGui){return}const i={getGui:()=>this.fullWidthGui.element,getTooltipValue:()=>t,getLocation:()=>"fullWidthRow",shouldDisplayTooltip:e};if(this.tooltipFeature){this.destroyBean(this.tooltipFeature,this.beans.context)}this.tooltipFeature=this.createBean(new lr(i,this.beans))}addFullWidthRowDragging(t,e,i="",s){if(!this.isFullWidth()){return}const r=new Fo((()=>i),this.rowNode,void 0,t,e,s);this.createBean(r,this.beans.context);this.addDestroyFunc((()=>{this.destroyBean(r,this.beans.context)}))}onUiLevelChanged(){const t=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=t){const e="ag-row-level-"+t;const i="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach((t=>{t.rowComp.addOrRemoveCssClass(e,true);t.rowComp.addOrRemoveCssClass(i,false)}))}this.rowLevel=t}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBoundsService.getFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBoundsService.getLastRow()}refreshFirstAndLastRowStyles(){const t=this.isFirstRowOnPage();const e=this.isLastRowOnPage();if(this.firstRowOnPage!==t){this.firstRowOnPage=t;this.allRowGuis.forEach((e=>e.rowComp.addOrRemoveCssClass("ag-row-first",t)))}if(this.lastRowOnPage!==e){this.lastRowOnPage=e;this.allRowGuis.forEach((t=>t.rowComp.addOrRemoveCssClass("ag-row-last",e)))}}stopEditing(t=false){if(this.stoppingRowEdit){return}this.beans.rowEditService?.stopEditing(this,t)}setInlineEditingCss(){const t=this.editingRow||this.getAllCellCtrls().some((t=>t.isEditing()));this.allRowGuis.forEach((e=>{e.rowComp.addOrRemoveCssClass("ag-row-inline-editing",t);e.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!t)}))}setEditingRow(t){this.editingRow=t}startRowEditing(t=null,e=null,i=null){if(this.editingRow){return true}return this.beans.rowEditService?.startEditing(this,t,e,i)??true}getAllCellCtrls(){if(this.leftCellCtrls.list.length===0&&this.rightCellCtrls.list.length===0){return this.centerCellCtrls.list}const t=[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list];return t}postProcessClassesFromGridOptions(){const t=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);if(!t||!t.length){return}t.forEach((t=>{this.allRowGuis.forEach((e=>e.rowComp.addOrRemoveCssClass(t,true)))}))}postProcessRowClassRules(){this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,(t=>{this.allRowGuis.forEach((e=>e.rowComp.addOrRemoveCssClass(t,true)))}),(t=>{this.allRowGuis.forEach((e=>e.rowComp.addOrRemoveCssClass(t,false)))}))}setStylesFromGridOptions(t,e){if(t){this.rowStyles=this.processStylesFromGridOptions()}this.forEachGui(e,(t=>t.rowComp.setUserStyles(this.rowStyles)))}getPinnedForContainer(t){if(t==="left"||t==="right"){return t}return null}getInitialRowClasses(t){const e=this.getPinnedForContainer(t);const i={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeInAnimation[t],rowIsEven:this.rowNode.rowIndex%2===0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:e};return this.beans.rowCssClassCalculator.getInitialRowClasses(i)}processStylesFromGridOptions(){const t=this.gos.get("rowStyle");if(t&&typeof t==="function"){P("rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead");return}const e=this.gos.getCallback("getRowStyle");let i;if(e){const t={data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex};i=e(t)}if(i||t){return Object.assign({},t,i)}return this.emptyStyle}onRowSelected(t){const e=!!this.rowNode.isSelected();this.forEachGui(t,(t=>{t.rowComp.addOrRemoveCssClass("ag-row-selected",e);Zi(t.element,e);const i=t.element.contains(pt(this.gos));if(i&&(t===this.centerGui||t===this.fullWidthGui)){this.announceDescription()}}))}announceDescription(){if(this.isRowSelectionBlocked()){return}const t=this.rowNode.isSelected();if(t&&!Lt(this.gos)){return}const e=this.beans.localeService.getLocaleTextFunc();const i=e(t?"ariaRowDeselect":"ariaRowSelect",`Press SPACE to ${t?"deselect":"select"} this row.`);this.beans.ariaAnnouncementService.announceValue(i,"rowSelection")}addHoverFunctionality(t){if(!this.active){return}const{element:e,compBean:i}=t;const{rowNode:s,beans:r,gos:o}=this;i.addManagedListeners(e,{mouseenter:()=>s.onMouseEnter(),mouseleave:()=>s.onMouseLeave()});i.addManagedListeners(s,{mouseEnter:()=>{if(!r.dragService.isDragging()&&!o.get("suppressRowHoverHighlight")){e.classList.add("ag-row-hover");s.setHovered(true)}},mouseLeave:()=>{e.classList.remove("ag-row-hover");s.setHovered(false)}})}roundRowTopToBounds(t){const e=this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getApproximateVScollPosition();const i=this.applyPaginationOffset(e.top,true)-100;const s=this.applyPaginationOffset(e.bottom,true)+100;return Math.min(Math.max(i,t),s)}getFrameworkOverrides(){return this.beans.frameworkOverrides}forEachGui(t,e){if(t){e(t)}else{this.allRowGuis.forEach(e)}}onRowHeightChanged(t){if(this.rowNode.rowHeight==null){return}const e=this.rowNode.rowHeight;const i=this.beans.environment.getDefaultRowHeight();const s=rt(this.gos);const r=s?nt(this.gos,this.rowNode).height:void 0;const o=r?`${Math.min(i,r)-2}px`:void 0;this.forEachGui(t,(t=>{t.element.style.height=`${e}px`;if(o){t.element.style.setProperty("--ag-line-height",o)}}))}addEventListener(t,e){super.addEventListener(t,e)}removeEventListener(t,e){super.removeEventListener(t,e)}destroyFirstPass(t=false){this.active=false;if(!t&&vt(this.gos)&&!this.isSticky()){const t=this.rowNode.rowTop!=null;if(t){const t=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(t)}else{this.allRowGuis.forEach((t=>t.rowComp.addOrRemoveCssClass("ag-opacity-zero",true)))}}this.rowNode.setHovered(false);const e=this.createRowEvent("virtualRowRemoved");this.dispatchLocalEvent(e);this.beans.eventService.dispatchEvent(e);super.destroy()}destroySecondPass(){this.allRowGuis.length=0;this.stopEditing();const t=t=>{t.list.forEach((t=>t.destroy()));return{list:[],map:{}}};this.centerCellCtrls=t(this.centerCellCtrls);this.leftCellCtrls=t(this.leftCellCtrls);this.rightCellCtrls=t(this.rightCellCtrls)}setFocusedClasses(t){this.forEachGui(t,(t=>{t.rowComp.addOrRemoveCssClass("ag-row-focus",this.rowFocused);t.rowComp.addOrRemoveCssClass("ag-row-no-focus",!this.rowFocused)}))}onCellFocusChanged(){const t=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);if(t!==this.rowFocused){this.rowFocused=t;this.setFocusedClasses()}if(!t&&this.editingRow){this.stopEditing(false)}}onPaginationChanged(){const t=this.beans.paginationService?.getCurrentPage()??0;if(this.paginationPage!==t){this.paginationPage=t;this.onTopChanged()}this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(t,e=false){if(this.rowNode.isRowPinned()||this.rowNode.sticky){return t}const i=this.beans.pageBoundsService.getPixelOffset();const s=e?1:-1;return t+i*s}setRowTop(t){if(this.printLayout){return}if(j(t)){const e=this.applyPaginationOffset(t);const i=this.rowNode.isRowPinned()||this.rowNode.sticky;const s=i?e:this.beans.rowContainerHeightService.getRealPixelPosition(e);const r=`${s}px`;this.setRowTopStyle(r)}}getInitialRowTop(t){return this.suppressRowTransform?this.getInitialRowTopShared(t):void 0}getInitialTransform(t){return this.suppressRowTransform?void 0:`translateY(${this.getInitialRowTopShared(t)})`}getInitialRowTopShared(t){if(this.printLayout){return""}const e=this.rowNode;let i;if(this.isSticky()){i=e.stickyRowTop}else{const s=this.slideInAnimation[t]?this.roundRowTopToBounds(e.oldRowTop):e.rowTop;const r=this.applyPaginationOffset(s);i=e.isRowPinned()?r:this.beans.rowContainerHeightService.getRealPixelPosition(r)}return i+"px"}setRowTopStyle(t){this.allRowGuis.forEach((e=>this.suppressRowTransform?e.rowComp.setTop(t):e.rowComp.setTransform(`translateY(${t})`)))}getRowNode(){return this.rowNode}getCellCtrl(t){let e=null;this.getAllCellCtrls().forEach((i=>{if(i.getColumn()==t){e=i}}));if(e!=null){return e}this.getAllCellCtrls().forEach((i=>{if(i.getColSpanningList().indexOf(t)>=0){e=i}}));return e}onRowIndexChanged(){if(this.rowNode.rowIndex!=null){this.onCellFocusChanged();this.updateRowIndexes();this.postProcessCss()}}getRowIndex(){return this.rowNode.getRowIndexString()}updateRowIndexes(t){const e=this.rowNode.getRowIndexString();if(e===null){return}const i=this.beans.headerNavigationService.getHeaderRowCount()+(this.beans.filterManager?.getHeaderRowCount()??0);const s=this.rowNode.rowIndex%2===0;const r=i+this.rowNode.rowIndex+1;this.forEachGui(t,(t=>{t.rowComp.setRowIndex(e);t.rowComp.addOrRemoveCssClass("ag-row-even",s);t.rowComp.addOrRemoveCssClass("ag-row-odd",!s);Ui(t.element,r)}))}setStoppingRowEdit(t){this.stoppingRowEdit=t}};fh.DOM_DATA_KEY_ROW_CTRL="renderedRow";var ph=fh;var mh=class extends fe{wireBeans(t){this.mouseEventService=t.mouseEventService;this.valueService=t.valueService;this.menuService=t.menuService;this.ctrlsService=t.ctrlsService;this.navigationService=t.navigationService;this.focusService=t.focusService;this.undoRedoService=t.undoRedoService;this.visibleColsService=t.visibleColsService;this.rowModel=t.rowModel;this.pinnedRowModel=t.pinnedRowModel;this.rangeService=t.rangeService;this.clipboardService=t.clipboardService}constructor(t){super();this.element=t}postConstruct(){this.addKeyboardListeners();this.addMouseListeners();this.mockContextMenuForIPad()}addKeyboardListeners(){const t="keydown";const e=this.processKeyboardEvent.bind(this,t);this.addManagedElementListeners(this.element,{[t]:e})}addMouseListeners(){const t=le("touchstart")?"touchstart":"mousedown";const e=["dblclick","contextmenu","mouseover","mouseout","click",t];e.forEach((t=>{const e=this.processMouseEvent.bind(this,t);this.addManagedElementListeners(this.element,{[t]:e})}))}processMouseEvent(t,e){if(!this.mouseEventService.isEventFromThisGrid(e)||ae(e)){return}const i=this.getRowForEvent(e);const s=this.mouseEventService.getRenderedCellForEvent(e);if(t==="contextmenu"){this.handleContextMenuMouseEvent(e,void 0,i,s)}else{if(s){s.onMouseEvent(t,e)}if(i){i.onMouseEvent(t,e)}}}mockContextMenuForIPad(){if(!Ys()){return}const t=new wr(this.element);const e=t=>{const e=this.getRowForEvent(t.touchEvent);const i=this.mouseEventService.getRenderedCellForEvent(t.touchEvent);this.handleContextMenuMouseEvent(void 0,t.touchEvent,e,i)};this.addManagedListeners(t,{longTap:e});this.addDestroyFunc((()=>t.destroy()))}getRowForEvent(t){let e=t.target;while(e){const t=ct(this.gos,e,ph.DOM_DATA_KEY_ROW_CTRL);if(t){return t}e=e.parentElement}return null}handleContextMenuMouseEvent(t,e,i,s){const r=i?i.getRowNode():null;const o=s?s.getColumn():null;let n=null;if(o){const i=t?t:e;s.dispatchCellContextMenuEvent(i??null);n=this.valueService.getValue(o,r)}const a=this.ctrlsService.getGridBodyCtrl();const l=s?s.getGui():a.getGridBodyElement();this.menuService.showContextMenu({mouseEvent:t,touchEvent:e,rowNode:r,column:o,value:n,anchorToElement:l})}getControlsForEventTarget(t){return{cellCtrl:he(this.gos,t,dh.DOM_DATA_KEY_CELL_CTRL),rowCtrl:he(this.gos,t,ph.DOM_DATA_KEY_ROW_CTRL)}}processKeyboardEvent(t,e){const{cellCtrl:i,rowCtrl:s}=this.getControlsForEventTarget(e.target);if(e.defaultPrevented){return}if(i){this.processCellKeyboardEvent(i,t,e)}else if(s&&s.isFullWidth()){this.processFullWidthRowKeyboardEvent(s,t,e)}}processCellKeyboardEvent(t,e,i){const s=t.getRowNode();const r=t.getColumn();const o=t.isEditing();const n=!hn(this.gos,i,s,r,o);if(n){if(e==="keydown"){const e=!o&&this.navigationService.handlePageScrollingKey(i);if(!e){t.onKeyDown(i)}this.doGridOperations(i,t.isEditing());if(ln(i)){t.processCharacter(i)}}}if(e==="keydown"){this.eventService.dispatchEvent(t.createEvent(i,"cellKeyDown"))}}processFullWidthRowKeyboardEvent(t,e,i){const s=t.getRowNode();const r=this.focusService.getFocusedCell();const o=r&&r.column;const n=!hn(this.gos,i,s,o,false);if(n){const s=i.key;if(e==="keydown"){switch(s){case zr.PAGE_HOME:case zr.PAGE_END:case zr.PAGE_UP:case zr.PAGE_DOWN:this.navigationService.handlePageScrollingKey(i,true);break;case zr.UP:case zr.DOWN:t.onKeyboardNavigate(i);break;case zr.TAB:t.onTabKeyDown(i);break}}}if(e==="keydown"){this.eventService.dispatchEvent(t.createRowEvent("cellKeyDown",i))}}doGridOperations(t,e){if(!t.ctrlKey&&!t.metaKey){return}if(e){return}if(!this.mouseEventService.isEventFromThisGrid(t)){return}const i=un(t);if(i===zr.A){return this.onCtrlAndA(t)}if(i===zr.C){return this.onCtrlAndC(t)}if(i===zr.D){return this.onCtrlAndD(t)}if(i===zr.V){return this.onCtrlAndV(t)}if(i===zr.X){return this.onCtrlAndX(t)}if(i===zr.Y){return this.onCtrlAndY()}if(i===zr.Z){return this.onCtrlAndZ(t)}}onCtrlAndA(t){const{pinnedRowModel:e,rowModel:i,rangeService:s}=this;if(s&&i.isRowsToRender()){const[t,r]=[e.isEmpty("top"),e.isEmpty("bottom")];const o=t?null:"top";let n;let a;if(r){n=null;a=i.getRowCount()-1}else{n="bottom";a=e.getPinnedBottomRowCount()-1}const l=this.visibleColsService.getAllCols();if(U(l)){return}s.setCellRange({rowStartIndex:0,rowStartPinned:o,rowEndIndex:a,rowEndPinned:n,columnStart:l[0],columnEnd:$t(l)})}t.preventDefault()}onCtrlAndC(t){if(!this.clipboardService||this.gos.get("enableCellTextSelection")){return}const{cellCtrl:e,rowCtrl:i}=this.getControlsForEventTarget(t.target);if(e?.isEditing()||i?.isEditing()){return}t.preventDefault();this.clipboardService.copyToClipboard()}onCtrlAndX(t){if(!this.clipboardService||this.gos.get("enableCellTextSelection")||this.gos.get("suppressCutToClipboard")){return}const{cellCtrl:e,rowCtrl:i}=this.getControlsForEventTarget(t.target);if(e?.isEditing()||i?.isEditing()){return}t.preventDefault();this.clipboardService.cutToClipboard(void 0,"ui")}onCtrlAndV(t){const{cellCtrl:e,rowCtrl:i}=this.getControlsForEventTarget(t.target);if(e?.isEditing()||i?.isEditing()){return}if(this.clipboardService&&!this.gos.get("suppressClipboardPaste")){this.clipboardService.pasteFromClipboard()}}onCtrlAndD(t){if(this.clipboardService&&!this.gos.get("suppressClipboardPaste")){this.clipboardService.copyRangeDown()}t.preventDefault()}onCtrlAndZ(t){if(!this.gos.get("undoRedoCellEditing")||!this.undoRedoService){return}t.preventDefault();if(t.shiftKey){this.undoRedoService.redo("ui")}else{this.undoRedoService.undo("ui")}}onCtrlAndY(){this.undoRedoService?.redo("ui")}};var vh=class extends fe{wireBeans(t){this.pinnedWidthService=t.pinnedWidthService}constructor(t){super();this.element=t}postConstruct(){this.addManagedEventListeners({leftPinnedWidthChanged:this.onPinnedLeftWidthChanged.bind(this)})}onPinnedLeftWidthChanged(){const t=this.pinnedWidthService.getPinnedLeftWidth();const e=t>0;is(this.element,e);Ds(this.element,t)}getWidth(){return this.pinnedWidthService.getPinnedLeftWidth()}};var wh=class extends fe{wireBeans(t){this.pinnedWidthService=t.pinnedWidthService}constructor(t){super();this.element=t}postConstruct(){this.addManagedEventListeners({rightPinnedWidthChanged:this.onPinnedRightWidthChanged.bind(this)})}onPinnedRightWidthChanged(){const t=this.pinnedWidthService.getPinnedRightWidth();const e=t>0;is(this.element,e);Ds(this.element,t)}getWidth(){return this.pinnedWidthService.getPinnedRightWidth()}};var bh=t=>t.getTopRowCtrls();var yh=t=>t.getStickyTopRowCtrls();var Ch=t=>t.getStickyBottomRowCtrls();var xh=t=>t.getBottomRowCtrls();var kh=t=>t.getCentreRowCtrls();var Sh={center:{type:"center",container:"ag-center-cols-container",viewport:"ag-center-cols-viewport",getRowCtrls:kh},left:{type:"left",container:"ag-pinned-left-cols-container",pinnedType:"left",getRowCtrls:kh},right:{type:"right",container:"ag-pinned-right-cols-container",pinnedType:"right",getRowCtrls:kh},fullWidth:{type:"fullWidth",container:"ag-full-width-container",fullWidth:true,getRowCtrls:kh},topCenter:{type:"center",container:"ag-floating-top-container",viewport:"ag-floating-top-viewport",getRowCtrls:bh},topLeft:{type:"left",container:"ag-pinned-left-floating-top",pinnedType:"left",getRowCtrls:bh},topRight:{type:"right",container:"ag-pinned-right-floating-top",pinnedType:"right",getRowCtrls:bh},topFullWidth:{type:"fullWidth",container:"ag-floating-top-full-width-container",fullWidth:true,getRowCtrls:bh},stickyTopCenter:{type:"center",container:"ag-sticky-top-container",viewport:"ag-sticky-top-viewport",getRowCtrls:yh},stickyTopLeft:{type:"left",container:"ag-pinned-left-sticky-top",pinnedType:"left",getRowCtrls:yh},stickyTopRight:{type:"right",container:"ag-pinned-right-sticky-top",pinnedType:"right",getRowCtrls:yh},stickyTopFullWidth:{type:"fullWidth",container:"ag-sticky-top-full-width-container",fullWidth:true,getRowCtrls:yh},stickyBottomCenter:{type:"center",container:"ag-sticky-bottom-container",viewport:"ag-sticky-bottom-viewport",getRowCtrls:Ch},stickyBottomLeft:{type:"left",container:"ag-pinned-left-sticky-bottom",pinnedType:"left",getRowCtrls:Ch},stickyBottomRight:{type:"right",container:"ag-pinned-right-sticky-bottom",pinnedType:"right",getRowCtrls:Ch},stickyBottomFullWidth:{type:"fullWidth",container:"ag-sticky-bottom-full-width-container",fullWidth:true,getRowCtrls:Ch},bottomCenter:{type:"center",container:"ag-floating-bottom-container",viewport:"ag-floating-bottom-viewport",getRowCtrls:xh},bottomLeft:{type:"left",container:"ag-pinned-left-floating-bottom",pinnedType:"left",getRowCtrls:xh},bottomRight:{type:"right",container:"ag-pinned-right-floating-bottom",pinnedType:"right",getRowCtrls:xh},bottomFullWidth:{type:"fullWidth",container:"ag-floating-bottom-full-width-container",fullWidth:true,getRowCtrls:xh}};function Dh(t){return Sh[t]}var Mh=["topCenter","topLeft","topRight"];var Rh=["bottomCenter","bottomLeft","bottomRight"];var Fh=["center","left","right"];var Ph=["center","left","right","fullWidth"];var zh=["stickyTopCenter","stickyBottomCenter","center","topCenter","bottomCenter"];var Ih=["left","bottomLeft","topLeft","stickyTopLeft","stickyBottomLeft"];var Th=["right","bottomRight","topRight","stickyTopRight","stickyBottomRight"];var Ah=["stickyTopCenter","stickyTopLeft","stickyTopRight"];var Eh=["stickyBottomCenter","stickyBottomLeft","stickyBottomRight"];var Nh=[...Ah,"stickyTopFullWidth",...Eh,"stickyBottomFullWidth"];var Oh=[...Mh,...Rh,...Fh,...Ah,...Eh];var Lh=class extends fe{constructor(t){super();this.visible=true;this.EMPTY_CTRLS=[];this.name=t;this.options=Dh(t)}wireBeans(t){this.dragService=t.dragService;this.ctrlsService=t.ctrlsService;this.columnViewportService=t.columnViewportService;this.resizeObserverService=t.resizeObserverService;this.rowRenderer=t.rowRenderer}postConstruct(){this.enableRtl=this.gos.get("enableRtl");this.forContainers(["center"],(()=>{this.viewportSizeFeature=this.createManagedBean(new Ll(this));this.addManagedEventListeners({stickyTopOffsetChanged:this.onStickyTopOffsetChanged.bind(this)})}))}onStickyTopOffsetChanged(t){this.comp.setOffsetTop(`${t.offset}px`)}registerWithCtrlsService(){if(this.options.fullWidth)return;this.ctrlsService.register(this.name,this)}forContainers(t,e){if(t.indexOf(this.name)>=0){e()}}getContainerElement(){return this.eContainer}getViewportSizeFeature(){return this.viewportSizeFeature}setComp(t,e,i){this.comp=t;this.eContainer=e;this.eViewport=i;this.createManagedBean(new mh(this.eContainer));this.addPreventScrollWhileDragging();this.listenOnDomOrder();const s=()=>this.onPinnedWidthChanged();this.forContainers(Ih,(()=>{this.pinnedWidthFeature=this.createManagedBean(new vh(this.eContainer));this.addManagedEventListeners({leftPinnedWidthChanged:s})}));this.forContainers(Th,(()=>{this.pinnedWidthFeature=this.createManagedBean(new wh(this.eContainer));this.addManagedEventListeners({rightPinnedWidthChanged:s})}));this.forContainers(Ph,(()=>this.createManagedBean(new Tl(this.eContainer,this.name==="center"?i:void 0))));this.forContainers(Oh,(()=>this.createManagedBean(new Gl(this.eContainer))));this.forContainers(zh,(()=>this.createManagedBean(new Ya((t=>this.comp.setContainerWidth(`${t}px`))))));this.visible=this.isContainerVisible();this.addListeners();this.registerWithCtrlsService()}onScrollCallback(t){this.addManagedElementListeners(this.getViewportElement(),{scroll:t})}addListeners(){this.addManagedEventListeners({displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this),displayedRowsChanged:t=>this.onDisplayedRowsChanged(t.afterScroll)});this.onDisplayedColumnsChanged();this.onDisplayedColumnsWidthChanged();this.onDisplayedRowsChanged()}listenOnDomOrder(){const t=Nh.indexOf(this.name)>=0;if(t){this.comp.setDomOrder(true);return}const e=()=>{const t=this.gos.get("ensureDomOrder");const e=et(this.gos,"print");this.comp.setDomOrder(t||e)};this.addManagedPropertyListener("domLayout",e);e()}onDisplayedColumnsChanged(){this.forContainers(["center"],(()=>this.onHorizontalViewportChanged()))}onDisplayedColumnsWidthChanged(){this.forContainers(["center"],(()=>this.onHorizontalViewportChanged()))}addPreventScrollWhileDragging(){const t=t=>{if(this.dragService.isDragging()){if(t.cancelable){t.preventDefault()}}};this.eContainer.addEventListener("touchmove",t,{passive:false});this.addDestroyFunc((()=>this.eContainer.removeEventListener("touchmove",t)))}onHorizontalViewportChanged(t=false){const e=this.getCenterWidth();const i=this.getCenterViewportScrollLeft();this.columnViewportService.setScrollPosition(e,i,t)}hasHorizontalScrollGap(){return this.eContainer.clientWidth-this.eViewport.clientWidth<0}hasVerticalScrollGap(){return this.eContainer.clientHeight-this.eViewport.clientHeight<0}getCenterWidth(){return ls(this.eViewport)}getCenterViewportScrollLeft(){return ds(this.eViewport,this.enableRtl)}registerViewportResizeListener(t){const e=this.resizeObserverService.observeResize(this.eViewport,t);this.addDestroyFunc((()=>e()))}isViewportInTheDOMTree(){return ms(this.eViewport)}getViewportScrollLeft(){return ds(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){const t=this.gos.get("alwaysShowHorizontalScroll");return t||xs(this.eViewport)}getViewportElement(){return this.eViewport}setHorizontalScroll(t){this.comp.setHorizontalScroll(t)}getHScrollPosition(){const t={left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth};return t}setCenterViewportScrollLeft(t){gs(this.eViewport,t,this.enableRtl)}isContainerVisible(){const t=this.options.pinnedType!=null;return!t||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){const t=this.isContainerVisible();if(this.visible!=t){this.visible=t;this.onDisplayedRowsChanged()}}onDisplayedRowsChanged(t=false){const e=this.options.getRowCtrls(this.rowRenderer);if(!this.visible||e.length===0){this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});return}const i=et(this.gos,"print");const s=this.gos.get("embedFullWidthRows");const r=s||i;const o=e.filter((t=>{const e=t.isFullWidth();const i=this.options.fullWidth?!r&&e:r||!e;return i}));this.comp.setRowCtrls({rowCtrls:o,useFlushSync:t})}};var Gh="ag-force-vertical-scroll";var Hh="ag-selectable";var Bh="ag-column-moving";var Vh=class extends fe{constructor(){super(...arguments);this.stickyTopHeight=0;this.stickyBottomHeight=0}wireBeans(t){this.animationFrameService=t.animationFrameService;this.rowContainerHeightService=t.rowContainerHeightService;this.ctrlsService=t.ctrlsService;this.columnModel=t.columnModel;this.columnSizeService=t.columnSizeService;this.scrollVisibleService=t.scrollVisibleService;this.menuService=t.menuService;this.headerNavigationService=t.headerNavigationService;this.dragAndDropService=t.dragAndDropService;this.pinnedRowModel=t.pinnedRowModel;this.rowRenderer=t.rowRenderer;this.popupService=t.popupService;this.mouseEventService=t.mouseEventService;this.rowModel=t.rowModel;this.filterManager=t.filterManager;this.environment=t.environment}getScrollFeature(){return this.bodyScrollFeature}getBodyViewportElement(){return this.eBodyViewport}setComp(t,e,i,s,r,o,n){this.comp=t;this.eGridBody=e;this.eBodyViewport=i;this.eTop=s;this.eBottom=r;this.eStickyTop=o;this.eStickyBottom=n;this.eCenterColsViewport=i.querySelector(`.${Dh("center").viewport}`);this.eFullWidthContainer=i.querySelector(`.${Dh("fullWidth").container}`);this.eStickyTopFullWidthContainer=o.querySelector(`.${Dh("stickyTopFullWidth").container}`);this.eStickyBottomFullWidthContainer=n.querySelector(`.${Dh("stickyBottomFullWidth").container}`);this.setCellTextSelection(this.gos.get("enableCellTextSelection"));this.addManagedPropertyListener("enableCellTextSelection",(t=>this.setCellTextSelection(t.currentValue)));this.createManagedBean(new Ml(this.comp));this.bodyScrollFeature=this.createManagedBean(new Ol(this.eBodyViewport));this.addRowDragListener();this.setupRowAnimationCssClass();this.addEventListeners();this.addFocusListeners([s,i,r,o,n]);this.onGridColumnsChanged();this.addBodyViewportListener();this.setFloatingHeights();this.disableBrowserDragging();this.addStopEditingWhenGridLosesFocus();this.updateScrollingClasses();this.filterManager?.setupAdvancedFilterHeaderComp(s);this.ctrlsService.register("gridBodyCtrl",this)}getComp(){return this.comp}addEventListeners(){const t=this.setFloatingHeights.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this),scrollGapChanged:this.onScrollGapChanged.bind(this),pinnedRowDataChanged:t,pinnedHeightChanged:t,headerHeightChanged:this.onHeaderHeightChanged.bind(this)})}addFocusListeners(t){t.forEach((t=>{this.addManagedElementListeners(t,{focusin:e=>{const{target:i}=e;const s=os(i,"ag-root",t);t.classList.toggle("ag-has-focus",!s)},focusout:e=>{const{target:i,relatedTarget:s}=e;const r=t.contains(s);const o=os(s,"ag-root",t);const n=os(i,"ag-root",t);if(n){return}if(!r||o){t.classList.remove("ag-has-focus")}}})}))}setColumnMovingCss(t){this.comp.setColumnMovingCss(Bh,t)}setCellTextSelection(t=false){this.comp.setCellSelectableCss(Hh,t)}onScrollVisibilityChanged(){const t=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(t);this.setStickyWidth(t);this.setStickyBottomOffsetBottom();const e=t?this.scrollVisibleService.getScrollbarWidth()||0:0;const i=ir()?16:0;const s=`calc(100% + ${e+i}px)`;this.animationFrameService.requestAnimationFrame((()=>this.comp.setBodyViewportWidth(s)));this.updateScrollingClasses()}onScrollGapChanged(){this.updateScrollingClasses()}updateScrollingClasses(){this.eGridBody.classList.toggle("ag-body-vertical-content-no-gap",!this.scrollVisibleService.hasVerticalScrollGap());this.eGridBody.classList.toggle("ag-body-horizontal-content-no-gap",!this.scrollVisibleService.hasHorizontalScrollGap())}onGridColumnsChanged(){const t=this.columnModel.getCols();this.comp.setColumnCount(t.length)}disableBrowserDragging(){this.addManagedElementListeners(this.eGridBody,{dragstart:t=>{if(t.target instanceof HTMLImageElement){t.preventDefault();return false}}})}addStopEditingWhenGridLosesFocus(){if(!this.gos.get("stopEditingWhenCellsLoseFocus")){return}const t=t=>{const i=t.relatedTarget;if(Zs(i)===null){this.rowRenderer.stopEditing();return}let s=e.some((t=>t.contains(i)))&&this.mouseEventService.isElementInThisGrid(i);if(!s){const t=this.popupService;s=t.getActivePopups().some((t=>t.contains(i)))||t.isElementWithinCustomPopup(i)}if(!s){this.rowRenderer.stopEditing()}};const e=[this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop,this.eStickyBottom];e.forEach((e=>this.addManagedElementListeners(e,{focusout:t})))}updateRowCount(){const t=this.headerNavigationService.getHeaderRowCount()+(this.filterManager?.getHeaderRowCount()??0);const e=this.rowModel.isLastRowIndexKnown()?this.rowModel.getRowCount():-1;const i=e===-1?-1:t+e;this.comp.setRowCount(i)}registerBodyViewportResizeListener(t){this.comp.registerBodyViewportResizeListener(t)}setVerticalScrollPaddingVisible(t){const e=t?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(e)}isVerticalScrollShowing(){const t=this.gos.get("alwaysShowVerticalScroll");const e=t?Gh:null;const i=et(this.gos,"normal");this.comp.setAlwaysVerticalScrollClass(e,t);return t||i&&ks(this.eBodyViewport)}setupRowAnimationCssClass(){let t=this.environment.hasMeasuredSizes();const e=()=>{const e=t&&vt(this.gos)&&!this.rowContainerHeightService.isStretching();const i=e?"ag-row-animation":"ag-row-no-animation";this.comp.setRowAnimationCssOnBodyViewport(i,e)};e();this.addManagedEventListeners({heightScaleChanged:e});this.addManagedPropertyListener("animateRows",e);this.addManagedEventListeners({gridStylesChanged:()=>{if(!t&&this.environment.hasMeasuredSizes()){t=true;e()}}})}getGridBodyElement(){return this.eGridBody}addBodyViewportListener(){const t=this.onBodyViewportContextMenu.bind(this);this.addManagedElementListeners(this.eBodyViewport,{contextmenu:t});this.mockContextMenuForIPad(t);this.addManagedElementListeners(this.eBodyViewport,{wheel:this.onBodyViewportWheel.bind(this)});this.addManagedElementListeners(this.eStickyTop,{wheel:this.onStickyWheel.bind(this)});this.addManagedElementListeners(this.eStickyBottom,{wheel:this.onStickyWheel.bind(this)});this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){this.addManagedElementListeners(this.eFullWidthContainer,{wheel:t=>this.onFullWidthContainerWheel(t)})}onFullWidthContainerWheel(t){const{deltaX:e,deltaY:i,shiftKey:s}=t;const r=s||Math.abs(e)>Math.abs(i);if(r&&this.mouseEventService.isEventFromThisGrid(t)){this.scrollGridBodyToMatchEvent(t)}}onStickyWheel(t){const{deltaX:e,deltaY:i,shiftKey:s}=t;const r=s||Math.abs(e)>Math.abs(i);const o=t.target;if(!r){t.preventDefault();this.scrollVertically(i)}else if(this.eStickyTopFullWidthContainer.contains(o)||this.eStickyBottomFullWidthContainer.contains(o)){this.scrollGridBodyToMatchEvent(t)}}scrollGridBodyToMatchEvent(t){const{deltaX:e,deltaY:i}=t;t.preventDefault();this.eCenterColsViewport.scrollBy({left:e||i})}onBodyViewportContextMenu(t,e,i){if(!t&&!i){return}if(this.gos.get("preventDefaultOnContextMenu")){const e=t||i;e.preventDefault()}const{target:s}=t||e;if(s===this.eBodyViewport||s===this.ctrlsService.get("center").getViewportElement()){this.menuService.showContextMenu({mouseEvent:t,touchEvent:i,value:null,anchorToElement:this.eGridBody})}}mockContextMenuForIPad(t){if(!Ys()){return}const e=new wr(this.eBodyViewport);const i=e=>{t(void 0,e.touchStart,e.touchEvent)};this.addManagedListeners(e,{longTap:i});this.addDestroyFunc((()=>e.destroy()))}onBodyViewportWheel(t){if(!this.gos.get("suppressScrollWhenPopupsAreOpen")){return}if(this.popupService.hasAnchoredPopup()){t.preventDefault()}}getGui(){return this.eGridBody}scrollVertically(t){const e=this.eBodyViewport.scrollTop;this.bodyScrollFeature.setVerticalScrollPosition(e+t);return this.eBodyViewport.scrollTop-e}addRowDragListener(){this.rowDragFeature=this.createManagedBean(new Mo(this.eBodyViewport));this.dragAndDropService.addDropTarget(this.rowDragFeature);this.addDestroyFunc((()=>this.dragAndDropService.removeDropTarget(this.rowDragFeature)))}getRowDragFeature(){return this.rowDragFeature}setFloatingHeights(){const{pinnedRowModel:t}=this;const e=t.getPinnedTopTotalHeight();const i=t.getPinnedBottomTotalHeight();this.comp.setTopHeight(e);this.comp.setBottomHeight(i);this.comp.setTopDisplay(e?"inherit":"none");this.comp.setBottomDisplay(i?"inherit":"none");this.setStickyTopOffsetTop();this.setStickyBottomOffsetBottom()}setStickyTopHeight(t=0){this.comp.setStickyTopHeight(`${t}px`);this.stickyTopHeight=t}getStickyTopHeight(){return this.stickyTopHeight}setStickyBottomHeight(t=0){this.comp.setStickyBottomHeight(`${t}px`);this.stickyBottomHeight=t}getStickyBottomHeight(){return this.stickyBottomHeight}setStickyWidth(t){if(!t){this.comp.setStickyTopWidth("100%");this.comp.setStickyBottomWidth("100%")}else{const t=this.scrollVisibleService.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${t}px)`);this.comp.setStickyBottomWidth(`calc(100% - ${t}px)`)}}onHeaderHeightChanged(){this.setStickyTopOffsetTop()}setStickyTopOffsetTop(){const t=this.ctrlsService.get("gridHeaderCtrl");const e=t.getHeaderHeight()+(this.filterManager?.getHeaderHeight()??0);const i=this.pinnedRowModel.getPinnedTopTotalHeight();let s=0;if(e>0){s+=e}if(i>0){s+=i}if(s>0){s+=1}this.comp.setStickyTopTop(`${s}px`)}setStickyBottomOffsetBottom(){const t=this.pinnedRowModel.getPinnedBottomTotalHeight();const e=this.scrollVisibleService.isHorizontalScrollShowing();const i=e?this.scrollVisibleService.getScrollbarWidth()||0:0;const s=t+i;this.comp.setStickyBottomBottom(`${s}px`)}sizeColumnsToFit(t,e){const i=this.isVerticalScrollShowing();const s=i?this.scrollVisibleService.getScrollbarWidth():0;const r=ls(this.eGridBody);const o=r-s;if(o>0){this.columnSizeService.sizeColumnsToFit(o,"sizeColumnsToFit",false,t);return}if(e===void 0){window.setTimeout((()=>{this.sizeColumnsToFit(t,100)}),0)}else if(e===100){window.setTimeout((()=>{this.sizeColumnsToFit(t,500)}),100)}else if(e===500){window.setTimeout((()=>{this.sizeColumnsToFit(t,-1)}),500)}else{P("tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")}}addScrollEventListener(t){this.eBodyViewport.addEventListener("scroll",t,{passive:true})}removeScrollEventListener(t){this.eBodyViewport.removeEventListener("scroll",t)}};var jh=class extends ur{constructor(t,e,i,s,r){super();this.rendererVersion=0;this.editorVersion=0;this.beans=t;this.column=e.getColumn();this.rowNode=e.getRowNode();this.rowCtrl=e.getRowCtrl();this.eRow=s;this.cellCtrl=e;const o=document.createElement("div");o.setAttribute("comp-id",`${this.getCompId()}`);this.setTemplateFromElement(o);const n=this.getGui();this.forceWrapper=e.isForceWrapper();this.refreshWrapper(false);Pi(n,e.getCellAriaRole());n.setAttribute("col-id",e.colIdSanitised);const a={addOrRemoveCssClass:(t,e)=>this.addOrRemoveCssClass(t,e),setUserStyles:t=>Cs(n,t),getFocusableElement:()=>this.getFocusableElement(),setIncludeSelection:t=>this.includeSelection=t,setIncludeRowDrag:t=>this.includeRowDrag=t,setIncludeDndSource:t=>this.includeDndSource=t,setRenderDetails:(t,e,i)=>this.setRenderDetails(t,e,i),setEditDetails:(t,e,i)=>this.setEditDetails(t,e,i),getCellEditor:()=>this.cellEditor||null,getCellRenderer:()=>this.cellRenderer||null,getParentOfValue:()=>this.getParentOfValue()};e.setComp(a,this.getGui(),this.eCellWrapper,i,r,void 0)}getParentOfValue(){if(this.eCellValue){return this.eCellValue}if(this.eCellWrapper){return this.eCellWrapper}return this.getGui()}setRenderDetails(t,e,i){const s=this.cellEditor&&!this.cellEditorPopupWrapper;if(s){return}this.firstRender=this.firstRender==null;const r=this.refreshWrapper(false);this.refreshEditStyles(false);if(t){const e=i||r;const s=e?false:this.refreshCellRenderer(t);if(!s){this.destroyRenderer();this.createCellRendererInstance(t)}}else{this.destroyRenderer();this.insertValueWithoutCellRenderer(e)}}setEditDetails(t,e,i){if(t){this.createCellEditorInstance(t,e,i)}else{this.destroyEditor()}}removeControls(){this.checkboxSelectionComp=this.beans.context.destroyBean(this.checkboxSelectionComp);this.dndSourceComp=this.beans.context.destroyBean(this.dndSourceComp);this.rowDraggingComp=this.beans.context.destroyBean(this.rowDraggingComp)}refreshWrapper(t){const e=this.includeRowDrag||this.includeDndSource||this.includeSelection;const i=e||this.forceWrapper;const s=i&&this.eCellWrapper==null;if(s){const t=document.createElement("div");t.setAttribute("role","presentation");t.setAttribute("class","ag-cell-wrapper");this.eCellWrapper=t;this.getGui().appendChild(this.eCellWrapper)}const r=!i&&this.eCellWrapper!=null;if(r){ps(this.eCellWrapper);this.eCellWrapper=void 0}this.addOrRemoveCssClass("ag-cell-value",!i);const o=!t&&i;const n=o&&this.eCellValue==null;if(n){const t=document.createElement("span");t.setAttribute("role","presentation");t.setAttribute("class","ag-cell-value");this.eCellValue=t;this.eCellWrapper.appendChild(this.eCellValue)}const a=!o&&this.eCellValue!=null;if(a){ps(this.eCellValue);this.eCellValue=void 0}const l=s||r||n||a;if(l){this.removeControls()}if(!t){if(e){this.addControls()}}return l}addControls(){if(this.includeRowDrag){if(this.rowDraggingComp==null){this.rowDraggingComp=this.cellCtrl.createRowDragComp();if(this.rowDraggingComp){this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(),this.eCellValue)}}}if(this.includeDndSource){if(this.dndSourceComp==null){this.dndSourceComp=this.cellCtrl.createDndSource();this.eCellWrapper.insertBefore(this.dndSourceComp.getGui(),this.eCellValue)}}if(this.includeSelection){if(this.checkboxSelectionComp==null){this.checkboxSelectionComp=this.cellCtrl.createSelectionCheckbox();this.eCellWrapper.insertBefore(this.checkboxSelectionComp.getGui(),this.eCellValue)}}}createCellEditorInstance(t,e,i){const s=this.editorVersion;const r=t.newAgStackInstance();if(r==null){return}const{params:o}=t;r.then((t=>this.afterCellEditorCreated(s,t,o,e,i)));const n=W(this.cellEditor);if(n&&o.cellStartedEdit){this.cellCtrl.focusCell(true)}}insertValueWithoutCellRenderer(t){const e=this.getParentOfValue();fs(e);const i=t!=null?ii(t,true):null;if(i!=null){e.textContent=i}}destroyEditorAndRenderer(){this.destroyRenderer();this.destroyEditor()}destroyRenderer(){const{context:t}=this.beans;this.cellRenderer=t.destroyBean(this.cellRenderer);ps(this.cellRendererGui);this.cellRendererGui=null;this.rendererVersion++}destroyEditor(){const{context:t}=this.beans;if(this.hideEditorPopup){this.hideEditorPopup()}this.hideEditorPopup=void 0;this.cellEditor=t.destroyBean(this.cellEditor);this.cellEditorPopupWrapper=t.destroyBean(this.cellEditorPopupWrapper);ps(this.cellEditorGui);this.cellEditorGui=null;this.editorVersion++}refreshCellRenderer(t){if(this.cellRenderer==null||this.cellRenderer.refresh==null){return false}if(this.cellRendererClass!==t.componentClass){return false}const e=this.cellRenderer.refresh(t.params);return e===true||e===void 0}createCellRendererInstance(t){const e=this.beans.gos.get("suppressAnimationFrame");const i=!e;const s=this.rendererVersion;const{componentClass:r}=t;const o=()=>{const e=this.rendererVersion!==s||!this.isAlive();if(e){return}const i=t.newAgStackInstance();const o=this.afterCellRendererCreated.bind(this,s,r);if(i){i.then(o)}};if(i&&this.firstRender){this.beans.animationFrameService.createTask(o,this.rowNode.rowIndex,"createTasksP2")}else{o()}}getCtrl(){return this.cellCtrl}getRowCtrl(){return this.rowCtrl}getCellRenderer(){return this.cellRenderer}getCellEditor(){return this.cellEditor}afterCellRendererCreated(t,e,i){const s=!this.isAlive()||t!==this.rendererVersion;if(s){this.beans.context.destroyBean(i);return}this.cellRenderer=i;this.cellRendererClass=e;this.cellRendererGui=this.cellRenderer.getGui();if(this.cellRendererGui!=null){const t=this.getParentOfValue();fs(t);t.appendChild(this.cellRendererGui)}}afterCellEditorCreated(t,e,i,s,r){const o=t!==this.editorVersion;if(o){this.beans.context.destroyBean(e);return}const n=e.isCancelBeforeStart&&e.isCancelBeforeStart();if(n){this.beans.context.destroyBean(e);this.cellCtrl.stopEditing(true);return}if(!e.getGui){P(`cellEditor for column ${this.column.getId()} is missing getGui() method`);this.beans.context.destroyBean(e);return}this.cellEditor=e;this.cellEditorGui=e.getGui();const a=s||e.isPopup!==void 0&&e.isPopup();if(a){this.addPopupCellEditor(i,r)}else{this.addInCellEditor()}this.refreshEditStyles(true,a);if(e.afterGuiAttached){e.afterGuiAttached()}this.cellCtrl.cellEditorAttached()}refreshEditStyles(t,e){this.addOrRemoveCssClass("ag-cell-inline-editing",t&&!e);this.addOrRemoveCssClass("ag-cell-popup-editing",t&&!!e);this.addOrRemoveCssClass("ag-cell-not-inline-editing",!t||!!e);this.rowCtrl?.setInlineEditingCss()}addInCellEditor(){const t=this.getGui();if(t.contains(pt(this.beans.gos))){t.focus()}this.destroyRenderer();this.refreshWrapper(true);this.clearParentOfValue();if(this.cellEditorGui){const t=this.getParentOfValue();t.appendChild(this.cellEditorGui)}}addPopupCellEditor(t,e){if(this.beans.gos.get("editType")==="fullRow"){P("popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.")}const i=this.cellEditor;this.cellEditorPopupWrapper=this.beans.context.createBean(this.beans.editService.createPopupEditorWrapper(t));const s=this.cellEditorPopupWrapper.getGui();if(this.cellEditorGui){s.appendChild(this.cellEditorGui)}const r=this.beans.popupService;const o=this.beans.gos.get("stopEditingWhenCellsLoseFocus");const n=e!=null?e:i.getPopupPosition?.()??"over";const a=this.beans.gos.get("enableRtl");const l={ePopup:s,column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),position:n,alignSide:a?"right":"left",keepWithinBounds:true};const h=r.positionPopupByComponent.bind(r,l);const c=this.beans.localeService.getLocaleTextFunc();const u=r.addPopup({modal:o,eChild:s,closeOnEsc:true,closedCallback:()=>{this.cellCtrl.onPopupEditorClosed()},anchorToElement:this.getGui(),positionCallback:h,ariaLabel:c("ariaLabelCellEditor","Cell Editor")});if(u){this.hideEditorPopup=u.hideFunc}}detach(){this.eRow.removeChild(this.getGui())}destroy(){this.cellCtrl.stopEditing();this.destroyEditorAndRenderer();this.removeControls();super.destroy()}clearParentOfValue(){const t=this.getGui();if(t.contains(pt(this.beans.gos))&&qs()){t.focus({preventScroll:true})}fs(this.getParentOfValue())}};var Wh=class extends ur{constructor(t,e,i){super();this.cellComps={};this.beans=e;this.rowCtrl=t;const s=document.createElement("div");s.setAttribute("comp-id",`${this.getCompId()}`);this.setInitialStyle(s,i);this.setTemplateFromElement(s);const r=this.getGui();const o=r.style;this.domOrder=this.rowCtrl.getDomOrder();Pi(r,"row");const n={setDomOrder:t=>this.domOrder=t,setCellCtrls:t=>this.setCellCtrls(t),showFullWidth:t=>this.showFullWidth(t),getFullWidthCellRenderer:()=>this.fullWidthCellRenderer,addOrRemoveCssClass:(t,e)=>this.addOrRemoveCssClass(t,e),setUserStyles:t=>Cs(r,t),setTop:t=>o.top=t,setTransform:t=>o.transform=t,setRowIndex:t=>r.setAttribute("row-index",t),setRowId:t=>r.setAttribute("row-id",t),setRowBusinessKey:t=>r.setAttribute("row-business-key",t),refreshFullWidth:t=>this.fullWidthCellRenderer?.refresh?.(t())??false};t.setComp(n,this.getGui(),i,void 0);this.addDestroyFunc((()=>{t.unsetComp(i)}))}setInitialStyle(t,e){const i=this.rowCtrl.getInitialTransform(e);if(i){t.style.setProperty("transform",i)}else{const i=this.rowCtrl.getInitialRowTop(e);if(i){t.style.setProperty("top",i)}}}showFullWidth(t){const e=t=>{if(this.isAlive()){const e=t.getGui();this.getGui().appendChild(e);this.rowCtrl.setupDetailRowAutoHeight(e);this.setFullWidthRowComp(t)}else{this.beans.context.destroyBean(t)}};const i=t.newAgStackInstance();if(i==null){return}i.then(e)}setCellCtrls(t){const e=Object.assign({},this.cellComps);t.forEach((t=>{const i=t.instanceId;const s=this.cellComps[i];if(s==null){this.newCellComp(t)}else{e[i]=null}}));const i=Ie(e).filter((t=>t!=null));this.destroyCells(i);this.ensureDomOrder(t)}ensureDomOrder(t){if(!this.domOrder){return}const e=[];t.forEach((t=>{const i=this.cellComps[t.instanceId];if(i){e.push(i.getGui())}}));ys(this.getGui(),e)}newCellComp(t){const e=new jh(this.beans,t,this.rowCtrl.isPrintLayout(),this.getGui(),this.rowCtrl.isEditing());this.cellComps[t.instanceId]=e;this.getGui().appendChild(e.getGui())}destroy(){super.destroy();this.destroyAllCells()}destroyAllCells(){const t=Ie(this.cellComps).filter((t=>t!=null));this.destroyCells(t)}setFullWidthRowComp(t){if(this.fullWidthCellRenderer){z("should not be setting fullWidthRowComponent twice")}this.fullWidthCellRenderer=t;this.addDestroyFunc((()=>{this.fullWidthCellRenderer=this.beans.context.destroyBean(this.fullWidthCellRenderer)}))}destroyCells(t){t.forEach((t=>{if(!t){return}const e=t.getCtrl().instanceId;if(this.cellComps[e]!==t){return}t.detach();t.destroy();this.cellComps[e]=null}))}};function Uh(t){let e;if(t.type==="center"){e=`<div class="${t.viewport}" data-ref="eViewport" role="presentation">\n                <div class="${t.container}" data-ref="eContainer" role="rowgroup"></div>\n            </div>`}else{e=`<div class="${t.container}" data-ref="eContainer" role="rowgroup"></div>`}return e}var $h=class extends ur{constructor(){super();this.eViewport=cr;this.eContainer=cr;this.rowComps={};this.name=ur.elementGettingCreated.getAttribute("name");this.options=Dh(this.name);this.setTemplate(Uh(this.options))}wireBeans(t){this.beans=t}postConstruct(){const t={setHorizontalScroll:t=>this.eViewport.scrollLeft=t,setViewportHeight:t=>this.eViewport.style.height=t,setRowCtrls:({rowCtrls:t})=>this.setRowCtrls(t),setDomOrder:t=>{this.domOrder=t},setContainerWidth:t=>this.eContainer.style.width=t,setOffsetTop:t=>this.eContainer.style.transform=`translateY(${t})`};const e=this.createManagedBean(new Lh(this.name));e.setComp(t,this.eContainer,this.eViewport)}destroy(){this.setRowCtrls([]);super.destroy();this.lastPlacedElement=null}setRowCtrls(t){const{rowComps:e,beans:i,options:s}=this;const r={...e};this.rowComps={};this.lastPlacedElement=null;const o=[];for(const e of t){const t=e.instanceId;const n=r[t];let a;if(n){a=n;delete r[t]}else{if(!e.getRowNode().displayed){continue}a=new Wh(e,i,s.type)}this.rowComps[t]=a;o.push([a,!n])}this.removeOldRows(Object.values(r));this.addRowNodes(o)}addRowNodes(t){const{domOrder:e,eContainer:i}=this;for(const[s,r]of t){const t=s.getGui();if(!e){if(r){i.appendChild(t)}}else{this.ensureDomOrder(t)}}}removeOldRows(t){const{eContainer:e}=this;for(const i of t){e.removeChild(i.getGui());i.destroy()}}ensureDomOrder(t){if(!this.domOrder){return}bs(this.eContainer,t,this.lastPlacedElement);this.lastPlacedElement=t}};var Qh={selector:"AG-ROW-CONTAINER",component:$h};function Kh(t){return t.map((t=>`<ag-row-container name="${t}"></ag-row-container>`)).join("")}var Yh=`<div class="ag-root ag-unselectable" role="treegrid">\n        <ag-header-root></ag-header-root>\n        <div class="ag-floating-top" data-ref="eTop" role="presentation">\n            ${Kh(["topLeft","topCenter","topRight","topFullWidth"])}\n        </div>\n        <div class="ag-body" data-ref="eBody" role="presentation">\n            <div class="ag-body-viewport" data-ref="eBodyViewport" role="presentation">\n            ${Kh(["left","center","right","fullWidth"])}\n            </div>\n            <ag-fake-vertical-scroll></ag-fake-vertical-scroll>\n        </div>\n        <div class="ag-sticky-top" data-ref="eStickyTop" role="presentation">\n            ${Kh(["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"])}\n        </div>\n        <div class="ag-sticky-bottom" data-ref="eStickyBottom" role="presentation">\n            ${Kh(["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"])}\n        </div>\n        <div class="ag-floating-bottom" data-ref="eBottom" role="presentation">\n            ${Kh(["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"])}\n        </div>\n        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>\n        <ag-overlay-wrapper></ag-overlay-wrapper>\n    </div>`;var qh=class extends ur{constructor(){super(Yh,[Fl,Il,El,Dl,Qh]);this.eBodyViewport=cr;this.eStickyTop=cr;this.eStickyBottom=cr;this.eTop=cr;this.eBottom=cr;this.eBody=cr}wireBeans(t){this.resizeObserverService=t.resizeObserverService;this.rangeService=t.rangeService}postConstruct(){const t=(t,e)=>{const i=`${t}px`;e.style.minHeight=i;e.style.height=i};const e={setRowAnimationCssOnBodyViewport:(t,e)=>this.setRowAnimationCssOnBodyViewport(t,e),setColumnCount:t=>$i(this.getGui(),t),setRowCount:t=>Wi(this.getGui(),t),setTopHeight:e=>t(e,this.eTop),setBottomHeight:e=>t(e,this.eBottom),setTopDisplay:t=>this.eTop.style.display=t,setBottomDisplay:t=>this.eBottom.style.display=t,setStickyTopHeight:t=>this.eStickyTop.style.height=t,setStickyTopTop:t=>this.eStickyTop.style.top=t,setStickyTopWidth:t=>this.eStickyTop.style.width=t,setStickyBottomHeight:t=>{this.eStickyBottom.style.height=t;this.eStickyBottom.classList.toggle("ag-hidden",t==="0px")},setStickyBottomBottom:t=>this.eStickyBottom.style.bottom=t,setStickyBottomWidth:t=>this.eStickyBottom.style.width=t,setColumnMovingCss:(t,e)=>this.addOrRemoveCssClass(t,e),updateLayoutClasses:(t,e)=>{const i=[this.eBodyViewport.classList,this.eBody.classList];i.forEach((t=>{t.toggle("ag-layout-auto-height",e.autoHeight);t.toggle("ag-layout-normal",e.normal);t.toggle("ag-layout-print",e.print)}));this.addOrRemoveCssClass("ag-layout-auto-height",e.autoHeight);this.addOrRemoveCssClass("ag-layout-normal",e.normal);this.addOrRemoveCssClass("ag-layout-print",e.print)},setAlwaysVerticalScrollClass:(t,e)=>this.eBodyViewport.classList.toggle(Gh,e),registerBodyViewportResizeListener:t=>{const e=this.resizeObserverService.observeResize(this.eBodyViewport,t);this.addDestroyFunc((()=>e()))},setPinnedTopBottomOverflowY:t=>this.eTop.style.overflowY=this.eBottom.style.overflowY=t,setCellSelectableCss:(t,e)=>{[this.eTop,this.eBodyViewport,this.eBottom].forEach((i=>i.classList.toggle(t,e)))},setBodyViewportWidth:t=>this.eBodyViewport.style.width=t};this.ctrl=this.createManagedBean(new Vh);this.ctrl.setComp(e,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom,this.eStickyTop,this.eStickyBottom);if(this.rangeService&&Tt(this.gos)||Bt(this.gos)){ji(this.getGui(),true)}}setRowAnimationCssOnBodyViewport(t,e){const i=this.eBodyViewport.classList;i.toggle("ag-row-animation",e);i.toggle("ag-row-no-animation",!e)}getFloatingTopBottom(){return[this.eTop,this.eBottom]}};var Zh={selector:"AG-GRID-BODY",component:qh};var _h=class extends fe{constructor(){super(...arguments);this.beanName="scrollVisibleService"}wireBeans(t){this.ctrlsService=t.ctrlsService;this.columnAnimationService=t.columnAnimationService}postConstruct(){this.getScrollbarWidth();this.addManagedEventListeners({displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this)})}onDisplayedColumnsChanged(){this.updateScrollVisible()}onDisplayedColumnsWidthChanged(){this.updateScrollVisible()}onCentreViewportResized(){this.updateScrollGap()}updateScrollVisible(){if(this.columnAnimationService.isActive()){this.columnAnimationService.executeLaterVMTurn((()=>{this.columnAnimationService.executeLaterVMTurn((()=>this.updateScrollVisibleImpl()))}))}else{this.updateScrollVisibleImpl()}}updateScrollVisibleImpl(){const t=this.ctrlsService.get("center");if(!t||this.columnAnimationService.isActive()){return}const e={horizontalScrollShowing:t.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(e);this.updateScrollGap()}updateScrollGap(){const t=this.ctrlsService.get("center");const e=t.hasHorizontalScrollGap();const i=t.hasVerticalScrollGap();const s=this.horizontalScrollGap!==e||this.verticalScrollGap!==i;if(s){this.horizontalScrollGap=e;this.verticalScrollGap=i;this.eventService.dispatchEvent({type:"scrollGapChanged"})}}setScrollsVisible(t){const e=this.horizontalScrollShowing!==t.horizontalScrollShowing||this.verticalScrollShowing!==t.verticalScrollShowing;if(e){this.horizontalScrollShowing=t.horizontalScrollShowing;this.verticalScrollShowing=t.verticalScrollShowing;this.eventService.dispatchEvent({type:"scrollVisibilityChanged"})}}isHorizontalScrollShowing(){return this.horizontalScrollShowing}isVerticalScrollShowing(){return this.verticalScrollShowing}hasHorizontalScrollGap(){return this.horizontalScrollGap}hasVerticalScrollGap(){return this.verticalScrollGap}getScrollbarWidth(){if(this.scrollbarWidth==null){const t=this.gos.get("scrollbarWidth");const e=typeof t==="number"&&t>=0;const i=e?t:tr();if(i!=null){this.scrollbarWidth=i;this.eventService.dispatchEvent({type:"scrollbarWidthChanged"})}}return this.scrollbarWidth}};var Jh="__ag_grid_instance";var Xh=class t extends fe{constructor(){super(...arguments);this.beanName="mouseEventService";this.gridInstanceId=t.gridInstanceSequence.next()}wireBeans(t){this.ctrlsService=t.ctrlsService}stampTopLevelGridCompWithGridInstance(t){t[Jh]=this.gridInstanceId}getRenderedCellForEvent(t){return he(this.gos,t.target,dh.DOM_DATA_KEY_CELL_CTRL)}isEventFromThisGrid(t){const e=this.isElementInThisGrid(t.target);return e}isElementInThisGrid(t){let e=t;while(e){const t=e[Jh];if(j(t)){const e=t===this.gridInstanceId;return e}e=e.parentElement}return false}getCellPositionForEvent(t){const e=this.getRenderedCellForEvent(t);return e?e.getCellPosition():null}getNormalisedPosition(t){const e=et(this.gos,"normal");const i=t;let s;let r;if(i.clientX!=null||i.clientY!=null){s=i.clientX;r=i.clientY}else{s=i.x;r=i.y}if(e){const t=this.ctrlsService.getGridBodyCtrl();const e=t.getScrollFeature().getVScrollPosition();const i=t.getScrollFeature().getHScrollPosition();s+=i.left;r+=e.top}return{x:s,y:r}}};Xh.gridInstanceSequence=new As;var tc=Xh;var ec=class extends fe{constructor(){super();this.beanName="navigationService";this.onPageDown=G(this.onPageDown,100);this.onPageUp=G(this.onPageUp,100)}wireBeans(t){this.mouseEventService=t.mouseEventService;this.pageBoundsService=t.pageBoundsService;this.focusService=t.focusService;this.columnModel=t.columnModel;this.visibleColsService=t.visibleColsService;this.rowModel=t.rowModel;this.ctrlsService=t.ctrlsService;this.rowRenderer=t.rowRenderer;this.headerNavigationService=t.headerNavigationService;this.rowPositionUtils=t.rowPositionUtils;this.cellNavigationService=t.cellNavigationService;this.pinnedRowModel=t.pinnedRowModel;this.scrollVisibleService=t.scrollVisibleService;this.rangeService=t.rangeService}postConstruct(){this.ctrlsService.whenReady(this,(t=>{this.gridBodyCon=t.gridBodyCtrl}))}handlePageScrollingKey(t,e=false){const i=t.key;const s=t.altKey;const r=t.ctrlKey||t.metaKey;const o=!!this.rangeService&&t.shiftKey;const n=this.mouseEventService.getCellPositionForEvent(t);let a=false;switch(i){case zr.PAGE_HOME:case zr.PAGE_END:if(!r&&!s){this.onHomeOrEndKey(i);a=true}break;case zr.LEFT:case zr.RIGHT:case zr.UP:case zr.DOWN:if(!n){return false}if(r&&!s&&!o){this.onCtrlUpDownLeftRight(i,n);a=true}break;case zr.PAGE_DOWN:case zr.PAGE_UP:if(!r&&!s){a=this.handlePageUpDown(i,n,e)}break}if(a){t.preventDefault()}return a}handlePageUpDown(t,e,i){if(i){e=this.focusService.getFocusedCell()}if(!e){return false}if(t===zr.PAGE_UP){this.onPageUp(e)}else{this.onPageDown(e)}return true}navigateTo(t){const{scrollIndex:e,scrollType:i,scrollColumn:s,focusIndex:r,focusColumn:o}=t;if(j(s)&&!s.isPinned()){this.gridBodyCon.getScrollFeature().ensureColumnVisible(s)}if(j(e)){this.gridBodyCon.getScrollFeature().ensureIndexVisible(e,i)}if(!t.isAsync){this.gridBodyCon.getScrollFeature().ensureIndexVisible(r)}this.focusService.setFocusedCell({rowIndex:r,column:o,rowPinned:null,forceBrowserFocus:true});this.rangeService?.setRangeToCell({rowIndex:r,rowPinned:null,column:o})}onPageDown(t){const e=this.ctrlsService.getGridBodyCtrl();const i=e.getScrollFeature().getVScrollPosition();const s=this.getViewportHeight();const r=this.pageBoundsService.getPixelOffset();const o=i.top+s;const n=this.rowModel.getRowIndexAtPixel(o+r);if(this.columnModel.isAutoRowHeightActive()){this.navigateToNextPageWithAutoHeight(t,n)}else{this.navigateToNextPage(t,n)}}onPageUp(t){const e=this.ctrlsService.getGridBodyCtrl();const i=e.getScrollFeature().getVScrollPosition();const s=this.pageBoundsService.getPixelOffset();const r=i.top;const o=this.rowModel.getRowIndexAtPixel(r+s);if(this.columnModel.isAutoRowHeightActive()){this.navigateToNextPageWithAutoHeight(t,o,true)}else{this.navigateToNextPage(t,o,true)}}navigateToNextPage(t,e,i=false){const s=this.getViewportHeight();const r=this.pageBoundsService.getFirstRow();const o=this.pageBoundsService.getLastRow();const n=this.pageBoundsService.getPixelOffset();const a=this.rowModel.getRow(t.rowIndex);const l=i?a?.rowHeight-s-n:s-n;const h=a?.rowTop+l;let c=this.rowModel.getRowIndexAtPixel(h+n);if(c===t.rowIndex){const s=i?-1:1;e=c=t.rowIndex+s}let u;if(i){u="bottom";if(c<r){c=r}if(e<r){e=r}}else{u="top";if(c>o){c=o}if(e>o){e=o}}if(this.isRowTallerThanView(c)){e=c;u="top"}this.navigateTo({scrollIndex:e,scrollType:u,scrollColumn:null,focusIndex:c,focusColumn:t.column})}navigateToNextPageWithAutoHeight(t,e,i=false){this.navigateTo({scrollIndex:e,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:e,focusColumn:t.column});setTimeout((()=>{const s=this.getNextFocusIndexForAutoHeight(t,i);this.navigateTo({scrollIndex:e,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:s,focusColumn:t.column,isAsync:true})}),50)}getNextFocusIndexForAutoHeight(t,e=false){const i=e?-1:1;const s=this.getViewportHeight();const r=this.pageBoundsService.getLastRow();let o=0;let n=t.rowIndex;while(n>=0&&n<=r){const t=this.rowModel.getRow(n);if(t){const e=t.rowHeight??0;if(o+e>s){break}o+=e}n+=i}return Math.max(0,Math.min(n,r))}getViewportHeight(){const t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition();const e=this.scrollVisibleService.getScrollbarWidth();let i=t.bottom-t.top;if(this.ctrlsService.get("center").isHorizontalScrollShowing()){i-=e}return i}isRowTallerThanView(t){const e=this.rowModel.getRow(t);if(!e){return false}const i=e.rowHeight;if(typeof i!=="number"){return false}return i>this.getViewportHeight()}onCtrlUpDownLeftRight(t,e){const i=this.cellNavigationService.getNextCellToFocus(t,e,true);const{rowIndex:s}=i;const r=i.column;this.navigateTo({scrollIndex:s,scrollType:null,scrollColumn:r,focusIndex:s,focusColumn:r})}onHomeOrEndKey(t){const e=t===zr.PAGE_HOME;const i=this.visibleColsService.getAllCols();const s=e?i[0]:$t(i);const r=e?this.pageBoundsService.getFirstRow():this.pageBoundsService.getLastRow();this.navigateTo({scrollIndex:r,scrollType:null,scrollColumn:s,focusIndex:r,focusColumn:s})}onTabKeyDown(t,e){const i=e.shiftKey;const s=this.tabToNextCellCommon(t,i,e);if(s!==false){if(s){e.preventDefault()}else if(s===null){this.focusService.allowFocusForNextGridCoreContainer(i)}return}if(i){const{rowIndex:i,rowPinned:s}=t.getRowPosition();const r=s?i===0:i===this.pageBoundsService.getFirstRow();if(r){if(this.gos.get("headerHeight")===0||this.focusService.isHeaderFocusSuppressed()){this.focusService.focusNextGridCoreContainer(true,true)}else{e.preventDefault();this.focusService.focusPreviousFromFirstCell(e)}}}else{if(t instanceof dh){t.focusCell(true)}if(!i&&this.focusService.focusOverlay(false)||this.focusService.focusNextGridCoreContainer(i)){e.preventDefault()}}}tabToNextCell(t,e){const i=this.focusService.getFocusedCell();if(!i){return false}let s=this.getCellByPosition(i);if(!s){s=this.rowRenderer.getRowByPosition(i);if(!s||!s.isFullWidth()){return false}}return!!this.tabToNextCellCommon(s,t,e)}tabToNextCellCommon(t,e,i){let s=t.isEditing();if(!s&&t instanceof dh){const e=t;const i=e.getRowCtrl();if(i){s=i.isEditing()}}let r;if(s){if(this.gos.get("editType")==="fullRow"){r=this.moveToNextEditingRow(t,e,i)}else{r=this.moveToNextEditingCell(t,e,i)}}else{r=this.moveToNextCellNotEditing(t,e)}if(r===null){return r}return r||!!this.focusService.getFocusedHeader()}moveToNextEditingCell(t,e,i=null){const s=t.getCellPosition();t.getGui().focus();t.stopEditing();const r=this.findNextCellToFocusOn(s,e,true);if(r===false){return null}if(r==null){return false}r.startEditing(null,true,i);r.focusCell(false);return true}moveToNextEditingRow(t,e,i=null){const s=t.getCellPosition();const r=this.findNextCellToFocusOn(s,e,true);if(r===false){return null}if(r==null){return false}const o=r.getCellPosition();const n=this.isCellEditable(s);const a=this.isCellEditable(o);const l=o&&s.rowIndex===o.rowIndex&&s.rowPinned===o.rowPinned;if(n){t.setFocusOutOnEditor()}if(!l){const e=t.getRowCtrl();e.stopEditing();const s=r.getRowCtrl();s.startRowEditing(void 0,void 0,i)}if(a){r.setFocusInOnEditor();r.focusCell()}else{r.focusCell(true)}return true}moveToNextCellNotEditing(t,e){const i=this.visibleColsService.getAllCols();let s;if(t instanceof ph){s={...t.getRowPosition(),column:e?i[0]:$t(i)}}else{s=t.getCellPosition()}const r=this.findNextCellToFocusOn(s,e,false);if(r===false){return null}if(r instanceof dh){r.focusCell(true)}else if(r){return this.tryToFocusFullWidthRow(r.getRowPosition(),e)}return j(r)}findNextCellToFocusOn(t,e,i){let s=t;while(true){if(t!==s){t=s}if(!e){s=this.getLastCellOfColSpan(s)}s=this.cellNavigationService.getNextTabbedCell(s,e);const r=this.gos.getCallback("tabToNextCell");if(j(r)){const o={backwards:e,editing:i,previousCellPosition:t,nextCellPosition:s?s:null};const n=r(o);if(n===true||n===null){if(n===null){P("Returning `null` from tabToNextCell is deprecated. Return `true` to stay on the current cell, or `false` to let the browser handle the tab behaviour.")}s=t}else if(n===false){return false}else{s={rowIndex:n.rowIndex,column:n.column,rowPinned:n.rowPinned}}}if(!s){return null}if(s.rowIndex<0){const t=this.headerNavigationService.getHeaderRowCount();this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:t+s.rowIndex,column:s.column},fromCell:true});return null}const o=this.gos.get("editType")==="fullRow";if(i&&!o){const t=this.isCellEditable(s);if(!t){continue}}this.ensureCellVisible(s);const n=this.getCellByPosition(s);if(!n){const t=this.rowRenderer.getRowByPosition(s);if(!t||!t.isFullWidth()||i){continue}return t}if(n.isSuppressNavigable()){continue}this.rangeService?.setRangeToCell(s);return n}}isCellEditable(t){const e=this.lookupRowNodeForCell(t);if(e){return t.column.isCellEditable(e)}return false}getCellByPosition(t){const e=this.rowRenderer.getRowByPosition(t);if(!e){return null}return e.getCellCtrl(t.column)}lookupRowNodeForCell(t){if(t.rowPinned==="top"){return this.pinnedRowModel.getPinnedTopRow(t.rowIndex)}if(t.rowPinned==="bottom"){return this.pinnedRowModel.getPinnedBottomRow(t.rowIndex)}return this.rowModel.getRow(t.rowIndex)}navigateToNextCell(t,e,i,s){let r=i;let o=false;while(r&&(r===i||!this.isValidNavigateCell(r))){if(this.gos.get("enableRtl")){if(e===zr.LEFT){r=this.getLastCellOfColSpan(r)}}else if(e===zr.RIGHT){r=this.getLastCellOfColSpan(r)}r=this.cellNavigationService.getNextCellToFocus(e,r);o=W(r)}if(o&&t&&t.key===zr.UP){r={rowIndex:-1,rowPinned:null,column:i.column}}if(s){const s=this.gos.getCallback("navigateToNextCell");if(j(s)){const o={key:e,previousCellPosition:i,nextCellPosition:r?r:null,event:t};const n=s(o);if(j(n)){r={rowPinned:n.rowPinned,rowIndex:n.rowIndex,column:n.column}}else{r=null}}}if(!r){return}if(r.rowIndex<0){const e=this.headerNavigationService.getHeaderRowCount();this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:e+r.rowIndex,column:i.column},event:t||void 0,fromCell:true});return}const n=this.getNormalisedPosition(r);if(n){this.focusPosition(n)}else{this.tryToFocusFullWidthRow(r)}}getNormalisedPosition(t){this.ensureCellVisible(t);const e=this.getCellByPosition(t);if(!e){return null}t=e.getCellPosition();this.ensureCellVisible(t);return t}tryToFocusFullWidthRow(t,e){const i=this.visibleColsService.getAllCols();const s=this.rowRenderer.getRowByPosition(t);if(!s||!s.isFullWidth()){return false}const r=this.focusService.getFocusedCell();const o={rowIndex:t.rowIndex,rowPinned:t.rowPinned,column:t.column||(e?$t(i):i[0])};this.focusPosition(o);const n=e==null?r!=null&&this.rowPositionUtils.before(o,r):e;this.eventService.dispatchEvent({type:"fullWidthRowFocused",rowIndex:o.rowIndex,rowPinned:o.rowPinned,column:o.column,isFullWidthCell:true,fromBelow:n});return true}focusPosition(t){this.focusService.setFocusedCell({rowIndex:t.rowIndex,column:t.column,rowPinned:t.rowPinned,forceBrowserFocus:true});this.rangeService?.setRangeToCell(t)}isValidNavigateCell(t){const e=this.rowPositionUtils.getRowNode(t);return!!e}getLastCellOfColSpan(t){const e=this.getCellByPosition(t);if(!e){return t}const i=e.getColSpanningList();if(i.length===1){return t}return{rowIndex:t.rowIndex,column:$t(i),rowPinned:t.rowPinned}}ensureCellVisible(t){const e=wt(this.gos);const i=this.rowModel.getRow(t.rowIndex);const s=e&&i?.sticky;if(!s&&W(t.rowPinned)){this.gridBodyCon.getScrollFeature().ensureIndexVisible(t.rowIndex)}if(!t.column.isPinned()){this.gridBodyCon.getScrollFeature().ensureColumnVisible(t.column)}}};var ic=class extends fe{constructor(){super(...arguments);this.beanName="horizontalResizeService"}wireBeans(t){this.dragService=t.dragService;this.ctrlsService=t.ctrlsService}addResizeBar(t){const e={dragStartPixels:t.dragStartPixels||0,eElement:t.eResizeBar,onDragStart:this.onDragStart.bind(this,t),onDragStop:this.onDragStop.bind(this,t),onDragging:this.onDragging.bind(this,t),onDragCancel:this.onDragStop.bind(this,t),includeTouch:true,stopPropagationForTouch:true};this.dragService.addDragSource(e);const i=()=>this.dragService.removeDragSource(e);return i}onDragStart(t,e){this.dragStartX=e.clientX;this.setResizeIcons();const i=e instanceof MouseEvent&&e.shiftKey===true;t.onResizeStart(i)}setResizeIcons(){const t=this.ctrlsService.get("gridCtrl");t.setResizeCursor(true);t.disableUserSelect(true)}onDragStop(t){t.onResizeEnd(this.resizeAmount);this.resetIcons()}resetIcons(){const t=this.ctrlsService.get("gridCtrl");t.setResizeCursor(false);t.disableUserSelect(false)}onDragging(t,e){this.resizeAmount=e.clientX-this.dragStartX;t.onResizing(this.resizeAmount)}};var sc=class extends fe{constructor(){super(...arguments);this.beanName="filterMenuFactory"}wireBeans(t){this.popupService=t.popupService;this.focusService=t.focusService;this.ctrlsService=t.ctrlsService;this.menuService=t.menuService}hideActiveMenu(){if(this.hidePopup){this.hidePopup()}}showMenuAfterMouseEvent(t,e,i){this.showPopup(t,(s=>{this.popupService.positionPopupUnderMouseEvent({column:t,type:i,mouseEvent:e,ePopup:s})}),i,e.target,this.menuService.isLegacyMenuEnabled())}showMenuAfterButtonClick(t,e,i){let s=-1;let r="left";const o=this.menuService.isLegacyMenuEnabled();if(!o&&this.gos.get("enableRtl")){s=1;r="right"}const n=o?void 0:4*s;const a=o?void 0:4;this.showPopup(t,(s=>{this.popupService.positionPopupByComponent({type:i,eventSource:e,ePopup:s,nudgeX:n,nudgeY:a,alignSide:r,keepWithinBounds:true,position:"under",column:t})}),i,e,o)}showPopup(t,e,i,s,r){const o=t?this.createBean(new Oo(t,"COLUMN_MENU")):void 0;this.activeMenu=o;if(!o?.hasFilter()||!t){throw new Error("AG Grid - unable to show popup filter, filter instantiation failed")}const n=document.createElement("div");Pi(n,"presentation");n.classList.add("ag-menu");if(!r){n.classList.add("ag-filter-menu")}[this.tabListener]=this.addManagedElementListeners(n,{keydown:t=>this.trapFocusWithin(t,n)});n.appendChild(o?.getGui());let a;const l=()=>o?.afterGuiDetached();const h=this.menuService.isColumnMenuAnchoringEnabled()?s??this.ctrlsService.getGridBodyCtrl().getGui():void 0;const c=e=>{t.setMenuVisible(false,"contextMenu");const r=e instanceof KeyboardEvent;if(this.tabListener){this.tabListener=this.tabListener()}if(r&&s&&vs(s)){const t=this.focusService.findTabbableParent(s);if(t){t.focus()}}l();this.destroyBean(this.activeMenu);this.dispatchVisibleChangedEvent(false,i,t)};const u=this.localeService.getLocaleTextFunc();const d=r&&i!=="columnFilter"?u("ariaLabelColumnMenu","Column Menu"):u("ariaLabelColumnFilter","Column Filter");const g=this.popupService.addPopup({modal:true,eChild:n,closeOnEsc:true,closedCallback:c,positionCallback:()=>e(n),anchorToElement:h,ariaLabel:d});if(g){this.hidePopup=a=g.hideFunc}o.afterInit().then((()=>{e(n);o.afterGuiAttached({container:i,hidePopup:a})}));t.setMenuVisible(true,"contextMenu");this.dispatchVisibleChangedEvent(true,i,t)}trapFocusWithin(t,e){if(t.key!==zr.TAB||t.defaultPrevented||this.focusService.findNextFocusableElement(e,false,t.shiftKey)){return}t.preventDefault();this.focusService.focusInto(e,t.shiftKey)}dispatchVisibleChangedEvent(t,e,i){this.eventService.dispatchEvent({type:"columnMenuVisibleChanged",visible:t,switchingTab:false,key:e,column:i??null,columnGroup:null})}isMenuEnabled(t){return t.isFilterAllowed()&&(t.getColDef().menuTabs??["filterMenuTab"]).includes("filterMenuTab")}showMenuAfterContextMenuEvent(){}destroy(){this.destroyBean(this.activeMenu);super.destroy()}};var rc=class extends fe{constructor(){super(...arguments);this.beanName="resizeObserverService"}observeResize(t,e){const i=gt(this.gos);const s=i.ResizeObserver;const r=s?new s(e):null;r?.observe(t);return()=>r?.disconnect()}};var oc=class extends fe{constructor(){super(...arguments);this.beanName="animationFrameService";this.createTasksP1={list:[],sorted:false};this.createTasksP2={list:[],sorted:false};this.destroyTasks=[];this.ticking=false;this.scrollGoingDown=true;this.lastPage=0;this.lastScrollTop=0;this.taskCount=0;this.cancelledTasks=new Set}wireBeans(t){this.ctrlsService=t.ctrlsService;this.paginationService=t.paginationService}setScrollTop(t){const e=this.gos.get("pagination");this.scrollGoingDown=t>=this.lastScrollTop;if(e&&t===0){const t=this.paginationService?.getCurrentPage()??0;if(t!==this.lastPage){this.lastPage=t;this.scrollGoingDown=true}}this.lastScrollTop=t}postConstruct(){this.useAnimationFrame=!this.gos.get("suppressAnimationFrame")}isOn(){return this.useAnimationFrame}verifyAnimationFrameOn(t){if(this.useAnimationFrame===false){P(`AnimationFrameService.${t} called but animation frames are off`)}}createTask(t,e,i){this.verifyAnimationFrameOn(i);const s={task:t,index:e,createOrder:++this.taskCount};this.addTaskToList(this[i],s);this.schedule()}cancelTask(t){this.cancelledTasks.add(t)}addTaskToList(t,e){t.list.push(e);t.sorted=false}sortTaskList(t){if(t.sorted){return}const e=this.scrollGoingDown?1:-1;t.list.sort(((t,i)=>t.index!==i.index?e*(i.index-t.index):i.createOrder-t.createOrder));t.sorted=true}addDestroyTask(t){this.verifyAnimationFrameOn("createTasksP3");this.destroyTasks.push(t);this.schedule()}executeFrame(t){this.verifyAnimationFrameOn("executeFrame");const e=this.createTasksP1;const i=e.list;const s=this.createTasksP2;const r=s.list;const o=this.destroyTasks;const n=(new Date).getTime();let a=(new Date).getTime()-n;const l=t<=0;const h=this.ctrlsService.getGridBodyCtrl();while(l||a<t){const t=h.getScrollFeature().scrollGridIfNeeded();if(!t){let t;if(i.length){this.sortTaskList(e);t=i.pop().task}else if(r.length){this.sortTaskList(s);t=r.pop().task}else if(o.length){t=o.pop()}else{this.cancelledTasks.clear();break}if(!this.cancelledTasks.has(t)){t()}}a=(new Date).getTime()-n}if(i.length||r.length||o.length){this.requestFrame()}else{this.stopTicking()}}stopTicking(){this.ticking=false}flushAllFrames(){if(!this.useAnimationFrame){return}this.executeFrame(-1)}schedule(){if(!this.useAnimationFrame){return}if(!this.ticking){this.ticking=true;this.requestFrame()}}requestFrame(){const t=this.executeFrame.bind(this,60);this.requestAnimationFrame(t)}requestAnimationFrame(t){const e=gt(this.gos);if(e.requestAnimationFrame){e.requestAnimationFrame(t)}else if(e.webkitRequestAnimationFrame){e.webkitRequestAnimationFrame(t)}else{e.setTimeout(t,0)}}isQueueEmpty(){return!this.ticking}debounce(t){let e=false;return()=>{if(!this.isOn()){window.setTimeout(t,0);return}if(e){return}e=true;this.addDestroyTask((()=>{e=false;t()}))}}};var nc=class extends fe{constructor(){super(...arguments);this.beanName="expansionService"}wireBeans(t){this.rowModel=t.rowModel}postConstruct(){this.isClientSideRowModel=X(this.gos)}expandRows(t){if(!this.isClientSideRowModel){return}const e=new Set(t);this.rowModel.forEachNode((t=>{if(t.id&&e.has(t.id)){t.expanded=true}}));this.onGroupExpandedOrCollapsed()}getExpandedRows(){const t=[];this.rowModel.forEachNode((({expanded:e,id:i})=>{if(e&&i){t.push(i)}}));return t}expandAll(t){if(!this.isClientSideRowModel){return}this.rowModel.expandOrCollapseAll(t)}setRowNodeExpanded(t,e,i,s){if(t){if(i&&t.parent&&t.parent.level!==-1){this.setRowNodeExpanded(t.parent,e,i,s)}t.setExpanded(e,void 0,s)}}onGroupExpandedOrCollapsed(){if(!this.isClientSideRowModel){return}this.rowModel.refreshModel({step:"map"})}};var ac=class extends fe{constructor(){super(...arguments);this.beanName="menuService"}wireBeans(t){this.valueService=t.valueService;this.filterMenuFactory=t.filterMenuFactory;this.ctrlsService=t.ctrlsService;this.animationFrameService=t.animationFrameService;this.filterManager=t.filterManager;this.rowRenderer=t.rowRenderer;this.columnChooserFactory=t.columnChooserFactory;this.contextMenuFactory=t.contextMenuFactory;this.enterpriseMenuFactory=t.enterpriseMenuFactory}postConstruct(){this.activeMenuFactory=this.enterpriseMenuFactory??this.filterMenuFactory}showColumnMenu(t){this.showColumnMenuCommon(this.activeMenuFactory,t,"columnMenu")}showFilterMenu(t){const e=this.enterpriseMenuFactory&&this.isLegacyMenuEnabled()?this.enterpriseMenuFactory:this.filterMenuFactory;this.showColumnMenuCommon(e,t,t.containerType,true)}showHeaderContextMenu(t,e,i){this.activeMenuFactory.showMenuAfterContextMenuEvent(t,e,i)}getContextMenuPosition(t,e){const i=this.getRowCtrl(t);const s=this.getCellGui(i,e);if(!s){if(i){return{x:0,y:i.getRowYPosition()}}return{x:0,y:0}}const r=s.getBoundingClientRect();return{x:r.x+r.width/2,y:r.y+r.height/2}}showContextMenu(t){const e=t.rowNode;const i=t.column;let{anchorToElement:s,value:r}=t;if(e&&i&&r==null){r=this.valueService.getValueForDisplay(i,e)}if(s==null){s=this.getContextMenuAnchorElement(e,i)}this.contextMenuFactory?.onContextMenu(t.mouseEvent??null,t.touchEvent??null,e??null,i??null,r,s)}showColumnChooser(t){this.columnChooserFactory?.showColumnChooser(t)}hidePopupMenu(){this.contextMenuFactory?.hideActiveMenu();this.activeMenuFactory.hideActiveMenu()}hideColumnChooser(){this.columnChooserFactory?.hideActiveColumnChooser()}isColumnMenuInHeaderEnabled(t){const{suppressMenu:e,suppressHeaderMenuButton:i}=t.getColDef();const s=i??e;return!s&&this.activeMenuFactory.isMenuEnabled(t)&&(this.isLegacyMenuEnabled()||!!this.enterpriseMenuFactory)}isFilterMenuInHeaderEnabled(t){return!t.getColDef().suppressHeaderFilterButton&&!!this.filterManager?.isFilterAllowed(t)}isHeaderContextMenuEnabled(t){const e=t&&Ge(t)?t.getColDef():t?.getColGroupDef();return!e?.suppressHeaderContextMenu&&this.getColumnMenuType()==="new"}isHeaderMenuButtonAlwaysShowEnabled(){return this.isSuppressMenuHide()}isHeaderMenuButtonEnabled(){const t=!this.isSuppressMenuHide();const e=Ys()&&t;return!e}isHeaderFilterButtonEnabled(t){return this.isFilterMenuInHeaderEnabled(t)&&!this.isLegacyMenuEnabled()&&!this.isFloatingFilterButtonDisplayed(t)}isFilterMenuItemEnabled(t){return!!this.filterManager?.isFilterAllowed(t)&&!this.isLegacyMenuEnabled()&&!this.isFilterMenuInHeaderEnabled(t)&&!this.isFloatingFilterButtonDisplayed(t)}isColumnMenuAnchoringEnabled(){return!this.isLegacyMenuEnabled()}areAdditionalColumnMenuItemsEnabled(){return this.getColumnMenuType()==="new"}isLegacyMenuEnabled(){return this.getColumnMenuType()==="legacy"}isFloatingFilterButtonEnabled(t){const e=t.getColDef();const i=e.floatingFilterComponentParams?.suppressFilterButton;if(i!=null){P(`As of v31.1, 'colDef.floatingFilterComponentParams.suppressFilterButton' is deprecated. Use 'colDef.suppressFloatingFilterButton' instead.`)}return e.suppressFloatingFilterButton==null?!i:!e.suppressFloatingFilterButton}getColumnMenuType(){return this.gos.get("columnMenu")}isFloatingFilterButtonDisplayed(t){return!!t.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(t)}isSuppressMenuHide(){const t=this.gos.get("suppressMenuHide");if(this.isLegacyMenuEnabled()){return this.gos.exists("suppressMenuHide")?t:false}return t}showColumnMenuCommon(t,e,i,s){const{positionBy:r}=e;const o=e.column;if(r==="button"){const{buttonElement:r}=e;t.showMenuAfterButtonClick(o,r,i,s)}else if(r==="mouse"){const{mouseEvent:r}=e;t.showMenuAfterMouseEvent(o,r,i,s)}else if(o){this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(o,"auto");this.animationFrameService.requestAnimationFrame((()=>{const e=this.ctrlsService.getHeaderRowContainerCtrl(o.getPinned())?.getHeaderCtrlForColumn(o);if(e){t.showMenuAfterButtonClick(o,e.getAnchorElementForMenu(s),i,true)}}))}}getRowCtrl(t){const{rowIndex:e,rowPinned:i}=t||{};if(e==null){return}return this.rowRenderer.getRowByPosition({rowIndex:e,rowPinned:i})||void 0}getCellGui(t,e){if(!t||!e){return}const i=t.getCellCtrl(e);return i?.getGui()||void 0}getContextMenuAnchorElement(t,e){const i=this.ctrlsService.getGridBodyCtrl().getGridBodyElement();const s=this.getRowCtrl(t);if(!s){return i}const r=this.getCellGui(s,e);if(r){return r}if(s.isFullWidth()){return s.getFullWidthElement()}return i}};var lc=class extends Ar{constructor(t){super(t,"ag-text-area",null,"textarea")}setValue(t,e){const i=super.setValue(t,e);this.eInput.value=t;return i}setCols(t){this.eInput.cols=t;return this}setRows(t){this.eInput.rows=t;return this}};var hc={selector:"AG-INPUT-TEXT-AREA",component:lc};var cc=class extends jr{constructor(){super(`<div class="ag-large-text">\n        <ag-input-text-area data-ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>\n        </div>`,[hc]);this.eTextArea=cr}init(t){this.params=t;this.focusAfterAttached=t.cellStartedEdit;this.eTextArea.setMaxLength(t.maxLength||200).setCols(t.cols||60).setRows(t.rows||10);if(j(t.value,true)){this.eTextArea.setValue(t.value.toString(),true)}this.addGuiEventListener("keydown",this.onKeyDown.bind(this));this.activateTabIndex()}onKeyDown(t){const e=t.key;if(e===zr.LEFT||e===zr.UP||e===zr.RIGHT||e===zr.DOWN||t.shiftKey&&e===zr.ENTER){t.stopPropagation()}}afterGuiAttached(){const t=this.localeService.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(t("ariaInputEditor","Input Editor"));if(this.focusAfterAttached){this.eTextArea.getFocusableElement().focus()}}getValue(){const t=this.eTextArea.getValue();if(!j(t)&&!j(this.params.value)){return this.params.value}return this.params.parseValue(t)}};var uc=class extends jr{constructor(t){super(`<div class="ag-popup-editor" tabindex="-1"/>`);this.params=t}postConstruct(){ut(this.gos,this.getGui(),"popupEditorWrapper",true);this.addKeyDownListener()}addKeyDownListener(){const t=this.getGui();const e=this.params;const i=t=>{if(!hn(this.gos,t,e.node,e.column,true)){e.onKeyDown(t)}};this.addManagedElementListeners(t,{keydown:i})}};var dc=class extends jr{constructor(){super(`<div class="ag-cell-edit-wrapper">\n                <ag-select class="ag-cell-editor" data-ref="eSelect"></ag-select>\n            </div>`,[_o]);this.eSelect=cr;this.startedByEnter=false}wireBeans(t){this.valueService=t.valueService}init(t){this.focusAfterAttached=t.cellStartedEdit;const{eSelect:e,valueService:i,gos:s}=this;const{values:r,value:o,eventKey:n}=t;if(W(r)){P("no values found for select cellEditor");return}this.startedByEnter=n!=null?n===zr.ENTER:false;let a=false;r.forEach((s=>{const r={value:s};const n=i.formatValue(t.column,null,s);const l=n!==null&&n!==void 0;r.text=l?n:s;e.addOption(r);a=a||o===s}));if(a){e.setValue(t.value,true)}else if(t.values.length){e.setValue(t.values[0],true)}const{valueListGap:l,valueListMaxWidth:h,valueListMaxHeight:c}=t;if(l!=null){e.setPickerGap(l)}if(c!=null){e.setPickerMaxHeight(c)}if(h!=null){e.setPickerMaxWidth(h)}if(s.get("editType")!=="fullRow"){this.addManagedListeners(this.eSelect,{selectedItem:()=>t.stopEditing()})}}afterGuiAttached(){if(this.focusAfterAttached){this.eSelect.getFocusableElement().focus()}if(this.startedByEnter){setTimeout((()=>{if(this.isAlive()){this.eSelect.showPicker()}}))}}focusIn(){this.eSelect.getFocusableElement().focus()}getValue(){return this.eSelect.getValue()}isPopup(){return false}};var gc=class extends jr{constructor(t){super(`\n            <div class="ag-cell-edit-wrapper">\n                ${t.getTemplate()}\n            </div>`,t.getAgComponents());this.cellEditorInput=t;this.eInput=cr}init(t){this.params=t;const{cellStartedEdit:e,eventKey:i,suppressPreventDefault:s}=t;const r=this.eInput;this.cellEditorInput.init(r,t);let o;let n=true;if(e){this.focusAfterAttached=true;if(i===zr.BACKSPACE||i===zr.DELETE){o=""}else if(i&&i.length===1){if(s){n=false}else{o=i}}else{o=this.cellEditorInput.getStartValue();if(i!==zr.F2){this.highlightAllOnFocus=true}}}else{this.focusAfterAttached=false;o=this.cellEditorInput.getStartValue()}if(n&&o!=null){r.setStartValue(o)}this.addManagedElementListeners(r.getGui(),{keydown:t=>{const{key:e}=t;if(e===zr.PAGE_UP||e===zr.PAGE_DOWN){t.preventDefault()}}})}afterGuiAttached(){const t=this.localeService.getLocaleTextFunc();const e=this.eInput;e.setInputAriaLabel(t("ariaInputEditor","Input Editor"));if(!this.focusAfterAttached){return}if(!Ws()){e.getFocusableElement().focus()}const i=e.getInputElement();if(this.highlightAllOnFocus){i.select()}else{this.cellEditorInput.setCaret?.()}}focusIn(){const t=this.eInput;const e=t.getFocusableElement();const i=t.getInputElement();e.focus();i.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return false}};var fc=class{getTemplate(){return`<ag-input-text-field class="ag-cell-editor" data-ref="eInput"></ag-input-text-field>`}getAgComponents(){return[fn]}init(t,e){this.eInput=t;this.params=e;if(e.maxLength!=null){t.setMaxLength(e.maxLength)}}getValue(){const t=this.eInput.getValue();if(!j(t)&&!j(this.params.value)){return this.params.value}return this.params.parseValue(t)}getStartValue(){const t=this.params.useFormatter||this.params.column.getColDef().refData;return t?this.params.formatValue(this.params.value):this.params.value}setCaret(){const t=this.eInput.getValue();const e=j(t)&&t.length||0;if(e){this.eInput.getInputElement().setSelectionRange(e,e)}}};var pc=class extends gc{constructor(){super(new fc)}};var mc=class{getTemplate(){return`<ag-input-number-field class="ag-cell-editor" data-ref="eInput"></ag-input-number-field>`}getAgComponents(){return[mn]}init(t,e){this.eInput=t;this.params=e;if(e.max!=null){t.setMax(e.max)}if(e.min!=null){t.setMin(e.min)}if(e.precision!=null){t.setPrecision(e.precision)}if(e.step!=null){t.setStep(e.step)}const i=t.getInputElement();if(e.preventStepping){t.addManagedElementListeners(i,{keydown:this.preventStepping})}else if(e.showStepperButtons){i.classList.add("ag-number-field-input-stepper")}}preventStepping(t){if(t.key===zr.UP||t.key===zr.DOWN){t.preventDefault()}}getValue(){const t=this.eInput.getValue();if(!j(t)&&!j(this.params.value)){return this.params.value}let e=this.params.parseValue(t);if(e==null){return e}if(typeof e==="string"){if(e===""){return null}e=Number(e)}return isNaN(e)?null:e}getStartValue(){return this.params.value}setCaret(){if(Ws()){this.eInput.getInputElement().focus({preventScroll:true})}}};var vc=class extends gc{constructor(){super(new mc)}};var wc=class extends gn{constructor(t){super(t,"ag-date-field","date")}postConstruct(){super.postConstruct();const t=Ws();this.addManagedListeners(this.eInput,{wheel:this.onWheel.bind(this),mousedown:()=>{if(this.isDisabled()||t){return}this.eInput.focus()}});this.eInput.step="any"}onWheel(t){if(pt(this.gos)===this.eInput){t.preventDefault()}}setMin(t){const e=t instanceof Date?In(t??null,false)??void 0:t;if(this.min===e){return this}this.min=e;Is(this.eInput,"min",e);return this}setMax(t){const e=t instanceof Date?In(t??null,false)??void 0:t;if(this.max===e){return this}this.max=e;Is(this.eInput,"max",e);return this}setStep(t){if(this.step===t){return this}this.step=t;Is(this.eInput,"step",t);return this}getDate(){if(!this.eInput.validity.valid){return void 0}return En(this.getValue())??void 0}setDate(t,e){this.setValue(In(t??null,false),e)}};var bc={selector:"AG-INPUT-DATE-FIELD",component:wc};var yc=class{getTemplate(){return`<ag-input-date-field class="ag-cell-editor" data-ref="eInput"></ag-input-date-field>`}getAgComponents(){return[bc]}init(t,e){this.eInput=t;this.params=e;if(e.min!=null){t.setMin(e.min)}if(e.max!=null){t.setMax(e.max)}if(e.step!=null){t.setStep(e.step)}}getValue(){const t=this.eInput.getDate();if(!j(t)&&!j(this.params.value)){return this.params.value}return t??null}getStartValue(){const{value:t}=this.params;if(!(t instanceof Date)){return void 0}return In(t,false)}};var Cc=class extends gc{constructor(){super(new yc)}};var xc=class{constructor(t){this.getDataTypeService=t}getTemplate(){return`<ag-input-date-field class="ag-cell-editor" data-ref="eInput"></ag-input-date-field>`}getAgComponents(){return[bc]}init(t,e){this.eInput=t;this.params=e;if(e.min!=null){t.setMin(e.min)}if(e.max!=null){t.setMax(e.max)}if(e.step!=null){t.setStep(e.step)}}getValue(){const t=this.formatDate(this.eInput.getDate());if(!j(t)&&!j(this.params.value)){return this.params.value}return this.params.parseValue(t??"")}getStartValue(){return In(this.parseDate(this.params.value??void 0)??null,false)}parseDate(t){const e=this.getDataTypeService();return e?e.getDateParserFunction(this.params.column)(t):En(t)??void 0}formatDate(t){const e=this.getDataTypeService();return e?e.getDateFormatterFunction(this.params.column)(t):In(t??null,false)??void 0}};var kc=class extends gc{wireBeans(t){this.dataTypeService=t.dataTypeService}constructor(){super(new xc((()=>this.dataTypeService)))}};var Sc=class extends jr{constructor(){super(`\n            <div class="ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit">\n                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>\n            </div>`,[Nr]);this.eCheckbox=cr}init(t){this.params=t;const e=t.value??void 0;this.eCheckbox.setValue(e);const i=this.eCheckbox.getInputElement();i.setAttribute("tabindex","-1");this.setAriaLabel(e);this.addManagedListeners(this.eCheckbox,{fieldValueChanged:t=>this.setAriaLabel(t.selected)})}getValue(){return this.eCheckbox.getValue()}focusIn(){this.eCheckbox.getFocusableElement().focus()}afterGuiAttached(){if(this.params.cellStartedEdit){this.focusIn()}}isPopup(){return false}setAriaLabel(t){const e=this.localeService.getLocaleTextFunc();const i=Ji(e,t);const s=e("ariaToggleCellValue","Press SPACE to toggle cell value");this.eCheckbox.setInputAriaLabel(`${s} (${i})`)}};var Dc=class{constructor(t){this.cellValueChanges=t}};var Mc=class extends Dc{constructor(t,e,i,s){super(t);this.initialRange=e;this.finalRange=i;this.ranges=s}};var Rc=10;var Fc=class{constructor(t){this.actionStack=[];this.maxStackSize=t?t:Rc;this.actionStack=new Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(t){const e=t.cellValueChanges&&t.cellValueChanges.length>0;if(!e){return}if(this.actionStack.length===this.maxStackSize){this.actionStack.shift()}this.actionStack.push(t)}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}};var Pc=class extends fe{constructor(){super(...arguments);this.beanName="undoRedoService";this.cellValueChanges=[];this.activeCellEdit=null;this.activeRowEdit=null;this.isPasting=false;this.isRangeInAction=false;this.onCellValueChanged=t=>{const e={column:t.column,rowIndex:t.rowIndex,rowPinned:t.rowPinned};const i=this.activeCellEdit!==null&&this.cellPositionUtils.equals(this.activeCellEdit,e);const s=this.activeRowEdit!==null&&this.rowPositionUtils.sameRow(this.activeRowEdit,e);const r=i||s||this.isPasting||this.isRangeInAction;if(!r){return}const{rowPinned:o,rowIndex:n,column:a,oldValue:l,value:h}=t;const c={rowPinned:o,rowIndex:n,columnId:a.getColId(),newValue:h,oldValue:l};this.cellValueChanges.push(c)};this.clearStacks=()=>{this.undoStack.clear();this.redoStack.clear()}}wireBeans(t){this.focusService=t.focusService;this.ctrlsService=t.ctrlsService;this.cellPositionUtils=t.cellPositionUtils;this.rowPositionUtils=t.rowPositionUtils;this.columnModel=t.columnModel;this.rangeService=t.rangeService}postConstruct(){if(!this.gos.get("undoRedoCellEditing")){return}const t=this.gos.get("undoRedoCellEditingLimit");if(t<=0){return}this.undoStack=new Fc(t);this.redoStack=new Fc(t);this.addListeners();const e=this.clearStacks.bind(this);this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this),modelUpdated:t=>{if(!t.keepUndoRedoStack){this.clearStacks()}},columnPivotModeChanged:e,newColumnsLoaded:e,columnGroupOpened:e,columnRowGroupChanged:e,columnMoved:e,columnPinned:e,columnVisible:e,rowDragEnd:e});this.ctrlsService.whenReady(this,(t=>{this.gridBodyCtrl=t.gridBodyCtrl}))}getCurrentUndoStackSize(){return this.undoStack?this.undoStack.getCurrentStackSize():0}getCurrentRedoStackSize(){return this.redoStack?this.redoStack.getCurrentStackSize():0}undo(t){this.eventService.dispatchEvent({type:"undoStarted",source:t});const e=this.undoRedo(this.undoStack,this.redoStack,"initialRange","oldValue","undo");this.eventService.dispatchEvent({type:"undoEnded",source:t,operationPerformed:e})}redo(t){this.eventService.dispatchEvent({type:"redoStarted",source:t});const e=this.undoRedo(this.redoStack,this.undoStack,"finalRange","newValue","redo");this.eventService.dispatchEvent({type:"redoEnded",source:t,operationPerformed:e})}undoRedo(t,e,i,s,r){if(!t){return false}const o=t.pop();if(!o||!o.cellValueChanges){return false}this.processAction(o,(t=>t[s]),r);if(o instanceof Mc){this.processRange(this.rangeService,o.ranges||[o[i]])}else{this.processCell(o.cellValueChanges)}e.push(o);return true}processAction(t,e,i){t.cellValueChanges.forEach((t=>{const{rowIndex:s,rowPinned:r,columnId:o}=t;const n={rowIndex:s,rowPinned:r};const a=this.rowPositionUtils.getRowNode(n);if(!a.displayed){return}a.setDataValue(o,e(t),i)}))}processRange(t,e){let i;t.removeAllCellRanges(true);e.forEach(((s,r)=>{if(!s){return}const o=s.startRow;const n=s.endRow;if(r===e.length-1){i={rowPinned:o.rowPinned,rowIndex:o.rowIndex,columnId:s.startColumn.getColId()};this.setLastFocusedCell(i)}const a={rowStartIndex:o.rowIndex,rowStartPinned:o.rowPinned,rowEndIndex:n.rowIndex,rowEndPinned:n.rowPinned,columnStart:s.startColumn,columns:s.columns};t.addCellRange(a)}))}processCell(t){const e=t[0];const{rowIndex:i,rowPinned:s}=e;const r={rowIndex:i,rowPinned:s};const o=this.rowPositionUtils.getRowNode(r);const n={rowPinned:e.rowPinned,rowIndex:o.rowIndex,columnId:e.columnId};this.setLastFocusedCell(n,this.rangeService)}setLastFocusedCell(t,e){const{rowIndex:i,columnId:s,rowPinned:r}=t;const o=this.gridBodyCtrl.getScrollFeature();const n=this.columnModel.getCol(s);if(!n){return}o.ensureIndexVisible(i);o.ensureColumnVisible(n);const a={rowIndex:i,column:n,rowPinned:r};this.focusService.setFocusedCell({...a,forceBrowserFocus:true});e?.setRangeToCell(a)}addListeners(){this.addManagedEventListeners({rowEditingStarted:t=>{this.activeRowEdit={rowIndex:t.rowIndex,rowPinned:t.rowPinned}},rowEditingStopped:()=>{const t=new Dc(this.cellValueChanges);this.pushActionsToUndoStack(t);this.activeRowEdit=null},cellEditingStarted:t=>{this.activeCellEdit={column:t.column,rowIndex:t.rowIndex,rowPinned:t.rowPinned}},cellEditingStopped:t=>{this.activeCellEdit=null;const e=t.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction;if(e){const t=new Dc(this.cellValueChanges);this.pushActionsToUndoStack(t)}},pasteStart:()=>{this.isPasting=true},pasteEnd:()=>{const t=new Dc(this.cellValueChanges);this.pushActionsToUndoStack(t);this.isPasting=false},fillStart:()=>{this.isRangeInAction=true},fillEnd:t=>{const e=new Mc(this.cellValueChanges,t.initialRange,t.finalRange);this.pushActionsToUndoStack(e);this.isRangeInAction=false},keyShortcutChangedCellStart:()=>{this.isRangeInAction=true},keyShortcutChangedCellEnd:()=>{let t;if(this.rangeService&&Tt(this.gos)){t=new Mc(this.cellValueChanges,void 0,void 0,[...this.rangeService.getCellRanges()])}else{t=new Dc(this.cellValueChanges)}this.pushActionsToUndoStack(t);this.isRangeInAction=false}})}pushActionsToUndoStack(t){this.undoStack.push(t);this.cellValueChanges=[];this.redoStack.clear()}};function zc(t){return t.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition()}function Ic(t){return t.ctrlsService.getGridBodyCtrl().getScrollFeature().getHScrollPosition()}function Tc(t,e,i="auto"){t.frameworkOverrides.wrapIncoming((()=>t.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(e,i)),"ensureVisible")}function Ac(t,e,i){t.frameworkOverrides.wrapIncoming((()=>t.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureIndexVisible(e,i)),"ensureVisible")}function Ec(t,e,i=null){t.frameworkOverrides.wrapIncoming((()=>t.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureNodeVisible(e,i)),"ensureVisible")}function Nc(t){t.undoRedoService?.undo("api")}function Oc(t){t.undoRedoService?.redo("api")}function Lc(t,e={}){const i=t.rowRenderer.getCellEditorInstances(e);const s=i.map(wo);return s}function Gc(t){return t.rowRenderer.getEditingCells()}function Hc(t,e=false){t.rowRenderer.stopEditing(e)}function Bc(t,e){const i=t.columnModel.getCol(e.colKey);if(!i){P(`no column found for ${e.colKey}`);return}const s={rowIndex:e.rowIndex,rowPinned:e.rowPinned||null,column:i};const r=e.rowPinned==null;if(r){Ac(t,e.rowIndex)}Tc(t,e.colKey);const o=t.navigationService.getCellByPosition(s);if(!o){return}const{focusService:n,gos:a}=t;const l=()=>{const t=pt(a);const e=o.getGui();return t!==e&&!!e?.contains(t)};const h=a.get("stopEditingWhenCellsLoseFocus")&&l();if(h||!n.isCellFocused(s)){n.setFocusedCell({...s,forceBrowserFocus:h,preventScrollOnBrowserFocus:true})}o.startRowOrCellEdit(e.key)}function Vc(t){return t.undoRedoService?.getCurrentUndoStackSize()??0}function jc(t){return t.undoRedoService?.getCurrentRedoStackSize()??0}var Wc=class extends fe{constructor(){super(...arguments);this.beanName="editService"}wireBeans(t){this.navigationService=t.navigationService;this.userComponentFactory=t.userComponentFactory;this.valueService=t.valueService}startEditing(t,e=null,i=false,s=null){const r=this.createCellEditorParams(t,e,i);const o=t.getColumn().getColDef();const n=this.userComponentFactory.getCellEditorDetails(o,r);const a=n?.popupFromSelector!=null?n.popupFromSelector:!!o.cellEditorPopup;const l=n?.popupPositionFromSelector!=null?n.popupPositionFromSelector:o.cellEditorPopupPosition;t.setEditing(true,n);t.getComp().setEditDetails(n,a,l,this.gos.get("reactiveCustomComponents"));this.eventService.dispatchEvent(t.createEvent(s,"cellEditingStarted"));return!n?.params?.suppressPreventDefault}stopEditing(t,e){const i=t.getComp();const{newValue:s,newValueExists:r}=this.takeValueFromCellEditor(e,i);const o=t.getRowNode();const n=t.getColumn();const a=this.valueService.getValueForDisplay(n,o);let l=false;if(r){l=this.saveNewValue(t,a,s,o,n)}t.setEditing(false,void 0);i.setEditDetails();t.updateAndFormatValue(false);t.refreshCell({forceRefresh:true,suppressFlash:true});this.eventService.dispatchEvent({...t.createEvent(null,"cellEditingStopped"),oldValue:a,newValue:s,valueChanged:l});return l}handleColDefChanged(t){const e=t.getCellEditor();if(e?.refresh){const{eventKey:i,cellStartedEdit:s}=t.getEditCompDetails().params;const r=this.createCellEditorParams(t,i,s);const o=t.getColumn().getColDef();const n=this.userComponentFactory.getCellEditorDetails(o,r);e.refresh(n.params)}}setFocusOutOnEditor(t){const e=t.getComp().getCellEditor();if(e&&e.focusOut){e.focusOut()}}setFocusInOnEditor(t){const e=t.getComp();const i=e.getCellEditor();if(i?.focusIn){i.focusIn()}else{t.focusCell(true);t.onCellEditorAttached((()=>e.getCellEditor()?.focusIn?.()))}}stopEditingAndFocus(t,e=false,i=false){t.stopRowOrCellEdit();t.focusCell(true);if(!e){this.navigateAfterEdit(i,t.getCellPosition())}}createPopupEditorWrapper(t){return new uc(t)}takeValueFromCellEditor(t,e){const i={newValueExists:false};if(t){return i}const s=e.getCellEditor();if(!s){return i}const r=s.isCancelAfterEnd&&s.isCancelAfterEnd();if(r){return i}const o=s.getValue();return{newValue:o,newValueExists:true}}saveNewValue(t,e,i,s,r){if(i===e){return false}t.setSuppressRefreshCell(true);const o=s.setDataValue(r,i,"edit");t.setSuppressRefreshCell(false);return o}createCellEditorParams(t,e,i){const s=t.getColumn();const r=t.getRowNode();return this.gos.addGridCommonParams({value:this.valueService.getValueForDisplay(s,r),eventKey:e,column:s,colDef:s.getColDef(),rowIndex:t.getCellPosition().rowIndex,node:r,data:r.data,cellStartedEdit:i,onKeyDown:t.onKeyDown.bind(t),stopEditing:t.stopEditingAndFocus.bind(t),eGridCell:t.getGui(),parseValue:e=>this.valueService.parseValue(s,r,e,t.getValue()),formatValue:t.formatValue.bind(t)})}navigateAfterEdit(t,e){const i=this.gos.get("enterNavigatesVerticallyAfterEdit");if(i){const i=t?zr.UP:zr.DOWN;this.navigationService.navigateToNextCell(null,i,e,false)}}};var Uc=class extends fe{constructor(){super(...arguments);this.beanName="rowEditService"}startEditing(t,e=null,i=null,s=null){let r=true;const o=t.getAllCellCtrls().reduce(((t,o)=>{const n=o===i;if(n){r=o.startEditing(e,n,s)}else{o.startEditing(null,n,s)}if(t){return true}return o.isEditing()}),false);if(o){this.setEditing(t,true)}return r}stopEditing(t,e=false){const i=t.getAllCellCtrls();const s=t.isEditing();t.setStoppingRowEdit(true);let r=false;for(const t of i){const i=t.stopEditing(e);if(s&&!e&&!r&&i){r=true}}if(r){this.eventService.dispatchEvent(t.createRowEvent("rowValueChanged"))}if(s){this.setEditing(t,false)}t.setStoppingRowEdit(false)}setEditing(t,e){t.setEditingRow(e);t.forEachGui(void 0,(t=>t.rowComp.addOrRemoveCssClass("ag-row-editing",e)));const i=e?t.createRowEvent("rowEditingStarted"):t.createRowEvent("rowEditingStopped");this.eventService.dispatchEvent(i)}};var $c=Xn({version:ta,moduleName:"@ag-grid-community/edit-core",beans:[Wc]});var Qc=Xn({version:ta,moduleName:"@ag-grid-community/edit-api",apiFunctions:{undoCellEditing:Nc,redoCellEditing:Oc,getCellEditorInstances:Lc,getEditingCells:Gc,stopEditing:Hc,startEditingCell:Bc,getCurrentUndoSize:Vc,getCurrentRedoSize:jc},dependantModules:[$c]});var Kc=Xn({version:ta,moduleName:"@ag-grid-community/undo-redo-edit",beans:[Pc],dependantModules:[$c]});var Yc=Xn({version:ta,moduleName:"@ag-grid-community/full-row-edit",beans:[Uc],dependantModules:[$c]});var qc=Xn({version:ta,moduleName:"@ag-grid-community/default-editor",userComponents:[{name:"agCellEditor",classImp:pc}],dependantModules:[$c]});var Zc=Xn({version:ta,moduleName:"@ag-grid-community/data-type-editors",userComponents:[{name:"agTextCellEditor",classImp:pc},{name:"agNumberCellEditor",classImp:vc,params:{suppressPreventDefault:true}},{name:"agDateCellEditor",classImp:Cc},{name:"agDateStringCellEditor",classImp:kc},{name:"agCheckboxCellEditor",classImp:Sc}],dependantModules:[qc]});var _c=Xn({version:ta,moduleName:"@ag-grid-community/select-editor",userComponents:[{name:"agSelectCellEditor",classImp:dc}],dependantModules:[$c]});var Jc=Xn({version:ta,moduleName:"@ag-grid-community/large-text-editor",userComponents:[{name:"agLargeTextCellEditor",classImp:cc}],dependantModules:[$c]});var Xc=Xn({version:ta,moduleName:"@ag-grid-community/all-editors",dependantModules:[qc,Zc,_c,Jc]});var tu=Xn({version:ta,moduleName:"@ag-grid-community/editing",dependantModules:[$c,Kc,Yc,Xc,Qc]});var eu=class extends fe{constructor(){super(...arguments);this.beanName="autoWidthCalculator"}wireBeans(t){this.rowRenderer=t.rowRenderer;this.ctrlsService=t.ctrlsService}postConstruct(){this.ctrlsService.whenReady(this,(t=>{this.centerRowContainerCtrl=t.center}))}getPreferredWidthForColumn(t,e){const i=this.getHeaderCellForColumn(t);if(!i){return-1}const s=this.rowRenderer.getAllCellsForColumn(t);if(!e){s.push(i)}return this.addElementsToContainerAndGetWidth(s)}getPreferredWidthForColumnGroup(t){const e=this.getHeaderCellForColumn(t);if(!e){return-1}return this.addElementsToContainerAndGetWidth([e])}addElementsToContainerAndGetWidth(t){const e=document.createElement("form");e.style.position="fixed";const i=this.centerRowContainerCtrl.getContainerElement();t.forEach((t=>this.cloneItemIntoDummy(t,e)));i.appendChild(e);const s=e.offsetWidth;i.removeChild(e);const r=this.getAutoSizePadding();return s+r}getAutoSizePadding(){return this.gos.get("autoSizePadding")}getHeaderCellForColumn(t){let e=null;this.ctrlsService.getHeaderRowContainerCtrls().forEach((i=>{const s=i.getHtmlElementForColumnHeader(t);if(s!=null){e=s}}));return e}cloneItemIntoDummy(t,e){const i=t.cloneNode(true);i.style.width="";i.style.position="static";i.style.left="";const s=document.createElement("div");const r=s.classList;const o=["ag-header-cell","ag-header-group-cell"].some((t=>i.classList.contains(t)));if(o){r.add("ag-header","ag-header-row");s.style.position="static"}else{r.add("ag-row")}let n=t.parentElement;while(n){const t=["ag-header-row","ag-row"].some((t=>n.classList.contains(t)));if(t){for(let t=0;t<n.classList.length;t++){const e=n.classList[t];if(e!="ag-row-position-absolute"){r.add(e)}}break}n=n.parentElement}s.appendChild(i);e.appendChild(s)}};var iu=class extends fe{constructor(t,e){super();this.createRowCon=t;this.destroyRowCtrls=e;this.stickyTopRowCtrls=[];this.stickyBottomRowCtrls=[];this.extraTopHeight=0;this.extraBottomHeight=0}wireBeans(t){this.rowModel=t.rowModel;this.rowRenderer=t.rowRenderer;this.ctrlsService=t.ctrlsService;this.pageBoundsService=t.pageBoundsService}postConstruct(){this.isClientSide=X(this.gos);this.ctrlsService.whenReady(this,(t=>{this.gridBodyCtrl=t.gridBodyCtrl}));this.resetStickyContainers()}getStickyTopRowCtrls(){return this.stickyTopRowCtrls}getStickyBottomRowCtrls(){return this.stickyBottomRowCtrls}setOffsetTop(t){if(this.extraTopHeight===t){return}this.extraTopHeight=t;this.eventService.dispatchEvent({type:"stickyTopOffsetChanged",offset:t})}setOffsetBottom(t){if(this.extraBottomHeight===t){return}this.extraBottomHeight=t}resetOffsets(){this.setOffsetBottom(0);this.setOffsetTop(0)}getExtraTopHeight(){return this.extraTopHeight}getExtraBottomHeight(){return this.extraBottomHeight}getLastPixelOfGroup(t){return this.isClientSide?this.getClientSideLastPixelOfGroup(t):this.getServerSideLastPixelOfGroup(t)}getFirstPixelOfGroup(t){if(t.footer){return t.sibling.rowTop+t.sibling.rowHeight-1}if(t.hasChildren()){return t.rowTop-1}return 0}getServerSideLastPixelOfGroup(t){if(this.isClientSide){throw new Error("This func should only be called in server side row model.")}if(t.isExpandable()||t.footer){if(t.master){return t.detailNode.rowTop+t.detailNode.rowHeight}const e=!t.sibling||Math.abs(t.sibling.rowIndex-t.rowIndex)===1;if(e){let e=t.childStore?.getStoreBounds();if(t.footer){e=t.sibling.childStore?.getStoreBounds()}return(e?.heightPx??0)+(e?.topPx??0)}if(t.footer){return t.rowTop+t.rowHeight}return t.sibling.rowTop+t.sibling.rowHeight}return Number.MAX_SAFE_INTEGER}getClientSideLastPixelOfGroup(t){if(!this.isClientSide){throw new Error("This func should only be called in client side row model.")}if(t.isExpandable()||t.footer){const e=t.footer&&t.rowIndex===0;if(e){return Number.MAX_SAFE_INTEGER}const i=!t.sibling||Math.abs(t.sibling.rowIndex-t.rowIndex)===1;if(i){let e=t.footer?t.sibling:t;while(e.isExpandable()&&e.expanded){if(e.master){e=e.detailNode}else if(e.childrenAfterSort){if(e.childrenAfterSort.length===0){break}e=$t(e.childrenAfterSort)}}return e.rowTop+e.rowHeight}if(t.footer){return t.rowTop+t.rowHeight}return t.sibling.rowTop+t.sibling.rowHeight}return Number.MAX_SAFE_INTEGER}updateStickyRows(t){const e=t==="top";let i=0;if(!this.canRowsBeSticky()){return this.refreshNodesAndContainerHeight(t,new Set,i)}const s=e?this.rowRenderer.getFirstVisibleVerticalPixel()-this.extraTopHeight:this.rowRenderer.getLastVisibleVerticalPixel()-this.extraTopHeight;const r=new Set;const o=t=>{r.add(t);if(e){const e=this.getLastPixelOfGroup(t);const r=s+i+t.rowHeight;if(e<r){t.stickyRowTop=i+(e-r)}else{t.stickyRowTop=i}}else{const e=this.getFirstPixelOfGroup(t);const r=s-(i+t.rowHeight);if(e>r){t.stickyRowTop=i-(e-r)}else{t.stickyRowTop=i}}i=0;r.forEach((t=>{const e=t.stickyRowTop+t.rowHeight;if(i<e){i=e}}))};const n=this.areFooterRowsStickySuppressed();const a=this.gos.get("suppressGroupRowsSticky");const l=e=>{if(!e.displayed){return false}if(e.footer){if(n===true){return false}if(n==="grand"&&e.level===-1){return false}if(n==="group"&&e.level>-1){return false}const i=e.sibling.rowIndex?e.sibling.rowIndex+1===e.rowIndex:false;if(t==="bottom"&&i){return false}const s=r.has(e);return!s}if(e.isExpandable()){if(a===true){return false}if(t==="bottom"){return false}const i=r.has(e);return!i&&e.expanded}return false};for(let t=0;t<100;t++){let t=s+i;if(!e){t=s-i}const r=this.rowModel.getRowIndexAtPixel(t);const n=this.rowModel.getRow(r);if(n==null){break}const a=this.getStickyAncestors(n);const h=a.find((t=>(e?t.rowIndex<r:t.rowIndex>r)&&l(t)));if(h){o(h);continue}const c=e?n.rowTop<t:n.rowTop+n.rowHeight>t;if(c&&l(n)){o(n);continue}break}if(!e){r.forEach((t=>{t.stickyRowTop=i-(t.stickyRowTop+t.rowHeight)}))}return this.refreshNodesAndContainerHeight(t,r,i)}areFooterRowsStickySuppressed(){const t=this.gos.get("suppressStickyTotalRow");if(t===true){return true}const e=!!this.gos.get("groupIncludeFooter")||t==="group";const i=!!this.gos.get("groupIncludeTotalFooter")||t==="grand";if(e&&i){return true}if(i){return"grand"}if(e){return"group"}return false}canRowsBeSticky(){const t=wt(this.gos);const e=this.areFooterRowsStickySuppressed();const i=this.gos.get("suppressGroupRowsSticky");return t&&(!e||!i)}getStickyAncestors(t){const e=[];let i=t.footer?t.sibling:t.parent;while(i){if(i.sibling){e.push(i.sibling)}e.push(i);i=i.parent}return e.reverse()}checkStickyRows(){const t=this.updateStickyRows("top");const e=this.updateStickyRows("bottom");return t||e}destroyStickyCtrls(){this.resetStickyContainers()}resetStickyContainers(){this.refreshNodesAndContainerHeight("top",new Set,0);this.refreshNodesAndContainerHeight("bottom",new Set,0)}refreshStickyNode(t){const e=new Set;if(this.stickyTopRowCtrls.some((e=>e.getRowNode()===t))){for(let i=0;i<this.stickyTopRowCtrls.length;i++){const s=this.stickyTopRowCtrls[i].getRowNode();if(s!==t){e.add(s)}}if(this.refreshNodesAndContainerHeight("top",e,this.topContainerHeight)){this.checkStickyRows()}return}for(let i=0;i<this.stickyBottomRowCtrls.length;i++){const s=this.stickyBottomRowCtrls[i].getRowNode();if(s!==t){e.add(s)}}if(this.refreshNodesAndContainerHeight("bottom",e,this.bottomContainerHeight)){this.checkStickyRows()}}refreshNodesAndContainerHeight(t,e,i){const s=t==="top";const r=s?this.stickyTopRowCtrls:this.stickyBottomRowCtrls;const o={};const n=[];for(let t=0;t<r.length;t++){const i=r[t].getRowNode();const s=!e.has(i);if(s){o[i.id]=r[t];i.sticky=false;continue}n.push(r[t])}const a=new Set;for(let t=0;t<n.length;t++){a.add(n[t].getRowNode())}const l=[];e.forEach((t=>{if(a.has(t)){return}t.sticky=true;l.push(this.createRowCon(t,false,false))}));let h=!!l.length||n.length!==r.length;if(s){if(this.topContainerHeight!==i){this.topContainerHeight=i;this.gridBodyCtrl.setStickyTopHeight(i);h=true}}else{if(this.bottomContainerHeight!==i){this.bottomContainerHeight=i;this.gridBodyCtrl.setStickyBottomHeight(i);h=true}}this.destroyRowCtrls(o,false);const c=[...n,...l];c.sort(((t,e)=>e.getRowNode().rowIndex-t.getRowNode().rowIndex));if(!s){c.reverse()}c.forEach((t=>t.setRowTop(t.getRowNode().stickyRowTop)));let u=0;if(s){e.forEach((t=>{if(t.rowIndex<this.pageBoundsService.getFirstRow()){u+=t.rowHeight}}));if(u>this.topContainerHeight){u=this.topContainerHeight}this.setOffsetTop(u)}else{e.forEach((t=>{if(t.rowIndex>this.pageBoundsService.getLastRow()){u+=t.rowHeight}}));if(u>this.bottomContainerHeight){u=this.bottomContainerHeight}this.setOffsetBottom(u)}if(!h){return false}if(s){this.stickyTopRowCtrls=c}else{this.stickyBottomRowCtrls=c}return true}ensureRowHeightsValid(){let t=false;const e=e=>{const i=e.getRowNode();if(i.rowHeightEstimated){const e=nt(this.gos,i);i.setRowHeight(e.height);t=true}};this.stickyTopRowCtrls.forEach(e);this.stickyBottomRowCtrls.forEach(e);return t}};var su=class extends fe{constructor(){super(...arguments);this.beanName="rowRenderer";this.destroyFuncsForColumnListeners=[];this.rowCtrlsByRowIndex={};this.zombieRowCtrls={};this.allRowCtrls=[];this.topRowCtrls=[];this.bottomRowCtrls=[];this.refreshInProgress=false;this.dataFirstRenderedFired=false;this.setupRangeSelectionListeners=()=>{const t=()=>{this.getAllCellCtrls().forEach((t=>t.onCellSelectionChanged()))};const e=()=>{this.getAllCellCtrls().forEach((t=>t.updateRangeBordersIfRangeCount()))};const i=()=>{this.eventService.addEventListener("cellSelectionChanged",t);this.eventService.addEventListener("columnMoved",e);this.eventService.addEventListener("columnPinned",e);this.eventService.addEventListener("columnVisible",e)};const s=()=>{this.eventService.removeEventListener("cellSelectionChanged",t);this.eventService.removeEventListener("columnMoved",e);this.eventService.removeEventListener("columnPinned",e);this.eventService.removeEventListener("columnVisible",e)};this.addDestroyFunc((()=>s()));this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],(()=>{const t=Tt(this.gos);if(t){i()}else{s()}}));const r=Tt(this.gos);if(r){i()}}}wireBeans(t){this.animationFrameService=t.animationFrameService;this.paginationService=t.paginationService;this.pageBoundsService=t.pageBoundsService;this.columnModel=t.columnModel;this.visibleColsService=t.visibleColsService;this.pinnedRowModel=t.pinnedRowModel;this.rowModel=t.rowModel;this.focusService=t.focusService;this.beans=t;this.rowContainerHeightService=t.rowContainerHeightService;this.ctrlsService=t.ctrlsService;this.environment=t.environment}postConstruct(){this.ctrlsService.whenReady(this,(t=>{this.gridBodyCtrl=t.gridBodyCtrl;this.initialise()}))}initialise(){this.addManagedEventListeners({paginationChanged:this.onPageLoaded.bind(this),pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),bodyScroll:this.onBodyScroll.bind(this),bodyHeightChanged:this.redraw.bind(this,{})});this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],(()=>this.onDomLayoutChanged()));this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],(()=>this.redraw()));this.addManagedPropertyListener("suppressCellFocus",(t=>this.onSuppressCellFocusChanged(t.currentValue)));this.addManagedPropertyListeners(["groupSuppressBlankHeader","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","suppressStickyTotalRow","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection","rowSelection"],(()=>this.redrawRows()));if(wt(this.gos)){if(X(this.gos)||tt(this.gos)){this.stickyRowFeature=this.createManagedBean(new iu(this.createRowCon.bind(this),this.destroyRowCtrls.bind(this)))}}this.registerCellEventListeners();this.initialiseCache();this.printLayout=et(this.gos,"print");this.embedFullWidthRows=this.printLayout||this.gos.get("embedFullWidthRows");this.redrawAfterModelUpdate()}initialiseCache(){if(this.gos.get("keepDetailRows")){const t=this.getKeepDetailRowsCount();const e=t!=null?t:3;this.cachedRowCtrls=new ru(e)}}getKeepDetailRowsCount(){return this.gos.get("keepDetailRowsCount")}getStickyTopRowCtrls(){if(!this.stickyRowFeature){return[]}return this.stickyRowFeature.getStickyTopRowCtrls()}getStickyBottomRowCtrls(){if(!this.stickyRowFeature){return[]}return this.stickyRowFeature.getStickyBottomRowCtrls()}updateAllRowCtrls(){const t=Ie(this.rowCtrlsByRowIndex);const e=Ie(this.zombieRowCtrls);const i=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];if(e.length>0||i.length>0){this.allRowCtrls=[...t,...e,...i]}else{this.allRowCtrls=t}}onCellFocusChanged(t){this.getAllCellCtrls().forEach((e=>e.onCellFocused(t)));this.getFullWidthRowCtrls().forEach((e=>e.onFullWidthRowFocused(t)))}onSuppressCellFocusChanged(t){this.getAllCellCtrls().forEach((e=>e.onSuppressCellFocusChanged(t)));this.getFullWidthRowCtrls().forEach((e=>e.onSuppressCellFocusChanged(t)))}registerCellEventListeners(){this.addManagedEventListeners({cellFocused:t=>{this.onCellFocusChanged(t)},cellFocusCleared:()=>this.onCellFocusChanged(),flashCells:t=>{this.getAllCellCtrls().forEach((e=>e.onFlashCells(t)))},columnHoverChanged:()=>{this.getAllCellCtrls().forEach((t=>t.onColumnHover()))},displayedColumnsChanged:()=>{this.getAllCellCtrls().forEach((t=>t.onDisplayedColumnsChanged()))},displayedColumnsWidthChanged:()=>{if(this.printLayout){this.getAllCellCtrls().forEach((t=>t.onLeftChanged()))}}});this.setupRangeSelectionListeners();this.refreshListenersToColumnsForCellComps();this.addManagedEventListeners({gridColumnsChanged:this.refreshListenersToColumnsForCellComps.bind(this)});this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){this.destroyFuncsForColumnListeners.forEach((t=>t()));this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners();const t=this.columnModel.getCols();t.forEach((t=>{const e=e=>{this.getAllCellCtrls().forEach((i=>{if(i.getColumn()===t){e(i)}}))};const i=()=>{e((t=>t.onLeftChanged()))};const s=()=>{e((t=>t.onWidthChanged()))};const r=()=>{e((t=>t.onFirstRightPinnedChanged()))};const o=()=>{e((t=>t.onLastLeftPinnedChanged()))};const n=()=>{e((t=>t.onColDefChanged()))};t.addEventListener("leftChanged",i);t.addEventListener("widthChanged",s);t.addEventListener("firstRightPinnedChanged",r);t.addEventListener("lastLeftPinnedChanged",o);t.addEventListener("colDefChanged",n);this.destroyFuncsForColumnListeners.push((()=>{t.removeEventListener("leftChanged",i);t.removeEventListener("widthChanged",s);t.removeEventListener("firstRightPinnedChanged",r);t.removeEventListener("lastLeftPinnedChanged",o);t.removeEventListener("colDefChanged",n)}))}))}onDomLayoutChanged(){const t=et(this.gos,"print");const e=t||this.gos.get("embedFullWidthRows");const i=e!==this.embedFullWidthRows||this.printLayout!==t;this.printLayout=t;this.embedFullWidthRows=e;if(i){this.redrawAfterModelUpdate({domLayoutChanged:true})}}datasourceChanged(){this.firstRenderedRow=0;this.lastRenderedRow=-1;const t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t)}onPageLoaded(t){const e={recycleRows:t.keepRenderedRows,animate:t.animate,newData:t.newData,newPage:t.newPage,onlyBody:true};this.redrawAfterModelUpdate(e)}getAllCellsForColumn(t){const e=[];this.getAllRowCtrls().forEach((i=>{const s=i.getCellElement(t);if(s){e.push(s)}}));return e}refreshFloatingRowComps(){this.refreshFloatingRows(this.topRowCtrls,"top");this.refreshFloatingRows(this.bottomRowCtrls,"bottom")}getTopRowCtrls(){return this.topRowCtrls}getCentreRowCtrls(){return this.allRowCtrls}getBottomRowCtrls(){return this.bottomRowCtrls}refreshFloatingRows(t,e){const{pinnedRowModel:i,beans:s,printLayout:r}=this;const o=Object.fromEntries(t.map((t=>[t.getRowNode().id,t])));i.forEachPinnedRow(e,((n,a)=>{const l=t[a];const h=l&&i.getPinnedRowById(l.getRowNode().id,e)===void 0;if(h){l.destroyFirstPass();l.destroySecondPass()}if(n.id in o){t[a]=o[n.id];delete o[n.id]}else{t[a]=new ph(n,s,false,false,r)}}));const n=e==="top"?i.getPinnedTopRowCount():i.getPinnedBottomRowCount();t.length=n}onPinnedRowDataChanged(){const t={recycleRows:true};this.redrawAfterModelUpdate(t)}redrawRow(t,e=false){if(t.sticky){this.stickyRowFeature.refreshStickyNode(t)}else if(this.cachedRowCtrls?.has(t)){this.cachedRowCtrls.removeRow(t);return}else{const e=e=>{const i=e[t.rowIndex];if(!i){return}if(i.getRowNode()!==t){return}i.destroyFirstPass();i.destroySecondPass();e[t.rowIndex]=this.createRowCon(t,false,false)};switch(t.rowPinned){case"top":e(this.topRowCtrls);break;case"bottom":e(this.bottomRowCtrls);break;default:e(this.rowCtrlsByRowIndex);this.updateAllRowCtrls()}}if(!e){this.dispatchDisplayedRowsChanged(false)}}redrawRows(t){const e=t!=null;if(e){t?.forEach((t=>this.redrawRow(t,true)));this.dispatchDisplayedRowsChanged(false);return}this.redrawAfterModelUpdate()}getCellToRestoreFocusToAfterRefresh(t){const e=t?.suppressKeepFocus?null:this.focusService.getFocusCellToUseAfterRefresh();if(e==null){return null}const i=pt(this.gos);const s=ct(this.gos,i,dh.DOM_DATA_KEY_CELL_CTRL);const r=ct(this.gos,i,ph.DOM_DATA_KEY_ROW_CTRL);const o=s||r;return o?e:null}redrawAfterModelUpdate(t={}){this.getLockOnRefresh();const e=this.getCellToRestoreFocusToAfterRefresh(t);this.updateContainerHeights();this.scrollToTopIfNewData(t);const i=!t.domLayoutChanged&&!!t.recycleRows;const s=t.animate&&vt(this.gos);const r=i?this.getRowsToRecycle():null;if(!i){this.removeAllRowComps()}this.workOutFirstAndLastRowsToRender();if(this.stickyRowFeature){this.stickyRowFeature.checkStickyRows();const t=this.stickyRowFeature.getExtraTopHeight()+this.stickyRowFeature.getExtraBottomHeight();if(t){this.updateContainerHeights(t)}}this.recycleRows(r,s);this.gridBodyCtrl.updateRowCount();if(!t.onlyBody){this.refreshFloatingRowComps()}this.dispatchDisplayedRowsChanged();if(e!=null){this.restoreFocusedCell(e)}this.releaseLockOnRefresh()}scrollToTopIfNewData(t){const e=t.newData||t.newPage;const i=this.gos.get("suppressScrollOnNewData");if(e&&!i){this.gridBodyCtrl.getScrollFeature().scrollToTop();this.stickyRowFeature?.resetOffsets()}}updateContainerHeights(t=0){if(this.printLayout){this.rowContainerHeightService.setModelHeight(null);return}let e=this.pageBoundsService.getCurrentPageHeight();if(e===0){e=1}this.rowContainerHeightService.setModelHeight(e+t)}getLockOnRefresh(){if(this.refreshInProgress){throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.")}this.refreshInProgress=true;this.frameworkOverrides.getLockOnRefresh?.()}releaseLockOnRefresh(){this.refreshInProgress=false;this.frameworkOverrides.releaseLockOnRefresh?.()}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(t){if(!t){return}this.focusService.restoreFocusedCell(t,(()=>{this.onCellFocusChanged(this.gos.addGridCommonParams({rowIndex:t.rowIndex,column:t.column,rowPinned:t.rowPinned,forceBrowserFocus:true,preventScrollOnBrowserFocus:true,type:"cellFocused"}))}))}stopEditing(t=false){this.getAllRowCtrls().forEach((e=>{e.stopEditing(t)}))}getAllCellCtrls(){const t=[];const e=this.getAllRowCtrls();const i=e.length;for(let s=0;s<i;s++){const i=e[s].getAllCellCtrls();const r=i.length;for(let e=0;e<r;e++){t.push(i[e])}}return t}getAllRowCtrls(){const t=this.stickyRowFeature&&this.stickyRowFeature.getStickyTopRowCtrls()||[];const e=this.stickyRowFeature&&this.stickyRowFeature.getStickyBottomRowCtrls()||[];const i=[...this.topRowCtrls,...this.bottomRowCtrls,...t,...e];for(const t in this.rowCtrlsByRowIndex){i.push(this.rowCtrlsByRowIndex[t])}return i}addRenderedRowListener(t,e,i){const s=this.rowCtrlsByRowIndex[e];if(s){s.addEventListener(t,i)}}flashCells(t={}){this.getCellCtrls(t.rowNodes,t.columns).forEach((e=>e.flashCell(t)))}refreshCells(t={}){const e={forceRefresh:t.force,newData:false,suppressFlash:t.suppressFlash};for(const i of this.getCellCtrls(t.rowNodes,t.columns)){i.refreshOrDestroyCell(e)}this.refreshFullWidth(t.rowNodes)}refreshFullWidth(t){if(!t){return}let e=null;if(this.stickyRowFeature&&qs()){e=this.getCellToRestoreFocusToAfterRefresh()||null}for(const e of this.getRowCtrls(t)){if(!e.isFullWidth()){continue}const t=e.refreshFullWidth();if(!t){this.redrawRow(e.getRowNode(),true)}}this.dispatchDisplayedRowsChanged(false);if(e){this.restoreFocusedCell(e)}}getCellRendererInstances(t){const e=this.getCellCtrls(t.rowNodes,t.columns).map((t=>t.getCellRenderer())).filter((t=>t!=null));if(t.columns?.length){return e}const i=[];const s=this.mapRowNodes(t.rowNodes);this.getAllRowCtrls().forEach((t=>{if(s&&!this.isRowInMap(t.getRowNode(),s)){return}if(!t.isFullWidth()){return}const e=t.getFullWidthCellRenderers();for(let t=0;t<e.length;t++){const s=e[t];if(s!=null){i.push(s)}}}));return[...i,...e]}getCellEditorInstances(t){const e=[];this.getCellCtrls(t.rowNodes,t.columns).forEach((t=>{const i=t.getCellEditor();if(i){e.push(i)}}));return e}getEditingCells(){const t=[];this.getAllCellCtrls().forEach((e=>{if(e.isEditing()){const i=e.getCellPosition();t.push(i)}}));return t}mapRowNodes(t){if(!t){return}const e={top:{},bottom:{},normal:{}};t.forEach((t=>{const i=t.id;switch(t.rowPinned){case"top":e.top[i]=t;break;case"bottom":e.bottom[i]=t;break;default:e.normal[i]=t;break}}));return e}isRowInMap(t,e){const i=t.id;const s=t.rowPinned;switch(s){case"top":return e.top[i]!=null;case"bottom":return e.bottom[i]!=null;default:return e.normal[i]!=null}}getRowCtrls(t){const e=this.mapRowNodes(t);const i=this.getAllRowCtrls();if(!t||!e){return i}return i.filter((t=>{const i=t.getRowNode();return this.isRowInMap(i,e)}))}getCellCtrls(t,e){let i;if(j(e)){i={};e.forEach((t=>{const e=this.columnModel.getCol(t);if(j(e)){i[e.getId()]=true}}))}const s=[];this.getRowCtrls(t).forEach((t=>{t.getAllCellCtrls().forEach((t=>{const e=t.getColumn().getId();const r=i&&!i[e];if(r){return}s.push(t)}))}));return s}destroy(){this.removeAllRowComps(true);super.destroy()}removeAllRowComps(t=false){const e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e,t);if(this.stickyRowFeature){this.stickyRowFeature.destroyStickyCtrls()}}getRowsToRecycle(){const t=[];Fe(this.rowCtrlsByRowIndex,((e,i)=>{const s=i.getRowNode().id==null;if(s){t.push(e)}}));this.removeRowCtrls(t);const e={};Fe(this.rowCtrlsByRowIndex,((t,i)=>{const s=i.getRowNode();e[s.id]=i}));this.rowCtrlsByRowIndex={};return e}removeRowCtrls(t,e=false){t.forEach((t=>{const i=this.rowCtrlsByRowIndex[t];if(i){i.destroyFirstPass(e);i.destroySecondPass()}delete this.rowCtrlsByRowIndex[t]}))}onBodyScroll(t){if(t.direction!=="vertical"){return}this.redraw({afterScroll:true})}redraw(t={}){const{afterScroll:e}=t;let i;if(this.stickyRowFeature&&qs()){i=this.getCellToRestoreFocusToAfterRefresh()||void 0}const s=this.firstRenderedRow;const r=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let o=false;if(this.stickyRowFeature){o=this.stickyRowFeature.checkStickyRows();const t=this.stickyRowFeature.getExtraTopHeight()+this.stickyRowFeature.getExtraBottomHeight();if(t){this.updateContainerHeights(t)}}const n=this.firstRenderedRow!==s||this.lastRenderedRow!==r;if(e&&!o&&!n){return}this.getLockOnRefresh();this.recycleRows(null,false,e);this.releaseLockOnRefresh();this.dispatchDisplayedRowsChanged(e&&!o);if(i!=null){const t=this.getCellToRestoreFocusToAfterRefresh();if(i!=null&&t==null){this.animationFrameService.flushAllFrames();this.restoreFocusedCell(i)}}}removeRowCompsNotToDraw(t,e){const i={};t.forEach((t=>i[t]=true));const s=Object.keys(this.rowCtrlsByRowIndex);const r=s.filter((t=>!i[t]));this.removeRowCtrls(r,e)}calculateIndexesToDraw(t){const e=Pn(this.firstRenderedRow,this.lastRenderedRow);const i=(t,i)=>{const s=i.getRowNode().rowIndex;if(s==null){return}if(s<this.firstRenderedRow||s>this.lastRenderedRow){if(this.doNotUnVirtualiseRow(i)){e.push(s)}}};Fe(this.rowCtrlsByRowIndex,i);Fe(t,i);e.sort(((t,e)=>t-e));const s=[];for(let t=0;t<e.length;t++){const i=e[t];const r=this.rowModel.getRow(i);if(r&&!r.sticky){s.push(i)}}return s}recycleRows(t,e=false,i=false){const s=this.calculateIndexesToDraw(t);if(this.printLayout||i){e=false}this.removeRowCompsNotToDraw(s,!e);s.forEach((s=>{this.createOrUpdateRowCtrl(s,t,e,i)}));if(t){const s=i&&!this.gos.get("suppressAnimationFrame")&&!this.printLayout;if(s){this.beans.animationFrameService.addDestroyTask((()=>{this.destroyRowCtrls(t,e);this.updateAllRowCtrls();this.dispatchDisplayedRowsChanged()}))}else{this.destroyRowCtrls(t,e)}}this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(t=false){this.eventService.dispatchEvent({type:"displayedRowsChanged",afterScroll:t})}onDisplayedColumnsChanged(){const t=this.visibleColsService.isPinningLeft();const e=this.visibleColsService.isPinningRight();const i=this.pinningLeft!==t||e!==this.pinningRight;if(i){this.pinningLeft=t;this.pinningRight=e;if(this.embedFullWidthRows){this.redrawFullWidthEmbeddedRows()}}}redrawFullWidthEmbeddedRows(){const t=[];this.getFullWidthRowCtrls().forEach((e=>{const i=e.getRowNode().rowIndex;t.push(i.toString())}));this.refreshFloatingRowComps();this.removeRowCtrls(t);this.redraw({afterScroll:true})}getFullWidthRowCtrls(t){const e=this.mapRowNodes(t);return this.getAllRowCtrls().filter((t=>{if(!t.isFullWidth()){return false}const i=t.getRowNode();if(e!=null&&!this.isRowInMap(i,e)){return false}return true}))}createOrUpdateRowCtrl(t,e,i,s){let r;let o=this.rowCtrlsByRowIndex[t];if(!o){r=this.rowModel.getRow(t);if(j(r)&&j(e)&&e[r.id]&&r.alreadyRendered){o=e[r.id];e[r.id]=null}}const n=!o;if(n){if(!r){r=this.rowModel.getRow(t)}if(j(r)){o=this.createRowCon(r,i,s)}else{return}}if(r){r.alreadyRendered=true}this.rowCtrlsByRowIndex[t]=o;return o}destroyRowCtrls(t,e){const i=[];Fe(t,((t,s)=>{if(!s){return}if(this.cachedRowCtrls&&s.isCacheable()){this.cachedRowCtrls.addRow(s);return}s.destroyFirstPass(!e);if(e){const t=s.instanceId;this.zombieRowCtrls[t]=s;i.push((()=>{s.destroySecondPass();delete this.zombieRowCtrls[t]}))}else{s.destroySecondPass()}}));if(e){i.push((()=>{this.updateAllRowCtrls();this.dispatchDisplayedRowsChanged()}));T(i)}}getRowBuffer(){return this.gos.get("rowBuffer")}getRowBufferInPixels(){const t=this.getRowBuffer();const e=lt(this.gos);return t*e}workOutFirstAndLastRowsToRender(){this.rowContainerHeightService.updateOffset();let t;let e;if(!this.rowModel.isRowsToRender()){t=0;e=-1}else if(this.printLayout){this.environment.refreshRowHeightVariable();t=this.pageBoundsService.getFirstRow();e=this.pageBoundsService.getLastRow()}else{const i=this.getRowBufferInPixels();const s=this.ctrlsService.getGridBodyCtrl();const r=this.gos.get("suppressRowVirtualisation");let o=false;let n;let a;do{const t=this.pageBoundsService.getPixelOffset();const{pageFirstPixel:e,pageLastPixel:l}=this.pageBoundsService.getCurrentPagePixelRange();const h=this.rowContainerHeightService.getDivStretchOffset();const c=s.getScrollFeature().getVScrollPosition();const u=c.top;const d=c.bottom;if(r){n=e+h;a=l+h}else{n=Math.max(u+t-i,e)+h;a=Math.min(d+t+i,l)+h}this.firstVisibleVPixel=Math.max(u+t,e)+h;this.lastVisibleVPixel=Math.min(d+t,l)+h;o=this.ensureAllRowsInRangeHaveHeightsCalculated(n,a)}while(o);let l=this.rowModel.getRowIndexAtPixel(n);let h=this.rowModel.getRowIndexAtPixel(a);const c=this.pageBoundsService.getFirstRow();const u=this.pageBoundsService.getLastRow();if(l<c){l=c}if(h>u){h=u}t=l;e=h}const i=et(this.gos,"normal");const s=this.gos.get("suppressMaxRenderedRowRestriction");const r=Math.max(this.getRowBuffer(),500);if(i&&!s){if(e-t>r){e=t+r}}const o=t!==this.firstRenderedRow;const n=e!==this.lastRenderedRow;if(o||n){this.firstRenderedRow=t;this.lastRenderedRow=e;this.eventService.dispatchEvent({type:"viewportChanged",firstRow:t,lastRow:e})}}dispatchFirstDataRenderedEvent(){if(this.dataFirstRenderedFired){return}this.dataFirstRenderedFired=true;window.requestAnimationFrame((()=>{this.beans.eventService.dispatchEvent({type:"firstDataRendered",firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow})}))}ensureAllRowsInRangeHaveHeightsCalculated(t,e){const i=this.pinnedRowModel?.ensureRowHeightsValid();const s=this.stickyRowFeature?.ensureRowHeightsValid();const r=this.rowModel.ensureRowHeightsValid(t,e,this.pageBoundsService.getFirstRow(),this.pageBoundsService.getLastRow());if(r||s){this.eventService.dispatchEvent({type:"recalculateRowBounds"})}if(s||r||i){this.updateContainerHeights();return true}return false}getFirstVisibleVerticalPixel(){return this.firstVisibleVPixel}getLastVisibleVerticalPixel(){return this.lastVisibleVPixel}getFirstVirtualRenderedRow(){return this.firstRenderedRow}getLastVirtualRenderedRow(){return this.lastRenderedRow}doNotUnVirtualiseRow(t){const e=false;const i=true;const s=t.getRowNode();const r=this.focusService.isRowNodeFocused(s);const o=t.isEditing();const n=s.detail;const a=r||o||n;if(!a){return e}const l=this.isRowPresent(s);return l?i:e}isRowPresent(t){if(!this.rowModel.isRowPresent(t)){return false}return this.paginationService?this.paginationService.isRowPresent(t):true}createRowCon(t,e,i){const s=this.cachedRowCtrls?this.cachedRowCtrls.getRow(t):null;if(s){return s}const r=this.gos.get("suppressAnimationFrame");const o=i&&!r&&!this.printLayout;const n=new ph(t,this.beans,e,o,this.printLayout);return n}getRenderedNodes(){const t=this.rowCtrlsByRowIndex;return Object.values(t).map((t=>t.getRowNode()))}getRowByPosition(t){let e;const{rowIndex:i}=t;switch(t.rowPinned){case"top":e=this.topRowCtrls[i];break;case"bottom":e=this.bottomRowCtrls[i];break;default:e=this.rowCtrlsByRowIndex[i];if(!e){e=this.getStickyTopRowCtrls().find((t=>t.getRowNode().rowIndex===i))||null;if(!e){e=this.getStickyBottomRowCtrls().find((t=>t.getRowNode().rowIndex===i))||null}}break}return e}isRangeInRenderedViewport(t,e){const i=t==null||e==null;if(i){return false}const s=t>this.lastRenderedRow;const r=e<this.firstRenderedRow;const o=!r&&!s;return o}};var ru=class{constructor(t){this.entriesMap={};this.entriesList=[];this.maxCount=t}addRow(t){this.entriesMap[t.getRowNode().id]=t;this.entriesList.push(t);t.setCached(true);if(this.entriesList.length>this.maxCount){const t=this.entriesList[0];t.destroyFirstPass();t.destroySecondPass();this.removeFromCache(t)}}getRow(t){if(t==null||t.id==null){return null}const e=this.entriesMap[t.id];if(!e){return null}this.removeFromCache(e);e.setCached(false);const i=e.getRowNode()!=t;return i?null:e}has(t){return this.entriesMap[t.id]!=null}removeRow(t){const e=t.id;const i=this.entriesMap[e];delete this.entriesMap[e];qt(this.entriesList,i)}removeFromCache(t){const e=t.getRowNode().id;delete this.entriesMap[e];qt(this.entriesList,t)}getEntries(){return this.entriesList}};var ou=class extends fe{constructor(){super(...arguments);this.beanName="pinnedRowModel";this.nextId=0;this.pinnedTopRows=new nu;this.pinnedBottomRows=new nu}wireBeans(t){this.beans=t}postConstruct(){this.setPinnedRowData(this.gos.get("pinnedTopRowData"),"top");this.setPinnedRowData(this.gos.get("pinnedBottomRowData"),"bottom");this.addManagedPropertyListener("pinnedTopRowData",(t=>this.setPinnedRowData(t.currentValue,"top")));this.addManagedPropertyListener("pinnedBottomRowData",(t=>this.setPinnedRowData(t.currentValue,"bottom")));this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanges.bind(this)})}isEmpty(t){const e=t==="top"?this.pinnedTopRows:this.pinnedBottomRows;return e.isEmpty()}isRowsToRender(t){return!this.isEmpty(t)}onGridStylesChanges(t){if(t.rowHeightChanged){const t=t=>{t.setRowHeight(t.rowHeight,true)};this.pinnedBottomRows.forEach(t);this.pinnedTopRows.forEach(t)}}ensureRowHeightsValid(){let t=false;let e=0;const i=i=>{if(i.rowHeightEstimated){const s=nt(this.gos,i);i.setRowTop(e);i.setRowHeight(s.height);e+=s.height;t=true}};this.pinnedBottomRows?.forEach(i);e=0;this.pinnedTopRows?.forEach(i);this.eventService.dispatchEvent({type:"pinnedHeightChanged"});return t}setPinnedRowData(t,e){this.updateNodesFromRowData(t,e);this.eventService.dispatchEvent({type:"pinnedRowDataChanged"})}updateNodesFromRowData(t,e){const i=e==="top"?this.pinnedTopRows:this.pinnedBottomRows;if(t===void 0){i.clear();return}const s=Dt(this.gos);const r=e==="top"?Eo.ID_PREFIX_TOP_PINNED:Eo.ID_PREFIX_BOTTOM_PINNED;const o=i.getIds();const n=[];const a=new Set;let l=0;let h=-1;for(const c of t){const t=s?.({data:c,level:0,rowPinned:e})??r+this.nextId++;if(a.has(t)){P("Duplicate ID",t,"found for pinned row with data",c,"When `getRowId` is defined, it must return unique IDs for all pinned rows. Use the `rowPinned` parameter.");continue}h++;a.add(t);n.push(t);const u=i.getById(t);if(u!==void 0){if(u.data!==c){u.setData(c)}l+=this.setRowTopAndRowIndex(u,l,h);o.delete(t)}else{const s=new Eo(this.beans);s.id=t;s.data=c;s.rowPinned=e;l+=this.setRowTopAndRowIndex(s,l,h);i.push(s)}}o.forEach((t=>{i.getById(t)?.clearRowTopAndRowIndex()}));i.removeAllById(o);i.setOrder(n)}setRowTopAndRowIndex(t,e,i){t.setRowTop(e);t.setRowHeight(nt(this.gos,t).height);t.setRowIndex(i);return t.rowHeight}getPinnedTopTotalHeight(){return this.getTotalHeight(this.pinnedTopRows)}getPinnedBottomTotalHeight(){return this.getTotalHeight(this.pinnedBottomRows)}getPinnedTopRowCount(){return this.pinnedTopRows.getSize()}getPinnedBottomRowCount(){return this.pinnedBottomRows.getSize()}getPinnedTopRow(t){return this.pinnedTopRows.getByIndex(t)}getPinnedBottomRow(t){return this.pinnedBottomRows.getByIndex(t)}getPinnedRowById(t,e){return e==="top"?this.pinnedTopRows.getById(t):this.pinnedBottomRows.getById(t)}forEachPinnedRow(t,e){return t==="top"?this.pinnedTopRows.forEach(e):this.pinnedBottomRows.forEach(e)}getTotalHeight(t){const e=t.getSize();if(e===0){return 0}const i=t.getByIndex(e-1);if(i===void 0){return 0}return i.rowTop+i.rowHeight}};var nu=class{constructor(){this.cache={};this.ordering=[]}getById(t){return this.cache[t]}getByIndex(t){const e=this.ordering[t];return this.cache[e]}push(t){this.cache[t.id]=t;this.ordering.push(t.id)}removeAllById(t){for(const e of t){delete this.cache[e]}this.ordering=this.ordering.filter((e=>!t.has(e)))}setOrder(t){this.ordering=t}forEach(t){this.ordering.forEach(((e,i)=>{const s=this.cache[e];s&&t(s,i)}))}clear(){this.ordering.length=0;this.cache={}}isEmpty(){return this.ordering.length===0}getSize(){return this.ordering.length}getIds(){return new Set(this.ordering)}};var au=class extends fe{constructor(t){super();this.state="needsLoading";this.version=0;this.id=t}getId(){return this.id}load(){this.state="loading";this.loadFromDatasource()}getVersion(){return this.version}setStateWaitingToLoad(){this.version++;this.state="needsLoading"}getState(){return this.state}pageLoadFailed(t){const e=this.isRequestMostRecentAndLive(t);if(e){this.state="failed";this.processServerFail()}this.dispatchLoadCompleted(false)}success(t,e){this.successCommon(t,e)}pageLoaded(t,e,i){this.successCommon(t,{rowData:e,rowCount:i})}isRequestMostRecentAndLive(t){const e=t===this.version;const i=this.isAlive();return e&&i}successCommon(t,e){this.dispatchLoadCompleted();const i=this.isRequestMostRecentAndLive(t);if(i){this.state="loaded";this.processServerResult(e)}}dispatchLoadCompleted(t=true){const e={type:"loadComplete",success:t,block:this};this.dispatchLocalEvent(e)}};var lu=class extends fe{constructor(){super(...arguments);this.beanName="rowNodeBlockLoader";this.activeBlockLoadsCount=0;this.blocks=[];this.active=true}wireBeans(t){this.rowModel=t.rowModel}postConstruct(){this.maxConcurrentRequests=this.getMaxConcurrentDatasourceRequests();const t=this.gos.get("blockLoadDebounceMillis");if(t&&t>0){this.checkBlockToLoadDebounce=L(this.performCheckBlocksToLoad.bind(this),t)}}getMaxConcurrentDatasourceRequests(){const t=this.gos.get("maxConcurrentDatasourceRequests");if(t==null){return 2}if(t<=0){return}return t}addBlock(t){this.blocks.push(t);t.addEventListener("loadComplete",this.loadComplete.bind(this));this.checkBlockToLoad()}removeBlock(t){qt(this.blocks,t)}destroy(){super.destroy();this.active=false}loadComplete(){this.activeBlockLoadsCount--;this.checkBlockToLoad();this.dispatchLocalEvent({type:"blockLoaded"});if(this.activeBlockLoadsCount==0){this.dispatchLocalEvent({type:"blockLoaderFinished"})}}checkBlockToLoad(){if(this.checkBlockToLoadDebounce){this.checkBlockToLoadDebounce()}else{this.performCheckBlocksToLoad()}}performCheckBlocksToLoad(){if(!this.active){return}this.printCacheStatus();if(this.maxConcurrentRequests!=null&&this.activeBlockLoadsCount>=this.maxConcurrentRequests){if(this.gos.get("debug")){F(`RowNodeBlockLoader - checkBlockToLoad: max loads exceeded`)}return}const t=this.getAvailableLoadingCount();const e=this.blocks.filter((t=>t.getState()==="needsLoading")).slice(0,t);this.registerLoads(e.length);e.forEach((t=>t.load()));this.printCacheStatus()}getBlockState(){if(tt(this.gos)){const t=this.rowModel;return t.getBlockStates()}const t={};this.blocks.forEach((e=>{const{id:i,state:s}=e.getBlockStateJson();t[i]=s}));return t}printCacheStatus(){if(this.gos.get("debug")){F(`RowNodeBlockLoader - printCacheStatus: activePageLoadsCount = ${this.activeBlockLoadsCount}, blocks = ${JSON.stringify(this.getBlockState())}`)}}isLoading(){return this.activeBlockLoadsCount>0}registerLoads(t){this.activeBlockLoadsCount+=t}getAvailableLoadingCount(){return this.maxConcurrentRequests!==void 0?this.maxConcurrentRequests-this.activeBlockLoadsCount:void 0}};var hu=Xn({version:ta,moduleName:"@ag-grid-community/row-node-block",beans:[lu]});var cu=class{constructor(){this.root=null;this.end=null;this.cachedRange=[]}init(t){this.rowModel=t}reset(){this.root=null;this.end=null;this.cachedRange.length=0}setRoot(t){this.root=t;this.end=null;this.cachedRange.length=0}setEndRange(t){this.end=t;this.cachedRange.length=0}getRange(){if(this.cachedRange.length===0){const t=this.getRoot();const e=this.getEnd();if(t==null||e==null){return this.cachedRange}this.cachedRange=this.rowModel.getNodesInRangeForSelection(t,e)}return this.cachedRange}isInRange(t){if(this.root===null){return false}return this.getRange().some((e=>e.id===t.id))}getRoot(){if(this.root&&this.root?.key===null){this.root=this.rowModel.getRowNode(this.root.id)??null}return this.root}getEnd(){if(this.end&&this.end?.key===null){this.end=this.rowModel.getRowNode(this.end.id)??null}return this.end}truncate(t){const e=this.getRange();if(e.length===0){return{keep:[],discard:[]}}const i=e[0].id===this.root.id;const s=e.findIndex((e=>e.id===t.id));if(s>-1){const r=e.slice(0,s);const o=e.slice(s+1);this.setEndRange(t);return i?{keep:r,discard:o}:{keep:o,discard:r}}else{return{keep:e,discard:[]}}}extend(t,e=false){const i=this.getRoot();if(i==null){const i=this.getRange().slice();if(e){t.depthFirstSearch((t=>!t.group&&i.push(t)))}i.push(t);this.setRoot(t);return{keep:i,discard:[]}}const s=this.rowModel.getNodesInRangeForSelection(i,t);if(s.find((t=>t.id===this.end?.id))){this.setEndRange(t);return{keep:this.getRange(),discard:[]}}else{const e=this.getRange().slice();this.setEndRange(t);return{keep:this.getRange(),discard:e}}}};var uu=class extends fe{constructor(){super(...arguments);this.beanName="stylingService"}wireBeans(t){this.expressionService=t.expressionService}processAllCellClasses(t,e,i,s){this.processClassRules(void 0,t.cellClassRules,e,i,s);this.processStaticCellClasses(t,e,i)}processClassRules(t,e,i,s,r){if(e==null&&t==null){return}const o={};const n={};const a=(t,e)=>{t.split(" ").forEach((t=>{if(t.trim()=="")return;e(t)}))};if(e){const t=Object.keys(e);for(let s=0;s<t.length;s++){const r=t[s];const l=e[r];let h;if(typeof l==="string"){h=this.expressionService.evaluate(l,i)}else if(typeof l==="function"){h=l(i)}a(r,(t=>{h?o[t]=true:n[t]=true}))}}if(t&&r){Object.keys(t).forEach((t=>a(t,(t=>{if(!o[t]){n[t]=true}}))))}if(r){Object.keys(n).forEach(r)}Object.keys(o).forEach(s)}getStaticCellClasses(t,e){const{cellClass:i}=t;if(!i){return[]}let s;if(typeof i==="function"){const t=i;s=t(e)}else{s=i}if(typeof s==="string"){s=[s]}return s||[]}processStaticCellClasses(t,e,i){const s=this.getStaticCellClasses(t,e);s.forEach((t=>{i(t)}))}};var du=class extends fe{constructor(t){super();this.skipTabGuardFocus=false;this.forcingFocusOut=false;this.allowFocus=false;const{comp:e,eTopGuard:i,eBottomGuard:s,focusTrapActive:r,forceFocusOutWhenTabGuardsAreEmpty:o,isFocusableContainer:n,focusInnerElement:a,onFocusIn:l,onFocusOut:h,shouldStopEventPropagation:c,onTabKeyDown:u,handleKeyDown:d,eFocusableElement:g}=t;this.comp=e;this.eTopGuard=i;this.eBottomGuard=s;this.providedFocusInnerElement=a;this.eFocusableElement=g;this.focusTrapActive=!!r;this.forceFocusOutWhenTabGuardsAreEmpty=!!o;this.isFocusableContainer=!!n;this.providedFocusIn=l;this.providedFocusOut=h;this.providedShouldStopEventPropagation=c;this.providedOnTabKeyDown=u;this.providedHandleKeyDown=d}wireBeans(t){this.focusService=t.focusService}postConstruct(){this.createManagedBean(new jo(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:t=>this.onTabKeyDown(t),handleKeyDown:t=>this.handleKeyDown(t),onFocusIn:t=>this.onFocusIn(t),onFocusOut:t=>this.onFocusOut(t)}));this.activateTabGuards();[this.eTopGuard,this.eBottomGuard].forEach((t=>this.addManagedElementListeners(t,{focus:this.onFocus.bind(this)})))}handleKeyDown(t){if(this.providedHandleKeyDown){this.providedHandleKeyDown(t)}}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){if(this.providedShouldStopEventPropagation){return this.providedShouldStopEventPropagation()}return false}activateTabGuards(){if(this.forcingFocusOut){return}const t=this.gos.get("tabIndex");this.comp.setTabIndex(t.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(t){if(this.isFocusableContainer&&!this.eFocusableElement.contains(t.relatedTarget)){if(!this.allowFocus){this.findNextElementOutsideAndFocus(t.target===this.eBottomGuard);return}}if(this.skipTabGuardFocus){this.skipTabGuardFocus=false;return}if(this.forceFocusOutWhenTabGuardsAreEmpty){const e=this.focusService.findFocusableElements(this.eFocusableElement,".ag-tab-guard").length===0;if(e){this.findNextElementOutsideAndFocus(t.target===this.eBottomGuard);return}}if(this.isFocusableContainer&&this.eFocusableElement.contains(t.relatedTarget)){return}const e=t.target===this.eBottomGuard;if(this.providedFocusInnerElement){this.providedFocusInnerElement(e)}else{this.focusInnerElement(e)}}findNextElementOutsideAndFocus(t){const e=dt(this.gos);const i=this.focusService.findFocusableElements(e.body,null,true);const s=i.indexOf(t?this.eTopGuard:this.eBottomGuard);if(s===-1){return}let r;let o;if(t){r=0;o=s}else{r=s+1;o=i.length}const n=i.slice(r,o);const a=this.gos.get("tabIndex");n.sort(((t,e)=>{const i=parseInt(t.getAttribute("tabindex")||"0");const s=parseInt(e.getAttribute("tabindex")||"0");if(s===a){return 1}if(i===a){return-1}if(i===0){return 1}if(s===0){return-1}return i-s}));n[t?n.length-1:0]?.focus()}onFocusIn(t){if(this.focusTrapActive||this.forcingFocusOut){return}if(this.providedFocusIn){this.providedFocusIn(t)}if(!this.isFocusableContainer){this.deactivateTabGuards()}}onFocusOut(t){if(this.focusTrapActive){return}if(this.providedFocusOut){this.providedFocusOut(t)}if(!this.eFocusableElement.contains(t.relatedTarget)){this.activateTabGuards()}}onTabKeyDown(t){if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(t);return}if(this.focusTrapActive){return}if(t.defaultPrevented){return}const e=this.tabGuardsAreActive();if(e){this.deactivateTabGuards()}const i=this.getNextFocusableElement(t.shiftKey);if(e){setTimeout((()=>this.activateTabGuards()),0)}if(!i){return}i.focus();t.preventDefault()}focusInnerElement(t=false){const e=this.focusService.findFocusableElements(this.eFocusableElement);if(this.tabGuardsAreActive()){e.splice(0,1);e.splice(e.length-1,1)}if(!e.length){return}e[t?e.length-1:0].focus({preventScroll:true})}getNextFocusableElement(t){return this.focusService.findNextFocusableElement(this.eFocusableElement,false,t)}forceFocusOutOfContainer(t=false){if(this.forcingFocusOut){return}const e=t?this.eTopGuard:this.eBottomGuard;this.activateTabGuards();this.skipTabGuardFocus=true;this.forcingFocusOut=true;e.focus();window.setTimeout((()=>{this.forcingFocusOut=false;this.activateTabGuards()}))}isTabGuard(t,e){return t===this.eTopGuard&&!e||t===this.eBottomGuard&&(e??true)}setAllowFocus(t){this.allowFocus=t}};var gu=class extends fe{constructor(t){super();this.comp=t}initialiseTabGuard(t){this.eTopGuard=this.createTabGuard("top");this.eBottomGuard=this.createTabGuard("bottom");this.eFocusableElement=this.comp.getFocusableElement();const{eTopGuard:e,eBottomGuard:i,eFocusableElement:s}=this;const r=[e,i];const o={setTabIndex:t=>{r.forEach((e=>t!=null?e.setAttribute("tabindex",t):e.removeAttribute("tabindex")))}};this.addTabGuards(e,i);const{focusTrapActive:n=false,onFocusIn:a,onFocusOut:l,focusInnerElement:h,handleKeyDown:c,onTabKeyDown:u,shouldStopEventPropagation:d,forceFocusOutWhenTabGuardsAreEmpty:g,isFocusableContainer:f}=t;this.tabGuardCtrl=this.createManagedBean(new du({comp:o,focusTrapActive:n,eTopGuard:e,eBottomGuard:i,eFocusableElement:s,onFocusIn:a,onFocusOut:l,focusInnerElement:h,handleKeyDown:c,onTabKeyDown:u,shouldStopEventPropagation:d,forceFocusOutWhenTabGuardsAreEmpty:g,isFocusableContainer:f}))}getTabGuardCtrl(){return this.tabGuardCtrl}createTabGuard(t){const e=dt(this.gos).createElement("div");const i=t==="top"?"ag-tab-guard-top":"ag-tab-guard-bottom";e.classList.add("ag-tab-guard",i);Pi(e,"presentation");return e}addTabGuards(t,e){this.eFocusableElement.insertAdjacentElement("afterbegin",t);this.eFocusableElement.insertAdjacentElement("beforeend",e)}removeAllChildrenExceptTabGuards(){const t=[this.eTopGuard,this.eBottomGuard];fs(this.comp.getFocusableElement());this.addTabGuards(...t)}forceFocusOutOfContainer(t=false){this.tabGuardCtrl.forceFocusOutOfContainer(t)}appendChild(t,e,i){if(!Fs(e)){e=e.getGui()}const{eBottomGuard:s}=this;if(s){s.insertAdjacentElement("beforebegin",e)}else{t(e,i)}}};var fu=class extends ur{initialiseTabGuard(t){this.tabGuardFeature=this.createManagedBean(new gu(this));this.tabGuardFeature.initialiseTabGuard(t)}forceFocusOutOfContainer(t=false){this.tabGuardFeature.forceFocusOutOfContainer(t)}appendChild(t,e){this.tabGuardFeature.appendChild(super.appendChild.bind(this),t,e)}};var pu=0;var mu=200;var vu=class extends fe{constructor(){super(...arguments);this.beanName="popupService";this.popupList=[]}wireBeans(t){this.ctrlsService=t.ctrlsService;this.resizeObserverService=t.resizeObserverService;this.environment=t.environment}postConstruct(){this.ctrlsService.whenReady(this,(t=>{this.gridCtrl=t.gridCtrl}));this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)})}getPopupParent(){const t=this.gos.get("popupParent");if(t){return t}return this.gridCtrl.getGui()}positionPopupForMenu(t){const{eventSource:e,ePopup:i}=t;const s=this.getPopupIndex(i);if(s!==-1){const t=this.popupList[s];t.alignedToElement=e}const r=e.getBoundingClientRect();const o=this.getParentRect();const n=this.keepXYWithinBounds(i,r.top-o.top,0);const a=i.clientWidth>0?i.clientWidth:200;i.style.minWidth=`${a}px`;const l=o.right-o.left;const h=l-a;let c;if(this.gos.get("enableRtl")){c=d();if(c<0){c=u();this.setAlignedStyles(i,"left")}if(c>h){c=0;this.setAlignedStyles(i,"right")}}else{c=u();if(c>h){c=d();this.setAlignedStyles(i,"right")}if(c<0){c=0;this.setAlignedStyles(i,"left")}}i.style.left=`${c}px`;i.style.top=`${n}px`;function u(){return r.right-o.left-2}function d(){return r.left-o.left-a}}positionPopupUnderMouseEvent(t){const{ePopup:e,nudgeX:i,nudgeY:s,skipObserver:r}=t;this.positionPopup({ePopup:e,nudgeX:i,nudgeY:s,keepWithinBounds:true,skipObserver:r,updatePosition:()=>this.calculatePointerAlign(t.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(t.type,t.ePopup,null,t.mouseEvent,t.column,t.rowNode)})}calculatePointerAlign(t){const e=this.getParentRect();return{x:t.clientX-e.left,y:t.clientY-e.top}}positionPopupByComponent(t){const{ePopup:e,nudgeX:i,nudgeY:s,keepWithinBounds:r,eventSource:o,alignSide:n="left",position:a="over",column:l,rowNode:h,type:c}=t;const u=o.getBoundingClientRect();const d=this.getParentRect();const g=this.getPopupIndex(e);if(g!==-1){const t=this.popupList[g];t.alignedToElement=o}const f=()=>{let i=u.left-d.left;if(n==="right"){i-=e.offsetWidth-u.width}let r;if(a==="over"){r=u.top-d.top;this.setAlignedStyles(e,"over")}else{this.setAlignedStyles(e,"under");const i=this.shouldRenderUnderOrAbove(e,u,d,t.nudgeY||0);if(i==="under"){r=u.top-d.top+u.height}else{r=u.top-e.offsetHeight-(s||0)*2-d.top}}return{x:i,y:r}};this.positionPopup({ePopup:e,nudgeX:i,nudgeY:s,keepWithinBounds:r,updatePosition:f,postProcessCallback:()=>this.callPostProcessPopup(c,e,o,null,l,h)})}shouldRenderUnderOrAbove(t,e,i,s){const r=i.bottom-e.bottom;const o=e.top-i.top;const n=t.offsetHeight+s;if(r>n){return"under"}if(o>n||o>r){return"above"}return"under"}setAlignedStyles(t,e){const i=this.getPopupIndex(t);if(i===-1){return}const s=this.popupList[i];const{alignedToElement:r}=s;if(!r){return}const o=["right","left","over","above","under"];o.forEach((e=>{r.classList.remove(`ag-has-popup-positioned-${e}`);t.classList.remove(`ag-popup-positioned-${e}`)}));if(!e){return}r.classList.add(`ag-has-popup-positioned-${e}`);t.classList.add(`ag-popup-positioned-${e}`)}callPostProcessPopup(t,e,i,s,r,o){const n=this.gos.getCallback("postProcessPopup");if(n){const a={column:r,rowNode:o,ePopup:e,type:t,eventSource:i,mouseEvent:s};n(a)}}positionPopup(t){const{ePopup:e,keepWithinBounds:i,nudgeX:s,nudgeY:r,skipObserver:o,updatePosition:n}=t;const a={width:0,height:0};const l=(o=false)=>{let{x:l,y:h}=n();if(o&&e.clientWidth===a.width&&e.clientHeight===a.height){return}a.width=e.clientWidth;a.height=e.clientHeight;if(s){l+=s}if(r){h+=r}if(i){l=this.keepXYWithinBounds(e,l,1);h=this.keepXYWithinBounds(e,h,0)}e.style.left=`${l}px`;e.style.top=`${h}px`;if(t.postProcessCallback){t.postProcessCallback()}};l();if(!o){const t=this.resizeObserverService.observeResize(e,(()=>l(true)));setTimeout((()=>t()),mu)}}getActivePopups(){return this.popupList.map((t=>t.element))}getPopupList(){return this.popupList}getParentRect(){const t=dt(this.gos);let e=this.getPopupParent();if(e===t.body){e=t.documentElement}else if(getComputedStyle(e).position==="static"){e=e.offsetParent}return us(e)}keepXYWithinBounds(t,e,i){const s=i===0;const r=s?"clientHeight":"clientWidth";const o=s?"top":"left";const n=s?"height":"width";const a=s?"scrollTop":"scrollLeft";const l=dt(this.gos);const h=l.documentElement;const c=this.getPopupParent();const u=t.getBoundingClientRect();const d=c.getBoundingClientRect();const g=l.documentElement.getBoundingClientRect();const f=c===l.body;const p=Math.ceil(u[n]);const m=s?hs:cs;let v=f?m(h)+h[a]:c[r];if(f){v-=Math.abs(g[o]-d[o])}const w=v-p;return Math.min(Math.max(e,0),Math.abs(w))}addPopup(t){const e=dt(this.gos);const{eChild:i,ariaLabel:s,alwaysOnTop:r,positionCallback:o,anchorToElement:n}=t;if(!e){P("could not find the document, document is empty");return{hideFunc:()=>{}}}const a=this.getPopupIndex(i);if(a!==-1){const t=this.popupList[a];return{hideFunc:t.hideFunc}}this.initialisePopupPosition(i);const l=this.createPopupWrapper(i,s,!!r);const h=this.addEventListenersToPopup({...t,wrapperEl:l});if(o){o()}this.addPopupToPopupList(i,l,h,n);return{hideFunc:h}}initialisePopupPosition(t){const e=this.getPopupParent();const i=e.getBoundingClientRect();if(!j(t.style.top)){t.style.top=`${i.top*-1}px`}if(!j(t.style.left)){t.style.left=`${i.left*-1}px`}}createPopupWrapper(t,e,i){const s=this.getPopupParent();const r=document.createElement("div");this.environment.applyThemeClasses(r);r.classList.add("ag-popup");t.classList.add(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child");if(!t.hasAttribute("role")){Pi(t,"dialog")}Ti(t,e);r.appendChild(t);s.appendChild(r);if(i){this.setAlwaysOnTop(t,true)}else{this.bringPopupToFront(t)}return r}handleThemeChange(t){if(t.themeChanged){for(const t of this.popupList){this.environment.applyThemeClasses(t.wrapper)}}}addEventListenersToPopup(t){const e=dt(this.gos);const i=this.getPopupParent();const{wrapperEl:s,eChild:r,closedCallback:o,afterGuiAttached:n,closeOnEsc:a,modal:l}=t;let h=false;const c=t=>{if(!s.contains(pt(this.gos))){return}const e=t.key;if(e===zr.ESCAPE&&!ae(t)){g({keyboardEvent:t})}};const u=t=>g({mouseEvent:t});const d=t=>g({touchEvent:t});const g=(t={})=>{const{mouseEvent:n,touchEvent:a,keyboardEvent:l,forceHide:g}=t;if(!g&&(this.isEventFromCurrentPopup({mouseEvent:n,touchEvent:a},r)||h)){return}h=true;i.removeChild(s);e.removeEventListener("keydown",c);e.removeEventListener("mousedown",u);e.removeEventListener("touchstart",d);e.removeEventListener("contextmenu",u);this.eventService.removeEventListener("dragStarted",u);if(o){o(n||a||l)}this.removePopupFromPopupList(r)};if(n){n({hidePopup:g})}window.setTimeout((()=>{if(a){e.addEventListener("keydown",c)}if(l){e.addEventListener("mousedown",u);this.eventService.addEventListener("dragStarted",u);e.addEventListener("touchstart",d);e.addEventListener("contextmenu",u)}}),0);return g}addPopupToPopupList(t,e,i,s){this.popupList.push({element:t,wrapper:e,hideFunc:i,instanceId:pu++,isAnchored:!!s});if(s){this.setPopupPositionRelatedToElement(t,s)}}getPopupIndex(t){return this.popupList.findIndex((e=>e.element===t))}setPopupPositionRelatedToElement(t,e){const i=this.getPopupIndex(t);if(i===-1){return}const s=this.popupList[i];if(s.stopAnchoringPromise){s.stopAnchoringPromise.then((t=>t&&t()))}s.stopAnchoringPromise=void 0;s.isAnchored=false;if(!e){return}const r=this.keepPopupPositionedRelativeTo({element:e,ePopup:t,hidePopup:s.hideFunc});s.stopAnchoringPromise=r;s.isAnchored=true;return r}removePopupFromPopupList(t){this.setAlignedStyles(t,null);this.setPopupPositionRelatedToElement(t,null);this.popupList=this.popupList.filter((e=>e.element!==t))}keepPopupPositionedRelativeTo(t){const e=this.getPopupParent();const i=e.getBoundingClientRect();const{element:s,ePopup:r}=t;const o=s.getBoundingClientRect();const n=t=>parseInt(t.substring(0,t.length-1),10);const a=(t,e)=>{const s=i[t]-o[t];const a=n(r.style[t]);return{initialDiff:s,lastDiff:s,initial:a,last:a,direction:e}};const l=a("top",0);const h=a("left",1);const c=this.getFrameworkOverrides();return new Yr((i=>{c.wrapIncoming((()=>{c.setInterval((()=>{const i=e.getBoundingClientRect();const o=s.getBoundingClientRect();const a=o.top==0&&o.left==0&&o.height==0&&o.width==0;if(a){t.hidePopup();return}const c=(t,e)=>{const s=n(r.style[e]);if(t.last!==s){t.initial=s;t.last=s}const a=i[e]-o[e];if(a!=t.lastDiff){const i=this.keepXYWithinBounds(r,t.initial+t.initialDiff-a,t.direction);r.style[e]=`${i}px`;t.last=i}t.lastDiff=a};c(l,"top");c(h,"left")}),200).then((t=>{const e=()=>{if(t!=null){window.clearInterval(t)}};i(e)}))}),"popupPositioning")}))}hasAnchoredPopup(){return this.popupList.some((t=>t.isAnchored))}isEventFromCurrentPopup(t,e){const{mouseEvent:i,touchEvent:s}=t;const r=i?i:s;if(!r){return false}const o=this.getPopupIndex(e);if(o===-1){return false}for(let t=o;t<this.popupList.length;t++){const e=this.popupList[t];if(ce(e.element,r)){return true}}return this.isElementWithinCustomPopup(r.target)}isElementWithinCustomPopup(t){const e=dt(this.gos);while(t&&t!==e.body){if(t.classList.contains("ag-custom-component-popup")||t.parentElement===null){return true}t=t.parentElement}return false}getWrapper(t){while(!t.classList.contains("ag-popup")&&t.parentElement){t=t.parentElement}return t.classList.contains("ag-popup")?t:null}setAlwaysOnTop(t,e){const i=this.getWrapper(t);if(!i){return}i.classList.toggle("ag-always-on-top",!!e);if(e){this.bringPopupToFront(i)}}bringPopupToFront(t){const e=this.getPopupParent();const i=Array.prototype.slice.call(e.querySelectorAll(".ag-popup"));const s=i.length;const r=this.getWrapper(t);if(!r||s<=1||!e.contains(t)){return}const o=[];const n=[];for(const t of i){if(t===r){continue}if(t.classList.contains("ag-always-on-top")){n.push(t)}else{o.push(t)}}const a=[];const l=n.length;const h=r.classList.contains("ag-always-on-top");const c=h||!l;const u=c?[...o,...n,r]:[...o,r,...n];for(let t=0;t<=s;t++){const s=u[t];if(i[t]===u[t]||s===r){continue}const o=s.querySelectorAll("div");o.forEach((t=>{if(t.scrollTop!==0){a.push([t,t.scrollTop])}}));if(t===0){e.insertAdjacentElement("afterbegin",s)}else{u[t-1].insertAdjacentElement("afterend",s)}}while(a.length){const t=a.pop();t[0].scrollTop=t[1]}}};var wu=["touchstart","touchend","touchmove","touchcancel"];var bu=class{constructor(t="javascript"){this.frameworkName=t;this.renderingEngine="vanilla";this.wrapIncoming=t=>t();this.wrapOutgoing=t=>t()}setInterval(t,e){return new Yr((i=>{i(window.setInterval(t,e))}))}addEventListener(t,e,i,s){const r=te(wu,e);t.addEventListener(e,i,{capture:!!s,passive:r})}get shouldWrapOutgoing(){return false}frameworkComponent(t){return null}isFrameworkComponent(t){return false}getDocLink(t){const e=this.frameworkName==="solid"?"react":this.frameworkName;return`https://www.ag-grid.com/${e}-data-grid${t?`/${t}`:""}`}};var yu=class extends fe{constructor(){super(...arguments);this.beanName="cellNavigationService"}wireBeans(t){this.visibleColsService=t.visibleColsService;this.rowModel=t.rowModel;this.rowRenderer=t.rowRenderer;this.pinnedRowModel=t.pinnedRowModel;this.paginationService=t.paginationService;this.pageBoundsService=t.pageBoundsService}getNextCellToFocus(t,e,i=false){if(i){return this.getNextCellToFocusWithCtrlPressed(t,e)}return this.getNextCellToFocusWithoutCtrlPressed(t,e)}getNextCellToFocusWithCtrlPressed(t,e){const i=t===zr.UP;const s=t===zr.DOWN;const r=t===zr.LEFT;let o;let n;if(i||s){n=i?this.pageBoundsService.getFirstRow():this.pageBoundsService.getLastRow();o=e.column}else{const t=this.visibleColsService.getAllCols();const i=this.gos.get("enableRtl");n=e.rowIndex;o=r!==i?t[0]:$t(t)}return{rowIndex:n,rowPinned:null,column:o}}getNextCellToFocusWithoutCtrlPressed(t,e){let i=e;let s=false;while(!s){switch(t){case zr.UP:i=this.getCellAbove(i);break;case zr.DOWN:i=this.getCellBelow(i);break;case zr.RIGHT:if(this.gos.get("enableRtl")){i=this.getCellToLeft(i)}else{i=this.getCellToRight(i)}break;case zr.LEFT:if(this.gos.get("enableRtl")){i=this.getCellToRight(i)}else{i=this.getCellToLeft(i)}break;default:i=null;P("unknown key for navigation ",t);break}if(i){s=this.isCellGoodToFocusOn(i)}else{s=true}}return i}isCellGoodToFocusOn(t){const e=t.column;let i;switch(t.rowPinned){case"top":i=this.pinnedRowModel.getPinnedTopRow(t.rowIndex);break;case"bottom":i=this.pinnedRowModel.getPinnedBottomRow(t.rowIndex);break;default:i=this.rowModel.getRow(t.rowIndex);break}if(!i){return false}const s=e.isSuppressNavigable(i);return!s}getCellToLeft(t){if(!t){return null}const e=this.visibleColsService.getColBefore(t.column);if(!e){return null}return{rowIndex:t.rowIndex,column:e,rowPinned:t.rowPinned}}getCellToRight(t){if(!t){return null}const e=this.visibleColsService.getColAfter(t.column);if(!e){return null}return{rowIndex:t.rowIndex,column:e,rowPinned:t.rowPinned}}getRowBelow(t){const e=t.rowIndex;const i=t.rowPinned;let s=false;if(this.isLastRowInContainer(t)){switch(i){case"bottom":return null;case"top":if(this.rowModel.isRowsToRender()){return{rowIndex:this.pageBoundsService.getFirstRow(),rowPinned:null}}if(this.pinnedRowModel.isRowsToRender("bottom")){return{rowIndex:0,rowPinned:"bottom"}}return null;default:if(this.pinnedRowModel.isRowsToRender("bottom")){return{rowIndex:0,rowPinned:"bottom"}}return null}}else if(i){s=true}const r=this.rowModel.getRow(t.rowIndex);const o=s?void 0:this.getNextStickyPosition(r);if(o){return o}return{rowIndex:e+1,rowPinned:i}}getNextStickyPosition(t,e){if(!wt(this.gos)||!t||!t.sticky){return}const i=this.rowRenderer.getStickyTopRowCtrls().some((e=>e.getRowNode().rowIndex===t.rowIndex));let s=[];if(i){s=[...this.rowRenderer.getStickyTopRowCtrls()].sort(((t,e)=>t.getRowNode().rowIndex-e.getRowNode().rowIndex))}else{s=[...this.rowRenderer.getStickyBottomRowCtrls()].sort(((t,e)=>e.getRowNode().rowIndex-t.getRowNode().rowIndex))}const r=e?-1:1;const o=s.findIndex((e=>e.getRowNode().rowIndex===t.rowIndex));const n=s[o+r];if(n){return{rowIndex:n.getRowNode().rowIndex,rowPinned:null}}}getCellBelow(t){if(!t){return null}const e=this.getRowBelow(t);if(e){return{rowIndex:e.rowIndex,column:t.column,rowPinned:e.rowPinned}}return null}isLastRowInContainer(t){const e=t.rowPinned;const i=t.rowIndex;if(e==="top"){const t=this.pinnedRowModel.getPinnedTopRowCount()-1;return t<=i}if(e==="bottom"){const t=this.pinnedRowModel.getPinnedBottomRowCount()-1;return t<=i}const s=this.pageBoundsService.getLastRow();return s<=i}getRowAbove(t){const e=t.rowIndex;const i=t.rowPinned;const s=i?e===0:e===this.pageBoundsService.getFirstRow();let r=false;if(s){if(i==="top"){return null}if(!i){if(this.pinnedRowModel.isRowsToRender("top")){return this.getLastFloatingTopRow()}return null}if(this.rowModel.isRowsToRender()){return this.getLastBodyCell()}if(this.pinnedRowModel.isRowsToRender("top")){return this.getLastFloatingTopRow()}return null}else if(i){r=true}const o=this.rowModel.getRow(t.rowIndex);const n=r?void 0:this.getNextStickyPosition(o,true);if(n){return n}return{rowIndex:e-1,rowPinned:i}}getCellAbove(t){if(!t){return null}const e=this.getRowAbove({rowIndex:t.rowIndex,rowPinned:t.rowPinned});if(e){return{rowIndex:e.rowIndex,column:t.column,rowPinned:e.rowPinned}}return null}getLastBodyCell(){const t=this.pageBoundsService.getLastRow();return{rowIndex:t,rowPinned:null}}getLastFloatingTopRow(){const t=this.pinnedRowModel.getPinnedTopRowCount()-1;return{rowIndex:t,rowPinned:"top"}}getNextTabbedCell(t,e){if(e){return this.getNextTabbedCellBackwards(t)}return this.getNextTabbedCellForwards(t)}getNextTabbedCellForwards(t){const e=this.visibleColsService.getAllCols();let i=t.rowIndex;let s=t.rowPinned;let r=this.visibleColsService.getColAfter(t.column);if(!r){r=e[0];const o=this.getRowBelow(t);if(W(o)){return null}if(!o.rowPinned&&!(this.paginationService?.isRowInPage(o)??true)){return null}i=o?o.rowIndex:null;s=o?o.rowPinned:null}return{rowIndex:i,column:r,rowPinned:s}}getNextTabbedCellBackwards(t){const e=this.visibleColsService.getAllCols();let i=t.rowIndex;let s=t.rowPinned;let r=this.visibleColsService.getColBefore(t.column);if(!r){r=$t(e);const o=this.getRowAbove({rowIndex:t.rowIndex,rowPinned:t.rowPinned});if(W(o)){return null}if(!o.rowPinned&&!(this.paginationService?.isRowInPage(o)??true)){return null}i=o?o.rowIndex:null;s=o?o.rowPinned:null}return{rowIndex:i,column:r,rowPinned:s}}};var Cu=(t,e)=>{for(const i in e){e[i]=t}return e};var xu={...Cu("@ag-grid-community/core",{dispatchEvent:0,destroy:0,getGridId:0,getGridOption:0,isDestroyed:0,setGridOption:0,updateGridOptions:0,getState:0,setNodesSelected:0,selectAll:0,deselectAll:0,selectAllFiltered:0,deselectAllFiltered:0,selectAllOnCurrentPage:0,deselectAllOnCurrentPage:0,getSelectedNodes:0,getSelectedRows:0,redrawRows:0,setRowNodeExpanded:0,getRowNode:0,addRenderedRowListener:0,getRenderedNodes:0,forEachNode:0,getFirstDisplayedRow:0,getFirstDisplayedRowIndex:0,getLastDisplayedRow:0,getLastDisplayedRowIndex:0,getDisplayedRowAtIndex:0,getDisplayedRowCount:0,getModel:0,getVerticalPixelRange:0,getHorizontalPixelRange:0,ensureColumnVisible:0,ensureIndexVisible:0,ensureNodeVisible:0,getFocusedCell:0,clearFocusedCell:0,setFocusedCell:0,tabToNextCell:0,tabToPreviousCell:0,setFocusedHeader:0,addEventListener:0,addGlobalListener:0,removeEventListener:0,removeGlobalListener:0,expireValueCache:0,getValue:0,getCellValue:0,showColumnMenuAfterButtonClick:0,showColumnMenuAfterMouseClick:0,showColumnMenu:0,hidePopupMenu:0,onSortChanged:0,getPinnedTopRowCount:0,getPinnedBottomRowCount:0,getPinnedTopRow:0,getPinnedBottomRow:0,showLoadingOverlay:0,showNoRowsOverlay:0,hideOverlay:0,setGridAriaProperty:0,refreshCells:0,flashCells:0,refreshHeader:0,isAnimationFrameQueueEmpty:0,flushAllAnimationFrames:0,getSizesForCurrentTheme:0,getCellRendererInstances:0,addRowDropZone:0,removeRowDropZone:0,getRowDropZoneParams:0,getColumnDef:0,getColumnDefs:0,sizeColumnsToFit:0,setColumnGroupOpened:0,getColumnGroup:0,getProvidedColumnGroup:0,getDisplayNameForColumn:0,getDisplayNameForColumnGroup:0,getColumn:0,getColumns:0,applyColumnState:0,getColumnState:0,resetColumnState:0,getColumnGroupState:0,setColumnGroupState:0,resetColumnGroupState:0,isPinning:0,isPinningLeft:0,isPinningRight:0,getDisplayedColAfter:0,getDisplayedColBefore:0,setColumnVisible:0,setColumnsVisible:0,setColumnPinned:0,setColumnsPinned:0,getAllGridColumns:0,getDisplayedLeftColumns:0,getDisplayedCenterColumns:0,getDisplayedRightColumns:0,getAllDisplayedColumns:0,getAllDisplayedVirtualColumns:0,moveColumn:0,moveColumnByIndex:0,moveColumns:0,setColumnWidth:0,setColumnWidths:0,getLeftDisplayedColumnGroups:0,getCenterDisplayedColumnGroups:0,getRightDisplayedColumnGroups:0,getAllDisplayedColumnGroups:0,autoSizeColumn:0,autoSizeColumns:0,autoSizeAllColumns:0,undoCellEditing:0,redoCellEditing:0,getCellEditorInstances:0,getEditingCells:0,stopEditing:0,startEditingCell:0,getCurrentUndoSize:0,getCurrentRedoSize:0,isAnyFilterPresent:0,onFilterChanged:0,isColumnFilterPresent:0,getFilterInstance:0,getColumnFilterInstance:0,destroyFilter:0,setFilterModel:0,getFilterModel:0,getColumnFilterModel:0,setColumnFilterModel:0,showColumnFilter:0,isQuickFilterPresent:0,getQuickFilter:0,resetQuickFilter:0,paginationIsLastPageFound:0,paginationGetPageSize:0,paginationGetCurrentPage:0,paginationGetTotalPages:0,paginationGetRowCount:0,paginationGoToNextPage:0,paginationGoToPreviousPage:0,paginationGoToFirstPage:0,paginationGoToLastPage:0,paginationGoToPage:0,expandAll:0,collapseAll:0,onRowHeightChanged:0,setRowCount:0,getCacheBlockState:0,isLastRowIndexKnown:0}),...Cu("@ag-grid-community/client-side-row-model",{onGroupExpandedOrCollapsed:0,refreshClientSideRowModel:0,isRowDataEmpty:0,forEachLeafNode:0,forEachNodeAfterFilter:0,forEachNodeAfterFilterAndSort:0,resetRowHeights:0,applyTransaction:0,applyTransactionAsync:0,flushAsyncTransactions:0,getBestCostNodeSelection:0}),...Cu("@ag-grid-community/csv-export",{getDataAsCsv:0,exportDataAsCsv:0}),...Cu("@ag-grid-community/infinite-row-model",{refreshInfiniteCache:0,purgeInfiniteCache:0,getInfiniteRowCount:0}),...Cu("@ag-grid-enterprise/advanced-filter",{getAdvancedFilterModel:0,setAdvancedFilterModel:0,showAdvancedFilterBuilder:0,hideAdvancedFilterBuilder:0}),...Cu("@ag-grid-enterprise/charts",{getChartModels:0,getChartRef:0,getChartImageDataURL:0,downloadChart:0,openChartToolPanel:0,closeChartToolPanel:0,createRangeChart:0,createPivotChart:0,createCrossFilterChart:0,updateChart:0,restoreChart:0}),...Cu("@ag-grid-enterprise/clipboard",{copyToClipboard:0,cutToClipboard:0,copySelectedRowsToClipboard:0,copySelectedRangeToClipboard:0,copySelectedRangeDown:0,pasteFromClipboard:0}),...Cu("@ag-grid-enterprise/excel-export",{getDataAsExcel:0,exportDataAsExcel:0,getSheetDataForExcel:0,getMultipleSheetsAsExcel:0,exportMultipleSheetsAsExcel:0}),...Cu("@ag-grid-enterprise/master-detail",{addDetailGridInfo:0,removeDetailGridInfo:0,getDetailGridInfo:0,forEachDetailGridInfo:0}),...Cu("@ag-grid-enterprise/menu",{showContextMenu:0,showColumnChooser:0,hideColumnChooser:0}),...Cu("@ag-grid-enterprise/range-selection",{getCellRanges:0,addCellRange:0,clearRangeSelection:0,clearCellSelection:0}),...Cu("@ag-grid-enterprise/row-grouping",{addAggFunc:0,addAggFuncs:0,clearAggFuncs:0,setColumnAggFunc:0,isPivotMode:0,getPivotResultColumn:0,setValueColumns:0,getValueColumns:0,removeValueColumn:0,removeValueColumns:0,addValueColumn:0,addValueColumns:0,setRowGroupColumns:0,removeRowGroupColumn:0,removeRowGroupColumns:0,addRowGroupColumn:0,addRowGroupColumns:0,getRowGroupColumns:0,moveRowGroupColumn:0,setPivotColumns:0,removePivotColumn:0,removePivotColumns:0,addPivotColumn:0,addPivotColumns:0,getPivotColumns:0,setPivotResultColumns:0,getPivotResultColumns:0}),...Cu("@ag-grid-enterprise/server-side-row-model",{getServerSideSelectionState:0,setServerSideSelectionState:0,applyServerSideTransaction:0,applyServerSideTransactionAsync:0,applyServerSideRowData:0,retryServerSideLoads:0,flushServerSideAsyncTransactions:0,refreshServerSide:0,getServerSideGroupLevelState:0}),...Cu("@ag-grid-enterprise/side-bar",{isSideBarVisible:0,setSideBarVisible:0,setSideBarPosition:0,openToolPanel:0,closeToolPanel:0,getOpenedToolPanel:0,refreshToolPanel:0,isToolPanelShowing:0,getToolPanelInstance:0,getSideBar:0}),...Cu("@ag-grid-enterprise/status-bar",{getStatusPanel:0})};var ku={isDestroyed:()=>true,destroy(){},preConstruct(){},postConstruct(){},preWireBeans(){},wireBeans(){}};var Su=(t,e)=>t.eventService.dispatchEvent(e);var Du=class{};Reflect.defineProperty(Du,"name",{value:"GridApi"});var Mu=class extends fe{constructor(){super();this.beanName="apiFunctionService";this.api=new Du;this.fns={...ku,dispatchEvent:Su};this.beans=null;this.preDestroyLink="";const{api:t}=this;for(const e in xu){t[e]=this.makeApi(e)[e]}}wireBeans(t){this.beans=t}postConstruct(){this.preDestroyLink=this.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed")}addFunction(t,e){const{fns:i,beans:s}=this;if(i!==ku){i[t]=s?.validationService?.validateApiFunction(t,e)??e}}makeApi(t){return{[t]:(...e)=>{const{beans:i,fns:{[t]:s}}=this;return s?s(i,...e):this.apiNotFound(t)}}}apiNotFound(t){const{beans:e,gos:i,preDestroyLink:s}=this;if(!e){P(`Grid API function ${t}() cannot be called as the grid has been destroyed.\nEither clear local references to the grid api, when it is destroyed, or check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.\nTo run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ${s}`)}else{const e=xu[t];if(i.assertModuleRegistered(e,`api.${t}`)){P(`API function '${t}' not registered to module '${e}'`)}}}destroy(){super.destroy();this.fns=ku;this.beans=null}};function Ru(t){return{beanName:"gridApi",bean:t.getBean("apiFunctionService").api}}var Fu=class extends fe{constructor(){super(...arguments);this.beanName="columnDefFactory"}buildColumnDefs(t,e,i){const s=[];const r={};t.forEach((t=>{const o=this.createDefFromColumn(t,e,i);let n=true;let a=o;let l=t.getOriginalParent();let h=null;while(l){let t=null;if(l.isPadding()){l=l.getOriginalParent();continue}const e=r[l.getGroupId()];if(e){e.children.push(a);n=false;break}t=this.createDefFromGroup(l);if(t){t.children=[a];r[t.groupId]=t;a=t;l=l.getOriginalParent()}if(l!=null&&h===l){n=false;break}h=l}if(n){s.push(a)}}));return s}createDefFromGroup(t){const e=ze(t.getColGroupDef(),["children"]);if(e){e.groupId=t.getGroupId()}return e}createDefFromColumn(t,e,i){const s=ze(t.getColDef());s.colId=t.getColId();s.width=t.getActualWidth();s.rowGroup=t.isRowGroupActive();s.rowGroupIndex=t.isRowGroupActive()?e.indexOf(t):null;s.pivot=t.isPivotActive();s.pivotIndex=t.isPivotActive()?i.indexOf(t):null;s.aggFunc=t.isValueActive()?t.getAggFunc():null;s.hide=t.isVisible()?void 0:true;s.pinned=t.isPinned()?t.getPinned():null;s.sort=t.getSort()?t.getSort():null;s.sortIndex=t.getSortIndex()!=null?t.getSortIndex():null;return s}};var Pu=class extends fe{constructor(){super(...arguments);this.beanName="columnEventDispatcher"}visibleCols(t){this.eventService.dispatchEvent({type:"displayedColumnsChanged",source:t})}gridColumns(){this.eventService.dispatchEvent({type:"gridColumnsChanged"})}headerHeight(t){this.eventService.dispatchEvent({type:"columnHeaderHeightChanged",column:t,columns:[t],source:"autosizeColumnHeaderHeight"})}groupHeaderHeight(t){this.eventService.dispatchEvent({type:"columnGroupHeaderHeightChanged",columnGroup:t,source:"autosizeColumnGroupHeaderHeight"})}groupOpened(t){this.eventService.dispatchEvent({type:"columnGroupOpened",columnGroup:t.length===1?t[0]:void 0,columnGroups:t})}rowGroupChanged(t,e){this.eventService.dispatchEvent({type:"columnRowGroupChanged",columns:t,column:t.length===1?t[0]:null,source:e})}genericColumnEvent(t,e,i){this.eventService.dispatchEvent({type:t,columns:e,column:e.length===1?e[0]:null,source:i})}pivotModeChanged(){this.eventService.dispatchEvent({type:"columnPivotModeChanged"})}virtualColumnsChanged(t){this.eventService.dispatchEvent({type:"virtualColumnsChanged",afterScroll:t})}newColumnsLoaded(t){this.eventService.dispatchEvent({type:"newColumnsLoaded",source:t})}everythingChanged(t){this.eventService.dispatchEvent({type:"columnEverythingChanged",source:t})}columnMoved(t){const{movedColumns:e,source:i,toIndex:s,finished:r}=t;this.eventService.dispatchEvent({type:"columnMoved",columns:e,column:e&&e.length===1?e[0]:null,toIndex:s,finished:r,source:i})}columnPinned(t,e){if(!t.length){return}const i=t.length===1?t[0]:null;const s=this.getCommonValue(t,(t=>t.getPinned()));this.eventService.dispatchEvent({type:"columnPinned",pinned:s!=null?s:null,columns:t,column:i,source:e})}columnVisible(t,e){if(!t.length){return}const i=t.length===1?t[0]:null;const s=this.getCommonValue(t,(t=>t.isVisible()));this.eventService.dispatchEvent({type:"columnVisible",visible:s,columns:t,column:i,source:e})}getCommonValue(t,e){if(!t||t.length==0){return void 0}const i=e(t[0]);for(let s=1;s<t.length;s++){if(i!==e(t[s])){return void 0}}return i}columnChanged(t,e,i){this.eventService.dispatchEvent({type:t,columns:e,column:e&&e.length==1?e[0]:null,source:i})}columnResized(t,e,i,s=null){if(t&&t.length){this.eventService.dispatchEvent({type:"columnResized",columns:t,column:t.length===1?t[0]:null,flexColumns:s,finished:e,source:i})}}};var zu=class extends fe{constructor(){super(...arguments);this.beanName="columnGetStateService"}wireBeans(t){this.columnModel=t.columnModel;this.funcColsService=t.funcColsService}getColumnState(){const t=this.columnModel.getColDefCols();if(W(t)||!this.columnModel.isAlive()){return[]}const e=this.columnModel.getAllCols();const i=e.map((t=>this.createStateItemFromColumn(t)));this.orderColumnStateList(i);return i}createStateItemFromColumn(t){const e=this.funcColsService.getRowGroupColumns();const i=this.funcColsService.getPivotColumns();const s=t.isRowGroupActive()?e.indexOf(t):null;const r=t.isPivotActive()?i.indexOf(t):null;const o=t.isValueActive()?t.getAggFunc():null;const n=t.getSort()!=null?t.getSort():null;const a=t.getSortIndex()!=null?t.getSortIndex():null;const l=t.getFlex()!=null&&t.getFlex()>0?t.getFlex():null;const h={colId:t.getColId(),width:t.getActualWidth(),hide:!t.isVisible(),pinned:t.getPinned(),sort:n,sortIndex:a,aggFunc:o,rowGroup:t.isRowGroupActive(),rowGroupIndex:s,pivot:t.isPivotActive(),pivotIndex:r,flex:l};return h}orderColumnStateList(t){const e=this.columnModel.getCols();const i=new Map(e.map(((t,e)=>[t.getColId(),e])));t.sort(((t,e)=>{const s=i.has(t.colId)?i.get(t.colId):-1;const r=i.has(e.colId)?i.get(e.colId):-1;return s-r}))}};var Iu=class extends fe{constructor(){super(...arguments);this.beanName="columnGroupStateService"}wireBeans(t){this.columnModel=t.columnModel;this.columnAnimationService=t.columnAnimationService;this.eventDispatcher=t.columnEventDispatcher;this.visibleColsService=t.visibleColsService}getColumnGroupState(){const t=[];const e=this.columnModel.getColTree();We(null,e,(e=>{if(pe(e)){t.push({groupId:e.getGroupId(),open:e.isExpanded()})}}));return t}resetColumnGroupState(t){const e=this.columnModel.getColDefColTree();if(!e){return}const i=[];We(null,e,(t=>{if(pe(t)){const e=t.getColGroupDef();const s={groupId:t.getGroupId(),open:!e?void 0:e.openByDefault};i.push(s)}}));this.setColumnGroupState(i,t)}setColumnGroupState(t,e){const i=this.columnModel.getColTree();if(!i){return}this.columnAnimationService.start();const s=[];t.forEach((t=>{const e=t.groupId;const i=t.open;const r=this.columnModel.getProvidedColGroup(e);if(!r){return}if(r.isExpanded()===i){return}r.setExpanded(i);s.push(r)}));this.visibleColsService.refresh(e,true);if(s.length){this.eventDispatcher.groupOpened(s)}this.columnAnimationService.finish()}};var Tu=class extends fe{constructor(){super(...arguments);this.beanName="columnViewportService";this.colsWithinViewport=[];this.headerColsWithinViewport=[];this.colsWithinViewportHash="";this.rowsOfHeadersToRenderLeft={};this.rowsOfHeadersToRenderRight={};this.rowsOfHeadersToRenderCenter={}}wireBeans(t){this.visibleColsService=t.visibleColsService;this.columnModel=t.columnModel;this.eventDispatcher=t.columnEventDispatcher}postConstruct(){this.suppressColumnVirtualisation=this.gos.get("suppressColumnVirtualisation")}setScrollPosition(t,e,i=false){const s=this.visibleColsService.isBodyWidthDirty();const r=t===this.scrollWidth&&e===this.scrollPosition&&!s;if(r){return}this.scrollWidth=t;this.scrollPosition=e;this.visibleColsService.setBodyWidthDirty();if(this.gos.get("enableRtl")){const t=this.visibleColsService.getBodyContainerWidth();this.viewportLeft=t-this.scrollPosition-this.scrollWidth;this.viewportRight=t-this.scrollPosition}else{this.viewportLeft=this.scrollPosition;this.viewportRight=this.scrollWidth+this.scrollPosition}if(this.columnModel.isReady()){this.checkViewportColumns(i)}}getHeadersToRender(t,e){let i;switch(t){case"left":i=this.rowsOfHeadersToRenderLeft[e];break;case"right":i=this.rowsOfHeadersToRenderRight[e];break;default:i=this.rowsOfHeadersToRenderCenter[e];break}return i||[]}extractViewportColumns(){const t=this.visibleColsService.getCenterCols();if(this.isColumnVirtualisationSuppressed()){this.colsWithinViewport=t;this.headerColsWithinViewport=t}else{this.colsWithinViewport=t.filter(this.isColumnInRowViewport.bind(this));this.headerColsWithinViewport=t.filter(this.isColumnInHeaderViewport.bind(this))}}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||this.viewportRight===0}clear(){this.rowsOfHeadersToRenderLeft={};this.rowsOfHeadersToRenderRight={};this.rowsOfHeadersToRenderCenter={};this.colsWithinViewportHash=""}isColumnInHeaderViewport(t){if(t.isAutoHeaderHeight()||this.isAnyParentAutoHeaderHeight(t)){return true}return this.isColumnInRowViewport(t)}isAnyParentAutoHeaderHeight(t){while(t){if(t.isAutoHeaderHeight()){return true}t=t.getParent()}return false}isColumnInRowViewport(t){if(t.isAutoHeight()){return true}const e=t.getLeft()||0;const i=e+t.getActualWidth();const s=this.viewportLeft-200;const r=this.viewportRight+200;const o=e<s&&i<s;const n=e>r&&i>r;return!o&&!n}getViewportColumns(){const t=this.visibleColsService.getLeftCols();const e=this.visibleColsService.getRightCols();const i=this.colsWithinViewport.concat(t).concat(e);return i}getColsWithinViewport(t){if(!this.columnModel.isColSpanActive()){return this.colsWithinViewport}const e=t=>{const e=t.getLeft();return j(e)&&e>this.viewportLeft};const i=this.isColumnVirtualisationSuppressed()?void 0:this.isColumnInRowViewport.bind(this);const s=this.visibleColsService.getColsCenter();return this.visibleColsService.getColsForRow(t,s,i,e)}checkViewportColumns(t=false){const e=this.extractViewport();if(e){this.eventDispatcher.virtualColumnsChanged(t)}}calculateHeaderRows(){this.rowsOfHeadersToRenderLeft={};this.rowsOfHeadersToRenderRight={};this.rowsOfHeadersToRenderCenter={};const t={};const e=this.visibleColsService.getLeftCols();const i=this.visibleColsService.getRightCols();const s=this.headerColsWithinViewport.concat(e).concat(i);s.forEach((e=>t[e.getId()]=true));const r=(e,i,s)=>{let o=false;for(let n=0;n<e.length;n++){const a=e[n];let l=false;if(Ge(a)){l=t[a.getId()]===true}else{const t=a;const e=t.getDisplayedChildren();if(e){l=r(e,i,s+1)}}if(l){o=true;if(!i[s]){i[s]=[]}i[s].push(a)}}return o};r(this.visibleColsService.getTreeLeft(),this.rowsOfHeadersToRenderLeft,0);r(this.visibleColsService.getTreeRight(),this.rowsOfHeadersToRenderRight,0);r(this.visibleColsService.getTreeCenter(),this.rowsOfHeadersToRenderCenter,0)}extractViewport(){const t=t=>`${t.getId()}-${t.getPinned()||"normal"}`;this.extractViewportColumns();const e=this.getViewportColumns().map(t).join("#");const i=this.colsWithinViewportHash!==e;if(i){this.colsWithinViewportHash=e;this.calculateHeaderRows()}return i}};var Au=class extends fe{constructor(){super(...arguments);this.beanName="agComponentUtils"}wireBeans(t){this.componentMetadataProvider=t.componentMetadataProvider}adaptFunction(t,e){const i=this.componentMetadataProvider.retrieve(t);if(i&&i.functionAdapter){return i.functionAdapter(e)}return null}adaptCellRendererFunction(t){class e{refresh(){return false}getGui(){return this.eGui}init(e){const i=t(e);const s=typeof i;if(s==="string"||s==="number"||s==="boolean"){this.eGui=ws("<span>"+i+"</span>");return}if(i==null){this.eGui=ws("<span></span>");return}this.eGui=i}}return e}doesImplementIComponent(t){if(!t){return false}return t.prototype&&"getGui"in t.prototype}};var Eu=class extends fe{constructor(){super(...arguments);this.beanName="componentMetadataProvider"}wireBeans(t){this.agComponentUtils=t.agComponentUtils}postConstruct(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","onParamsUpdated","refresh"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},dragAndDropImageComponent:{mandatoryMethodList:["setIcon","setLabel"],optionalMethodList:[]},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached","onParamsUpdated","refresh"]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["refresh"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","getState"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]},menuItem:{mandatoryMethodList:[],optionalMethodList:["setActive","select","setExpanded","configureDefaults"]}}}retrieve(t){return this.componentMetaData[t]}};var Nu=["rowPositionUtils","cellPositionUtils","headerPositionUtils","paginationAutoPageSizeService","apiFunctionService","gridApi","userComponentRegistry","agComponentUtils","componentMetadataProvider","resizeObserverService","userComponentFactory","rowContainerHeightService","horizontalResizeService","localeService","validationService","pinnedRowModel","dragService","visibleColsService","eventService","gos","popupService","selectionService","columnFilterService","quickFilterService","filterManager","columnModel","headerNavigationService","pageBoundsService","paginationService","pageBoundsListener","rowRenderer","expressionService","columnFactory","alignedGridsService","navigationService","valueCache","valueService","loggerFactory","autoWidthCalculator","filterMenuFactory","dragAndDropService","focusService","mouseEventService","environment","cellNavigationService","stylingService","scrollVisibleService","sortController","columnHoverService","columnAnimationService","selectableService","autoColService","controlsColService","changeDetectionService","animationFrameService","undoRedoService","columnDefFactory","rowCssClassCalculator","rowNodeBlockLoader","rowNodeSorter","ctrlsService","pinnedWidthService","rowNodeEventThrottle","ctrlsFactory","dataTypeService","syncService","overlayService","stateService","expansionService","apiEventService","ariaAnnouncementService","menuService","columnApplyStateService","columnEventDispatcher","columnMoveService","columnAutosizeService","columnGetStateService","columnGroupStateService","columnSizeService","funcColsService","columnNameService","columnViewportService","pivotResultColsService","showRowGroupColsService"];var Ou=Object.fromEntries(Nu.map(((t,e)=>[t,e])));function Lu(t,e){const i=(t.beanName?Ou[t.beanName]:void 0)??Number.MAX_SAFE_INTEGER;const s=(e.beanName?Ou[e.beanName]:void 0)??Number.MAX_SAFE_INTEGER;return i-s}function Gu(t,e){return t?.beanName==="gridDestroyService"?-1:0}var Hu=class extends fe{constructor(){super(...arguments);this.beanName="ctrlsFactory";this.registry={}}register(t){this.registry[t.name]=t.classImp}getInstance(t,...e){const i=this.registry[t];if(i==null){return void 0}return new i(...e)}};var Bu=class extends fe{constructor(){super(...arguments);this.beanName="ctrlsService";this.params={gridCtrl:void 0,gridBodyCtrl:void 0,center:void 0,left:void 0,right:void 0,bottomCenter:void 0,bottomLeft:void 0,bottomRight:void 0,topCenter:void 0,topLeft:void 0,topRight:void 0,stickyTopCenter:void 0,stickyTopLeft:void 0,stickyTopRight:void 0,stickyBottomCenter:void 0,stickyBottomLeft:void 0,stickyBottomRight:void 0,fakeHScrollComp:void 0,fakeVScrollComp:void 0,gridHeaderCtrl:void 0,centerHeader:void 0,leftHeader:void 0,rightHeader:void 0};this.ready=false;this.readyCallbacks=[];this.runReadyCallbacksAsync=false}wireBeans(t){this.runReadyCallbacksAsync=t.frameworkOverrides.runWhenReadyAsync?.()??false}postConstruct(){this.addEventListener("ready",(()=>{this.updateReady();if(this.ready){this.readyCallbacks.forEach((t=>t(this.params)));this.readyCallbacks.length=0}}),this.runReadyCallbacksAsync)}updateReady(){this.ready=Object.values(this.params).every((t=>t?.isAlive()??false))}whenReady(t,e){if(this.ready){e(this.params)}else{this.readyCallbacks.push(e)}t.addDestroyFunc((()=>{const t=this.readyCallbacks.indexOf(e);if(t>=0){this.readyCallbacks.splice(t,1)}}))}register(t,e){this.params[t]=e;this.updateReady();if(this.ready){this.dispatchLocalEvent({type:"ready"})}e.addDestroyFunc((()=>{this.updateReady()}))}get(t){return this.params[t]}getGridBodyCtrl(){return this.params.gridBodyCtrl}getHeaderRowContainerCtrls(){const{leftHeader:t,centerHeader:e,rightHeader:i}=this.params;return[t,i,e]}getHeaderRowContainerCtrl(t){const e=this.params;switch(t){case"left":return e.leftHeader;case"right":return e.rightHeader;default:return e.centerHeader}}};var Vu=class extends fe{constructor(){super(...arguments);this.beanName="cellPositionUtils"}createId(t){const{rowIndex:e,rowPinned:i,column:s}=t;return this.createIdFromValues({rowIndex:e,column:s,rowPinned:i})}createIdFromValues(t){const{rowIndex:e,rowPinned:i,column:s}=t;return`${e}.${i==null?"null":i}.${s.getId()}`}equals(t,e){const i=t.column===e.column;const s=t.rowPinned===e.rowPinned;const r=t.rowIndex===e.rowIndex;return i&&s&&r}};var ju=class extends fe{constructor(){super(...arguments);this.beanName="rowNodeEventThrottle";this.events=[]}wireBeans(t){this.animationFrameService=t.animationFrameService;this.rowModel=t.rowModel}postConstruct(){if(X(this.gos)){this.clientSideRowModel=this.rowModel}}dispatchExpanded(t,e){if(this.clientSideRowModel==null){this.eventService.dispatchEvent(t);return}this.events.push(t);const i=()=>{if(this.clientSideRowModel){this.clientSideRowModel.onRowGroupOpened()}this.events.forEach((t=>this.eventService.dispatchEvent(t)));this.events=[]};if(e){i()}else{if(this.dispatchExpandedDebounced==null){this.dispatchExpandedDebounced=this.animationFrameService.debounce(i)}this.dispatchExpandedDebounced()}}};var Wu=class extends fe{constructor(){super(...arguments);this.beanName="rowPositionUtils"}wireBeans(t){this.rowModel=t.rowModel;this.pinnedRowModel=t.pinnedRowModel;this.pageBoundsService=t.pageBoundsService}getFirstRow(){let t=0;let e;if(this.pinnedRowModel.getPinnedTopRowCount()){e="top"}else if(this.rowModel.getRowCount()){e=null;t=this.pageBoundsService.getFirstRow()}else if(this.pinnedRowModel.getPinnedBottomRowCount()){e="bottom"}return e===void 0?null:{rowIndex:t,rowPinned:e}}getLastRow(){let t;let e=null;const i=this.pinnedRowModel.getPinnedBottomRowCount();const s=this.pinnedRowModel.getPinnedTopRowCount();if(i){e="bottom";t=i-1}else if(this.rowModel.getRowCount()){e=null;t=this.pageBoundsService.getLastRow()}else if(s){e="top";t=s-1}return t===void 0?null:{rowIndex:t,rowPinned:e}}getRowNode(t){switch(t.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRow(t.rowIndex);case"bottom":return this.pinnedRowModel.getPinnedBottomRow(t.rowIndex);default:return this.rowModel.getRow(t.rowIndex)}}sameRow(t,e){if(!t&&!e){return true}if(t&&!e||!t&&e){return false}return t.rowIndex===e.rowIndex&&t.rowPinned==e.rowPinned}before(t,e){switch(t.rowPinned){case"top":if(e.rowPinned!=="top"){return true}break;case"bottom":if(e.rowPinned!=="bottom"){return false}break;default:if(j(e.rowPinned)){return e.rowPinned!=="top"}break}return t.rowIndex<e.rowIndex}};var Uu={cssName:"--ag-row-height",changeKey:"rowHeightChanged",defaultValue:42};var $u={cssName:"--ag-header-height",changeKey:"headerHeightChanged",defaultValue:48};var Qu={cssName:"--ag-list-item-height",changeKey:"listItemHeightChanged",defaultValue:24};var Ku=class extends fe{constructor(){super(...arguments);this.beanName="environment";this.sizeEls=new Map;this.lastKnownValues=new Map;this.ancestorThemeClasses=[];this.sizesMeasured=false;this.gridTheme=null}wireBeans(t){this.resizeObserverService=t.resizeObserverService;this.eGridDiv=t.eGridDiv}postConstruct(){this.addManagedPropertyListener("theme",(()=>this.handleThemeGridOptionChange()));this.handleThemeGridOptionChange();this.addDestroyFunc((()=>this.stopUsingTheme()));this.addManagedPropertyListener("rowHeight",(()=>this.refreshRowHeightVariable()));this.ancestorThemeClasses=this.readAncestorThemeClasses();this.setUpThemeClassObservers();this.getSizeEl(Uu);this.getSizeEl($u);this.getSizeEl(Qu)}getDefaultRowHeight(){return this.getCSSVariablePixelValue(Uu)}getDefaultHeaderHeight(){return this.getCSSVariablePixelValue($u)}getDefaultColumnMinWidth(){return Math.min(36,this.getDefaultRowHeight())}getDefaultListItemHeight(){return this.getCSSVariablePixelValue(Qu)}hasMeasuredSizes(){return this.sizesMeasured}getGridThemeClass(){return this.gridTheme?.getCssClass()||null}getThemeClasses(){return this.gridTheme?[this.gridTheme.getCssClass()]:this.ancestorThemeClasses}applyThemeClasses(t){const e=this.getThemeClasses();for(const i of Array.from(t.classList)){if(i.startsWith("ag-theme-")&&!e.includes(i)){t.classList.remove(i)}}t.classList.add(...e)}refreshRowHeightVariable(){const t=this.eGridDiv.style.getPropertyValue("--ag-line-height").trim();const e=this.gos.get("rowHeight");if(e==null||isNaN(e)||!isFinite(e)){if(t!==null){this.eGridDiv.style.setProperty("--ag-line-height",null)}return-1}const i=`${e}px`;if(t!=i){this.eGridDiv.style.setProperty("--ag-line-height",i);return e}return t!=""?parseFloat(t):-1}getCSSVariablePixelValue(t){const e=this.lastKnownValues.get(t);if(e!=null){return e}const i=this.measureSizeEl(t);if(i==="detached"||i==="no-styles"){return t.defaultValue}this.lastKnownValues.set(t,i);return i}measureSizeEl(t){const e=this.getSizeEl(t);if(e.offsetParent==null){return"detached"}const i=e.offsetWidth;if(i===qu)return"no-styles";this.sizesMeasured=true;return i}getSizeEl(t){let e=this.sizeEls.get(t);if(e){return e}let i=this.eMeasurementContainer;if(!i){i=this.eMeasurementContainer=document.createElement("div");i.className="ag-measurement-container";if(this.gos.get("theme")){this.applyThemeClasses(i)}this.eGridDiv.appendChild(i)}e=document.createElement("div");e.style.width=`var(${t.cssName}, ${qu}px)`;i.appendChild(e);this.sizeEls.set(t,e);let s=this.measureSizeEl(t);if(s==="no-styles"){P(`no value for ${t.cssName}. This usually means that the grid has been initialised before styles have been loaded. The default value of ${t.defaultValue} will be used and updated when styles load.`)}const r=this.resizeObserverService.observeResize(e,(()=>{const e=this.measureSizeEl(t);if(e==="detached"||e==="no-styles"){return}this.lastKnownValues.set(t,e);if(e!==s){s=e;this.fireGridStylesChangedEvent(t.changeKey)}}));this.addDestroyFunc((()=>r()));return e}fireGridStylesChangedEvent(t){this.eventService.dispatchEvent({type:"gridStylesChanged",[t]:true})}setUpThemeClassObservers(){const t=new MutationObserver((()=>{const t=this.readAncestorThemeClasses();if(!Yu(t,this.ancestorThemeClasses)){this.ancestorThemeClasses=t;this.fireGridStylesChangedEvent("themeChanged")}}));let e=this.eGridDiv;while(e){t.observe(e||this.eGridDiv,{attributes:true,attributeFilter:["class"]});e=e.parentElement}this.addDestroyFunc((()=>t.disconnect()))}readAncestorThemeClasses(){let t=this.eGridDiv;const e=[];while(t){const i=Array.from(t.classList).filter((t=>t.startsWith("ag-theme-")));for(const t of i){if(!e.includes(t)){e.unshift(t)}}t=t.parentElement}return Object.freeze(e)}handleThemeGridOptionChange(){const{gos:t,eMeasurementContainer:e,gridTheme:i}=this;const s=t.get("theme")||null;if(s!==i){i?.stopUse();this.gridTheme=s;s?.startUse({loadThemeGoogleFonts:t.get("loadThemeGoogleFonts"),container:this.eGridDiv});if(e){this.applyThemeClasses(e)}this.fireGridStylesChangedEvent("themeChanged")}}stopUsingTheme(){this.gridTheme?.stopUse();this.gridTheme=null}};var Yu=(t,e)=>t.length===e.length&&t.findIndex(((i,s)=>t[s]!==e[s]))===-1;var qu=15538;var Zu=class extends fe{constructor(){super(...arguments);this.beanName="eventService";this.globalEventService=new S}wireBeans(t){this.globalEventListener=t.globalEventListener;this.globalSyncEventListener=t.globalSyncEventListener}postConstruct(){if(this.globalEventListener){const t=st(this.gos);this.addGlobalListener(this.globalEventListener,t)}if(this.globalSyncEventListener){this.addGlobalListener(this.globalSyncEventListener,false)}}addEventListener(t,e,i){this.globalEventService.addEventListener(t,e,i)}removeEventListener(t,e,i){this.globalEventService.removeEventListener(t,e,i)}addGlobalListener(t,e=false){this.globalEventService.addGlobalListener(t,e)}removeGlobalListener(t,e=false){this.globalEventService.removeGlobalListener(t,e)}dispatchLocalEvent(){}dispatchEvent(t){this.globalEventService.dispatchEvent(this.gos.addGridCommonParams(t))}dispatchEventOnce(t){this.globalEventService.dispatchEventOnce(this.gos.addGridCommonParams(t))}};var _u=class t extends fe{constructor(){super(...arguments);this.beanName="focusService"}wireBeans(t){this.eGridDiv=t.eGridDiv;this.columnModel=t.columnModel;this.visibleColsService=t.visibleColsService;this.headerNavigationService=t.headerNavigationService;this.headerPositionUtils=t.headerPositionUtils;this.rowRenderer=t.rowRenderer;this.rowPositionUtils=t.rowPositionUtils;this.cellPositionUtils=t.cellPositionUtils;this.navigationService=t.navigationService;this.ctrlsService=t.ctrlsService;this.filterManager=t.filterManager;this.rangeService=t.rangeService;this.advancedFilterService=t.advancedFilterService;this.overlayService=t.overlayService}static addKeyboardModeEvents(e){if(this.instanceCount>0){return}e.addEventListener("keydown",t.toggleKeyboardMode);e.addEventListener("mousedown",t.toggleKeyboardMode)}static removeKeyboardModeEvents(e){if(this.instanceCount>0)return;e.removeEventListener("keydown",t.toggleKeyboardMode);e.removeEventListener("mousedown",t.toggleKeyboardMode)}static toggleKeyboardMode(e){const i=t.keyboardModeActive;const s=e.type==="keydown";if(s){if(e.ctrlKey||e.metaKey||e.altKey){return}}if(i===s){return}t.keyboardModeActive=s}postConstruct(){const t=this.clearFocusedCell.bind(this);this.addManagedEventListeners({columnPivotModeChanged:t,newColumnsLoaded:this.onColumnEverythingChanged.bind(this),columnGroupOpened:t,columnRowGroupChanged:t});this.registerKeyboardFocusEvents();this.ctrlsService.whenReady(this,(t=>{this.gridCtrl=t.gridCtrl}))}registerKeyboardFocusEvents(){const e=dt(this.gos);t.addKeyboardModeEvents(e);t.instanceCount++;this.addDestroyFunc((()=>{t.instanceCount--;t.removeKeyboardModeEvents(e)}))}onColumnEverythingChanged(){if(!this.focusedCellPosition){return}const t=this.focusedCellPosition.column;const e=this.columnModel.getCol(t.getId());if(t!==e){this.clearFocusedCell()}}isKeyboardMode(){return t.keyboardModeActive}getFocusCellToUseAfterRefresh(){if(this.gos.get("suppressFocusAfterRefresh")||!this.focusedCellPosition){return null}if(this.isDomDataMissingInHierarchy(pt(this.gos),ph.DOM_DATA_KEY_ROW_CTRL)){return null}return this.focusedCellPosition}getFocusHeaderToUseAfterRefresh(){if(this.gos.get("suppressFocusAfterRefresh")||!this.focusedHeaderPosition){return null}if(this.isDomDataMissingInHierarchy(pt(this.gos),Zn.DOM_DATA_KEY_HEADER_CTRL)){return null}return this.focusedHeaderPosition}isDomDataMissingInHierarchy(t,e){let i=t;while(i){const t=ct(this.gos,i,e);if(t){return false}i=i.parentNode}return true}getFocusedCell(){return this.focusedCellPosition}shouldRestoreFocus(t){if(this.isCellRestoreFocused(t)){setTimeout((()=>{this.restoredFocusedCellPosition=null}),0);return true}return false}clearRestoreFocus(){this.restoredFocusedCellPosition=null;this.awaitRestoreFocusedCell=false}restoreFocusedCell(t,e){this.awaitRestoreFocusedCell=true;setTimeout((()=>{if(!this.awaitRestoreFocusedCell){return}this.setRestoreFocusedCell(t);e()}))}isCellRestoreFocused(t){if(this.restoredFocusedCellPosition==null){return false}return this.cellPositionUtils.equals(t,this.restoredFocusedCellPosition)}setRestoreFocusedCell(t){if(this.getFrameworkOverrides().renderingEngine==="react"){this.restoredFocusedCellPosition=t}}getFocusEventParams(t){const{rowIndex:e,rowPinned:i,column:s}=t;const r={rowIndex:e,rowPinned:i,column:s,isFullWidthCell:false};const o=this.rowRenderer.getRowByPosition({rowIndex:e,rowPinned:i});if(o){r.isFullWidthCell=o.isFullWidth()}return r}clearFocusedCell(){this.restoredFocusedCellPosition=null;if(this.focusedCellPosition==null){return}const t=this.getFocusEventParams(this.focusedCellPosition);this.focusedCellPosition=null;this.eventService.dispatchEvent({type:"cellFocusCleared",...t})}setFocusedCell(t){const{column:e,rowIndex:i,rowPinned:s,forceBrowserFocus:r=false,preventScrollOnBrowserFocus:o=false}=t;const n=this.columnModel.getCol(e);if(!n){this.focusedCellPosition=null;return}this.focusedCellPosition={rowIndex:i,rowPinned:V(s),column:n};this.eventService.dispatchEvent({type:"cellFocused",...this.getFocusEventParams(this.focusedCellPosition),forceBrowserFocus:r,preventScrollOnBrowserFocus:o})}isCellFocused(t){if(this.focusedCellPosition==null){return false}return this.cellPositionUtils.equals(t,this.focusedCellPosition)}isRowNodeFocused(t){return this.isRowFocused(t.rowIndex,t.rowPinned)}isHeaderWrapperFocused(t){if(this.focusedHeaderPosition==null){return false}const e=t.getColumnGroupChild();const i=t.getRowIndex();const s=t.getPinned();const{column:r,headerRowIndex:o}=this.focusedHeaderPosition;return e===r&&i===o&&s==r.getPinned()}clearFocusedHeader(){this.focusedHeaderPosition=null}getFocusedHeader(){return this.focusedHeaderPosition}setFocusedHeader(t,e){this.focusedHeaderPosition={headerRowIndex:t,column:e}}isHeaderFocusSuppressed(){return this.gos.get("suppressHeaderFocus")||this.overlayService.isExclusive()}isCellFocusSuppressed(){return this.gos.get("suppressCellFocus")||this.overlayService.isExclusive()}focusHeaderPosition(t){if(this.isHeaderFocusSuppressed()){return false}const{direction:e,fromTab:i,allowUserOverride:s,event:r,fromCell:o,rowWithoutSpanValue:n}=t;let{headerPosition:a}=t;if(o&&this.filterManager?.isAdvancedFilterHeaderActive()){return this.focusAdvancedFilter(a)}if(s){const t=this.getFocusedHeader();const s=this.headerNavigationService.getHeaderRowCount();if(i){const i=this.gos.getCallback("tabToNextHeader");if(i){a=this.getHeaderPositionFromUserFunc({userFunc:i,direction:e,currentPosition:t,headerPosition:a,headerRowCount:s})}}else{const e=this.gos.getCallback("navigateToNextHeader");if(e&&r){const i={key:r.key,previousHeaderPosition:t,nextHeaderPosition:a,headerRowCount:s,event:r};a=e(i)}}}if(!a){return false}return this.focusProvidedHeaderPosition({headerPosition:a,direction:e,event:r,fromCell:o,rowWithoutSpanValue:n})}focusHeaderPositionFromUserFunc(t){if(this.isHeaderFocusSuppressed()){return false}const{userFunc:e,headerPosition:i,direction:s,event:r}=t;const o=this.getFocusedHeader();const n=this.headerNavigationService.getHeaderRowCount();const a=this.getHeaderPositionFromUserFunc({userFunc:e,direction:s,currentPosition:o,headerPosition:i,headerRowCount:n});return!!a&&this.focusProvidedHeaderPosition({headerPosition:a,direction:s,event:r})}getHeaderPositionFromUserFunc(t){const{userFunc:e,direction:i,currentPosition:s,headerPosition:r,headerRowCount:o}=t;const n={backwards:i==="Before",previousHeaderPosition:s,nextHeaderPosition:r,headerRowCount:o};const a=e(n);if(a===true||a===null){if(a===null){P("Since v31.3 Returning `null` from tabToNextHeader is deprecated. Return `true` to stay on the current header, or `false` to let the browser handle the tab behaviour.")}return s}if(a===false){return null}return a}focusProvidedHeaderPosition(t){const{headerPosition:e,direction:i,fromCell:s,rowWithoutSpanValue:r,event:o}=t;const{column:n,headerRowIndex:a}=e;if(a===-1){if(this.filterManager?.isAdvancedFilterHeaderActive()){return this.focusAdvancedFilter(e)}return this.focusGridView(n)}this.headerNavigationService.scrollToColumn(n,i);const l=this.ctrlsService.getHeaderRowContainerCtrl(n.getPinned());const h=l?.focusHeader(e.headerRowIndex,n,o)||false;if(h&&(r!=null||s)){this.headerNavigationService.setCurrentHeaderRowWithoutSpan(r??-1)}return h}focusFirstHeader(){if(this.overlayService.isExclusive()&&this.focusOverlay()){return true}let t=this.visibleColsService.getAllCols()[0];if(!t){return false}if(t.getParent()){t=this.visibleColsService.getColGroupAtLevel(t,0)}const e=this.headerPositionUtils.getHeaderIndexToFocus(t,0);return this.focusHeaderPosition({headerPosition:e,rowWithoutSpanValue:0})}focusLastHeader(t){if(this.overlayService.isExclusive()&&this.focusOverlay(true)){return true}const e=this.headerNavigationService.getHeaderRowCount()-1;const i=$t(this.visibleColsService.getAllCols());return this.focusHeaderPosition({headerPosition:{headerRowIndex:e,column:i},rowWithoutSpanValue:-1,event:t})}focusPreviousFromFirstCell(t){if(this.filterManager?.isAdvancedFilterHeaderActive()){return this.focusAdvancedFilter(null)}return this.focusLastHeader(t)}isAnyCellFocused(){return!!this.focusedCellPosition}isRowFocused(t,e){if(this.focusedCellPosition==null){return false}return this.focusedCellPosition.rowIndex===t&&this.focusedCellPosition.rowPinned===V(e)}findFocusableElements(t,e,i=false){const s=Xi;let r=ts;if(e){r+=", "+e}if(i){r+=', [tabindex="-1"]'}const o=Array.prototype.slice.apply(t.querySelectorAll(s)).filter((t=>vs(t)));const n=Array.prototype.slice.apply(t.querySelectorAll(r));if(!n.length){return o}const a=(t,e)=>t.filter((t=>e.indexOf(t)===-1));return a(o,n)}focusInto(t,e=false,i=false){const s=this.findFocusableElements(t,null,i);const r=e?$t(s):s[0];if(r){r.focus({preventScroll:true});return true}return false}findFocusableElementBeforeTabGuard(t,e){if(!e){return null}const i=this.findFocusableElements(t);const s=i.indexOf(e);if(s===-1){return null}let r=-1;for(let t=s-1;t>=0;t--){if(i[t].classList.contains("ag-tab-guard-top")){r=t;break}}if(r<=0){return null}return i[r-1]}findNextFocusableElement(t=this.eGridDiv,e,i){const s=this.findFocusableElements(t,e?':not([tabindex="-1"])':null);const r=pt(this.gos);let o;if(e){o=s.findIndex((t=>t.contains(r)))}else{o=s.indexOf(r)}const n=o+(i?-1:1);if(n<0||n>=s.length){return null}return s[n]}isTargetUnderManagedComponent(t,e){if(!e){return false}const i=t.querySelectorAll(`.${jo.FOCUS_MANAGED_CLASS}`);if(!i.length){return false}for(let t=0;t<i.length;t++){if(i[t].contains(e)){return true}}return false}findTabbableParent(t,e=5){let i=0;while(t&&Zs(t)===null&&++i<=e){t=t.parentElement}if(Zs(t)===null){return null}return t}focusOverlay(t){const e=this.overlayService.isVisible()&&this.overlayService.getOverlayWrapper()?.getGui();return!!e&&this.focusInto(e,t)}focusGridViewFailed(t,e){const i=e&&this.focusOverlay(t);return i||t&&this.focusLastHeader()}focusGridView(t,e=false,i=true){if(this.overlayService.isExclusive()){return i&&this.focusOverlay(e)}if(this.isCellFocusSuppressed()){if(e){if(!this.isHeaderFocusSuppressed()){return this.focusLastHeader()}}if(i&&this.focusOverlay(e)){return true}return this.focusNextGridCoreContainer(false)}const s=e?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(s){const{rowIndex:i,rowPinned:r}=s;t??(t=this.getFocusedHeader()?.column);if(t&&i!==void 0&&i!==null){this.navigationService.ensureCellVisible({rowIndex:i,column:t,rowPinned:r});if(e){const t=this.rowRenderer.getRowByPosition(s);if(t?.isFullWidth()&&this.navigationService.tryToFocusFullWidthRow(s,e)){return true}}this.setFocusedCell({rowIndex:i,column:t,rowPinned:V(r),forceBrowserFocus:true});this.rangeService?.setRangeToCell({rowIndex:i,rowPinned:r,column:t});return true}}if(i&&this.focusOverlay(e)){return true}if(e&&this.focusLastHeader()){return true}return false}isGridFocused(){const t=pt(this.gos);return!!t&&this.eGridDiv.contains(t)}focusNextGridCoreContainer(t,e=false){if(!e&&this.gridCtrl.focusNextInnerContainer(t)){return true}if(e||!t&&!this.gridCtrl.isDetailGrid()){this.gridCtrl.forceFocusOutOfContainer(t)}return false}focusAdvancedFilter(t){this.advancedFilterFocusColumn=t?.column;return this.advancedFilterService?.getCtrl().focusHeaderComp()??false}focusNextFromAdvancedFilter(t,e){const i=(e?void 0:this.advancedFilterFocusColumn)??this.visibleColsService.getAllCols()?.[0];if(t){return this.focusHeaderPosition({headerPosition:{column:i,headerRowIndex:this.headerNavigationService.getHeaderRowCount()-1}})}else{return this.focusGridView(i)}}clearAdvancedFilterColumn(){this.advancedFilterFocusColumn=void 0}addFocusableContainer(t){this.gridCtrl.addFocusableContainer(t)}removeFocusableContainer(t){this.gridCtrl.removeFocusableContainer(t)}focusGridInnerElement(t){return this.gridCtrl.focusInnerElement(t)}allowFocusForNextGridCoreContainer(t){this.gridCtrl.allowFocusForNextCoreContainer(t)}};_u.keyboardModeActive=false;_u.instanceCount=0;var Ju=_u;var Xu=class extends fe{constructor(){super(...arguments);this.beanName="pinnedWidthService"}wireBeans(t){this.visibleColsService=t.visibleColsService}postConstruct(){const t=this.checkContainerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:t,displayedColumnsWidthChanged:t});this.addManagedPropertyListener("domLayout",t)}checkContainerWidths(){const t=et(this.gos,"print");const e=t?0:this.visibleColsService.getColsLeftWidth();const i=t?0:this.visibleColsService.getDisplayedColumnsRightWidth();if(e!=this.leftWidth){this.leftWidth=e;this.eventService.dispatchEvent({type:"leftPinnedWidthChanged"})}if(i!=this.rightWidth){this.rightWidth=i;this.eventService.dispatchEvent({type:"rightPinnedWidthChanged"})}}getPinnedRightWidth(){return this.rightWidth}getPinnedLeftWidth(){return this.leftWidth}};var td=class extends fe{constructor(){super(...arguments);this.additionalFocusableContainers=new Set}wireBeans(t){this.beans=t;this.focusService=t.focusService;this.visibleColsService=t.visibleColsService}setComp(t,e,i){this.view=t;this.eGridHostDiv=e;this.eGui=i;this.eGui.setAttribute("grid-id",this.beans.context.getGridId());const{dragAndDropService:s,mouseEventService:r,ctrlsService:o,resizeObserverService:n}=this.beans;const a={getContainer:()=>this.eGui,isInterestedIn:t=>t===1||t===0,getIconName:()=>"notAllowed"};s.addDropTarget(a);this.addDestroyFunc((()=>s.removeDropTarget(a)));r.stampTopLevelGridCompWithGridInstance(e);this.createManagedBean(new Ml(this.view));this.view.setRtlClass(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr");this.updateGridThemeClass();this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)});const l=n.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc((()=>l()));o.register("gridCtrl",this)}isDetailGrid(){const t=this.focusService.findTabbableParent(this.getGui());return t?.getAttribute("row-id")?.startsWith("detail")||false}getOptionalSelectors(){const t=this.beans;return{paginationSelector:t.paginationService?.getPaginationSelector(),gridHeaderDropZonesSelector:t.columnDropZonesService?.getDropZoneSelector(),sideBarSelector:t.sideBarService?.getSideBarSelector(),statusBarSelector:t.statusBarService?.getStatusPanelSelector(),watermarkSelector:t.licenseManager?.getWatermarkSelector()}}onGridSizeChanged(){this.eventService.dispatchEvent({type:"gridSizeChanged",clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(t){this.view.setCursor(t?"ew-resize":null)}disableUserSelect(t){this.view.setUserSelect(t?"none":null)}focusNextInnerContainer(t){const e=this.getFocusableContainers();const{indexWithFocus:i,nextIndex:s}=this.getNextFocusableIndex(e,t);if(s<0||s>=e.length){return false}if(s===0){if(i>0){const t=this.visibleColsService.getAllCols();const e=$t(t);if(this.focusService.focusGridView(e,true)){return true}}return false}return this.focusContainer(e[s],t)}focusInnerElement(t){const e=this.gos.getCallback("focusGridInnerElement");if(e&&e({fromBottom:!!t})){return true}const i=this.getFocusableContainers();const s=this.visibleColsService.getAllCols();if(t){if(i.length>1){return this.focusContainer($t(i),true)}const t=$t(s);if(this.focusService.focusGridView(t,true)){return true}}if(this.gos.get("headerHeight")===0||this.focusService.isHeaderFocusSuppressed()){if(this.focusService.focusGridView(s[0])){return true}for(let t=1;t<i.length;t++){if(this.focusService.focusInto(i[t].getGui())){return true}}return false}return this.focusService.focusFirstHeader()}forceFocusOutOfContainer(t=false){this.view.forceFocusOutOfContainer(t)}addFocusableContainer(t){this.additionalFocusableContainers.add(t)}removeFocusableContainer(t){this.additionalFocusableContainers.delete(t)}allowFocusForNextCoreContainer(t){const e=this.view.getFocusableContainers();const{nextIndex:i,indexWithFocus:s}=this.getNextFocusableIndex(e,t);if(s===-1||i<0||i>=e.length){return}const r=e[i];r.setAllowFocus?.(true);setTimeout((()=>{r.setAllowFocus?.(false)}))}getNextFocusableIndex(t,e){const i=pt(this.gos);const s=t.findIndex((t=>t.getGui().contains(i)));const r=s+(e?-1:1);return{indexWithFocus:s,nextIndex:r}}focusContainer(t,e){t.setAllowFocus?.(true);const i=this.focusService.focusInto(t.getGui(),e);t.setAllowFocus?.(false);return i}getFocusableContainers(){return[...this.view.getFocusableContainers(),...this.additionalFocusableContainers]}updateGridThemeClass(){const t=this.beans.environment.getGridThemeClass();if(t){this.view.setGridThemeClass(t)}}handleThemeChange(t){if(t.themeChanged){this.updateGridThemeClass()}}destroy(){this.additionalFocusableContainers.clear();super.destroy()}};var ed=class extends fu{constructor(t){super();this.gridBody=cr;this.sideBar=cr;this.pagination=cr;this.rootWrapperBody=cr;this.eGridDiv=t}postConstruct(){const t={destroyGridUi:()=>this.destroyBean(this),setRtlClass:t=>this.addCssClass(t),setGridThemeClass:t=>this.addCssClass(t),forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:t=>{this.getGui().style.userSelect=t!=null?t:"";this.getGui().style.webkitUserSelect=t!=null?t:""},setCursor:t=>{this.getGui().style.cursor=t!=null?t:""}};const e=this.createManagedBean(new td);const i=e.getOptionalSelectors();const s=this.createTemplate(i);const r=[Zh,...Object.values(i).filter((t=>!!t))];this.setTemplate(s,r);e.setComp(t,this.eGridDiv,this.getGui());this.insertGridIntoDom();this.initialiseTabGuard({onTabKeyDown:()=>void 0,focusInnerElement:t=>e.focusInnerElement(t),forceFocusOutWhenTabGuardsAreEmpty:true})}insertGridIntoDom(){const t=this.getGui();this.eGridDiv.appendChild(t);this.addDestroyFunc((()=>{this.eGridDiv.removeChild(t);if(this.gos.get("debug")){F("Grid removed from DOM")}}))}updateLayoutClasses(t,e){const i=this.rootWrapperBody.classList;i.toggle("ag-layout-auto-height",e.autoHeight);i.toggle("ag-layout-normal",e.normal);i.toggle("ag-layout-print",e.print);this.addOrRemoveCssClass("ag-layout-auto-height",e.autoHeight);this.addOrRemoveCssClass("ag-layout-normal",e.normal);this.addOrRemoveCssClass("ag-layout-print",e.print)}createTemplate(t){const e=t.gridHeaderDropZonesSelector?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":"";const i=t.sideBarSelector?'<ag-side-bar data-ref="sideBar"></ag-side-bar>':"";const s=t.statusBarSelector?"<ag-status-bar></ag-status-bar>":"";const r=t.watermarkSelector?"<ag-watermark></ag-watermark>":"";const o=t.paginationSelector?'<ag-pagination data-ref="pagination"></ag-pagination>':"";const n=`<div class="ag-root-wrapper" role="presentation">\n                ${e}\n                <div class="ag-root-wrapper-body" data-ref="rootWrapperBody" role="presentation">\n                    <ag-grid-body data-ref="gridBody"></ag-grid-body>\n                    ${i}\n                </div>\n                ${s}\n                ${o}\n                ${r}\n            </div>`;return n}getFocusableElement(){return this.rootWrapperBody}forceFocusOutOfContainer(t=false){if(!t&&this.pagination?.isDisplayed()){this.pagination.forceFocusOutOfContainer(t);return}super.forceFocusOutOfContainer(t)}getFocusableContainers(){const t=[this.gridBody];[this.sideBar,this.pagination].forEach((e=>{if(e){t.push(e)}}));return t.filter((t=>vs(t.getGui())))}};var id=class extends fe{constructor(){super(...arguments);this.beanName="alignedGridsService";this.consuming=false}wireBeans(t){this.columnModel=t.columnModel;this.columnSizeService=t.columnSizeService;this.ctrlsService=t.ctrlsService;this.columnApplyStateService=t.columnApplyStateService}getAlignedGridApis(){let t=this.gos.get("alignedGrids")??[];const e=typeof t==="function";if(typeof t==="function"){t=t()}const i=()=>`See ${this.getFrameworkOverrides().getDocLink("aligned-grids")}`;const s=t.map((t=>{if(!t){z(`alignedGrids contains an undefined option.`);if(!e){z(`You may want to configure via a callback to avoid setup race conditions:\n                     "alignedGrids: () => [linkedGrid]"`)}z(i());return}if(this.isGridApi(t)){return t}const s=t;if("current"in s){return s.current?.api}if(!s.api){z(`alignedGrids - No api found on the linked grid. If you are passing gridOptions to alignedGrids since v31 this is no longer valid. ${i()}`)}return s.api})).filter((t=>!!t&&!t.isDestroyed()));return s}isGridApi(t){return!!t&&!!t.dispatchEvent}postConstruct(){const t=this.fireColumnEvent.bind(this);this.addManagedEventListeners({columnMoved:t,columnVisible:t,columnPinned:t,columnGroupOpened:t,columnResized:t,bodyScroll:this.fireScrollEvent.bind(this),alignedGridColumn:({event:t})=>this.onColumnEvent(t),alignedGridScroll:({event:t})=>this.onScrollEvent(t)})}fireEvent(t){if(this.consuming){return}this.getAlignedGridApis().forEach((e=>{if(e.isDestroyed()){return}e.dispatchEvent(t)}))}onEvent(t){this.consuming=true;t();this.consuming=false}fireColumnEvent(t){this.fireEvent({type:"alignedGridColumn",event:t})}fireScrollEvent(t){if(t.direction!=="horizontal"){return}this.fireEvent({type:"alignedGridScroll",event:t})}onScrollEvent(t){this.onEvent((()=>{const e=this.ctrlsService.getGridBodyCtrl();e.getScrollFeature().setHorizontalScrollPosition(t.left,true)}))}extractDataFromEvent(t,e){const i=[];if(t.columns){t.columns.forEach((t=>{i.push(e(t))}))}else if(t.column){i.push(e(t.column))}return i}getMasterColumns(t){return this.extractDataFromEvent(t,(t=>t))}getColumnIds(t){return this.extractDataFromEvent(t,(t=>t.getColId()))}onColumnEvent(t){this.onEvent((()=>{switch(t.type){case"columnMoved":case"columnVisible":case"columnPinned":case"columnResized":{this.processColumnEvent(t);break}case"columnGroupOpened":{this.processGroupOpenedEvent(t);break}case"columnPivotChanged":P("pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.");break}}))}processGroupOpenedEvent(t){const{columnModel:e}=this;t.columnGroups.forEach((t=>{let i=null;if(t){i=e.getProvidedColGroup(t.getGroupId())}if(t&&!i){return}e.setColumnGroupOpened(i,t.isExpanded(),"alignedGridChanged")}))}processColumnEvent(t){const e=t.column;let i=null;if(e){i=this.columnModel.getColDefCol(e.getColId())}if(e&&!i){return}const s=this.getMasterColumns(t);const{columnApplyStateService:r,columnSizeService:o,ctrlsService:n}=this;switch(t.type){case"columnMoved":{const e=t.api.getColumnState();const i=e.map((t=>({colId:t.colId})));r.applyColumnState({state:i,applyOrder:true},"alignedGridChanged")}break;case"columnVisible":{const e=t.api.getColumnState();const i=e.map((t=>({colId:t.colId,hide:t.hide})));r.applyColumnState({state:i},"alignedGridChanged")}break;case"columnPinned":{const e=t.api.getColumnState();const i=e.map((t=>({colId:t.colId,pinned:t.pinned})));r.applyColumnState({state:i},"alignedGridChanged")}break;case"columnResized":{const e=t;const i={};s.forEach((t=>{i[t.getId()]={key:t.getColId(),newWidth:t.getActualWidth()}}));e.flexColumns?.forEach((t=>{if(i[t.getId()]){delete i[t.getId()]}}));o.setColumnWidths(Object.values(i),false,e.finished,"alignedGridChanged");break}}const a=n.getGridBodyCtrl();const l=a.isVerticalScrollShowing();this.getAlignedGridApis().forEach((t=>{t.setGridOption("alwaysShowVerticalScroll",l)}))}};var sd=Xn({version:ta,moduleName:"@ag-grid-community/aligned-grid",beans:[id]});function rd(t,e){const i=t.columnModel.getColDefCol(e);if(i){return i.getColDef()}return null}function od(t){return t.columnModel.getColumnDefs()}function nd(t,e){if(typeof e==="number"){t.columnSizeService.sizeColumnsToFit(e,"api")}else{t.ctrlsService.getGridBodyCtrl().sizeColumnsToFit(e)}}function ad(t,e,i){t.columnModel.setColumnGroupOpened(e,i,"api")}function ld(t,e,i){return t.visibleColsService.getColumnGroup(e,i)}function hd(t,e){return t.columnModel.getProvidedColGroup(e)}function cd(t,e,i){return t.columnNameService.getDisplayNameForColumn(e,i)||""}function ud(t,e,i){return t.columnNameService.getDisplayNameForColumnGroup(e,i)||""}function dd(t,e){return t.columnModel.getColDefCol(e)}function gd(t){return t.columnModel.getColDefCols()}function fd(t,e){return t.columnApplyStateService.applyColumnState(e,"api")}function pd(t){return t.columnGetStateService.getColumnState()}function md(t){t.columnApplyStateService.resetColumnState("api")}function vd(t){return t.columnGroupStateService.getColumnGroupState()}function wd(t,e){t.columnGroupStateService.setColumnGroupState(e,"api")}function bd(t){t.columnGroupStateService.resetColumnGroupState("api")}function yd(t){return t.visibleColsService.isPinningLeft()||t.visibleColsService.isPinningRight()}function Cd(t){return t.visibleColsService.isPinningLeft()}function xd(t){return t.visibleColsService.isPinningRight()}function kd(t,e){return t.visibleColsService.getColAfter(e)}function Sd(t,e){return t.visibleColsService.getColBefore(e)}function Dd(t,e,i){t.columnModel.setColsVisible([e],i,"api")}function Md(t,e,i){t.columnModel.setColsVisible(e,i,"api")}function Rd(t,e,i){t.columnModel.setColsPinned([e],i,"api")}function Fd(t,e,i){t.columnModel.setColsPinned(e,i,"api")}function Pd(t){return t.columnModel.getCols()}function zd(t){return t.visibleColsService.getLeftCols()}function Id(t){return t.visibleColsService.getCenterCols()}function Td(t){return t.visibleColsService.getRightCols()}function Ad(t){return t.visibleColsService.getAllCols()}function Ed(t){return t.columnViewportService.getViewportColumns()}function Nd(t,e,i){t.columnMoveService.moveColumns([e],i,"api")}function Od(t,e,i){t.columnMoveService.moveColumnByIndex(e,i,"api")}function Ld(t,e,i){t.columnMoveService.moveColumns(e,i,"api")}function Gd(t,e,i,s=true,r="api"){t.columnSizeService.setColumnWidths([{key:e,newWidth:i}],false,s,r)}function Hd(t,e,i=true,s="api"){t.columnSizeService.setColumnWidths(e,false,i,s)}function Bd(t){return t.visibleColsService.getTreeLeft()}function Vd(t){return t.visibleColsService.getTreeCenter()}function jd(t){return t.visibleColsService.getTreeRight()}function Wd(t){return t.visibleColsService.getAllTrees()}function Ud(t,e,i){return t.columnAutosizeService.autoSizeCols({colKeys:[e],skipHeader:i,source:"api"})}function $d(t,e,i){t.columnAutosizeService.autoSizeCols({colKeys:e,skipHeader:i,source:"api"})}function Qd(t,e){t.columnAutosizeService.autoSizeAllColumns("api",e)}var Kd=class extends fe{constructor(){super(...arguments);this.beanName="dataTypeService";this.dataTypeDefinitions={};this.isWaitingForRowData=false;this.isColumnTypeOverrideInDataTypeDefinitions=false;this.columnStateUpdatesPendingInference={};this.columnStateUpdateListenerDestroyFuncs=[]}wireBeans(t){this.rowModel=t.rowModel;this.columnModel=t.columnModel;this.funcColsService=t.funcColsService;this.valueService=t.valueService;this.columnApplyStateService=t.columnApplyStateService;this.filterManager=t.filterManager}postConstruct(){this.groupHideOpenParents=this.gos.get("groupHideOpenParents");this.addManagedPropertyListener("groupHideOpenParents",(()=>{this.groupHideOpenParents=this.gos.get("groupHideOpenParents")}));this.processDataTypeDefinitions();this.addManagedPropertyListener("dataTypeDefinitions",(t=>{this.processDataTypeDefinitions();this.columnModel.recreateColumnDefs($e(t.source))}))}processDataTypeDefinitions(){const t=this.getDefaultDataTypes();this.dataTypeDefinitions={};this.formatValueFuncs={};const e=t=>e=>{const{column:i,node:s,value:r}=e;let o=i.getColDef().valueFormatter;if(o===t.groupSafeValueFormatter){o=t.valueFormatter}return this.valueService.formatValue(i,s,r,o)};Object.entries(t).forEach((([t,i])=>{const s={...i,groupSafeValueFormatter:this.createGroupSafeValueFormatter(i)};this.dataTypeDefinitions[t]=s;this.formatValueFuncs[t]=e(s)}));const i=this.gos.get("dataTypeDefinitions")??{};this.dataTypeMatchers={};Object.entries(i).forEach((([s,r])=>{const o=this.processDataTypeDefinition(r,i,[s],t);if(o){this.dataTypeDefinitions[s]=o;if(r.dataTypeMatcher){this.dataTypeMatchers[s]=r.dataTypeMatcher}this.formatValueFuncs[s]=e(o)}}));this.checkObjectValueHandlers(t);["dateString","text","number","boolean","date"].forEach((e=>{const i=this.dataTypeMatchers[e];if(i){delete this.dataTypeMatchers[e]}this.dataTypeMatchers[e]=i??t[e].dataTypeMatcher}))}mergeDataTypeDefinitions(t,e){const i={...t,...e};if(t.columnTypes&&e.columnTypes&&e.appendColumnTypes){i.columnTypes=[...De(t.columnTypes),...De(e.columnTypes)]}return i}processDataTypeDefinition(t,e,i,s){let r;const o=t.extendsDataType;if(t.columnTypes){this.isColumnTypeOverrideInDataTypeDefinitions=true}if(t.extendsDataType===t.baseDataType){let i=s[o];const n=e[o];if(i&&n){i=n}if(!this.validateDataTypeDefinition(t,i,o)){return void 0}r=this.mergeDataTypeDefinitions(i,t)}else{if(i.includes(o)){P('Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.');return void 0}const n=e[o];if(!this.validateDataTypeDefinition(t,n,o)){return void 0}const a=this.processDataTypeDefinition(n,e,[...i,o],s);if(!a){return void 0}r=this.mergeDataTypeDefinitions(a,t)}return{...r,groupSafeValueFormatter:this.createGroupSafeValueFormatter(r)}}validateDataTypeDefinition(t,e,i){if(!e){P(`The data type definition ${i} does not exist.`);return false}if(e.baseDataType!==t.baseDataType){P('The "baseDataType" property of a data type definition must match that of its parent.');return false}return true}createGroupSafeValueFormatter(t){if(!t.valueFormatter){return void 0}return e=>{if(e.node?.group){const i=(e.colDef.pivotValueColumn??e.column).getAggFunc();if(i){if(i==="first"||i==="last"){return t.valueFormatter(e)}if(t.baseDataType==="number"&&i!=="count"){if(typeof e.value==="number"){return t.valueFormatter(e)}if(typeof e.value==="object"){if(!e.value){return void 0}if("toNumber"in e.value){return t.valueFormatter({...e,value:e.value.toNumber()})}if("value"in e.value){return t.valueFormatter({...e,value:e.value.value})}}}return void 0}if((this.gos.get("suppressGroupMaintainValueType")||this.gos.get("groupDisplayType")==="groupRows")&&!this.gos.get("treeData")){return void 0}}else if(this.groupHideOpenParents&&e.column.isRowGroupActive()){if(typeof e.value==="string"&&!t.dataTypeMatcher?.(e.value)){return void 0}}return t.valueFormatter(e)}}updateColDefAndGetColumnType(t,e,i){let{cellDataType:s}=e;const{field:r}=e;if(s===void 0){s=t.cellDataType}if(s==null||s===true){s=this.canInferCellDataType(t,e)?this.inferCellDataType(r,i):false}if(!s){t.cellDataType=false;return void 0}const o=this.dataTypeDefinitions[s];if(!o){P(`Missing data type definition - "${s}"`);return void 0}t.cellDataType=s;if(o.groupSafeValueFormatter){t.valueFormatter=o.groupSafeValueFormatter}if(o.valueParser){t.valueParser=o.valueParser}if(!o.suppressDefaultProperties){this.setColDefPropertiesForBaseDataType(t,s,o,i)}return o.columnTypes}addColumnListeners(t){if(!this.isWaitingForRowData){return}const e=this.columnStateUpdatesPendingInference[t.getColId()];if(!e){return}const i=t=>{e.add(t.key)};t.addEventListener("columnStateUpdated",i);this.columnStateUpdateListenerDestroyFuncs.push((()=>t.removeEventListener("columnStateUpdated",i)))}canInferCellDataType(t,e){if(!X(this.gos)){return false}const i={cellRenderer:true,valueGetter:true,valueParser:true,refData:true};if(this.doColDefPropsPreventInference(e,i)){return false}const s=e.type===null?t.type:e.type;if(s){const t=this.gos.get("columnTypes")??{};const e=De(s).some((e=>{const s=t[e.trim()];return s&&this.doColDefPropsPreventInference(s,i)}));if(e){return false}}return!this.doColDefPropsPreventInference(t,i)}doColDefPropsPreventInference(t,e){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some((([i,s])=>this.doesColDefPropPreventInference(t,e,i,s)))}doesColDefPropPreventInference(t,e,i,s){if(!e[i]){return false}const r=t[i];if(r===null){e[i]=false;return false}else{return s===void 0?!!r:r===s}}inferCellDataType(t,e){if(!t){return void 0}let i;const s=this.getInitialData();if(s){const e=t.indexOf(".")>=0&&!this.gos.get("suppressFieldDotNotation");i=Ae(s,t,e)}else{this.initWaitForRowData(e)}if(i==null){return void 0}const[r]=Object.entries(this.dataTypeMatchers).find((([t,e])=>e(i)))??["object"];return r}getInitialData(){const t=this.gos.get("rowData");if(t?.length){return t[0]}else if(this.initialData){return this.initialData}else{const t=this.rowModel.getRootNode().allLeafChildren;if(t?.length){return t[0].data}}return null}initWaitForRowData(t){this.columnStateUpdatesPendingInference[t]=new Set;if(this.isWaitingForRowData){return}this.isWaitingForRowData=true;const e=this.isColumnTypeOverrideInDataTypeDefinitions;if(e){this.columnModel.queueResizeOperations()}const[i]=this.addManagedEventListeners({rowDataUpdateStarted:t=>{const{firstRowData:s}=t;if(!s){return}i?.();this.isWaitingForRowData=false;this.processColumnsPendingInference(s,e);this.columnStateUpdatesPendingInference={};if(e){this.columnModel.processResizeOperations()}this.eventService.dispatchEvent({type:"dataTypesInferred"})}})}isPendingInference(){return this.isWaitingForRowData}processColumnsPendingInference(t,e){this.initialData=t;const i=[];this.destroyColumnStateUpdateListeners();const s={};const r={};Object.entries(this.columnStateUpdatesPendingInference).forEach((([t,o])=>{const n=this.columnModel.getCol(t);if(!n){return}const a=n.getColDef();if(!this.columnModel.resetColDefIntoCol(n,"cellDataTypeInferred")){return}const l=n.getColDef();if(e&&l.type&&l.type!==a.type){const e=this.getUpdatedColumnState(n,o);if(e.rowGroup&&e.rowGroupIndex==null){s[t]=e}if(e.pivot&&e.pivotIndex==null){r[t]=e}i.push(e)}}));if(e){i.push(...this.funcColsService.generateColumnStateForRowGroupAndPivotIndexes(s,r))}if(i.length){this.columnApplyStateService.applyColumnState({state:i},"cellDataTypeInferred")}this.initialData=null}getUpdatedColumnState(t,e){const i=this.columnApplyStateService.getColumnStateFromColDef(t);e.forEach((t=>{delete i[t];if(t==="rowGroup"){delete i.rowGroupIndex}else if(t==="pivot"){delete i.pivotIndex}}));return i}checkObjectValueHandlers(t){const e=this.dataTypeDefinitions.object;const i=t.object;this.hasObjectValueParser=e.valueParser!==i.valueParser;this.hasObjectValueFormatter=e.valueFormatter!==i.valueFormatter}getDateStringTypeDefinition(t){if(!t){return this.dataTypeDefinitions.dateString}return this.getDataTypeDefinition(t)??this.dataTypeDefinitions.dateString}getDateParserFunction(t){return this.getDateStringTypeDefinition(t).dateParser}getDateFormatterFunction(t){return this.getDateStringTypeDefinition(t).dateFormatter}getDataTypeDefinition(t){const e=t.getColDef();if(!e.cellDataType){return void 0}return this.dataTypeDefinitions[e.cellDataType]}getBaseDataType(t){return this.getDataTypeDefinition(t)?.baseDataType}checkType(t,e){if(e==null){return true}const i=this.getDataTypeDefinition(t)?.dataTypeMatcher;if(!i){return true}return i(e)}validateColDef(t){const e=t=>P(`Cell data type is "object" but no Value ${t} has been provided. Please either provide an object data type definition with a Value ${t}, or set "colDef.value${t}"`);if(t.cellDataType==="object"){if(t.valueFormatter===this.dataTypeDefinitions.object.groupSafeValueFormatter&&!this.hasObjectValueFormatter){e("Formatter")}if(t.editable&&t.valueParser===this.dataTypeDefinitions.object.valueParser&&!this.hasObjectValueParser){e("Parser")}}}getFormatValue(t){return this.formatValueFuncs[t]}setColDefPropertiesForBaseDataType(t,e,i,s){const r=this.formatValueFuncs[e];switch(i.baseDataType){case"number":{t.cellEditor="agNumberCellEditor";break}case"boolean":{t.cellEditor="agCheckboxCellEditor";t.cellRenderer="agCheckboxCellRenderer";t.suppressKeyboardEvent=t=>!!t.colDef.editable&&t.event.key===zr.SPACE;break}case"date":{t.cellEditor="agDateCellEditor";t.keyCreator=r;break}case"dateString":{t.cellEditor="agDateStringCellEditor";t.keyCreator=r;break}case"object":{t.cellEditorParams={useFormatter:true};t.comparator=(t,e)=>{const i=this.columnModel.getColDefCol(s);const o=i?.getColDef();if(!i||!o){return 0}const n=t==null?"":r({column:i,node:null,value:t});const a=e==null?"":r({column:i,node:null,value:e});if(n===a)return 0;return n>a?1:-1};t.keyCreator=r;break}}this.filterManager?.setColDefPropertiesForDataType(t,i,r)}getDefaultDataTypes(){const t=t=>!!t.match("^\\d{4}-\\d{2}-\\d{2}$");const e=this.localeService.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:t=>t.newValue?.trim?.()===""?null:Number(t.newValue),valueFormatter:t=>{if(t.value==null){return""}if(typeof t.value!=="number"||isNaN(t.value)){return e("invalidNumber","Invalid Number")}return String(t.value)},dataTypeMatcher:t=>typeof t==="number"},text:{baseDataType:"text",valueParser:t=>t.newValue===""?null:$(t.newValue),dataTypeMatcher:t=>typeof t==="string"},boolean:{baseDataType:"boolean",valueParser:t=>{if(t.newValue==null){return t.newValue}return t.newValue?.trim?.()===""?null:String(t.newValue).toLowerCase()==="true"},valueFormatter:t=>t.value==null?"":String(t.value),dataTypeMatcher:t=>typeof t==="boolean"},date:{baseDataType:"date",valueParser:t=>En(t.newValue==null?null:String(t.newValue)),valueFormatter:t=>{if(t.value==null){return""}if(!(t.value instanceof Date)||isNaN(t.value.getTime())){return e("invalidDate","Invalid Date")}return In(t.value,false)??""},dataTypeMatcher:t=>t instanceof Date},dateString:{baseDataType:"dateString",dateParser:t=>En(t)??void 0,dateFormatter:t=>In(t??null,false)??void 0,valueParser:e=>t(String(e.newValue))?e.newValue:null,valueFormatter:e=>t(String(e.value))?e.value:"",dataTypeMatcher:e=>typeof e==="string"&&t(e)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:t=>$(t.value)??""}}}destroyColumnStateUpdateListeners(){this.columnStateUpdateListenerDestroyFuncs.forEach((t=>t()));this.columnStateUpdateListenerDestroyFuncs=[]}destroy(){this.dataTypeDefinitions={};this.dataTypeMatchers={};this.formatValueFuncs={};this.columnStateUpdatesPendingInference={};this.destroyColumnStateUpdateListeners();super.destroy()}};var Yd=Xn({version:ta,moduleName:"@ag-grid-community/data-type",beans:[Kd]});var qd=Xn({version:ta,moduleName:"@ag-grid-community/column-api",apiFunctions:{getColumnDef:rd,getColumnDefs:od,sizeColumnsToFit:nd,setColumnGroupOpened:ad,getColumnGroup:ld,getProvidedColumnGroup:hd,getDisplayNameForColumn:cd,getDisplayNameForColumnGroup:ud,getColumn:dd,getColumns:gd,applyColumnState:fd,getColumnState:pd,resetColumnState:md,getColumnGroupState:vd,setColumnGroupState:wd,resetColumnGroupState:bd,isPinning:yd,isPinningLeft:Cd,isPinningRight:xd,getDisplayedColAfter:kd,getDisplayedColBefore:Sd,setColumnVisible:Dd,setColumnsVisible:Md,setColumnPinned:Rd,setColumnsPinned:Fd,getAllGridColumns:Pd,getDisplayedLeftColumns:zd,getDisplayedCenterColumns:Id,getDisplayedRightColumns:Td,getAllDisplayedColumns:Ad,getAllDisplayedVirtualColumns:Ed,moveColumn:Nd,moveColumnByIndex:Od,moveColumns:Ld,setColumnWidth:Gd,setColumnWidths:Hd,getLeftDisplayedColumnGroups:Bd,getCenterDisplayedColumnGroups:Vd,getRightDisplayedColumnGroups:jd,getAllDisplayedColumnGroups:Wd,autoSizeColumn:Ud,autoSizeColumns:$d,autoSizeAllColumns:Qd}});function Zd(t,e){t.ctrlsService.getGridBodyCtrl().getRowDragFeature().addRowDropZone(e)}function _d(t,e){const i=t.dragAndDropService.findExternalZone(e);if(i){t.dragAndDropService.removeDropTarget(i)}}function Jd(t,e){return t.ctrlsService.getGridBodyCtrl().getRowDragFeature().getRowDropZone(e)}var Xd=Xn({version:ta,moduleName:"@ag-grid-community/drag-api",apiFunctions:{addRowDropZone:Zd,removeRowDropZone:_d,getRowDropZoneParams:Jd}});function tg(t){return t.pinnedRowModel.getPinnedTopRowCount()}function eg(t){return t.pinnedRowModel.getPinnedBottomRowCount()}function ig(t,e){return t.pinnedRowModel.getPinnedTopRow(e)}function sg(t,e){return t.pinnedRowModel.getPinnedBottomRow(e)}var rg=Xn({version:ta,moduleName:"@ag-grid-community/pinned-row-api",apiFunctions:{getPinnedTopRowCount:tg,getPinnedBottomRowCount:eg,getPinnedTopRow:ig,getPinnedBottomRow:sg}});function og(t){t.overlayService.showLoadingOverlay()}function ng(t){t.overlayService.showNoRowsOverlay()}function ag(t){t.overlayService.hideOverlay()}var lg=Xn({version:ta,moduleName:"@ag-grid-community/overlay-api",apiFunctions:{showLoadingOverlay:og,showNoRowsOverlay:ng,hideOverlay:ag}});function hg(t,e,i){if(!e){return}const s=t.ctrlsService.getGridBodyCtrl().getGui();const r=`aria-${e}`;if(i===null){s.removeAttribute(r)}else{s.setAttribute(r,i)}}function cg(t,e={}){t.frameworkOverrides.wrapIncoming((()=>t.rowRenderer.refreshCells(e)))}function ug(t,e={}){const i=t=>P(`Since v31.1 api.flashCells parameter '${t}Delay' is deprecated. Please use '${t}Duration' instead.`);if(j(e.fadeDelay)){i("fade")}if(j(e.flashDelay)){i("flash")}t.frameworkOverrides.wrapIncoming((()=>t.rowRenderer.flashCells(e)))}function dg(t){t.frameworkOverrides.wrapIncoming((()=>t.ctrlsService.getHeaderRowContainerCtrls().forEach((t=>t.refresh()))))}function gg(t){return t.animationFrameService.isQueueEmpty()}function fg(t){t.animationFrameService.flushAllFrames()}function pg(t){return{rowHeight:lt(t.gos),headerHeight:t.columnModel.getHeaderHeight()}}function mg(t,e={}){const i=t.rowRenderer.getCellRendererInstances(e);const s=i.map(wo);return s}var vg=Xn({version:ta,moduleName:"@ag-grid-community/render-api",apiFunctions:{setGridAriaProperty:hg,refreshCells:cg,flashCells:ug,refreshHeader:dg,isAnimationFrameQueueEmpty:gg,flushAllAnimationFrames:fg,getSizesForCurrentTheme:pg,getCellRendererInstances:mg}});function wg(t){t.valueCache.expire()}function bg(t,e,i){return yg(t,{colKey:e,rowNode:i})}function yg(t,e){const{colKey:i,rowNode:s,useFormatter:r}=e;const o=t.columnModel.getColDefCol(i)??t.columnModel.getCol(i);if(W(o)){return null}const n=t.valueService.getValueForDisplay(o,s);if(r){const e=t.valueService.formatValue(o,s,n);return e??ii(n,true)}return n}function Cg(t){return t.context.getGridId()}function xg(t){t.gridDestroyService.destroy()}function kg(t){return t.gridDestroyService.isDestroyCalled()}function Sg(t,e){return t.gos.get(e)}function Dg(t,e,i){Mg(t,{[e]:i})}function Mg(t,e){t.gos.updateGridOptions({options:e})}function Rg(t,e,i){t.apiEventService.addEventListener(e,i)}function Fg(t,e,i){t.apiEventService.removeEventListener(e,i)}function Pg(t,e){t.apiEventService.addGlobalListener(e)}function zg(t,e){t.apiEventService.removeGlobalListener(e)}function Ig(t){return t.focusService.getFocusedCell()}function Tg(t){return t.focusService.clearFocusedCell()}function Ag(t,e,i,s){t.focusService.setFocusedCell({rowIndex:e,column:i,rowPinned:s,forceBrowserFocus:true})}function Eg(t,e){return t.navigationService.tabToNextCell(false,e)}function Ng(t,e){return t.navigationService.tabToNextCell(true,e)}function Og(t,e,i=false){const s=t.headerNavigationService.getHeaderPositionForColumn(e,i);if(!s){return}t.focusService.focusHeaderPosition({headerPosition:s})}function Lg(t,e,i){const s=t.columnModel.getCol(e);t.menuService.showColumnMenu({column:s,buttonElement:i,positionBy:"button"})}function Gg(t,e,i){let s=t.columnModel.getCol(e);if(!s){s=t.columnModel.getColDefCol(e)}if(!s){z(`column '${e}' not found`);return}t.menuService.showColumnMenu({column:s,mouseEvent:i,positionBy:"mouse"})}function Hg(t,e){const i=t.columnModel.getCol(e);if(!i){z(`column '${e}' not found`);return}t.menuService.showColumnMenu({column:i,positionBy:"auto"})}function Bg(t){t.menuService.hidePopupMenu()}function Vg(t,e={}){const i=e?e.rowNodes:void 0;t.frameworkOverrides.wrapIncoming((()=>t.rowRenderer.redrawRows(i)))}function jg(t,e,i,s,r){t.expansionService.setRowNodeExpanded(e,i,s,r)}function Wg(t,e){return t.rowModel.getRowNode(e)}function Ug(t,e,i,s){t.rowRenderer.addRenderedRowListener(e,i,s)}function $g(t){return t.rowRenderer.getRenderedNodes()}function Qg(t,e,i){t.rowModel.forEachNode(e,i)}function Kg(t){return Yg(t)}function Yg(t){return t.rowRenderer.getFirstVirtualRenderedRow()}function qg(t){return Zg(t)}function Zg(t){return t.rowRenderer.getLastVirtualRenderedRow()}function _g(t,e){return t.rowModel.getRow(e)}function Jg(t){return t.rowModel.getRowCount()}function Xg(t){return t.rowModel}function tf(t,e){const i=e.nodes.every((t=>{if(t.rowPinned){P("cannot select pinned rows");return false}if(t.id===void 0){P("cannot select node until id for node is known");return false}return true}));if(!i){return}const{nodes:s,source:r,newValue:o}=e;const n=s;t.selectionService.setNodesSelected({nodes:n,source:r??"api",newValue:o})}function ef(t,e="apiSelectAll"){t.selectionService.selectAllRowNodes({source:e})}function sf(t,e="apiSelectAll"){t.selectionService.deselectAllRowNodes({source:e})}function rf(t,e="apiSelectAllFiltered"){t.selectionService.selectAllRowNodes({source:e,justFiltered:true})}function of(t,e="apiSelectAllFiltered"){t.selectionService.deselectAllRowNodes({source:e,justFiltered:true})}function nf(t,e="apiSelectAllCurrentPage"){t.selectionService.selectAllRowNodes({source:e,justCurrentPage:true})}function af(t,e="apiSelectAllCurrentPage"){t.selectionService.deselectAllRowNodes({source:e,justCurrentPage:true})}function lf(t){return t.selectionService.getSelectedNodes()}function hf(t){return t.selectionService.getSelectedRows()}function cf(t){t.sortController.onSortChanged("api")}var uf=Xn({version:ta,moduleName:"@ag-grid-community/core-api",apiFunctions:{getGridId:Cg,destroy:xg,isDestroyed:kg,getGridOption:Sg,setGridOption:Dg,updateGridOptions:Mg}});var df=Xn({version:ta,moduleName:"@ag-grid-community/row-selection-api",apiFunctions:{setNodesSelected:tf,selectAll:ef,deselectAll:sf,selectAllFiltered:rf,deselectAllFiltered:of,selectAllOnCurrentPage:nf,deselectAllOnCurrentPage:af,getSelectedNodes:lf,getSelectedRows:hf}});var gf=Xn({version:ta,moduleName:"@ag-grid-community/row-api",apiFunctions:{redrawRows:Vg,setRowNodeExpanded:jg,getRowNode:Wg,addRenderedRowListener:Ug,getRenderedNodes:$g,forEachNode:Qg,getFirstDisplayedRow:Kg,getFirstDisplayedRowIndex:Yg,getLastDisplayedRow:qg,getLastDisplayedRowIndex:Zg,getDisplayedRowAtIndex:_g,getDisplayedRowCount:Jg,getModel:Xg}});var ff=Xn({version:ta,moduleName:"@ag-grid-community/scroll-api",apiFunctions:{getVerticalPixelRange:zc,getHorizontalPixelRange:Ic,ensureColumnVisible:Tc,ensureIndexVisible:Ac,ensureNodeVisible:Ec}});var pf=Xn({version:ta,moduleName:"@ag-grid-community/keyboard-navigation-api",apiFunctions:{getFocusedCell:Ig,clearFocusedCell:Tg,setFocusedCell:Ag,setFocusedHeader:Og,tabToNextCell:Eg,tabToPreviousCell:Ng}});var mf=Xn({version:ta,moduleName:"@ag-grid-community/event-api",apiFunctions:{addEventListener:Rg,addGlobalListener:Pg,removeEventListener:Fg,removeGlobalListener:zg}});var vf=Xn({version:ta,moduleName:"@ag-grid-community/cell-api",apiFunctions:{expireValueCache:wg,getValue:bg,getCellValue:yg}});var wf=Xn({version:ta,moduleName:"@ag-grid-community/menu-api",apiFunctions:{showColumnMenuAfterButtonClick:Lg,showColumnMenuAfterMouseClick:Gg,showColumnMenu:Hg,hidePopupMenu:Bg}});var bf=Xn({version:ta,moduleName:"@ag-grid-community/sort-api",apiFunctions:{onSortChanged:cf}});var yf=Xn({version:ta,moduleName:"@ag-grid-community/api",dependantModules:[uf,rg,df,qd,gf,Xd,ff,lg,pf,mf,vg,vf,wf,bf]});function Cf(t){return t.stateService?.getState()??{}}function xf(t){t={...t};if(!t.version){t.version="32.1.0"}switch(t.version){case"32.1.0":t=kf(t)}return t}function kf(t){t.cellSelection=Sf(t,"rangeSelection");return t}function Sf(t,e){if(t&&typeof t==="object"){return t[e]}}var Df=class extends fe{constructor(){super(...arguments);this.beanName="stateService";this.suppressEvents=true;this.queuedUpdateSources=new Set;this.dispatchStateUpdateEventDebounced=L((()=>this.dispatchQueuedStateUpdateEvents()),0);this.onRowGroupOpenedDebounced=L((()=>this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState())),0);this.onRowSelectedDebounced=L((()=>{this.staleStateKeys.delete("rowSelection");this.updateCachedState("rowSelection",this.getRowSelectionState())}),0);this.staleStateKeys=new Set}wireBeans(t){this.filterManager=t.filterManager;this.ctrlsService=t.ctrlsService;this.pivotResultColsService=t.pivotResultColsService;this.focusService=t.focusService;this.columnModel=t.columnModel;this.visibleColsService=t.visibleColsService;this.columnGroupStateService=t.columnGroupStateService;this.columnGetStateService=t.columnGetStateService;this.paginationService=t.paginationService;this.selectionService=t.selectionService;this.expansionService=t.expansionService;this.columnAnimationService=t.columnAnimationService;this.columnApplyStateService=t.columnApplyStateService;this.sideBarService=t.sideBarService;this.rangeService=t.rangeService}postConstruct(){this.isClientSideRowModel=X(this.gos);this.cachedState=this.getInitialState();this.setCachedStateValue("version",ta);this.ctrlsService.whenReady(this,(()=>this.suppressEventsAndDispatchInitEvent((()=>this.setupStateOnGridReady()))));const[t,e,i]=this.addManagedEventListeners({newColumnsLoaded:({source:e})=>{if(e==="gridInitializing"){t();this.suppressEventsAndDispatchInitEvent((()=>this.setupStateOnColumnsInitialised()))}},rowCountReady:()=>{e?.();this.suppressEventsAndDispatchInitEvent((()=>this.setupStateOnRowCountReady()))},firstDataRendered:()=>{i?.();this.suppressEventsAndDispatchInitEvent((()=>this.setupStateOnFirstDataRendered()))}})}getInitialState(){return xf(this.gos.get("initialState")??{})}getState(){if(this.staleStateKeys.size){this.refreshStaleState()}return this.cachedState}setupStateOnGridReady(){this.updateCachedState("sideBar",this.getSideBarState());const t=()=>this.updateCachedState("sideBar",this.getSideBarState());this.addManagedEventListeners({toolPanelVisibleChanged:t,sideBarUpdated:t})}setupStateOnColumnsInitialised(){const t=this.getInitialState();this.setColumnState(t);this.setColumnGroupState(t);this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"]);this.updateCachedState("columnGroup",this.getColumnGroupState());const e=t=>()=>this.updateColumnState([t]);this.addManagedEventListeners({columnValueChanged:e("aggregation"),columnMoved:e("columnOrder"),columnPinned:e("columnPinning"),columnResized:e("columnSizing"),columnVisible:e("columnVisibility"),columnPivotChanged:e("pivot"),columnPivotModeChanged:e("pivot"),columnRowGroupChanged:e("rowGroup"),sortChanged:e("sort"),newColumnsLoaded:()=>this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","rowGroup","sort"]),columnGroupOpened:()=>this.updateCachedState("columnGroup",this.getColumnGroupState())})}setupStateOnRowCountReady(){const{filter:t,rowGroupExpansion:e,rowSelection:i,pagination:s}=this.getInitialState();const r=this.gos.get("advancedFilterModel");if(t||r){this.setFilterState(t,r)}if(e){this.setRowGroupExpansionState(e)}if(i){this.setRowSelectionState(i)}if(s){this.setPaginationState(s)}this.updateCachedState("filter",this.getFilterState());this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState());this.updateCachedState("rowSelection",this.getRowSelectionState());this.updateCachedState("pagination",this.getPaginationState());const o=()=>this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState());this.addManagedEventListeners({filterChanged:()=>this.updateCachedState("filter",this.getFilterState()),rowGroupOpened:()=>this.onRowGroupOpenedDebounced(),expandOrCollapseAll:o,columnRowGroupChanged:o,rowDataUpdated:()=>{if(this.gos.get("groupDefaultExpanded")!==0){setTimeout((()=>{o()}))}},selectionChanged:()=>{this.staleStateKeys.add("rowSelection");this.onRowSelectedDebounced()},paginationChanged:t=>{if(t.newPage||t.newPageSize){this.updateCachedState("pagination",this.getPaginationState())}}})}setupStateOnFirstDataRendered(){const{scroll:t,cellSelection:e,focusedCell:i,columnOrder:s}=this.getInitialState();if(i){this.setFocusedCellState(i)}if(e){this.setCellSelectionState(e)}if(t){this.setScrollState(t)}this.setColumnPivotState(!!s?.orderedColIds);this.updateCachedState("sideBar",this.getSideBarState());this.updateCachedState("focusedCell",this.getFocusedCellState());const r=this.getRangeSelectionState();this.updateCachedState("rangeSelection",r);this.updateCachedState("cellSelection",r);this.updateCachedState("scroll",this.getScrollState());this.addManagedEventListeners({cellFocused:()=>this.updateCachedState("focusedCell",this.getFocusedCellState()),cellSelectionChanged:t=>{if(t.finished){const t=this.getRangeSelectionState();this.updateCachedState("rangeSelection",t);this.updateCachedState("cellSelection",t)}},bodyScrollEnd:()=>this.updateCachedState("scroll",this.getScrollState())})}getColumnState(){const t=this.columnModel.isPivotMode();const e=[];const i=[];const s=[];const r=[];const o=[];const n=[];const a=[];const l=[];const h=[];let c=0;const u=this.columnGetStateService.getColumnState();for(let t=0;t<u.length;t++){const{colId:d,sort:g,sortIndex:f,rowGroup:p,rowGroupIndex:m,aggFunc:v,pivot:w,pivotIndex:b,pinned:y,hide:C,width:x,flex:k}=u[t];h.push(d);if(g){e[f??c++]={colId:d,sort:g}}if(p){i[m??0]=d}if(typeof v==="string"){s.push({colId:d,aggFunc:v})}if(w){r[b??0]=d}if(y){(y==="right"?n:o).push(d)}if(C){a.push(d)}if(k||x){l.push({colId:d,flex:k??void 0,width:x})}}return{sort:e.length?{sortModel:e}:void 0,rowGroup:i.length?{groupColIds:i}:void 0,aggregation:s.length?{aggregationModel:s}:void 0,pivot:r.length||t?{pivotMode:t,pivotColIds:r}:void 0,columnPinning:o.length||n.length?{leftColIds:o,rightColIds:n}:void 0,columnVisibility:a.length?{hiddenColIds:a}:void 0,columnSizing:l.length?{columnSizingModel:l}:void 0,columnOrder:h.length?{orderedColIds:h}:void 0}}setColumnState(t){const{sort:e,rowGroup:i,aggregation:s,pivot:r,columnPinning:o,columnVisibility:n,columnSizing:a,columnOrder:l,partialColumnState:h}=t;const c={};const u=t=>{let e=c[t];if(e){return e}e={colId:t};c[t]=e;return e};const d=h?{}:{sort:null,sortIndex:null,rowGroup:null,rowGroupIndex:null,aggFunc:null,pivot:null,pivotIndex:null,pinned:null,hide:null,flex:null};if(e){e.sortModel.forEach((({colId:t,sort:e},i)=>{const s=u(t);s.sort=e;s.sortIndex=i}));d.sort=null;d.sortIndex=null}if(i){i.groupColIds.forEach(((t,e)=>{const i=u(t);i.rowGroup=true;i.rowGroupIndex=e}));d.rowGroup=null;d.rowGroupIndex=null}if(s){s.aggregationModel.forEach((({colId:t,aggFunc:e})=>{u(t).aggFunc=e}));d.aggFunc=null}if(r){r.pivotColIds.forEach(((t,e)=>{const i=u(t);i.pivot=true;i.pivotIndex=e}));this.gos.updateGridOptions({options:{pivotMode:r.pivotMode},source:"gridInitializing"});d.pivot=null;d.pivotIndex=null}if(o){o.leftColIds.forEach((t=>{u(t).pinned="left"}));o.rightColIds.forEach((t=>{u(t).pinned="right"}));d.pinned=null}if(n){n.hiddenColIds.forEach((t=>{u(t).hide=true}));d.hide=null}if(a){a.columnSizingModel.forEach((({colId:t,flex:e,width:i})=>{const s=u(t);s.flex=e??null;s.width=i}));d.flex=null}const g=l?.orderedColIds;const f=!!g?.length;const p=f?g.map((t=>u(t))):Object.values(c);if(p.length){this.columnStates=p;this.columnApplyStateService.applyColumnState({state:p,applyOrder:f,defaultState:d},"gridInitializing")}}setColumnPivotState(t){const e=this.columnStates;this.columnStates=void 0;const i=this.columnGroupStates;this.columnGroupStates=void 0;if(!this.pivotResultColsService.isPivotResultColsPresent()){return}if(e){const i=[];for(const t of e){if(this.pivotResultColsService.getPivotResultCol(t.colId)){i.push(t)}}this.columnApplyStateService.applyColumnState({state:i,applyOrder:t},"gridInitializing")}if(i){this.columnGroupStateService.setColumnGroupState(i,"gridInitializing")}}getColumnGroupState(){const t=this.columnGroupStateService.getColumnGroupState();const e=[];t.forEach((({groupId:t,open:i})=>{if(i){e.push(t)}}));return e.length?{openColumnGroupIds:e}:void 0}setColumnGroupState(t){if(!Object.prototype.hasOwnProperty.call(t,"columnGroup")){return}const e=new Set(t.columnGroup?.openColumnGroupIds);const i=this.columnGroupStateService.getColumnGroupState();const s=i.map((({groupId:t})=>{const i=e.has(t);if(i){e.delete(t)}return{groupId:t,open:i}}));e.forEach((t=>{s.push({groupId:t,open:true})}));if(s.length){this.columnGroupStates=s}this.columnGroupStateService.setColumnGroupState(s,"gridInitializing")}getFilterState(){let t=this.filterManager?.getFilterModel();if(t&&Object.keys(t).length===0){t=void 0}const e=this.filterManager?.getAdvancedFilterModel()??void 0;return t||e?{filterModel:t,advancedFilterModel:e}:void 0}setFilterState(t,e){const{filterModel:i,advancedFilterModel:s}=t??{advancedFilterModel:e};if(i){this.filterManager?.setFilterModel(i,"columnFilter")}if(s){this.filterManager?.setAdvancedFilterModel(s)}}getRangeSelectionState(){const t=this.rangeService?.getCellRanges().map((t=>{const{id:e,type:i,startRow:s,endRow:r,columns:o,startColumn:n}=t;return{id:e,type:i,startRow:s,endRow:r,colIds:o.map((t=>t.getColId())),startColId:n.getColId()}}));return t?.length?{cellRanges:t}:void 0}setCellSelectionState(t){const{gos:e,rangeService:i,columnModel:s,visibleColsService:r}=this;if(!Tt(e)||!i){return}const o=[];t.cellRanges.forEach((t=>{const e=[];t.colIds.forEach((t=>{const i=s.getCol(t);if(i){e.push(i)}}));if(!e.length){return}let i=s.getCol(t.startColId);if(!i){const t=r.getAllCols();const s=new Set(e);i=t.find((t=>s.has(t)))}o.push({...t,columns:e,startColumn:i})}));if(zt(e)&&It(e)&&o.length>1){return P("cannot add multiple ranges when `cellSelection.suppressMultiRanges = true`")}i.setCellRanges(o)}getScrollState(){if(!this.isClientSideRowModel){return void 0}const t=this.ctrlsService.getGridBodyCtrl()?.getScrollFeature();const{left:e}=t?.getHScrollPosition()??{left:0};const{top:i}=t?.getVScrollPosition()??{top:0};return i||e?{top:i,left:e}:void 0}setScrollState(t){if(!this.isClientSideRowModel){return}const{top:e,left:i}=t;this.ctrlsService.getGridBodyCtrl()?.getScrollFeature().setScrollPosition(e,i)}getSideBarState(){return this.sideBarService?.getSideBarComp()?.getState()}getFocusedCellState(){if(!this.isClientSideRowModel){return void 0}const t=this.focusService.getFocusedCell();if(t){const{column:e,rowIndex:i,rowPinned:s}=t;return{colId:e.getColId(),rowIndex:i,rowPinned:s}}return void 0}setFocusedCellState(t){if(!this.isClientSideRowModel){return}const{colId:e,rowIndex:i,rowPinned:s}=t;this.focusService.setFocusedCell({column:this.columnModel.getCol(e),rowIndex:i,rowPinned:s,forceBrowserFocus:true,preventScrollOnBrowserFocus:true})}getPaginationState(){if(!this.paginationService){return void 0}const t=this.paginationService.getCurrentPage();const e=!this.gos.get("paginationAutoPageSize")?this.paginationService.getPageSize():void 0;if(!t&&!e){return}return{page:t,pageSize:e}}setPaginationState(t){if(!this.paginationService){return}if(t.pageSize&&!this.gos.get("paginationAutoPageSize")){this.paginationService.setPageSize(t.pageSize,"initialState")}if(typeof t.page==="number"){this.paginationService.setPage(t.page)}}getRowSelectionState(){const t=this.selectionService.getSelectionState();const e=!t||!Array.isArray(t)&&(t.selectAll===false||t.selectAllChildren===false)&&!t?.toggledNodes?.length;return e?void 0:t}setRowSelectionState(t){this.selectionService.setSelectionState(t,"gridInitializing")}getRowGroupExpansionState(){const t=this.expansionService.getExpandedRows();return t.length?{expandedRowGroupIds:t}:void 0}setRowGroupExpansionState(t){this.expansionService.expandRows(t.expandedRowGroupIds)}updateColumnState(t){const e=this.getColumnState();let i=false;Object.entries(e).forEach((([t,e])=>{if(!q(e,this.cachedState[t])){i=true}}));this.cachedState={...this.cachedState,...e};if(i){this.dispatchStateUpdateEvent(t)}}updateCachedState(t,e){const i=this.cachedState[t];this.setCachedStateValue(t,e);if(!q(e,i)){this.dispatchStateUpdateEvent([t])}}setCachedStateValue(t,e){this.cachedState={...this.cachedState,[t]:e}}refreshStaleState(){this.staleStateKeys.forEach((t=>{switch(t){case"rowSelection":this.setCachedStateValue(t,this.getRowSelectionState());break}}));this.staleStateKeys.clear()}dispatchStateUpdateEvent(t){if(this.suppressEvents){return}t.forEach((t=>this.queuedUpdateSources.add(t)));this.dispatchStateUpdateEventDebounced()}dispatchQueuedStateUpdateEvents(){const t=Array.from(this.queuedUpdateSources);this.queuedUpdateSources.clear();this.eventService.dispatchEvent({type:"stateUpdated",sources:t,state:this.cachedState})}suppressEventsAndDispatchInitEvent(t){this.suppressEvents=true;this.columnAnimationService.setSuppressAnimation(true);t();setTimeout((()=>{this.suppressEvents=false;this.queuedUpdateSources.clear();if(!this.isAlive()){return}this.columnAnimationService.setSuppressAnimation(false);this.dispatchStateUpdateEvent(["gridInitializing"])}))}};var Mf=Xn({version:ta,moduleName:"@ag-grid-community/state-core",beans:[Df]});var Rf=Xn({version:ta,moduleName:"@ag-grid-community/state-api",apiFunctions:{getState:Cf},dependantModules:[Mf]});var Ff=Xn({version:ta,moduleName:"@ag-grid-community/state",dependantModules:[Mf,Rf]});function Pf(t){return t.rowModel.isLastRowIndexKnown()}function zf(t){return t.paginationService?.getPageSize()??100}function If(t){return t.paginationService?.getCurrentPage()??0}function Tf(t){return t.paginationService?.getTotalPages()??1}function Af(t){return t.paginationService?t.paginationService.getMasterRowCount():t.rowModel.getRowCount()}function Ef(t){t.paginationService?.goToNextPage()}function Nf(t){t.paginationService?.goToPreviousPage()}function Of(t){t.paginationService?.goToFirstPage()}function Lf(t){t.paginationService?.goToLastPage()}function Gf(t,e){t.paginationService?.goToPage(e)}var Hf=class extends fe{constructor(){super(...arguments);this.beanName="paginationAutoPageSizeService"}wireBeans(t){this.ctrlsService=t.ctrlsService;this.paginationService=t.paginationService}postConstruct(){this.ctrlsService.whenReady(this,(t=>{this.centerRowsCtrl=t.center;const e=this.checkPageSize.bind(this);this.addManagedEventListeners({bodyHeightChanged:e,scrollVisibilityChanged:e});this.addManagedPropertyListener("paginationAutoPageSize",this.onPaginationAutoSizeChanged.bind(this));this.checkPageSize()}))}notActive(){return!this.gos.get("paginationAutoPageSize")||this.centerRowsCtrl==null}onPaginationAutoSizeChanged(){if(this.notActive()){this.paginationService.unsetAutoCalculatedPageSize()}else{this.checkPageSize()}}checkPageSize(){if(this.notActive()){return}const t=this.centerRowsCtrl.getViewportSizeFeature().getBodyHeight();if(t>0){const e=()=>{const e=Math.max(lt(this.gos),1);const i=Math.floor(t/e);this.paginationService.setPageSize(i,"autoCalculated")};if(!this.isBodyRendered){e();this.isBodyRendered=true}else{L((()=>e()),50)()}}else{this.isBodyRendered=false}}};function Bf(t,e,i){t.addManagedElementListeners(e,{keydown:t=>{if(!t.defaultPrevented&&t.key===zr.TAB){const s=t.shiftKey;if(!i.findNextFocusableElement(e,false,s)){if(i.focusNextGridCoreContainer(s)){t.preventDefault()}}}}})}var Vf="paginationPageSizeSelector";var jf=class extends ur{constructor(){super(`<span class="ag-paging-page-size"></span>`);this.hasEmptyOption=false;this.handlePageSizeItemSelected=()=>{if(!this.selectPageSizeComp){return}const t=this.selectPageSizeComp.getValue();if(!t){return}const e=Number(t);if(isNaN(e)||e<1||e===this.paginationService.getPageSize()){return}this.paginationService.setPageSize(e,"pageSizeSelector");if(this.hasEmptyOption){this.toggleSelectDisplay(true)}this.selectPageSizeComp.getFocusableElement().focus()}}wireBeans(t){this.paginationService=t.paginationService}postConstruct(){this.addManagedPropertyListener(Vf,(()=>{this.onPageSizeSelectorValuesChange()}));this.addManagedEventListeners({paginationChanged:t=>this.handlePaginationChanged(t)})}handlePaginationChanged(t){if(!this.selectPageSizeComp||!t?.newPageSize){return}const e=this.paginationService.getPageSize();if(this.getPageSizeSelectorValues().includes(e)){this.selectPageSizeComp.setValue(e.toString())}else{if(this.hasEmptyOption){this.selectPageSizeComp.setValue("")}else{this.toggleSelectDisplay(true)}}}toggleSelectDisplay(t){if(this.selectPageSizeComp&&!t){this.reset()}if(!t){return}this.reloadPageSizesSelector();if(!this.selectPageSizeComp){return}}reset(){fs(this.getGui());if(!this.selectPageSizeComp){return}this.selectPageSizeComp=this.destroyBean(this.selectPageSizeComp)}onPageSizeSelectorValuesChange(){if(!this.selectPageSizeComp){return}if(this.shouldShowPageSizeSelector()){this.reloadPageSizesSelector()}}shouldShowPageSizeSelector(){return this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel")&&!this.gos.get("paginationAutoPageSize")&&this.gos.get(Vf)!==false}reloadPageSizesSelector(){const t=this.getPageSizeSelectorValues();const e=this.paginationService.getPageSize();const i=!e||!t.includes(e);if(i){const i=this.gos.exists("paginationPageSize");const s=this.gos.get(Vf)!==true;P(`'paginationPageSize=${e}'${i?"":" (default value)"}, but ${e} is not included in${s?"":" the default"} paginationPageSizeSelector=[${t.join(", ")}].`);if(!s){P(`Either set '${Vf}' to an array that includes ${e} or to 'false' to disable the page size selector.`)}t.unshift("")}const s=String(i?"":e);if(this.selectPageSizeComp){if(!Qt(this.pageSizeOptions,t)){this.selectPageSizeComp.clearOptions().addOptions(this.createPageSizeSelectOptions(t));this.pageSizeOptions=t}this.selectPageSizeComp.setValue(s,true)}else{this.createPageSizeSelectorComp(t,s)}this.hasEmptyOption=i}createPageSizeSelectOptions(t){return t.map((t=>({value:String(t)})))}createPageSizeSelectorComp(t,e){const i=this.localeService.getLocaleTextFunc();const s=i("pageSizeSelectorLabel","Page Size:");const r=i("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new Zo).addOptions(this.createPageSizeSelectOptions(t)).setValue(e).setAriaLabel(r).setLabel(s).onValueChange((()=>this.handlePageSizeItemSelected()));this.appendChild(this.selectPageSizeComp)}getPageSizeSelectorValues(){const t=[20,50,100];const e=this.gos.get(Vf);if(!Array.isArray(e)||U(e)){return t}return[...e].sort(((t,e)=>t-e))}destroy(){this.toggleSelectDisplay(false);super.destroy()}};var Wf={selector:"AG-PAGE-SIZE-SELECTOR",component:jf};var Uf=class extends fu{constructor(){super();this.btFirst=cr;this.btPrevious=cr;this.btNext=cr;this.btLast=cr;this.lbRecordCount=cr;this.lbFirstRowOnPage=cr;this.lbLastRowOnPage=cr;this.lbCurrent=cr;this.lbTotal=cr;this.pageSizeComp=cr;this.previousAndFirstButtonsDisabled=false;this.nextButtonDisabled=false;this.lastButtonDisabled=false;this.areListenersSetup=false;this.allowFocusInnerElement=false}wireBeans(t){this.rowModel=t.rowModel;this.paginationService=t.paginationService;this.focusService=t.focusService;this.ariaAnnouncementService=t.ariaAnnouncementService}postConstruct(){const t=this.gos.get("enableRtl");this.setTemplate(this.getTemplate(),[Wf]);const{btFirst:e,btPrevious:i,btNext:s,btLast:r}=this;this.activateTabIndex([e,i,s,r]);e.insertAdjacentElement("afterbegin",pr(t?"last":"first",this.gos));i.insertAdjacentElement("afterbegin",pr(t?"next":"previous",this.gos));s.insertAdjacentElement("afterbegin",pr(t?"previous":"next",this.gos));r.insertAdjacentElement("afterbegin",pr(t?"first":"last",this.gos));this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this));this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this));this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],(()=>this.onPageSizeRelatedOptionsChange()));this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector());this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:t=>{if(this.allowFocusInnerElement){this.tabGuardFeature.getTabGuardCtrl().focusInnerElement(t)}else{this.focusService.focusGridInnerElement(t)}},forceFocusOutWhenTabGuardsAreEmpty:true});this.onPaginationChanged()}setAllowFocus(t){this.allowFocusInnerElement=t}onPaginationChanged(){const t=this.gos.get("pagination");const e=t&&!this.gos.get("suppressPaginationPanel");this.setDisplayed(e);if(!e){return}this.setupListeners();this.enableOrDisableButtons();this.updateLabels();this.onPageSizeRelatedOptionsChange()}onPageSizeRelatedOptionsChange(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())}setupListeners(){if(!this.areListenersSetup){this.addManagedEventListeners({paginationChanged:this.onPaginationChanged.bind(this)});[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach((t=>{const{el:e,fn:i}=t;this.addManagedListeners(e,{click:i,keydown:t=>{if(t.key===zr.ENTER||t.key===zr.SPACE){t.preventDefault();i()}}})}));Bf(this,this.getGui(),this.focusService);this.areListenersSetup=true}}onBtFirst(){if(!this.previousAndFirstButtonsDisabled){this.paginationService.goToFirstPage()}}formatNumber(t){const e=this.gos.getCallback("paginationNumberFormatter");if(e){const i={value:t};return e(i)}const i=this.localeService.getLocaleTextFunc();const s=i("thousandSeparator",",");const r=i("decimalSeparator",".");return zn(t,s,r)}getTemplate(){const t=this.localeService.getLocaleTextFunc();const e=t("page","Page");const i=t("to","to");const s=t("of","of");const r=t("firstPage","First Page");const o=t("previousPage","Previous Page");const n=t("nextPage","Next Page");const a=t("lastPage","Last Page");const l=this.getCompId();return`<div class="ag-paging-panel ag-unselectable" id="ag-${l}">\n                <ag-page-size-selector data-ref="pageSizeComp"></ag-page-size-selector>\n                <span class="ag-paging-row-summary-panel">\n                    <span id="ag-${l}-first-row" data-ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-${l}-to">${i}</span>\n                    <span id="ag-${l}-last-row" data-ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-${l}-of">${s}</span>\n                    <span id="ag-${l}-row-count" data-ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>\n                </span>\n                <span class="ag-paging-page-summary-panel" role="presentation">\n                    <div data-ref="btFirst" class="ag-button ag-paging-button" role="button" aria-label="${r}"></div>\n                    <div data-ref="btPrevious" class="ag-button ag-paging-button" role="button" aria-label="${o}"></div>\n                    <span class="ag-paging-description">\n                        <span id="ag-${l}-start-page">${e}</span>\n                        <span id="ag-${l}-start-page-number" data-ref="lbCurrent" class="ag-paging-number"></span>\n                        <span id="ag-${l}-of-page">${s}</span>\n                        <span id="ag-${l}-of-page-number" data-ref="lbTotal" class="ag-paging-number"></span>\n                    </span>\n                    <div data-ref="btNext" class="ag-button ag-paging-button" role="button" aria-label="${n}"></div>\n                    <div data-ref="btLast" class="ag-button ag-paging-button" role="button" aria-label="${a}"></div>\n                </span>\n            </div>`}onBtNext(){if(!this.nextButtonDisabled){this.paginationService.goToNextPage()}}onBtPrevious(){if(!this.previousAndFirstButtonsDisabled){this.paginationService.goToPreviousPage()}}onBtLast(){if(!this.lastButtonDisabled){this.paginationService.goToLastPage()}}enableOrDisableButtons(){const t=this.paginationService.getCurrentPage();const e=this.rowModel.isLastRowIndexKnown();const i=this.paginationService.getTotalPages();this.previousAndFirstButtonsDisabled=t===0;this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled);this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);const s=this.isZeroPagesToDisplay();const r=t===i-1;this.nextButtonDisabled=r||s;this.lastButtonDisabled=!e||s||t===i-1;this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled);this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(t,e){Li(t,e);t.classList.toggle("ag-disabled",e)}isZeroPagesToDisplay(){const t=this.rowModel.isLastRowIndexKnown();const e=this.paginationService.getTotalPages();return t&&e===0}updateLabels(){const t=this.rowModel.isLastRowIndexKnown();const e=this.paginationService.getTotalPages();const i=this.paginationService.getMasterRowCount();const s=t?i:null;if(s===1){const t=this.rowModel.getRow(0);const e=t&&t.group&&!(t.groupData||t.aggData);if(e){this.setTotalLabelsToZero();return}}const r=this.paginationService.getCurrentPage();const o=this.paginationService.getPageSize();let n;let a;if(this.isZeroPagesToDisplay()){n=a=0}else{n=o*r+1;a=n+o-1;if(t&&a>s){a=s}}const l=n+o-1;const h=!t&&i<l;const c=this.formatNumber(n);this.lbFirstRowOnPage.textContent=c;let u;const d=this.localeService.getLocaleTextFunc();if(h){u=d("pageLastRowUnknown","?")}else{u=this.formatNumber(a)}this.lbLastRowOnPage.textContent=u;const g=e>0;const f=g?r+1:0;const p=this.formatNumber(f);this.lbCurrent.textContent=p;let m;let v;if(t){m=this.formatNumber(e);v=this.formatNumber(s)}else{const t=d("more","more");m=t;v=t}this.lbTotal.textContent=m;this.lbRecordCount.textContent=v;this.announceAriaStatus(c,u,v,p,m)}announceAriaStatus(t,e,i,s,r){const o=this.localeService.getLocaleTextFunc();const n=o("page","Page");const a=o("to","to");const l=o("of","of");const h=`${t} ${a} ${e} ${l} ${i}`;const c=`${n} ${s} ${l} ${r}`;if(h!==this.ariaRowStatus){this.ariaRowStatus=h;this.ariaAnnouncementService.announceValue(h,"paginationRow")}if(c!==this.ariaPageStatus){this.ariaPageStatus=c;this.ariaAnnouncementService.announceValue(c,"paginationPage")}}setTotalLabelsToZero(){const t=this.formatNumber(0);this.lbFirstRowOnPage.textContent=t;this.lbCurrent.textContent=t;this.lbLastRowOnPage.textContent=t;this.lbTotal.textContent=t;this.lbRecordCount.textContent=t;this.announceAriaStatus(t,t,t,t,t)}};var $f={selector:"AG-PAGINATION",component:Uf};var Qf=class extends fe{constructor(){super(...arguments);this.beanName="paginationService";this.currentPage=0;this.topDisplayedRowIndex=0;this.bottomDisplayedRowIndex=0;this.masterRowCount=0}wireBeans(t){this.rowModel=t.rowModel;this.pageBoundsService=t.pageBoundsService}postConstruct(){this.active=this.gos.get("pagination");this.pageSizeFromGridOptions=this.gos.get("paginationPageSize");this.paginateChildRows=this.isPaginateChildRows();this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this));this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this))}getPaginationSelector(){return $f}isPaginateChildRows(){const t=this.gos.get("groupRemoveSingleChildren")||this.gos.get("groupRemoveLowestSingleChildren");if(t){return true}return this.gos.get("paginateChildRows")}onPaginationGridOptionChanged(){this.active=this.gos.get("pagination");this.calculatePages();this.dispatchPaginationChangedEvent({keepRenderedRows:true})}onPageSizeGridOptionChanged(){this.setPageSize(this.gos.get("paginationPageSize"),"gridOptions")}goToPage(t){if(!this.active||this.currentPage===t||typeof this.currentPage!=="number"){return}this.currentPage=t;this.calculatePages();this.dispatchPaginationChangedEvent({newPage:true})}isRowPresent(t){const e=t.rowIndex>=this.topDisplayedRowIndex&&t.rowIndex<=this.bottomDisplayedRowIndex;return e}getPageForIndex(t){return Math.floor(t/this.pageSize)}goToPageWithIndex(t){if(!this.active){return}const e=this.getPageForIndex(t);this.goToPage(e)}isRowInPage(t){if(!this.active){return true}const e=this.getPageForIndex(t.rowIndex);return e===this.currentPage}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){const t=this.rowModel.getRowCount();const e=Math.floor(t/this.pageSize);this.goToPage(e)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPage(t){this.currentPage=t}get pageSize(){if(j(this.pageSizeAutoCalculated)&&this.gos.get("paginationAutoPageSize")){return this.pageSizeAutoCalculated}if(j(this.pageSizeFromPageSizeSelector)){return this.pageSizeFromPageSizeSelector}if(j(this.pageSizeFromInitialState)){return this.pageSizeFromInitialState}if(j(this.pageSizeFromGridOptions)){return this.pageSizeFromGridOptions}return this.defaultPageSize}calculatePages(){if(this.active){if(this.paginateChildRows){this.calculatePagesAllRows()}else{this.calculatePagesMasterRowsOnly()}}else{this.calculatedPagesNotActive()}this.pageBoundsService.calculateBounds(this.topDisplayedRowIndex,this.bottomDisplayedRowIndex)}unsetAutoCalculatedPageSize(){if(this.pageSizeAutoCalculated===void 0){return}const t=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0;if(this.pageSize===t){return}this.calculatePages();this.dispatchPaginationChangedEvent({newPageSize:true})}setPageSize(t,e){const i=this.pageSize;switch(e){case"autoCalculated":this.pageSizeAutoCalculated=t;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=t;if(this.currentPage!==0){this.goToFirstPage()}break;case"initialState":this.pageSizeFromInitialState=t;break;case"gridOptions":this.pageSizeFromGridOptions=t;this.pageSizeFromInitialState=void 0;this.pageSizeFromPageSizeSelector=void 0;if(this.currentPage!==0){this.goToFirstPage()}break}if(i!==this.pageSize){this.calculatePages();this.dispatchPaginationChangedEvent({newPageSize:true,keepRenderedRows:true})}}setZeroRows(){this.masterRowCount=0;this.topDisplayedRowIndex=0;this.bottomDisplayedRowIndex=-1;this.currentPage=0;this.totalPages=0}adjustCurrentPageIfInvalid(){if(this.currentPage>=this.totalPages){this.currentPage=this.totalPages-1}if(!isFinite(this.currentPage)||isNaN(this.currentPage)||this.currentPage<0){this.currentPage=0}}calculatePagesMasterRowsOnly(){this.masterRowCount=this.rowModel.getTopLevelRowCount();if(this.masterRowCount<=0){this.setZeroRows();return}const t=this.masterRowCount-1;this.totalPages=Math.floor(t/this.pageSize)+1;this.adjustCurrentPageIfInvalid();const e=this.pageSize*this.currentPage;let i=this.pageSize*(this.currentPage+1)-1;if(i>t){i=t}this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(e);if(i===t){this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1}else{const t=this.rowModel.getTopLevelRowDisplayedIndex(i+1);this.bottomDisplayedRowIndex=t-1}}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){this.masterRowCount=this.rowModel.getRowCount();if(this.masterRowCount===0){this.setZeroRows();return}const t=this.masterRowCount-1;this.totalPages=Math.floor(t/this.pageSize)+1;this.adjustCurrentPageIfInvalid();this.topDisplayedRowIndex=this.pageSize*this.currentPage;this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1;if(this.bottomDisplayedRowIndex>t){this.bottomDisplayedRowIndex=t}}calculatedPagesNotActive(){this.setPageSize(void 0,"autoCalculated");this.totalPages=1;this.currentPage=0;this.topDisplayedRowIndex=0;this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1}dispatchPaginationChangedEvent(t){const{keepRenderedRows:e=false,newPage:i=false,newPageSize:s=false}=t;this.eventService.dispatchEvent({type:"paginationChanged",animate:false,newData:false,newPage:i,newPageSize:s,keepRenderedRows:e})}};var Kf=Xn({version:ta,moduleName:"@ag-grid-community/pagination-core",beans:[Qf,Hf]});var Yf=Xn({version:ta,moduleName:"@ag-grid-community/pagination-api",dependantModules:[Kf],apiFunctions:{paginationIsLastPageFound:Pf,paginationGetPageSize:zf,paginationGetCurrentPage:If,paginationGetTotalPages:Tf,paginationGetRowCount:Af,paginationGoToNextPage:Ef,paginationGoToPreviousPage:Nf,paginationGoToFirstPage:Of,paginationGoToLastPage:Lf,paginationGoToPage:Gf}});var qf=Xn({version:ta,moduleName:"@ag-grid-community/pagination",dependantModules:[Kf,Yf]});var Zf="clientSide";var _f="serverSide";var Jf="infinite";var Xf={onGroupExpandedOrCollapsed:[Zf],refreshClientSideRowModel:[Zf],isRowDataEmpty:[Zf],forEachLeafNode:[Zf],forEachNodeAfterFilter:[Zf],forEachNodeAfterFilterAndSort:[Zf],resetRowHeights:[Zf],applyTransaction:[Zf],applyTransactionAsync:[Zf],flushAsyncTransactions:[Zf],getBestCostNodeSelection:[Zf],getServerSideSelectionState:[_f],setServerSideSelectionState:[_f],applyServerSideTransaction:[_f],applyServerSideTransactionAsync:[_f],applyServerSideRowData:[_f],retryServerSideLoads:[_f],flushServerSideAsyncTransactions:[_f],refreshServerSide:[_f],getServerSideGroupLevelState:[_f],refreshInfiniteCache:[Jf],purgeInfiniteCache:[Jf],getInfiniteRowCount:[Jf],isLastRowIndexKnown:[Jf,_f],expandAll:[Zf,_f],collapseAll:[Zf,_f],onRowHeightChanged:[Zf,_f],setRowCount:[Jf,_f],getCacheBlockState:[Jf,_f]};var tp={getValue:{version:"v31.3",new:"getCellValue"},getFirstDisplayedRow:{version:"v31.1",new:"getFirstDisplayedRowIndex"},getLastDisplayedRow:{version:"v31.1",new:"getLastDisplayedRowIndex"},getModel:{version:"v31.1",message:"Please use the appropriate grid API methods instead."},setColumnVisible:{version:"v31.1",old:"setColumnVisible(key,visible)",new:"setColumnsVisible([key],visible)"},setColumnPinned:{version:"v31.1",old:"setColumnPinned(key,pinned)",new:"setColumnsPinned([key],pinned)"},moveColumn:{version:"v31.1",old:"moveColumn(key, toIndex)",new:"moveColumns([key], toIndex)"},setColumnWidth:{version:"v31.1",old:"setColumnWidth(col, width)",new:"setColumnWidths([{key: col, newWidth: width}])"},autoSizeColumn:{version:"v31.1",old:"autoSizeColumn(key, skipHeader)",new:"autoSizeColumns([key], skipHeader)"},addAggFunc:{version:"v31.1",old:"addAggFunc(key, func)",new:"addAggFuncs({ key: func })"},removeValueColumn:{version:"v31.1",old:"removeValueColumn(colKey)",new:"removeValueColumns([colKey])"},addValueColumn:{version:"v31.1",old:"addValueColumn(colKey)",new:"addValueColumns([colKey])"},removeRowGroupColumn:{version:"v31.1",old:"removeRowGroupColumn(colKey)",new:"removeRowGroupColumns([colKey])"},addRowGroupColumn:{version:"v31.1",old:"addRowGroupColumn(colKey)",new:"addRowGroupColumns([colKey])"},removePivotColumn:{version:"v31.1",old:"removePivotColumn(colKey)",new:"removePivotColumns([colKey])"},addPivotColumn:{version:"v31.1",old:"addPivotColumn(colKey)",new:"addPivotColumns([colKey])"},showColumnMenuAfterButtonClick:{version:"v31.1",message:`Use 'IHeaderParams.showColumnMenu' within a header component, or 'api.showColumnMenu' elsewhere.`},showColumnMenuAfterMouseClick:{version:"v31.1",message:`Use 'IHeaderParams.showColumnMenuAfterMouseClick' within a header component, or 'api.showColumnMenu' elsewhere.`},getFilterInstance:{version:"v31.1",message:`'getFilterInstance' is deprecated. To get/set individual filter models, use 'getColumnFilterModel' or 'setColumnFilterModel' instead. To get hold of the filter instance, use 'getColumnFilterInstance' which returns the instance asynchronously.`},showLoadingOverlay:{version:"v32",message:'`showLoadingOverlay` is deprecated. Use the grid option "loading"=true instead or setGridOption("loading", true).'},clearRangeSelection:{version:"v32.2",message:"Use `clearCellSelection` instead."},getInfiniteRowCount:{version:"v32.2",old:"getInfiniteRowCount()",new:"getDisplayedRowCount()"}};function ep(t,e,i){const s=tp[t];if(s){const{version:i,new:r,old:o,message:n}=s;const a=o??t;return(...t)=>{const s=r?`Please use ${r} instead. `:"";P(`Since ${i} api.${a} is deprecated. ${s}${n??""}`);return e.apply(e,t)}}const r=Xf[t];if(r){return(...s)=>{const o=i.rowModel.getType();if(!r.includes(o)){z(`api.${t} can only be called when gridOptions.rowModelType is ${r.join(" or ")}`);return void 0}return e.apply(e,s)}}return e}var ip={columnsMenuParams:{version:"31.1",message:"Use `columnChooserParams` instead."},suppressMenu:{version:"31.1",message:"Use `suppressHeaderMenuButton` instead."},suppressCellFlash:{version:"31.2",message:"Use `enableCellChangeFlash={false}` in the ColDef"},checkboxSelection:{version:"32.2",message:"Use `rowSelection.checkboxes` in `GridOptions` instead."},headerCheckboxSelection:{version:"32.2",message:"Use `rowSelection.headerCheckbox = true` in `GridOptions` instead."},headerCheckboxSelectionFilteredOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "filtered"` in `GridOptions` instead.'},headerCheckboxSelectionCurrentPageOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "currentPage"` in `GridOptions` instead.'},showDisabledCheckboxes:{version:"32.2",message:"Use `rowSelection.hideDisabledCheckboxes = true` in `GridOptions` instead."}};var sp=(t,e)=>{const i=e.rowModelType??"clientSide";if(i==="clientSide"||i==="serverSide"){return{module:"@ag-grid-enterprise/row-grouping"}}return null};var rp={enableRowGroup:sp,rowGroup:sp,rowGroupIndex:sp,enablePivot:sp,enableValue:sp,pivot:sp,pivotIndex:sp,aggFunc:sp,cellEditor:t=>{if(t.cellEditor==="agRichSelect"||t.cellEditor==="agRichSelectCellEditor"){return{module:"@ag-grid-enterprise/rich-select"}}return null},menuTabs:t=>{const e=["columnsMenuTab","generalMenuTab"];if(t.menuTabs?.some((t=>e.includes(t)))){return{module:"@ag-grid-enterprise/menu"}}return null},columnsMenuParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},columnChooserParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],validate:(t,{rowSelection:e})=>e==="multiple"?null:"headerCheckboxSelection is only supported with rowSelection=multiple"},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],validate:(t,{rowSelection:e})=>e==="multiple"?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],validate:(t,{rowSelection:e})=>e==="multiple"?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"},children:()=>ap};var op={headerName:void 0,columnGroupShow:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnsMenuParams:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressCellFlash:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressMenu:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0,loadingCellRenderer:void 0,loadingCellRendererParams:void 0,loadingCellRendererSelector:void 0,context:void 0};var np=Object.keys(op);var ap={objectName:"colDef",allProperties:np,docsUrl:"column-properties/",deprecations:ip,validations:rp};var lp=()=>({advancedFilterModel:{version:"31",message:"Use `initialState.filter.advancedFilterModel` instead."},suppressAsyncEvents:{version:"31",message:"Events should be handled asynchronously."},cellFadeDelay:{version:"31.1",renamed:"cellFadeDuration"},cellFlashDelay:{version:"31.1",renamed:"cellFlashDuration"},suppressServerSideInfiniteScroll:{version:"31.1"},serverSideSortOnServer:{version:"31.1"},serverSideFilterOnServer:{version:"31.1"},enableCellChangeFlash:{version:"31.2",message:"Use `enableCellChangeFlash` in the `ColDef` or `defaultColDef` for all columns."},groupIncludeFooter:{version:"31.3",message:"Use `groupTotalRow` instead."},groupIncludeTotalFooter:{version:"31.3",message:"Use `grandTotalRow` instead."},suppressLoadingOverlay:{version:"32",message:"Use `loading`=false instead."},enableFillHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeSelection:{version:"32.2",message:"Use `cellSelection = true` instead."},suppressMultiRangeSelection:{version:"32.2",message:"Use `cellSelection.suppressMultiRanges` instead."},suppressClearOnFillReduction:{version:"32.2",message:"Use `cellSelection.handle.suppressClearOnFillReduction` instead."},fillHandleDirection:{version:"32.2",message:"Use `cellSelection.handle.direction` instead."},fillOperation:{version:"32.2",message:"Use `cellSelection.handle.setFillValue` instead."},suppressRowClickSelection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},suppressRowDeselection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},rowMultiSelectWithClick:{version:"32.2",message:"Use `rowSelection.enableSelectionWithoutKeys` instead."},groupSelectsChildren:{version:"32.2",message:'Use `rowSelection.groupSelects = "descendants"` instead.'},groupSelectsFiltered:{version:"32.2",message:'Use `rowSelection.groupSelects = "filteredDescendants"` instead.'},isRowSelectable:{version:"32.2",message:"Use `selectionOptions.isRowSelectable` instead."},suppressCopySingleCellRanges:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},suppressCopyRowsToClipboard:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},onRangeSelectionChanged:{version:"32.2",message:"Use `onCellSelectionChanged` instead."},onRangeDeleteStart:{version:"32.2",message:"Use `onCellSelectionDeleteStart` instead."},onRangeDeleteEnd:{version:"32.2",message:"Use `onCellSelectionDeleteEnd` instead."},suppressBrowserResizeObserver:{version:"32.2",message:"The grid always uses the browser's ResizeObserver, this grid option has no effect."},onColumnEverythingChanged:{version:"32.2",message:"Either use `onDisplayedColumnsChanged` which is fired at the same time, or use one of the more specific column events."}});var hp={suppressContextMenu:false,preventDefaultOnContextMenu:false,allowContextMenuWithControlKey:false,suppressMenuHide:true,enableBrowserTooltips:false,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:false,tooltipShowMode:"standard",tooltipInteraction:false,copyHeadersToClipboard:false,copyGroupHeadersToClipboard:false,clipboardDelimiter:"\t",suppressCopyRowsToClipboard:false,suppressCopySingleCellRanges:false,suppressLastEmptyLineOnPaste:false,suppressClipboardPaste:false,suppressClipboardApi:false,suppressCutToClipboard:false,maintainColumnOrder:false,enableStrictPivotColumnOrder:false,suppressFieldDotNotation:false,allowDragFromColumnsToolPanel:false,suppressMovableColumns:false,suppressColumnMoveAnimation:false,suppressMoveWhenColumnDragging:false,suppressDragLeaveHidesColumns:false,suppressRowGroupHidesColumns:false,suppressAutoSize:false,autoSizePadding:20,skipHeaderOnAutoSize:false,singleClickEdit:false,suppressClickEdit:false,readOnlyEdit:false,stopEditingWhenCellsLoseFocus:false,enterNavigatesVertically:false,enterNavigatesVerticallyAfterEdit:false,enableCellEditingOnBackspace:false,undoRedoCellEditing:false,undoRedoCellEditingLimit:10,suppressCsvExport:false,suppressExcelExport:false,cacheQuickFilter:false,includeHiddenColumnsInQuickFilter:false,excludeChildrenWhenTreeDataFiltering:false,enableAdvancedFilter:false,includeHiddenColumnsInAdvancedFilter:false,enableCharts:false,masterDetail:false,keepDetailRows:false,keepDetailRowsCount:10,detailRowAutoHeight:false,tabIndex:0,rowBuffer:10,valueCache:false,valueCacheNeverExpires:false,enableCellExpressions:false,suppressTouch:false,suppressFocusAfterRefresh:false,suppressAsyncEvents:false,suppressBrowserResizeObserver:false,suppressPropertyNamesCheck:false,suppressChangeDetection:false,debug:false,suppressLoadingOverlay:false,suppressNoRowsOverlay:false,pagination:false,paginationPageSize:100,paginationPageSizeSelector:true,paginationAutoPageSize:false,paginateChildRows:false,suppressPaginationPanel:false,pivotMode:false,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:false,suppressExpandablePivotGroups:false,functionsReadOnly:false,suppressAggFuncInHeader:false,alwaysAggregateAtRootLevel:false,aggregateOnlyChangedColumns:false,suppressAggFilteredOnly:false,removePivotHeaderRowWhenSingleValueColumn:false,animateRows:true,enableCellChangeFlash:false,cellFlashDelay:500,cellFlashDuration:500,cellFadeDelay:1e3,cellFadeDuration:1e3,allowShowChangeAfterFilter:false,domLayout:"normal",ensureDomOrder:false,enableRtl:false,suppressColumnVirtualisation:false,suppressMaxRenderedRowRestriction:false,suppressRowVirtualisation:false,rowDragManaged:false,suppressRowDrag:false,suppressMoveWhenRowDragging:false,rowDragEntireRow:false,rowDragMultiRow:false,embedFullWidthRows:false,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:false,groupSelectsChildren:false,groupIncludeTotalFooter:false,groupSuppressBlankHeader:false,groupSelectsFiltered:false,showOpenedGroup:false,groupRemoveSingleChildren:false,groupRemoveLowestSingleChildren:false,groupHideOpenParents:false,groupAllowUnbalanced:false,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:false,treeData:false,rowGroupPanelSuppressSort:false,suppressGroupRowsSticky:false,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:false,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,suppressServerSideInfiniteScroll:false,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:false,serverSideSortAllLevels:false,serverSideOnlyRefreshFilteredGroups:false,serverSideSortOnServer:false,serverSideFilterOnServer:false,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:false,alwaysShowVerticalScroll:false,debounceVerticalScrollbar:false,suppressHorizontalScroll:false,suppressScrollOnNewData:false,suppressScrollWhenPopupsAreOpen:false,suppressAnimationFrame:false,suppressMiddleClickScrolls:false,suppressPreventDefaultOnMouseWheel:false,rowMultiSelectWithClick:false,suppressRowDeselection:false,suppressRowClickSelection:false,suppressCellFocus:false,suppressHeaderFocus:false,suppressMultiRangeSelection:false,enableCellTextSelection:false,enableRangeSelection:false,enableRangeHandle:false,enableFillHandle:false,fillHandleDirection:"xy",suppressClearOnFillReduction:false,accentedSort:false,unSortIcon:false,suppressMultiSort:false,alwaysMultiSort:false,suppressMaintainUnsortedOrder:false,suppressRowHoverHighlight:false,suppressRowTransform:false,columnHoverHighlight:false,deltaSort:false,enableGroupEdit:false,suppressGroupMaintainValueType:false,groupLockGroupColumns:0,serverSideEnableClientSideSort:false,suppressServerSideFullWidthLoadingRow:false,pivotMaxGeneratedColumns:-1,columnMenu:"new",reactiveCustomComponents:true,suppressSetFilterByDefault:false};var cp=()=>({sideBar:{module:"@ag-grid-enterprise/side-bar"},statusBar:{module:"@ag-grid-enterprise/status-bar"},enableCharts:{module:"@ag-grid-enterprise/charts"},getMainMenuItems:{module:"@ag-grid-enterprise/menu"},getContextMenuItems:{module:"@ag-grid-enterprise/menu"},allowContextMenuWithControlKey:{module:"@ag-grid-enterprise/menu"},enableAdvancedFilter:{module:"@ag-grid-enterprise/advanced-filter"},treeData:{supportedRowModels:["clientSide","serverSide"],module:"@ag-grid-enterprise/row-grouping",validate:t=>{const e=t.rowModelType??"clientSide";switch(e){case"clientSide":{const i=`treeData requires 'getDataPath' in the ${e} row model.`;return t.getDataPath?null:i}case"serverSide":{const i=`treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ${e} row model.`;return t.isServerSideGroup&&t.getServerSideGroupKey?null:i}}return null}},masterDetail:{module:"@ag-grid-enterprise/master-detail"},enableRangeSelection:{module:"@ag-grid-enterprise/range-selection"},enableRangeHandle:{dependencies:{enableRangeSelection:[true]}},enableFillHandle:{dependencies:{enableRangeSelection:[true]}},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupIncludeFooter:{supportedRowModels:["clientSide","serverSide"],validate:t=>{const e=t.rowModelType??"clientSide";switch(e){case"clientSide":return null;case"serverSide":{const e="groupIncludeFooter is not supported alongside suppressServerSideInfiniteScroll";return t.suppressServerSideInfiniteScroll?e:null}}return null}},groupHideOpenParents:{supportedRowModels:["clientSide","serverSide"],dependencies:{groupTotalRow:[void 0,"bottom"]}},groupIncludeTotalFooter:{supportedRowModels:["clientSide"]},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:[void 0,false],groupRemoveLowestSingleChildren:[void 0,false]}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:[void 0,false],groupRemoveSingleChildren:[void 0,false]}},groupSelectsChildren:{dependencies:{rowSelection:["multiple"]}},viewportDatasource:{supportedRowModels:["viewport"],module:"@ag-grid-enterprise/viewport-row-model"},serverSideDatasource:{supportedRowModels:["serverSide"],module:"@ag-grid-enterprise/server-side-row-model"},cacheBlockSize:{supportedRowModels:["serverSide","infinite"]},datasource:{supportedRowModels:["infinite"],module:"@ag-grid-community/infinite-row-model"},rowData:{supportedRowModels:["clientSide"],module:"@ag-grid-community/client-side-row-model"},paginationPageSizeSelector:{validate:t=>{const e=t.paginationPageSizeSelector;if(typeof e==="boolean"||e==null){return null}if(!e.length){return`'paginationPageSizeSelector' cannot be an empty array.\n                    If you want to hide the page size selector, set paginationPageSizeSelector to false.`}return null}},rowSelection:{validate({rowSelection:t}){if(t&&typeof t==="string"){return'As of version 32.2.1, using `rowSelection` with the values "single" or "multiple" has been deprecated. Use the object value instead.'}if(t&&typeof t!=="object"){return"Expected `RowSelectionOptions` object for the `rowSelection` property."}return null}},cellSelection:{module:"@ag-grid-enterprise/range-selection"},columnDefs:()=>ap,defaultColDef:()=>ap,defaultColGroupDef:()=>ap,autoGroupColumnDef:()=>ap,selectionColumnDef:()=>ap});var up=()=>({objectName:"gridOptions",allProperties:[...yi.ALL_PROPERTIES,...xi.EVENT_CALLBACKS],propertyExceptions:["api"],docsUrl:"grid-options/",deprecations:lp(),validations:cp()});var dp=class extends fe{constructor(){super(...arguments);this.beanName="validationService"}wireBeans(t){this.beans=t;this.gridOptions=t.gridOptions}postConstruct(){this.processGridOptions(this.gridOptions)}processGridOptions(t){this.processOptions(t,up())}validateApiFunction(t,e){return ep(t,e,this.beans)}processOptions(t,e){const{validations:i,deprecations:s,allProperties:r,propertyExceptions:o,objectName:n,docsUrl:a}=e;if(r&&this.gridOptions.suppressPropertyNamesCheck!==true){this.checkProperties(t,[...o??[],...Object.keys(s)],r,n,a)}const l=new Set;const h=Object.keys(t);h.forEach((e=>{const r=s[e];if(r){if("renamed"in r){const{renamed:i,version:s}=r;l.add(`As of v${s}, ${String(e)} is deprecated. Please use ${String(i)} instead.`);t[i]=t[e]}else{const{message:t,version:i}=r;l.add(`As of v${i}, ${String(e)} is deprecated. ${t??""}`)}}const o=t[e];if(o==null||o===false){return}const n=i[e];let a;if(!n){return}else if(typeof n==="function"){const i=n(t,this.gridOptions);if(!i){return}if("objectName"in i){const s=t[e];if(Array.isArray(s)){s.forEach((t=>{this.processOptions(t,i)}));return}this.processOptions(t[e],i);return}a=i}else{a=n}const{module:h,dependencies:c,validate:u,supportedRowModels:d}=a;if(d){const t=this.gridOptions.rowModelType??"clientSide";if(!d.includes(t)){l.add(`${String(e)} is not supported with the '${t}' row model.`);return}}if(h){const t=Array.isArray(h)?h:[h];let i=true;t.forEach((t=>{if(!this.gos.assertModuleRegistered(t,String(e))){i=false;l.add(`${String(e)} is only available when ${t} is loaded.`)}}));if(!i){return}}if(c){const i=this.checkForRequiredDependencies(e,c,t);if(i){l.add(i);return}}if(u){const e=u(t,this.gridOptions);if(e){l.add(e);return}}}));if(l.size>0){l.forEach((t=>{P(t)}))}}checkForRequiredDependencies(t,e,i){const s=Object.entries(e);const r=s.find((([t,e])=>{const s=i[t];return!e.includes(s)}));if(!r){return null}const[o,n]=r;if(n.length>1){return`'${String(t)}' requires '${o}' to be one of [${n.join(", ")}].`}return`'${String(t)}' requires '${o}' to be ${n[0]}.`}checkProperties(t,e,i,s,r){const o=["__ob__","__v_skip","__metadata__"];const n=gp(Object.getOwnPropertyNames(t),[...o,...e,...i],i);Fe(n,((t,e)=>{let r=`invalid ${s} property '${t}' did you mean any of these: ${e.slice(0,8).join(", ")}.`;if(i.includes("context")){r+=`\nIf you are trying to annotate ${s} with application data, use the '${s}.context' property instead.`}P(r)}));if(Object.keys(n).length>0&&r){const t=this.getFrameworkOverrides().getDocLink(r);P(`to see all the valid ${s} properties please check: ${t}`)}}};function gp(t,e,i){const s={};const r=t.filter((t=>!e.some((e=>e===t))));if(r.length>0){r.forEach((t=>s[t]=Ur({inputValue:t,allSuggestions:i}).values))}return s}var fp={version:ta,moduleName:"@ag-grid-community/core"};var pp=Xn({version:ta,moduleName:"@ag-grid-community/core-validations",beans:[dp]});var mp=Xn({version:ta,moduleName:"@ag-grid-community/core-community-features",dependantModules:[fp,pp,tu,Ba,Ff,Yd,sd,qf,yf]});var vp=class extends fe{constructor(){super(...arguments);this.beanName="gridDestroyService";this.destroyCalled=false}wireBeans(t){this.beans=t}destroy(){if(this.destroyCalled){return}this.eventService.dispatchEvent({type:"gridPreDestroyed",state:this.beans.stateService?.getState()??{}});this.destroyCalled=true;this.beans.ctrlsService.get("gridCtrl")?.destroyGridUi();this.beans.context.destroy();super.destroy()}isDestroyCalled(){return this.destroyCalled}};var wp=new Set(["gridPreDestroyed","fillStart","pasteStart"]);var bp=t=>t==="checkboxSelected"||t==="rowClicked"||t==="spaceKey"||t==="uiSelectAll"||t==="uiSelectAllCurrentPage"||t==="uiSelectAllFiltered";var yp=new Map([...yi.BOOLEAN_PROPERTIES.map((t=>[t,Y])),...yi.NUMBER_PROPERTIES.map((t=>[t,Mn])),["groupAggFiltering",t=>typeof t==="function"?t:Y(t)],["pageSize",Rn(1)],["autoSizePadding",Rn(0)],["keepDetailRowsCount",Rn(1)],["rowBuffer",Rn(0)],["infiniteInitialRowCount",Rn(1)],["cacheOverflowSize",Rn(1)],["cacheBlockSize",Rn(1)],["serverSideInitialRowCount",Rn(1)],["viewportRowModelPageSize",Rn(1)],["viewportRowModelBufferSize",Rn(0)]]);function Cp(t,e){const i=yp.get(t);if(!i){return e}return i(e)}function xp(t){const e={};Object.entries(t).forEach((([t,i])=>{const s=Cp(t,i);e[t]=s}));return e}var kp=class t extends fe{constructor(){super(...arguments);this.beanName="gos";this.gridReadyFired=false;this.queueEvents=[];this.domDataKey="__AG_"+Math.random().toString();this.propertyEventService=new S;this.globalEventHandlerFactory=t=>(e,i)=>{if(!this.isAlive()){return}const s=wp.has(e);if(s&&!t||!s&&t){return}const r=(t,e)=>{const i=this.gridOptions[xi.getCallbackForEvent(t)];if(typeof i==="function"){this.frameworkOverrides.wrapOutgoing((()=>i(e)))}};if(this.gridReadyFired){r(e,i)}else{if(e==="gridReady"){r(e,i);this.gridReadyFired=true;for(const t of this.queueEvents){r(t.eventName,t.event)}this.queueEvents=[]}else{this.queueEvents.push({eventName:e,event:i})}}}}wireBeans(t){this.gridOptions=t.gridOptions;this.eGridDiv=t.eGridDiv;this.validationService=t.validationService;this.environment=t.environment;this.api=t.gridApi;this.gridId=t.context.getGridId()}get gridOptionsContext(){return this.gridOptions["context"]}postConstruct(){const t=!this.get("suppressAsyncEvents");this.eventService.addGlobalListener(this.globalEventHandlerFactory().bind(this),t);this.eventService.addGlobalListener(this.globalEventHandlerFactory(true).bind(this),false);this.propertyEventService.setFrameworkOverrides(this.frameworkOverrides);this.addManagedEventListeners({gridOptionsChanged:({options:t})=>{this.updateGridOptions({options:t,force:true,source:"gridOptionsUpdated"})}})}destroy(){super.destroy();this.queueEvents=[]}get(t){return this.gridOptions[t]??hp[t]}getCallback(t){return this.mergeGridCommonParams(this.gridOptions[t])}exists(t){return j(this.gridOptions[t])}mergeGridCommonParams(t){if(t){const e=e=>{const i=e;i.api=this.api;i.context=this.gridOptionsContext;return t(i)};return e}return t}updateGridOptions({options:e,force:i,source:s="api"}){const r={id:t.changeSetId++,properties:[]};const o=[];Object.entries(e).forEach((([t,e])=>{if(s==="api"&&wi[t]){P(`${t} is an initial property and cannot be updated.`)}const n=Cp(t,e);const a=i||typeof n==="object"&&s==="api";const l=this.gridOptions[t];if(a||l!==n){this.gridOptions[t]=n;const e={type:t,currentValue:n,previousValue:l,changeSet:r,source:s};o.push(e)}}));this.validationService?.processGridOptions(this.gridOptions);r.properties=o.map((t=>t.type));o.forEach((t=>{if(this.gridOptions.debug){F(`Updated property ${t.type} from`,t.previousValue,` to `,t.currentValue)}this.propertyEventService.dispatchEvent(t)}))}addPropertyEventListener(t,e){this.propertyEventService.addEventListener(t,e)}removePropertyEventListener(t,e){this.propertyEventService.removeEventListener(t,e)}getDomDataKey(){return this.domDataKey}getGridCommonParams(){return{api:this.api,context:this.gridOptionsContext}}addGridCommonParams(t){const e=t;e.api=this.api;e.context=this.gridOptionsContext;return e}assertModuleRegistered(t,e){return yo.__assertRegistered(t,e,this.gridId)}isModuleRegistered(t){return yo.__isRegistered(t,this.gridId)}};kp.changeSetId=0;var Sp=kp;var Dp=class extends fe{constructor(){super(...arguments);this.beanName="headerPositionUtils"}wireBeans(t){this.visibleColsService=t.visibleColsService;this.ctrlsService=t.ctrlsService}findHeader(t,e){let i;let s;if(hi(t.column)){i=this.visibleColsService.getGroupAtDirection(t.column,e)}else{s=`getCol${e}`;i=this.visibleColsService[s](t.column)}if(!i){return}const{headerRowIndex:r}=t;if(this.getHeaderRowType(r)!=="filter"){const t=[i];while(i.getParent()){i=i.getParent();t.push(i)}i=t[t.length-1-r]}const{column:o,headerRowIndex:n}=this.getHeaderIndexToFocus(i,r);return{column:o,headerRowIndex:n}}getHeaderIndexToFocus(t,e){let i;if(hi(t)&&this.isAnyChildSpanningHeaderHeight(t)&&t.isPadding()){const s=t;i=s.getLeafColumns()[0];let r=i;while(r!==s){e++;r=r.getParent()}}return{column:i||t,headerRowIndex:e}}isAnyChildSpanningHeaderHeight(t){if(!t){return false}return t.getLeafColumns().some((t=>t.isSpanHeaderHeight()))}getColumnVisibleParent(t,e){const i=this.getHeaderRowType(e);const s=i==="filter";const r=i==="column";let o=s?t:t.getParent();let n=e-1;let a=n;if(r&&this.isAnyChildSpanningHeaderHeight(t.getParent())){while(o&&o.isPadding()){o=o.getParent();n--}a=n;if(n<0){o=t;n=e;a=void 0}}return{column:o,headerRowIndex:n,headerRowIndexWithoutSpan:a}}getColumnVisibleChild(t,e,i="After"){const s=this.getHeaderRowType(e);let r=t;let o=e+1;const n=o;if(s==="group"){const e=t.getDisplayedLeafColumns();const s=i==="After"?e[0]:$t(e);const n=[];let a=s;while(a.getParent()!==t){a=a.getParent();n.push(a)}r=s;if(s.isSpanHeaderHeight()){for(let t=n.length-1;t>=0;t--){const e=n[t];if(!e.isPadding()){r=e;break}o++}}else{r=$t(n);if(!r){r=s}}}return{column:r,headerRowIndex:o,headerRowIndexWithoutSpan:n}}getHeaderRowType(t){const e=this.ctrlsService.getHeaderRowContainerCtrl();if(e){return e.getRowType(t)}}findColAtEdgeForHeaderRow(t,e){const i=this.visibleColsService.getAllCols();const s=i[e==="start"?0:i.length-1];if(!s){return}const r=this.ctrlsService.getHeaderRowContainerCtrl(s.getPinned());const o=r?.getRowType(t);if(o=="group"){const e=this.visibleColsService.getColGroupAtLevel(s,t);return{headerRowIndex:t,column:e}}return{headerRowIndex:o==null?-1:t,column:s}}};var Mp=class extends fe{constructor(){super(...arguments);this.beanName="localeService"}getLocaleTextFunc(){const t=this.gos.getCallback("getLocaleText");if(t){return(e,i,s)=>{const r={key:e,defaultValue:i,variableValues:s};return t(r)}}const e=this.gos.get("localeText");return(t,i,s)=>{let r=e&&e[t];if(r&&s&&s.length){let t=0;while(true){if(t>=s.length){break}const e=r.indexOf("${variable}");if(e===-1){break}r=r.replace("${variable}",s[t++])}}return r??i}}};var Rp=class extends fe{constructor(){super(...arguments);this.beanName="apiEventService";this.syncEventListeners=new Map;this.asyncEventListeners=new Map;this.syncGlobalEventListeners=new Set;this.globalEventListenerPairs=new Map}postConstruct(){this.frameworkEventWrappingService=new Me(this.getFrameworkOverrides())}addEventListener(t,e){const i=this.frameworkEventWrappingService.wrap(t,e);const s=st(this.gos)&&!wp.has(t);const r=s?this.asyncEventListeners:this.syncEventListeners;if(!r.has(t)){r.set(t,new Set)}r.get(t).add(i);this.eventService.addEventListener(t,i,s)}removeEventListener(t,e){const i=this.frameworkEventWrappingService.unwrap(t,e);const s=this.asyncEventListeners.get(t);const r=!!s?.delete(i);if(!r){this.syncEventListeners.get(t)?.delete(i)}this.eventService.removeEventListener(t,i,r)}addGlobalListener(t){const e=this.frameworkEventWrappingService.wrapGlobal(t);const i=st(this.gos);if(i){const i=(t,i)=>{if(wp.has(t)){e(t,i)}};const s=(t,i)=>{if(!wp.has(t)){e(t,i)}};this.globalEventListenerPairs.set(t,{syncListener:i,asyncListener:s});this.eventService.addGlobalListener(i,false);this.eventService.addGlobalListener(s,true)}else{this.syncGlobalEventListeners.add(e);this.eventService.addGlobalListener(e,false)}}removeGlobalListener(t){const e=this.frameworkEventWrappingService.unwrapGlobal(t);const i=this.globalEventListenerPairs.has(e);if(i){const{syncListener:i,asyncListener:s}=this.globalEventListenerPairs.get(e);this.eventService.removeGlobalListener(i,false);this.eventService.removeGlobalListener(s,true);this.globalEventListenerPairs.delete(t)}else{this.syncGlobalEventListeners.delete(e);this.eventService.removeGlobalListener(e,false)}}destroyEventListeners(t,e){t.forEach(((t,i)=>{t.forEach((t=>this.eventService.removeEventListener(i,t,e)));t.clear()}));t.clear()}destroyGlobalListeners(t,e){t.forEach((t=>this.eventService.removeGlobalListener(t,e)));t.clear()}destroy(){super.destroy();this.destroyEventListeners(this.syncEventListeners,false);this.destroyEventListeners(this.asyncEventListeners,true);this.destroyGlobalListeners(this.syncGlobalEventListeners,false);this.globalEventListenerPairs.forEach((({syncListener:t,asyncListener:e})=>{this.eventService.removeGlobalListener(t,false);this.eventService.removeGlobalListener(e,true)}));this.globalEventListenerPairs.clear()}};var Fp=class extends fe{constructor(){super(...arguments);this.beanName="pageBoundsListener"}wireBeans(t){this.rowModel=t.rowModel;this.paginationService=t.paginationService;this.pageBoundsService=t.pageBoundsService}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this),recalculateRowBounds:this.calculatePages.bind(this)});this.onModelUpdated()}onModelUpdated(t){this.calculatePages();this.eventService.dispatchEvent({type:"paginationChanged",animate:t?.animate??false,newData:t?.newData??false,newPage:t?.newPage??false,newPageSize:t?.newPageSize??false,keepRenderedRows:t?.keepRenderedRows??false})}calculatePages(){if(this.paginationService){this.paginationService.calculatePages()}else{this.pageBoundsService.calculateBounds(0,this.rowModel.getRowCount()-1)}}};var Pp=class extends fe{constructor(){super(...arguments);this.beanName="pageBoundsService";this.pixelOffset=0}wireBeans(t){this.rowModel=t.rowModel}getFirstRow(){return this.topRowBounds?this.topRowBounds.rowIndex:-1}getLastRow(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1}getCurrentPageHeight(){if(W(this.topRowBounds)||W(this.bottomRowBounds)){return 0}return Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)}getCurrentPagePixelRange(){const t=this.topRowBounds?this.topRowBounds.rowTop:0;const e=this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0;return{pageFirstPixel:t,pageLastPixel:e}}calculateBounds(t,e){this.topRowBounds=this.rowModel.getRowBounds(t);if(this.topRowBounds){this.topRowBounds.rowIndex=t}this.bottomRowBounds=this.rowModel.getRowBounds(e);if(this.bottomRowBounds){this.bottomRowBounds.rowIndex=e}this.calculatePixelOffset()}getPixelOffset(){return this.pixelOffset}calculatePixelOffset(){const t=j(this.topRowBounds)?this.topRowBounds.rowTop:0;if(this.pixelOffset===t){return}this.pixelOffset=t;this.eventService.dispatchEvent({type:"paginationPixelOffsetChanged"})}};var zp=class extends fe{constructor(){super();this.beanName="ariaAnnouncementService";this.descriptionContainer=null;this.pendingAnnouncements=new Map;this.updateAnnouncement=L(this.updateAnnouncement.bind(this),200)}wireBeans(t){this.eGridDiv=t.eGridDiv}postConstruct(){const t=dt(this.gos);const e=this.descriptionContainer=t.createElement("div");e.classList.add("ag-aria-description-container");Ei(e,"polite");Oi(e,"additions text");Ni(e,true);this.eGridDiv.appendChild(e)}announceValue(t,e){this.pendingAnnouncements.set(e,t);this.updateAnnouncement()}updateAnnouncement(){if(!this.descriptionContainer){return}const t=Array.from(this.pendingAnnouncements.values()).join(". ");this.pendingAnnouncements.clear();this.descriptionContainer.textContent="";setTimeout((()=>{if(this.isAlive()&&this.descriptionContainer){this.descriptionContainer.textContent=t}}),50)}destroy(){super.destroy();const{descriptionContainer:t}=this;if(t){fs(t);if(t.parentElement){t.parentElement.removeChild(t)}}this.descriptionContainer=null;this.eGridDiv=null;this.pendingAnnouncements.clear()}};var Ip=class extends fe{constructor(){super(...arguments);this.beanName="columnAnimationService";this.executeNextFuncs=[];this.executeLaterFuncs=[];this.active=false;this.activeNext=false;this.suppressAnimation=false;this.animationThreadCount=0}wireBeans(t){this.ctrlsService=t.ctrlsService}postConstruct(){this.ctrlsService.whenReady(this,(t=>this.gridBodyCtrl=t.gridBodyCtrl))}isActive(){return this.active&&!this.suppressAnimation}setSuppressAnimation(t){this.suppressAnimation=t}start(){if(this.active){return}if(this.gos.get("suppressColumnMoveAnimation")){return}if(this.gos.get("enableRtl")){return}this.ensureAnimationCssClassPresent();this.active=true;this.activeNext=true}finish(){if(!this.active){return}this.flush((()=>this.activeNext=false),(()=>this.active=false))}executeNextVMTurn(t){if(this.activeNext){this.executeNextFuncs.push(t)}else{t()}}executeLaterVMTurn(t){if(this.active){this.executeLaterFuncs.push(t)}else{t()}}ensureAnimationCssClassPresent(){this.animationThreadCount++;const t=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(true);this.executeLaterFuncs.push((()=>{if(this.animationThreadCount===t){this.gridBodyCtrl.setColumnMovingCss(false)}}))}flush(t,e){if(this.executeNextFuncs.length===0&&this.executeLaterFuncs.length===0){t();e();return}const i=t=>{while(t.length){const e=t.pop();if(e){e()}}};this.getFrameworkOverrides().wrapIncoming((()=>{window.setTimeout((()=>{t();i(this.executeNextFuncs)}),0);window.setTimeout((()=>{e();i(this.executeLaterFuncs)}),200)}))}};var Tp=class extends fe{constructor(){super(...arguments);this.beanName="columnHoverService"}setMouseOver(t){this.updateState(t)}clearMouseOver(){this.updateState(null)}isHovered(t){return!!this.selectedColumns&&this.selectedColumns.indexOf(t)>=0}updateState(t){this.selectedColumns=t;this.eventService.dispatchEvent({type:"columnHoverChanged"})}};var Ap=class extends fe{constructor(){super(...arguments);this.beanName="overlayService";this.state=0;this.showInitialOverlay=true;this.wrapperPadding=0}wireBeans(t){this.userComponentFactory=t.userComponentFactory;this.rowModel=t.rowModel;this.columnModel=t.columnModel;this.ctrlsService=t.ctrlsService}postConstruct(){this.isClientSide=X(this.gos);const t=()=>this.updateOverlayVisibility();this.addManagedEventListeners({newColumnsLoaded:t,rowDataUpdated:t,gridSizeChanged:this.onGridSizeChanged.bind(this),rowCountReady:()=>{this.showInitialOverlay=false;this.updateOverlayVisibility()}});this.addManagedPropertyListener("loading",t)}setOverlayWrapperComp(t){this.overlayWrapperComp=t;this.updateOverlayVisibility()}isVisible(){return this.state!==0&&!!this.overlayWrapperComp}isExclusive(){return this.state===1&&!!this.overlayWrapperComp}getOverlayWrapper(){return this.overlayWrapperComp}showLoadingOverlay(){this.showInitialOverlay=false;const t=this.gos.get("loading");if(!t&&(t!==void 0||this.gos.get("suppressLoadingOverlay"))){return}this.doShowLoadingOverlay()}showNoRowsOverlay(){this.showInitialOverlay=false;if(this.gos.get("loading")||this.gos.get("suppressNoRowsOverlay")){return}this.doShowNoRowsOverlay()}hideOverlay(){this.showInitialOverlay=false;if(this.gos.get("loading")){P("Since v32, `api.hideOverlay()` does not hide the loading overlay when `loading=true`. Set `loading=false` instead.");return}this.doHideOverlay()}updateOverlayVisibility(){if(!this.overlayWrapperComp){this.state=0;return}let t=this.gos.get("loading");if(this.showInitialOverlay&&t===void 0&&!this.gos.get("suppressLoadingOverlay")){t=!this.gos.get("columnDefs")||!this.columnModel.isReady()||!this.gos.get("rowData")&&this.isClientSide}if(t){if(this.state!==1){this.doShowLoadingOverlay()}}else{this.showInitialOverlay=false;if(this.rowModel.isEmpty()&&!this.gos.get("suppressNoRowsOverlay")&&this.isClientSide){if(this.state!==2){this.doShowNoRowsOverlay()}}else if(this.state!==0){this.doHideOverlay()}}}doShowLoadingOverlay(){if(!this.overlayWrapperComp){return}this.state=1;this.showOverlay(this.userComponentFactory.getLoadingOverlayCompDetails({}),"ag-overlay-loading-wrapper","loadingOverlayComponentParams");this.updateExclusive()}doShowNoRowsOverlay(){if(!this.overlayWrapperComp){return}this.state=2;this.showOverlay(this.userComponentFactory.getNoRowsOverlayCompDetails({}),"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams");this.updateExclusive()}doHideOverlay(){if(!this.overlayWrapperComp){return}this.state=0;this.overlayWrapperComp.hideOverlay();this.updateExclusive()}showOverlay(t,e,i){const s=t.newAgStackInstance();this.overlayWrapperComp?.showOverlay(s,e,this.isExclusive(),i);this.refreshWrapperPadding()}updateExclusive(){const t=this.exclusive;this.exclusive=this.isExclusive();if(this.exclusive!==t){this.eventService.dispatchEvent({type:"overlayExclusiveChanged"})}}onGridSizeChanged(){this.refreshWrapperPadding()}refreshWrapperPadding(){if(!this.overlayWrapperComp){return}let t=0;if(this.state===2){const e=this.ctrlsService.get("gridHeaderCtrl");const i=e?.getHeaderHeight()||0;t=i}else if(this.wrapperPadding!==0){t=0}if(this.wrapperPadding===t){return}this.wrapperPadding=t;this.overlayWrapperComp.updateOverlayWrapperPaddingTop(t)}};var Ep=class extends fe{constructor(){super(...arguments);this.beanName="rowCssClassCalculator"}wireBeans(t){this.stylingService=t.stylingService}getInitialRowClasses(t){const e=[];if(j(t.extraCssClass)){e.push(t.extraCssClass)}e.push("ag-row");e.push(t.rowFocused?"ag-row-focus":"ag-row-no-focus");if(t.fadeRowIn){e.push("ag-opacity-zero")}e.push(t.rowIsEven?"ag-row-even":"ag-row-odd");if(t.rowNode.isRowPinned()){e.push("ag-row-pinned")}if(t.rowNode.isSelected()){e.push("ag-row-selected")}if(t.rowNode.footer){e.push("ag-row-footer")}e.push("ag-row-level-"+t.rowLevel);if(t.rowNode.stub){e.push("ag-row-loading")}if(t.fullWidthRow){e.push("ag-full-width-row")}if(t.expandable){e.push("ag-row-group");e.push(t.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")}if(t.rowNode.dragging){e.push("ag-row-dragging")}ie(e,this.processClassesFromGridOptions(t.rowNode));ie(e,this.preProcessRowClassRules(t.rowNode));e.push(t.printLayout?"ag-row-position-relative":"ag-row-position-absolute");if(t.firstRowOnPage){e.push("ag-row-first")}if(t.lastRowOnPage){e.push("ag-row-last")}if(t.fullWidthRow){if(t.pinned==="left"){e.push("ag-cell-last-left-pinned")}if(t.pinned==="right"){e.push("ag-cell-first-right-pinned")}}return e}processClassesFromGridOptions(t){const e=[];const i=t=>{if(typeof t==="string"){e.push(t)}else if(Array.isArray(t)){t.forEach((t=>e.push(t)))}};const s=this.gos.get("rowClass");if(s){if(typeof s==="function"){P("rowClass should not be a function, please use getRowClass instead");return[]}i(s)}const r=this.gos.getCallback("getRowClass");if(r){const e={data:t.data,node:t,rowIndex:t.rowIndex};const s=r(e);i(s)}return e}preProcessRowClassRules(t){const e=[];this.processRowClassRules(t,(t=>{e.push(t)}),(()=>{}));return e}processRowClassRules(t,e,i){const s=this.gos.addGridCommonParams({data:t.data,node:t,rowIndex:t.rowIndex});this.stylingService.processClassRules(void 0,this.gos.get("rowClassRules"),s,e,i)}calculateRowLevel(t){if(t.group){return t.level}return t.parent?t.parent.level+1:0}};var Np=class extends fe{constructor(){super(...arguments);this.beanName="rowContainerHeightService";this.scrollY=0;this.uiBodyHeight=0}wireBeans(t){this.ctrlsService=t.ctrlsService}postConstruct(){this.addManagedEventListeners({bodyHeightChanged:this.updateOffset.bind(this)});this.maxDivHeight=_s();if(this.gos.get("debug")){F("RowContainerHeightService - maxDivHeight = "+this.maxDivHeight)}}isStretching(){return this.stretching}getDivStretchOffset(){return this.divStretchOffset}updateOffset(){if(!this.stretching){return}const t=this.ctrlsService.getGridBodyCtrl();const e=t.getScrollFeature().getVScrollPosition().top;const i=this.getUiBodyHeight();const s=e!==this.scrollY||i!==this.uiBodyHeight;if(s){this.scrollY=e;this.uiBodyHeight=i;this.calculateOffset()}}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight);this.pixelsToShave=this.modelHeight-this.uiContainerHeight;this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;const t=this.scrollY/this.maxScrollY;const e=t*this.pixelsToShave;if(this.gos.get("debug")){F(`RowContainerHeightService - Div Stretch Offset = ${e} (${this.pixelsToShave} * ${t})`)}this.setDivStretchOffset(e)}setUiContainerHeight(t){if(t!==this.uiContainerHeight){this.uiContainerHeight=t;this.eventService.dispatchEvent({type:"rowContainerHeightChanged"})}}clearOffset(){this.setUiContainerHeight(this.modelHeight);this.pixelsToShave=0;this.setDivStretchOffset(0)}setDivStretchOffset(t){const e=typeof t==="number"?Math.floor(t):null;if(this.divStretchOffset===e){return}this.divStretchOffset=e;this.eventService.dispatchEvent({type:"heightScaleChanged"})}setModelHeight(t){this.modelHeight=t;this.stretching=t!=null&&this.maxDivHeight>0&&t>this.maxDivHeight;if(this.stretching){this.calculateOffset()}else{this.clearOffset()}}getUiContainerHeight(){return this.uiContainerHeight}getRealPixelPosition(t){return t-this.divStretchOffset}getUiBodyHeight(){const t=this.ctrlsService.getGridBodyCtrl();const e=t.getScrollFeature().getVScrollPosition();return e.bottom-e.top}getScrollPositionForPixel(t){if(this.pixelsToShave<=0){return t}const e=this.modelHeight-this.getUiBodyHeight();const i=t/e;const s=this.maxScrollY*i;return s}};var Op=class extends fe{constructor(){super(...arguments);this.beanName="rowNodeSorter"}wireBeans(t){this.valueService=t.valueService;this.columnModel=t.columnModel;this.showRowGroupColsService=t.showRowGroupColsService}postConstruct(){this.isAccentedSort=this.gos.get("accentedSort");this.primaryColumnsSortGroups=bt(this.gos);this.addManagedPropertyListener("accentedSort",(t=>this.isAccentedSort=t.currentValue));this.addManagedPropertyListener("autoGroupColumnDef",(()=>this.primaryColumnsSortGroups=bt(this.gos)))}doFullSort(t,e){const i=(t,e)=>({currentPos:e,rowNode:t});const s=t.map(i);s.sort(this.compareRowNodes.bind(this,e));return s.map((t=>t.rowNode))}compareRowNodes(t,e,i){const s=e.rowNode;const r=i.rowNode;for(let e=0,i=t.length;e<i;e++){const i=t[e];const o=i.sort==="desc";const n=this.getValue(s,i.column);const a=this.getValue(r,i.column);let l;const h=this.getComparator(i,s);if(h){l=h(n,a,s,r,o)}else{l=Z(n,a,this.isAccentedSort)}const c=!isNaN(l);if(c&&l!==0){return i.sort==="asc"?l:l*-1}}return e.currentPos-i.currentPos}getComparator(t,e){const i=t.column;const s=i.getColDef().comparator;if(s!=null){return s}if(!i.getColDef().showRowGroup){return}const r=!e.group&&i.getColDef().field;if(!r){return}const o=this.columnModel.getColDefCol(r);if(!o){return}return o.getColDef().comparator}getValue(t,e){if(!this.primaryColumnsSortGroups){return this.valueService.getValue(e,t,false,false)}const i=t.rowGroupColumn===e;if(i){const i=St(this.gos,this.columnModel.isPivotActive());if(i){const i=t.allLeafChildren?.[0];if(i){return this.valueService.getValue(e,i,false,false)}return void 0}const s=this.showRowGroupColsService?.getShowRowGroupCol(e.getId());if(!s){return void 0}return t.groupData?.[s.getId()]}if(t.group&&e.getColDef().showRowGroup){return void 0}return this.valueService.getValue(e,t,false,false)}};var Lp=class{constructor(t,e){this.active=true;this.nodeIdsToColumns={};this.mapToItems={};this.keepingColumns=t;this.pathRoot={rowNode:e,children:null};this.mapToItems[e.id]=this.pathRoot}setInactive(){this.active=false}isActive(){return this.active}depthFirstSearchChangedPath(t,e){if(t.children){for(let i=0;i<t.children.length;i++){this.depthFirstSearchChangedPath(t.children[i],e)}}e(t.rowNode)}depthFirstSearchEverything(t,e,i){if(t.childrenAfterGroup){for(let s=0;s<t.childrenAfterGroup.length;s++){const r=t.childrenAfterGroup[s];if(r.childrenAfterGroup){this.depthFirstSearchEverything(t.childrenAfterGroup[s],e,i)}else if(i){e(r)}}}e(t)}forEachChangedNodeDepthFirst(t,e=false,i=false){if(this.active&&!i){this.depthFirstSearchChangedPath(this.pathRoot,t)}else{this.depthFirstSearchEverything(this.pathRoot.rowNode,t,e)}}executeFromRootNode(t){t(this.pathRoot.rowNode)}createPathItems(t){let e=t;let i=0;while(!this.mapToItems[e.id]){const t={rowNode:e,children:null};this.mapToItems[e.id]=t;i++;e=e.parent}return i}populateColumnsMap(t,e){if(!this.keepingColumns||!e){return}let i=t;while(i){if(!this.nodeIdsToColumns[i.id]){this.nodeIdsToColumns[i.id]={}}e.forEach((t=>this.nodeIdsToColumns[i.id][t.getId()]=true));i=i.parent}}linkPathItems(t,e){let i=t;for(let t=0;t<e;t++){const t=this.mapToItems[i.id];const e=this.mapToItems[i.parent.id];if(!e.children){e.children=[]}e.children.push(t);i=i.parent}}addParentNode(t,e){if(!t||t.isRowPinned()){return}const i=this.createPathItems(t);this.linkPathItems(t,i);this.populateColumnsMap(t,e)}canSkip(t){return this.active&&!this.mapToItems[t.id]}getValueColumnsForNode(t,e){if(!this.keepingColumns){return e}const i=this.nodeIdsToColumns[t.id];const s=e.filter((t=>i[t.getId()]));return s}getNotValueColumnsForNode(t,e){if(!this.keepingColumns){return null}const i=this.nodeIdsToColumns[t.id];const s=e.filter((t=>!i[t.getId()]));return s}};var Gp=class extends fe{constructor(){super(...arguments);this.beanName="selectionService";this.selectedNodes=new Map;this.selectionCtx=new cu;this.rowSelectionMode=void 0}wireBeans(t){this.rowModel=t.rowModel;this.pageBoundsService=t.pageBoundsService}postConstruct(){const{gos:t,rowModel:e,onRowSelected:i}=this;this.selectionCtx.init(e);this.rowSelectionMode=Ht(t);this.groupSelectsChildren=Wt(t);this.addManagedPropertyListeners(["groupSelectsChildren","rowSelection"],(()=>{const e=Wt(t);const i=Ht(t);if(e!==this.groupSelectsChildren||i!==this.rowSelectionMode){this.groupSelectsChildren=e;this.rowSelectionMode=i;this.deselectAllRowNodes({source:"api"})}}));this.addManagedEventListeners({rowSelected:i.bind(this)})}destroy(){super.destroy();this.resetNodes();this.selectionCtx.reset()}isMultiSelect(){return this.rowSelectionMode==="multiRow"}overrideSelectionValue(t,e){if(!bp(e)){return t}const i=this.selectionCtx.getRoot();return i?i.isSelected()??false:true}setNodesSelected(t){const{newValue:e,clearSelection:i,suppressFinishActions:s,rangeSelect:r,nodes:o,event:n,source:a}=t;if(o.length===0)return 0;if(o.length>1&&!this.isMultiSelect()){P(`cannot multi select unless selection mode is 'multiRow'`);return 0}const l=this.groupSelectsChildren&&t.groupSelectsFiltered===true;const h=o.map((t=>t.footer?t.sibling:t));if(r){if(h.length>1){P("cannot range select while selecting multiple rows");return 0}const t=h[0];const i=this.overrideSelectionValue(e,a);if(!this.isMultiSelect());else if(this.selectionCtx.isInRange(t)){const e=this.selectionCtx.truncate(t);if(i){this.selectRange(e.discard,false,a)}return this.selectRange(e.keep,i,a)}else{const e=this.selectionCtx.getRoot();const s=t;if(e!==s){const e=this.selectionCtx.extend(t,this.groupSelectsChildren);if(i){this.selectRange(e.discard,false,a)}return this.selectRange(e.keep,i,a)}}}if(!s){this.selectionCtx.setRoot(h[0])}let c=0;for(let t=0;t<h.length;t++){const i=h[t];const s=l&&i.group;if(!s){const t=i.selectThisNode(e,n,a);if(t){c++}}if(this.groupSelectsChildren&&i.childrenAfterGroup?.length){c+=this.selectChildren(i,e,l,a)}}if(!s){const t=e&&(i||!this.isMultiSelect());if(t){c+=this.clearOtherNodes(h[0],a)}if(c>0){this.updateGroupsFromChildrenSelections(a);this.dispatchSelectionChanged(a)}}return c}selectRange(t,e,i){let s=0;t.forEach((t=>{if(t.group&&this.groupSelectsChildren){return}const r=t.selectThisNode(e,void 0,i);if(r){s++}}));if(s>0){this.updateGroupsFromChildrenSelections(i);this.dispatchSelectionChanged(i)}return s}selectChildren(t,e,i,s){const r=i?t.childrenAfterAggFilter:t.childrenAfterGroup;if(W(r)){return 0}return this.setNodesSelected({newValue:e,clearSelection:false,suppressFinishActions:true,groupSelectsFiltered:i,source:s,nodes:r})}getSelectedNodes(){const t=[];this.selectedNodes.forEach((e=>{if(e){t.push(e)}}));return t}getSelectedRows(){const t=[];this.selectedNodes.forEach((e=>{if(e&&e.data){t.push(e.data)}}));return t}getSelectionCount(){return this.selectedNodes.size}filterFromSelection(t){const e=new Map;this.selectedNodes.forEach(((i,s)=>{const r=i&&t(i);if(r){e.set(s,i)}}));this.selectedNodes=e}updateGroupsFromChildrenSelections(t,e){if(!this.groupSelectsChildren){return false}if(!X(this.gos)){return false}const i=this.rowModel;const s=i.getRootNode();if(!e){e=new Lp(true,s);e.setInactive()}let r=false;e.forEachChangedNodeDepthFirst((e=>{if(e!==s){const i=e.calculateSelectedFromChildren();r=e.selectThisNode(i===null?false:i,void 0,t)||r}}));return r}clearOtherNodes(t,e){const i=new Map;let s=0;this.selectedNodes.forEach((r=>{if(r&&r.id!==t.id){const t=this.selectedNodes.get(r.id);s+=t.setSelectedParams({newValue:false,clearSelection:false,suppressFinishActions:true,source:e});if(this.groupSelectsChildren&&r.parent){i.set(r.parent.id,r.parent)}}}));i.forEach((t=>{const i=t.calculateSelectedFromChildren();t.selectThisNode(i===null?false:i,void 0,e)}));return s}onRowSelected(t){const e=t.node;if(this.groupSelectsChildren&&e.group){return}if(e.isSelected()){this.selectedNodes.set(e.id,e)}else{this.selectedNodes.delete(e.id)}}syncInRowNode(t,e){this.syncInOldRowNode(t,e);this.syncInNewRowNode(t)}syncInOldRowNode(t,e){const i=j(e)&&t.id!==e.id;if(i&&e){const i=e.id;const s=this.selectedNodes.get(i)==t;if(s){this.selectedNodes.set(e.id,e)}}}syncInNewRowNode(t){if(this.selectedNodes.has(t.id)){t.setSelectedInitialValue(true);this.selectedNodes.set(t.id,t)}else{t.setSelectedInitialValue(false)}}reset(t){const e=this.getSelectionCount();this.resetNodes();if(e){this.dispatchSelectionChanged(t)}}resetNodes(){this.selectedNodes?.clear()}getBestCostNodeSelection(){if(!X(this.gos)){return}const t=this.rowModel;const e=t.getTopLevelNodes();if(e===null){return}const i=[];function s(t){for(let e=0,r=t.length;e<r;e++){const r=t[e];if(r.isSelected()){i.push(r)}else{const t=r;if(t.group&&t.children){s(t.children)}}}}s(e);return i}isEmpty(){let t=0;this.selectedNodes.forEach((e=>{if(e){t++}}));return t===0}deselectAllRowNodes(t){const e=t=>t.selectThisNode(false,void 0,s);const i=X(this.gos);const{source:s,justFiltered:r,justCurrentPage:o}=t;if(o||r){if(!i){z("selecting just filtered only works when gridOptions.rowModelType='clientSide'");return}this.getNodesToSelect(r,o).forEach(e)}else{this.selectedNodes.forEach((t=>{if(t){e(t)}}));this.reset(s)}this.selectionCtx.reset();if(i&&this.groupSelectsChildren){this.updateGroupsFromChildrenSelections(s)}this.dispatchSelectionChanged(s)}getSelectedCounts(t,e){let i=0;let s=0;const r=t=>{if(this.groupSelectsChildren&&t.group){return}if(t.isSelected()){i++}else if(!t.selectable);else{s++}};this.getNodesToSelect(t,e).forEach(r);return{selectedCount:i,notSelectedCount:s}}getSelectAllState(t,e){const{selectedCount:i,notSelectedCount:s}=this.getSelectedCounts(t,e);if(i===0&&s===0){return false}if(i>0&&s>0){return null}return i>0}hasNodesToSelect(t=false,e=false){return this.getNodesToSelect(t,e).filter((t=>t.selectable)).length>0}getNodesToSelect(t=false,e=false){this.validateSelectAllType();const i=[];if(e){this.forEachNodeOnPage((t=>{if(!t.group){i.push(t);return}if(!t.expanded){const e=t=>{i.push(t);if(t.childrenAfterFilter?.length){t.childrenAfterFilter.forEach(e)}};e(t);return}if(!this.groupSelectsChildren){i.push(t)}}));return i}const s=this.rowModel;if(t){s.forEachNodeAfterFilter((t=>{i.push(t)}));return i}s.forEachNode((t=>{i.push(t)}));return i}forEachNodeOnPage(t){const e=this.pageBoundsService.getFirstRow();const i=this.pageBoundsService.getLastRow();for(let s=e;s<=i;s++){const e=this.rowModel.getRow(s);if(e){t(e)}}}selectAllRowNodes(t){if(Pt(this.gos)&&!Bt(this.gos)){return P(`cannot multi select unless selection mode is 'multiRow'`)}this.validateSelectAllType();const{source:e,justFiltered:i,justCurrentPage:s}=t;const r=this.getNodesToSelect(i,s);r.forEach((t=>t.selectThisNode(true,void 0,e)));this.selectionCtx.setRoot(r[0]??null);this.selectionCtx.setEndRange($t(r)??null);if(X(this.gos)&&this.groupSelectsChildren){this.updateGroupsFromChildrenSelections(e)}this.dispatchSelectionChanged(e)}getSelectionState(){const t=[];this.selectedNodes.forEach((e=>{if(e?.id){t.push(e.id)}}));return t.length?t:null}setSelectionState(t,e){if(!Array.isArray(t)){return z("Invalid selection state. When using client-side row model, the state must conform to `string[]`.")}const i=new Set(t);const s=[];this.rowModel.forEachNode((t=>{if(i.has(t.id)){s.push(t)}}));this.setNodesSelected({newValue:true,nodes:s,source:e})}dispatchSelectionChanged(t){this.eventService.dispatchEvent({type:"selectionChanged",source:t})}validateSelectAllType(){if(!X(this.gos)){throw new Error(`selectAll only available when rowModelType='clientSide', ie not ${this.rowModel.getType()}`)}}};var Hp=class extends fe{constructor(){super(...arguments);this.beanName="selectableService"}wireBeans(t){this.rowModel=t.rowModel;this.selectionService=t.selectionService}postConstruct(){this.addManagedPropertyListeners(["isRowSelectable","rowSelection"],(()=>this.updateSelectable()))}updateSelectableAfterGrouping(){this.updateSelectable(true)}updateSelectable(t=false){const{gos:e}=this;const i=it(e);const s=Gt(e);if(!i||!s){return}const r=Wt(e);const o=X(e)&&r;const n=[];const a=e=>{if(t&&!e.group){return}if(o&&e.group){const t=e.childrenAfterGroup.some((t=>t.selectable===true));e.setRowSelectable(t,true);return}const i=s?.(e)??true;e.setRowSelectable(i,true);if(!i&&e.isSelected()){n.push(e)}};if(o){const t=this.rowModel;const e=new Lp(false,t.getRootNode());e.forEachChangedNodeDepthFirst(a,true,true)}else{this.rowModel.forEachNode(a)}if(n.length){this.selectionService.setNodesSelected({nodes:n,newValue:false,source:"selectableChanged"})}if(o&&this.selectionService instanceof Gp){this.selectionService.updateGroupsFromChildrenSelections("selectableChanged")}}};var Bp=["asc","desc",null];var Vp=class extends fe{constructor(){super(...arguments);this.beanName="sortController"}wireBeans(t){this.columnModel=t.columnModel;this.funcColsService=t.funcColsService;this.showRowGroupColsService=t.showRowGroupColsService}progressSort(t,e,i){const s=this.getNextSortDirection(t);this.setSortForColumn(t,s,e,i)}setSortForColumn(t,e,i,s){if(e!=="asc"&&e!=="desc"){e=null}const r=bt(this.gos);let o=[t];if(r){if(t.getColDef().showRowGroup){const e=this.funcColsService.getSourceColumnsForGroupColumn(t);const i=e?.filter((t=>t.isSortable()));if(i){o=[t,...i]}}}o.forEach((t=>t.setSort(e,s)));const n=(i||this.gos.get("alwaysMultiSort"))&&!this.gos.get("suppressMultiSort");const a=[];if(!n){const t=this.clearSortBarTheseColumns(o,s);a.push(...t)}this.updateSortIndex(t);a.push(...o);this.dispatchSortChangedEvents(s,a)}updateSortIndex(t){const e=bt(this.gos);const i=this.showRowGroupColsService?.getShowRowGroupCol(t.getId());const s=e?i||t:t;const r=this.getColumnsWithSortingOrdered();this.columnModel.getAllCols().forEach((t=>t.setSortIndex(null)));const o=r.filter((t=>{if(e&&t.getColDef().showRowGroup){return false}return t!==s}));const n=s.getSort()?[...o,s]:o;n.forEach(((t,e)=>{t.setSortIndex(e)}))}onSortChanged(t,e){this.dispatchSortChangedEvents(t,e)}isSortActive(){const t=this.columnModel.getAllCols();const e=t.filter((t=>!!t.getSort()));return e&&e.length>0}dispatchSortChangedEvents(t,e){const i={type:"sortChanged",source:t};if(e){i.columns=e}this.eventService.dispatchEvent(i)}clearSortBarTheseColumns(t,e){const i=[];this.columnModel.getAllCols().forEach((s=>{if(!t.includes(s)){if(s.getSort()){i.push(s)}s.setSort(void 0,e)}}));return i}getNextSortDirection(t){let e;if(t.getColDef().sortingOrder){e=t.getColDef().sortingOrder}else if(this.gos.get("sortingOrder")){e=this.gos.get("sortingOrder")}else{e=Bp}if(!Array.isArray(e)||e.length<=0){P(`sortingOrder must be an array with at least one element, currently it's ${e}`);return null}const i=e.indexOf(t.getSort());const s=i<0;const r=i==e.length-1;let o;if(s||r){o=e[0]}else{o=e[i+1]}if(Bp.indexOf(o)<0){P("invalid sort type ",o);return null}return o}getIndexedSortMap(){let t=this.columnModel.getAllCols().filter((t=>!!t.getSort()));if(this.columnModel.isPivotMode()){const e=bt(this.gos);t=t.filter((t=>{const i=!!t.getAggFunc();const s=!t.isPrimary();const r=e?this.showRowGroupColsService?.getShowRowGroupCol(t.getId()):t.getColDef().showRowGroup;return i||s||r}))}const e=this.funcColsService.getRowGroupColumns().filter((t=>!!t.getSort()));const i={};t.forEach(((t,e)=>i[t.getId()]=e));t.sort(((t,e)=>{const s=t.getSortIndex();const r=e.getSortIndex();if(s!=null&&r!=null){return s-r}else if(s==null&&r==null){const s=i[t.getId()];const r=i[e.getId()];return s>r?1:-1}else if(r==null){return-1}else{return 1}}));const s=bt(this.gos)&&!!e.length;if(s){t=[...new Set(t.map((t=>this.showRowGroupColsService?.getShowRowGroupCol(t.getId())??t)))]}const r=new Map;t.forEach(((t,e)=>r.set(t,e)));if(s){e.forEach((t=>{const e=this.showRowGroupColsService.getShowRowGroupCol(t.getId());r.set(t,r.get(e))}))}return r}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort((([t,e],[i,s])=>e-s)).map((([t])=>t))}getSortModel(){return this.getColumnsWithSortingOrdered().filter((t=>t.getSort())).map((t=>({sort:t.getSort(),colId:t.getId()})))}getSortOptions(){return this.getColumnsWithSortingOrdered().filter((t=>t.getSort())).map((t=>({sort:t.getSort(),column:t})))}canColumnDisplayMixedSort(t){const e=bt(this.gos);const i=!!t.getColDef().showRowGroup;return e&&i}getDisplaySortForColumn(t){const e=this.funcColsService.getSourceColumnsForGroupColumn(t);if(!this.canColumnDisplayMixedSort(t)||!e?.length){return t.getSort()}const i=t.getColDef().field!=null||!!t.getColDef().valueGetter;const s=i?[t,...e]:e;const r=s[0].getSort();const o=s.every((t=>t.getSort()==r));if(!o){return"mixed"}return r}getDisplaySortIndexForColumn(t){return this.getIndexedSortMap().get(t)}};var jp=class extends fe{constructor(){super(...arguments);this.beanName="syncService";this.waitingForColumns=false}wireBeans(t){this.ctrlsService=t.ctrlsService;this.columnModel=t.columnModel;this.rowModel=t.rowModel}postConstruct(){this.addManagedPropertyListener("columnDefs",(t=>this.setColumnDefs(t)))}start(){this.ctrlsService.whenReady(this,(()=>{const t=this.gos.get("columnDefs");if(t){this.setColumnsAndData(t)}else{this.waitingForColumns=true}this.gridReady()}))}setColumnsAndData(t){this.columnModel.setColumnDefs(t??[],"gridInitializing");this.rowModel.start()}gridReady(){this.eventService.dispatchEvent({type:"gridReady"});const t=this.gos.isModuleRegistered("@ag-grid-enterprise/core");if(this.gos.get("debug")){F(`initialised successfully, enterprise = ${t}`)}}setColumnDefs(t){const e=this.gos.get("columnDefs");if(!e){return}if(this.waitingForColumns){this.waitingForColumns=false;this.setColumnsAndData(e);return}this.columnModel.setColumnDefs(e,$e(t.source))}};var Wp="paste";var Up=class extends fe{constructor(){super(...arguments);this.beanName="changeDetectionService"}wireBeans(t){this.rowModel=t.rowModel;this.rowRenderer=t.rowRenderer}postConstruct(){if(X(this.gos)){this.clientSideRowModel=this.rowModel}this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this)})}onCellValueChanged(t){if(t.source===Wp){return}this.doChangeDetection(t.node,t.column)}doChangeDetection(t,e){if(this.gos.get("suppressChangeDetection")){return}const i=[t];if(this.clientSideRowModel&&!t.isRowPinned()){const s=this.gos.get("aggregateOnlyChangedColumns");const r=new Lp(s,this.clientSideRowModel.getRootNode());r.addParentNode(t.parent,[e]);this.clientSideRowModel.doAggregate(r);r.forEachChangedNodeDepthFirst((t=>{i.push(t)}))}this.rowRenderer.refreshCells({rowNodes:i})}};var $p=class extends fe{constructor(){super(...arguments);this.beanName="expressionService";this.expressionToFunctionCache={}}evaluate(t,e){if(typeof t==="string"){return this.evaluateExpression(t,e)}else{z("value should be either a string or a function",t)}}evaluateExpression(t,e){try{const i=this.createExpressionFunction(t);const s=i(e.value,e.context,e.oldValue,e.newValue,e.value,e.node,e.data,e.colDef,e.rowIndex,e.api,e.getValue,e.column,e.columnGroup);return s}catch(i){F("Processing of the expression failed");F("Expression = ",t);F("Params = ",e);F("Exception = ",i);return null}}createExpressionFunction(t){if(this.expressionToFunctionCache[t]){return this.expressionToFunctionCache[t]}const e=this.createFunctionBody(t);const i=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, getValue, column, columnGroup",e);this.expressionToFunctionCache[t]=i;return i}createFunctionBody(t){if(t.indexOf("return")>=0){return t}else{return"return "+t+";"}}};var Qp=class extends fe{constructor(){super(...arguments);this.beanName="valueCache";this.cacheVersion=0}postConstruct(){this.active=this.gos.get("valueCache");this.neverExpires=this.gos.get("valueCacheNeverExpires")}onDataChanged(){if(this.neverExpires){return}this.expire()}expire(){this.cacheVersion++}setValue(t,e,i){if(this.active){if(t.__cacheVersion!==this.cacheVersion){t.__cacheVersion=this.cacheVersion;t.__cacheData={}}t.__cacheData[e]=i}}getValue(t,e){if(!this.active||t.__cacheVersion!==this.cacheVersion){return void 0}return t.__cacheData[e]}};var Kp=class extends fe{constructor(){super(...arguments);this.beanName="valueService";this.initialised=false;this.isSsrm=false}wireBeans(t){this.expressionService=t.expressionService;this.columnModel=t.columnModel;this.valueCache=t.valueCache;this.dataTypeService=t.dataTypeService}postConstruct(){if(!this.initialised){this.init()}}init(){this.isSsrm=tt(this.gos);this.cellExpressions=this.gos.get("enableCellExpressions");this.isTreeData=this.gos.get("treeData");this.initialised=true;const t=t=>this.callColumnCellValueChangedHandler(t);const e=st(this.gos);this.eventService.addEventListener("cellValueChanged",t,e);this.addDestroyFunc((()=>this.eventService.removeEventListener("cellValueChanged",t,e)));this.addManagedPropertyListener("treeData",(t=>this.isTreeData=t.currentValue))}getValueForDisplay(t,e){const i=e.leafGroup&&this.columnModel.isPivotMode();const s=e.group&&e.expanded&&!e.footer&&!i;const r=this.gos.get("groupSuppressBlankHeader");if(!s||r){return this.getValue(t,e)}let o=false;const n=this.gos.get("groupTotalRow")??this.gos.get("groupIncludeFooter");if(typeof n!=="function"){o=!!n}else{const t=this.gos.getCallback("groupTotalRow")??this.gos.getCallback("groupIncludeFooter");o=!!t({node:this})}const a=s&&o;return this.getValue(t,e,false,a)}getValue(t,e,i=false,s=false){if(!this.initialised){this.init()}if(!e){return}const r=t.getColDef();const o=r.field;const n=t.getColId();const a=e.data;let l;const h=e.groupData&&e.groupData[n]!==void 0;const c=!s&&e.aggData&&e.aggData[n]!==void 0;const u=this.isSsrm&&s&&!!t.getColDef().aggFunc;const d=this.isSsrm&&e.footer&&e.field&&(t.getColDef().showRowGroup===true||t.getColDef().showRowGroup===e.field);if(i&&r.filterValueGetter){l=this.executeFilterValueGetter(r.filterValueGetter,a,t,e)}else if(this.isTreeData&&c){l=e.aggData[n]}else if(this.isTreeData&&r.valueGetter){l=this.executeValueGetter(r.valueGetter,a,t,e)}else if(this.isTreeData&&o&&a){l=Ae(a,o,t.isFieldContainsDots())}else if(h){l=e.groupData[n]}else if(c){l=e.aggData[n]}else if(r.valueGetter){l=this.executeValueGetter(r.valueGetter,a,t,e)}else if(d){l=Ae(a,e.field,t.isFieldContainsDots())}else if(o&&a&&!u){l=Ae(a,o,t.isFieldContainsDots())}if(this.cellExpressions&&typeof l==="string"&&l.indexOf("=")===0){const i=l.substring(1);l=this.executeValueGetter(i,a,t,e)}if(l==null){const i=this.getOpenedGroup(e,t);if(i!=null){return i}}return l}parseValue(t,e,i,s){const r=t.getColDef();const o=r.valueParser;if(j(o)){const n=this.gos.addGridCommonParams({node:e,data:e?.data,oldValue:s,newValue:i,colDef:r,column:t});if(typeof o==="function"){return o(n)}return this.expressionService.evaluate(o,n)}return i}getDeleteValue(t,e){if(j(t.getColDef().valueParser)){return this.parseValue(t,e,"",this.getValueForDisplay(t,e))??null}return null}formatValue(t,e,i,s,r=true){let o=null;let n;const a=t.getColDef();if(s){n=s}else if(r){n=a.valueFormatter}if(n){const s=this.gos.addGridCommonParams({value:i,node:e,data:e?e.data:null,colDef:a,column:t});if(typeof n==="function"){o=n(s)}else{o=this.expressionService.evaluate(n,s)}}else if(a.refData){return a.refData[i]||""}if(o==null&&Array.isArray(i)){o=i.join(", ")}return o}getOpenedGroup(t,e){if(!this.gos.get("showOpenedGroup")){return}const i=e.getColDef();if(!i.showRowGroup){return}const s=e.getColDef().showRowGroup;let r=t.parent;while(r!=null){if(r.rowGroupColumn&&(s===true||s===r.rowGroupColumn.getColId())){return r.key}r=r.parent}return void 0}setValue(t,e,i,s){const r=this.columnModel.getColDefCol(e);if(!t||!r){return false}if(W(t.data)){t.data={}}const{field:o,valueSetter:n}=r.getColDef();if(W(o)&&W(n)){P(`you need either field or valueSetter set on colDef for editing to work`);return false}if(this.dataTypeService&&!this.dataTypeService.checkType(r,i)){P(`Data type of the new value does not match the cell data type of the column`);return false}const a=this.gos.addGridCommonParams({node:t,data:t.data,oldValue:this.getValue(r,t),newValue:i,colDef:r.getColDef(),column:r});a.newValue=i;let l;if(j(n)){if(typeof n==="function"){l=n(a)}else{l=this.expressionService.evaluate(n,a)}}else{l=this.setValueUsingField(t.data,o,i,r.isFieldContainsDots())}if(l===void 0){l=true}if(!l){return false}t.resetQuickFilterAggregateText();this.valueCache.onDataChanged();const h=this.getValue(r,t);this.eventService.dispatchEvent({type:"cellValueChanged",event:null,rowIndex:t.rowIndex,rowPinned:t.rowPinned,column:a.column,colDef:a.colDef,data:t.data,node:t,oldValue:a.oldValue,newValue:h,value:h,source:s});return true}callColumnCellValueChangedHandler(t){const e=t.colDef.onCellValueChanged;if(typeof e==="function"){this.getFrameworkOverrides().wrapOutgoing((()=>{e({node:t.node,data:t.data,oldValue:t.oldValue,newValue:t.newValue,colDef:t.colDef,column:t.column,api:t.api,context:t.context})}))}}setValueUsingField(t,e,i,s){if(!e){return false}let r=false;if(!s){r=t[e]===i;if(!r){t[e]=i}}else{const s=e.split(".");let o=t;while(s.length>0&&o){const t=s.shift();if(s.length===0){r=o[t]===i;if(!r){o[t]=i}}else{o=o[t]}}}return!r}executeFilterValueGetter(t,e,i,s){const r=this.gos.addGridCommonParams({data:e,node:s,column:i,colDef:i.getColDef(),getValue:this.getValueCallback.bind(this,s)});if(typeof t==="function"){return t(r)}return this.expressionService.evaluate(t,r)}executeValueGetter(t,e,i,s){const r=i.getColId();const o=this.valueCache.getValue(s,r);if(o!==void 0){return o}const n=this.gos.addGridCommonParams({data:e,node:s,column:i,colDef:i.getColDef(),getValue:this.getValueCallback.bind(this,s)});let a;if(typeof t==="function"){a=t(n)}else{a=this.expressionService.evaluate(t,n)}this.valueCache.setValue(s,r,a);return a}getValueCallback(t,e){const i=this.columnModel.getColDefCol(e);if(i){return this.getValue(i,t)}return null}getKeyForNode(t,e){const i=this.getValue(t,e);const s=t.getColDef().keyCreator;let r=i;if(s){const o=this.gos.addGridCommonParams({value:i,colDef:t.getColDef(),column:t,node:e,data:e.data});r=s(o)}if(typeof r==="string"||r==null){return r}r=String(r);if(r==="[object Object]"){P("a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")}return r}};var Yp=class t{static applyGlobalGridOptions(e){if(!t.gridOptions){return e}let i={};Te(i,t.gridOptions,true,true);if(t.mergeStrategy==="deep"){Te(i,e,true,true)}else{i={...i,...e}}if(t.gridOptions.context){i.context=t.gridOptions.context}if(e.context){if(t.mergeStrategy==="deep"&&i.context){Te(e.context,i.context,true,true)}i.context=e.context}return i}};Yp.gridOptions=void 0;Yp.mergeStrategy="shallow";var qp=Yp;function Zp(t,e,i){if(!e){z("No gridOptions provided to createGrid");return{}}const s=(new Jp).create(t,e,(e=>{const i=new ed(t);e.createBean(i)}),void 0,i);if(!Object.isFrozen(e)&&true){const t="https://ag-grid.com/javascript-data-grid/grid-interface/#grid-api";Object.defineProperty(e,"api",{get:()=>{z(`gridOptions.api is no longer supported. See ${t}.`);return void 0},configurable:true})}return s}var _p=1;var Jp=class{create(t,e,i,s,r){const o=qp.applyGlobalGridOptions(e);const n=xp(o);const a=n.gridId??String(_p++);const l=this.getRegisteredModules(r,a);const h=this.createBeansList(n.rowModelType,l,a);const c=this.createProvidedBeans(t,n,r);if(!h){z("Failed to create grid.");return void 0}const u={providedBeanInstances:c,beanClasses:h,gridId:a,beanInitComparator:Lu,beanDestroyComparator:Gu,derivedBeans:[Ru]};const d=new xo(u);this.registerModuleUserComponents(d,l);this.registerControllers(d,l);this.registerModuleApiFunctions(d,l);i(d);d.getBean("syncService").start();if(s){s(d)}return d.getBean("gridApi")}registerControllers(t,e){const i=t.getBean("ctrlsFactory");e.forEach((t=>{if(t.controllers){t.controllers.forEach((t=>i.register(t)))}}))}getRegisteredModules(t,e){const i=t?t.modules:null;const s=yo.__getRegisteredModules(e);const r=[];const o={};const n=(t,e,i)=>{const s=e=>{if(!o[e.moduleName]){o[e.moduleName]=true;r.push(e);yo.__register(e,t,i)}};s(e);if(e.dependantModules){e.dependantModules.forEach((e=>n(t,e,i)))}};n(!!i?.length||!yo.__isPackageBased(),mp,void 0);if(i){i.forEach((t=>n(true,t,e)))}if(s){s.forEach((t=>n(!yo.__isPackageBased(),t,void 0)))}return r}registerModuleUserComponents(t,e){const i=this.extractModuleEntity(e,(t=>t.userComponents?t.userComponents:[]));const s=t.getBean("userComponentRegistry");i.forEach((({name:t,classImp:e,params:i})=>{s.registerDefaultComponent(t,e,i)}))}registerModuleApiFunctions(t,e){const i=t.getBean("apiFunctionService");e.forEach((t=>{const e=t.apiFunctions;if(e){const t=Object.keys(e);t.forEach((t=>{i?.addFunction(t,e[t])}))}}))}createProvidedBeans(t,e,i){let s=i?i.frameworkOverrides:null;if(W(s)){s=new bu}const r={gridOptions:e,eGridDiv:t,globalEventListener:i?i.globalEventListener:null,globalSyncEventListener:i?i.globalSyncEventListener:null,frameworkOverrides:s};if(i&&i.providedBeanInstances){Object.assign(r,i.providedBeanInstances)}return r}createBeansList(t="clientSide",e,i){const s=e.filter((e=>!e.rowModel||e.rowModel===t));const r={clientSide:"@ag-grid-community/client-side-row-model",infinite:"@ag-grid-community/infinite-row-model",serverSide:"@ag-grid-enterprise/server-side-row-model",viewport:"@ag-grid-enterprise/viewport-row-model"};if(!r[t]){z("Could not find row model for rowModelType = ",t);return}if(!yo.__assertRegistered(r[t],`rowModelType = '${t}'`,i)){return}const o=[Wu,Vu,Dp,vp,Mu,Kr,Au,Eu,rc,vo,Np,ic,Mp,ou,Ro,di,Zu,Sp,vu,Gp,Ue,Qa,Pp,Fp,su,$p,je,ec,Qp,Kp,eu,sc,So,Ju,tc,Ku,yu,uu,_h,Vp,Tp,Ip,Hp,Up,oc,Fu,Ep,Op,Bu,Xu,ju,Hu,jp,Ap,nc,Rp,zp,ac,_e,Pu,Xe,qe,zu,Iu,ai,Ze,oi,Tu,ni,we];const n=this.extractModuleEntity(s,(t=>t.beans?t.beans:[]));o.push(...n);const a=[];o.forEach((t=>{if(a.indexOf(t)<0){a.push(t)}}));return a}extractModuleEntity(t,e){return[].concat(...t.map(e))}};var Xp=class extends fe{constructor(){super(...arguments);this.beanName="rowModelHelperService"}wireBeans(t){this.rowModel=t.rowModel}postConstruct(){const t=this.rowModel;switch(t.getType()){case"clientSide":this.clientSideRowModel=t;break;case"infinite":this.infiniteRowModel=t;break;case"serverSide":this.serverSideRowModel=t;break}}getClientSideRowModel(){return this.clientSideRowModel}getInfiniteRowModel(){return this.infiniteRowModel}getServerSideRowModel(){return this.serverSideRowModel}};function tm(t){t.expansionService.expandAll(true)}function em(t){t.expansionService.expandAll(false)}function im(t){const e=t.rowModelHelperService?.getClientSideRowModel();const i=t.rowModelHelperService?.getServerSideRowModel();if(e){e.onRowHeightChanged()}else if(i){i.onRowHeightChanged()}}function sm(t,e,i){const s=t.rowModelHelperService?.getServerSideRowModel();if(s){if(t.funcColsService.isRowGroupEmpty()){s.setRowCount(e,i);return}z("setRowCount cannot be used while using row grouping.");return}const r=t.rowModelHelperService?.getInfiniteRowModel();if(r){r.setRowCount(e,i);return}}function rm(t){return t.rowNodeBlockLoader?.getBlockState()??{}}function om(t){return t.rowModel.isLastRowIndexKnown()}var nm=Xn({version:ta,moduleName:"@ag-grid-community/csrm-ssrm-shared-api",apiFunctions:{expandAll:tm,collapseAll:em,onRowHeightChanged:im}});var am=Xn({version:ta,moduleName:"@ag-grid-community/ssrm-infinite-shared-api",apiFunctions:{setRowCount:sm,getCacheBlockState:rm,isLastRowIndexKnown:om}});var lm=typeof global==="undefined"?{}:global;lm.HTMLElement=typeof HTMLElement==="undefined"?{}:HTMLElement;lm.HTMLButtonElement=typeof HTMLButtonElement==="undefined"?{}:HTMLButtonElement;lm.HTMLSelectElement=typeof HTMLSelectElement==="undefined"?{}:HTMLSelectElement;lm.HTMLInputElement=typeof HTMLInputElement==="undefined"?{}:HTMLInputElement;lm.Node=typeof Node==="undefined"?{}:Node;lm.MouseEvent=typeof MouseEvent==="undefined"?{}:MouseEvent;var hm="ROOT_NODE_ID";var cm=0;var um=class{constructor(t,e,i,s,r,o){this.nextId=0;this.rowCountReady=false;this.allNodesMap={};this.rootNode=t;this.gos=e;this.eventService=i;this.funcColsService=s;this.beans=o;this.selectionService=r;this.rootNode.group=true;this.rootNode.level=-1;this.rootNode.id=hm;this.rootNode.allLeafChildren=[];this.rootNode.childrenAfterGroup=[];this.rootNode.childrenAfterSort=[];this.rootNode.childrenAfterAggFilter=[];this.rootNode.childrenAfterFilter=[]}getCopyOfNodesMap(){return Pe(this.allNodesMap)}getRowNode(t){return this.allNodesMap[t]}setRowData(t){if(typeof t==="string"){P("rowData must be an array.");return}this.rowCountReady=true;this.dispatchRowDataUpdateStartedEvent(t);const e=this.rootNode;const i=this.rootNode.sibling;e.childrenAfterFilter=null;e.childrenAfterGroup=null;e.childrenAfterAggFilter=null;e.childrenAfterSort=null;e.childrenMapped=null;e.updateHasChildren();this.nextId=0;this.allNodesMap={};if(t){e.allLeafChildren=t.map(((t,e)=>this.createNode(t,this.rootNode,cm,e)))}else{e.allLeafChildren=[];e.childrenAfterGroup=[]}if(i){i.childrenAfterFilter=e.childrenAfterFilter;i.childrenAfterGroup=e.childrenAfterGroup;i.childrenAfterAggFilter=e.childrenAfterAggFilter;i.childrenAfterSort=e.childrenAfterSort;i.childrenMapped=e.childrenMapped;i.allLeafChildren=e.allLeafChildren}}updateRowData(t){this.rowCountReady=true;this.dispatchRowDataUpdateStartedEvent(t.add);const e={rowNodeTransaction:{remove:[],update:[],add:[]},rowsInserted:false};const i=[];this.executeRemove(t,e,i);this.executeUpdate(t,e,i);this.executeAdd(t,e);this.updateSelection(i,"rowDataChanged");return e}updateRowOrderFromRowData(t){const e=this.rootNode.allLeafChildren;const i=e?.length??0;const s=new Map;let r=-1;let o=-1;for(let n=0;n<i;++n){const i=e[n];const a=i.data;if(a!==t[n]){if(o<0){r=n}o=n;s.set(a,i)}}if(r<0){return false}for(let i=r;i<=o;++i){const r=s.get(t[i]);if(r!==void 0){e[i]=r;r.sourceRowIndex=i}}return true}isRowCountReady(){return this.rowCountReady}dispatchRowDataUpdateStartedEvent(t){this.eventService.dispatchEvent({type:"rowDataUpdateStarted",firstRowData:t?.length?t[0]:null})}updateSelection(t,e){const i=t.length>0;if(i){this.selectionService.setNodesSelected({newValue:false,nodes:t,suppressFinishActions:true,source:e})}this.selectionService.updateGroupsFromChildrenSelections(e);if(i){this.eventService.dispatchEvent({type:"selectionChanged",source:e})}}executeAdd(t,e){const i=t.add;if(U(i)){return}const s=this.rootNode.allLeafChildren;let r=s.length;if(typeof t.addIndex==="number"){r=this.sanitizeAddIndex(t.addIndex);if(r>0){const t=this.gos.get("treeData");if(t){for(let t=0;t<s.length;t++){const e=s[t];if(e?.rowIndex==r-1){r=t+1;break}}}}}const o=i.map(((t,e)=>this.createNode(t,this.rootNode,cm,r+e)));if(r<s.length){const t=s.slice(0,r);const i=s.slice(r,s.length);const n=t.length+o.length;for(let t=0,e=i.length;t<e;++t){i[t].sourceRowIndex=n+t}this.rootNode.allLeafChildren=[...t,...o,...i];e.rowsInserted=true}else{this.rootNode.allLeafChildren=s.concat(o)}const n=this.rootNode.sibling;if(n){n.allLeafChildren=s}e.rowNodeTransaction.add=o}sanitizeAddIndex(t){const e=this.rootNode.allLeafChildren?.length??0;if(t<0||t>=e||Number.isNaN(t)){return e}return Math.ceil(t)}executeRemove(t,{rowNodeTransaction:e},i){const{remove:s}=t;if(U(s)){return}const r={};s.forEach((t=>{const s=this.lookupRowNode(t);if(!s){return}if(s.isSelected()){i.push(s)}s.clearRowTopAndRowIndex();r[s.id]=true;delete this.allNodesMap[s.id];e.remove.push(s)}));this.rootNode.allLeafChildren=this.rootNode.allLeafChildren?.filter((t=>!r[t.id]))??null;this.rootNode.allLeafChildren?.forEach(((t,e)=>{t.sourceRowIndex=e}));const o=this.rootNode.sibling;if(o){o.allLeafChildren=this.rootNode.allLeafChildren}}executeUpdate(t,{rowNodeTransaction:e},i){const{update:s}=t;if(U(s)){return}s.forEach((t=>{const s=this.lookupRowNode(t);if(!s){return}s.updateData(t);if(!s.selectable&&s.isSelected()){i.push(s)}this.setMasterForRow(s,t,cm,false);e.update.push(s)}))}lookupRowNode(t){const e=Dt(this.gos);let i;if(e){const s=e({data:t,level:0});i=this.allNodesMap[s];if(!i){z(`could not find row id=${s}, data item was not found for this id`);return null}}else{i=this.rootNode.allLeafChildren?.find((e=>e.data===t));if(!i){z(`could not find data item as object was not found`,t);z(`Consider using getRowId to help the Grid find matching row data`);return null}}return i||null}createNode(t,e,i,s){const r=new Eo(this.beans);r.sourceRowIndex=s;r.group=false;this.setMasterForRow(r,t,i,true);if(e){r.parent=e}r.level=i;r.setDataAndId(t,this.nextId.toString());if(this.allNodesMap[r.id]){P(`duplicate node id '${r.id}' detected from getRowId callback, this could cause issues in your grid.`)}this.allNodesMap[r.id]=r;this.nextId++;return r}setMasterForRow(t,e,i,s){const r=this.gos.get("treeData");if(r){t.setMaster(false);if(s){t.expanded=false}}else{const r=this.gos.get("masterDetail");if(r){const i=this.gos.get("isRowMaster");if(i){t.setMaster(i(e))}else{t.setMaster(true)}}else{t.setMaster(false)}if(s){const e=this.funcColsService.getRowGroupColumns();const s=e?e.length:0;const r=i+s;t.expanded=t.master?this.isExpanded(r):false}}}isExpanded(t){const e=this.gos.get("groupDefaultExpanded");if(e===-1){return true}return t<e}};var dm=class extends fe{constructor(){super(...arguments);this.beanName="rowModel";this.onRowHeightChanged_debounced=L(this.onRowHeightChanged.bind(this),100);this.rowsToDisplay=[];this.hasStarted=false;this.shouldSkipSettingDataOnStart=false;this.isRefreshingModel=false;this.rowCountReady=false}wireBeans(t){this.beans=t;this.columnModel=t.columnModel;this.funcColsService=t.funcColsService;this.selectionService=t.selectionService;this.valueCache=t.valueCache;this.environment=t.environment;this.filterStage=t.filterStage;this.sortStage=t.sortStage;this.flattenStage=t.flattenStage;this.groupStage=t.groupStage;this.aggregationStage=t.aggregationStage;this.pivotStage=t.pivotStage;this.filterAggregatesStage=t.filterAggregatesStage}postConstruct(){const t=this.refreshModel.bind(this,{step:"group"});const e=!this.gos.get("suppressAnimationFrame");const i=this.refreshModel.bind(this,{step:"group",afterColumnsChanged:true,keepRenderedRows:true,animate:e});this.addManagedEventListeners({newColumnsLoaded:i,columnRowGroupChanged:t,columnValueChanged:this.onValueChanged.bind(this),columnPivotChanged:this.refreshModel.bind(this,{step:"pivot"}),filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),columnPivotModeChanged:t,gridStylesChanged:this.onGridStylesChanges.bind(this),gridReady:this.onGridReady.bind(this)});this.addPropertyListeners();this.rootNode=new Eo(this.beans);this.nodeManager=new um(this.rootNode,this.gos,this.eventService,this.funcColsService,this.selectionService,this.beans)}addPropertyListeners(){const t=new Set(["treeData","masterDetail"]);const e=new Set(["groupDefaultExpanded","groupAllowUnbalanced","initialGroupOrderComparator","groupHideOpenParents","groupDisplayType"]);const i=new Set(["excludeChildrenWhenTreeDataFiltering"]);const s=new Set(["removePivotHeaderRowWhenSingleValueColumn","pivotRowTotals","pivotColumnGroupTotals","suppressExpandablePivotGroups"]);const r=new Set(["getGroupRowAgg","alwaysAggregateAtRootLevel","groupIncludeTotalFooter","suppressAggFilteredOnly","grandTotalRow"]);const o=new Set(["postSortRows","groupDisplayType","accentedSort"]);const n=new Set([]);const a=new Set(["groupRemoveSingleChildren","groupRemoveLowestSingleChildren","groupIncludeFooter","groupTotalRow"]);const l=[...t,...e,...i,...s,...s,...r,...o,...n,...a];this.addManagedPropertyListeners(l,(l=>{const h=l.changeSet?.properties;if(!h){return}const c=t=>h.some((e=>t.has(e)));if(c(t)){this.setRowData(this.rootNode.allLeafChildren.map((t=>t.data)));return}if(c(e)){this.refreshModel({step:"group"});return}if(c(i)){this.refreshModel({step:"filter"});return}if(c(s)){this.refreshModel({step:"pivot"});return}if(c(r)){this.refreshModel({step:"aggregate"});return}if(c(o)){this.refreshModel({step:"sort"});return}if(c(n)){this.refreshModel({step:"filter_aggregates"});return}if(c(a)){this.refreshModel({step:"map"})}}));this.addManagedPropertyListener("rowHeight",(()=>this.resetRowHeights()))}start(){this.hasStarted=true;if(this.shouldSkipSettingDataOnStart){this.dispatchUpdateEventsAndRefresh()}else{this.setInitialData()}}setInitialData(){const t=this.gos.get("rowData");if(t){this.shouldSkipSettingDataOnStart=true;this.setRowData(t)}}ensureRowHeightsValid(t,e,i,s){let r;let o=false;do{r=false;const n=this.getRowIndexAtPixel(t);const a=this.getRowIndexAtPixel(e);const l=Math.max(n,i);const h=Math.min(a,s);for(let t=l;t<=h;t++){const e=this.getRow(t);if(e.rowHeightEstimated){const t=nt(this.gos,e);e.setRowHeight(t.height);r=true;o=true}}if(r){this.setRowTopAndRowIndex()}}while(r);return o}setRowTopAndRowIndex(){const t=this.environment.getDefaultRowHeight();let e=0;const i=new Set;const s=et(this.gos,"normal");for(let r=0;r<this.rowsToDisplay.length;r++){const o=this.rowsToDisplay[r];if(o.id!=null){i.add(o.id)}if(o.rowHeight==null){const e=nt(this.gos,o,s,t);o.setRowHeight(e.height,e.estimated)}o.setRowTop(e);o.setRowIndex(r);e+=o.rowHeight}return i}clearRowTopAndRowIndex(t,e){const i=t.isActive();const s=t=>{if(t&&t.id!=null&&!e.has(t.id)){t.clearRowTopAndRowIndex()}};const r=t=>{s(t);s(t.detailNode);s(t.sibling);if(t.hasChildren()){if(t.childrenAfterGroup){const e=t.level==-1;const s=i&&!e&&!t.expanded;if(!s){t.childrenAfterGroup.forEach(r)}}}};r(this.rootNode)}ensureRowsAtPixel(t,e,i=0){const s=this.getRowIndexAtPixel(e);const r=this.getRow(s);const o=!this.gos.get("suppressAnimationFrame");if(r===t[0]){return false}const n=this.rootNode.allLeafChildren;t.forEach((t=>{qt(n,t)}));t.forEach(((t,e)=>{Jt(n,t,Math.max(s+i,0)+e)}));t.forEach(((t,e)=>{t.sourceRowIndex=e}));this.refreshModel({step:"group",keepRenderedRows:true,keepEditingRows:true,animate:o,rowNodesOrderChanged:true});return true}highlightRowAtPixel(t,e){const i=e!=null?this.getRowIndexAtPixel(e):null;const s=i!=null?this.getRow(i):null;if(!s||!t||e==null){this.clearHighlightedRow();return}const r=this.getHighlightPosition(e,s);const o=this.isHighlightingCurrentPosition(t,s,r);const n=this.lastHighlightedRow!=null&&this.lastHighlightedRow!==s;if(o||n){this.clearHighlightedRow();if(o){return}}s.setHighlighted(r);this.lastHighlightedRow=s}getHighlightPosition(t,e){if(!e){const i=this.getRowIndexAtPixel(t);e=this.getRow(i||0);if(!e){return 1}}const{rowTop:i,rowHeight:s}=e;return t-i<s/2?0:1}getLastHighlightedRowNode(){return this.lastHighlightedRow}isHighlightingCurrentPosition(t,e,i){if(t===e){return true}const s=i===0?-1:1;if(this.getRow(e.rowIndex+s)===t){return true}return false}clearHighlightedRow(){if(this.lastHighlightedRow){this.lastHighlightedRow.setHighlighted(null);this.lastHighlightedRow=null}}isLastRowIndexKnown(){return true}getRowCount(){if(this.rowsToDisplay){return this.rowsToDisplay.length}return 0}getTopLevelRowCount(){if(this.rowsToDisplay.length===0){return 0}const t=this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode;if(t){return 1}const e=this.rootNode.childrenAfterAggFilter;const i=this.rootNode.sibling?1:0;return(e?e.length:0)+i}getTopLevelRowDisplayedIndex(t){const e=this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode;if(e){return t}let i=t;if(this.rowsToDisplay[0].footer){if(t===0){return 0}i-=1}const s=this.rowsToDisplay[this.rowsToDisplay.length-1];const r=i>=this.rootNode.childrenAfterSort.length;if(s.footer&&r){return s.rowIndex}let o=this.rootNode.childrenAfterSort[i];if(this.gos.get("groupHideOpenParents")){while(o.expanded&&o.childrenAfterSort&&o.childrenAfterSort.length>0){o=o.childrenAfterSort[0]}}return o.rowIndex}getRowBounds(t){if(W(this.rowsToDisplay)){return null}const e=this.rowsToDisplay[t];if(e){return{rowTop:e.rowTop,rowHeight:e.rowHeight}}return null}onRowGroupOpened(){const t=vt(this.gos);this.refreshModel({step:"map",keepRenderedRows:true,animate:t})}onFilterChanged(t){if(t.afterDataChange){return}const e=vt(this.gos);const i=t.columns.length===0||t.columns.some((t=>t.isPrimary()));const s=i?"filter":"filter_aggregates";this.refreshModel({step:s,keepRenderedRows:true,animate:e})}onSortChanged(){const t=vt(this.gos);this.refreshModel({step:"sort",keepRenderedRows:true,animate:t,keepEditingRows:true})}getType(){return"clientSide"}onValueChanged(){if(this.columnModel.isPivotActive()){this.refreshModel({step:"pivot"})}else{this.refreshModel({step:"aggregate"})}}createChangePath(t){const e=U(t);const i=new Lp(false,this.rootNode);if(e){i.setInactive()}return i}isSuppressModelUpdateAfterUpdateTransaction(t){if(!this.gos.get("suppressModelUpdateAfterUpdateTransaction")){return false}if(t.rowNodeTransactions==null){return false}const e=t.rowNodeTransactions.filter((t=>t.add!=null&&t.add.length>0||t.remove!=null&&t.remove.length>0));const i=e==null||e.length==0;return i}buildRefreshModelParams(t){let e="group";const i={everything:"group",group:"group",filter:"filter",map:"map",aggregate:"aggregate",filter_aggregates:"filter_aggregates",sort:"sort",pivot:"pivot",nothing:"nothing"};if(j(t)){e=i[t]}if(W(e)){z(`invalid step ${t}, available steps are ${Object.keys(i).join(", ")}`);return void 0}const s=!this.gos.get("suppressAnimationFrame");const r={step:e,keepRenderedRows:true,keepEditingRows:true,animate:s};return r}refreshModel(t){if(!this.hasStarted||this.isRefreshingModel||this.columnModel.isChangeEventsDispatching()){return}const e=typeof t==="object"&&"step"in t?t:this.buildRefreshModelParams(t);if(!e){return}if(this.isSuppressModelUpdateAfterUpdateTransaction(e)){return}const i=this.createChangePath(e.rowNodeTransactions);this.isRefreshingModel=true;switch(e.step){case"group":this.doRowGrouping(e.rowNodeTransactions,i,!!e.rowNodesOrderChanged,!!e.afterColumnsChanged);case"filter":this.doFilter(i);case"pivot":this.doPivot(i);case"aggregate":this.doAggregate(i);case"filter_aggregates":this.doFilterAggregates(i);case"sort":this.doSort(e.rowNodeTransactions,i);case"map":this.doRowsToDisplay()}const s=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(i,s);this.isRefreshingModel=false;this.eventService.dispatchEvent({type:"modelUpdated",animate:e.animate,keepRenderedRows:e.keepRenderedRows,newData:e.newData,newPage:false,keepUndoRedoStack:e.keepUndoRedoStack})}isEmpty(){const t=W(this.rootNode.allLeafChildren)||this.rootNode.allLeafChildren.length===0;return W(this.rootNode)||t||!this.columnModel.isReady()}isRowsToRender(){return j(this.rowsToDisplay)&&this.rowsToDisplay.length>0}getNodesInRangeForSelection(t,e){let i=false;let s=false;const r=[];const o=Wt(this.gos);this.forEachNodeAfterFilterAndSort((n=>{if(s){return}if(i){if(n===e||n===t){s=true;if(n.group&&o){r.push(...n.allLeafChildren);return}}}if(!i){if(n!==e&&n!==t){return}i=true}const a=!n.group||!o;if(a){r.push(n);return}}));return r}setDatasource(t){z("should never call setDatasource on clientSideRowController")}getTopLevelNodes(){return this.rootNode?this.rootNode.childrenAfterGroup:null}getRootNode(){return this.rootNode}getRow(t){return this.rowsToDisplay[t]}isRowPresent(t){return this.rowsToDisplay.indexOf(t)>=0}getRowIndexAtPixel(t){if(this.isEmpty()||this.rowsToDisplay.length===0){return-1}let e=0;let i=this.rowsToDisplay.length-1;if(t<=0){return 0}const s=$t(this.rowsToDisplay);if(s.rowTop<=t){return this.rowsToDisplay.length-1}let r=-1;let o=-1;while(true){const s=Math.floor((e+i)/2);const n=this.rowsToDisplay[s];if(this.isRowInPixel(n,t)){return s}if(n.rowTop<t){e=s+1}else if(n.rowTop>t){i=s-1}const a=r===e&&o===i;if(a){return s}r=e;o=i}}isRowInPixel(t,e){const i=t.rowTop;const s=t.rowTop+t.rowHeight;const r=i<=e&&s>e;return r}forEachLeafNode(t){if(this.rootNode.allLeafChildren){this.rootNode.allLeafChildren.forEach(((e,i)=>t(e,i)))}}forEachNode(t,e=false){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterGroup||[]],callback:t,recursionType:0,index:0,includeFooterNodes:e})}forEachNodeAfterFilter(t,e=false){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterAggFilter||[]],callback:t,recursionType:1,index:0,includeFooterNodes:e})}forEachNodeAfterFilterAndSort(t,e=false){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterSort||[]],callback:t,recursionType:2,index:0,includeFooterNodes:e})}forEachPivotNode(t,e=false){this.recursivelyWalkNodesAndCallback({nodes:[this.rootNode],callback:t,recursionType:3,index:0,includeFooterNodes:e})}recursivelyWalkNodesAndCallback(t){const{nodes:e,callback:i,recursionType:s,includeFooterNodes:r}=t;let{index:o}=t;const n=t=>{const s=e[0]?.parent;if(!s)return;const n=r&&Ct(this.gos);const a=xt(this.gos);const l=r&&a({node:s});const h=s===this.rootNode;if(h){if(n===t){s.createFooter();i(s.sibling,o++)}return}if(l===t){s.createFooter();i(s.sibling,o++)}};n("top");for(let t=0;t<e.length;t++){const n=e[t];i(n,o++);if(n.hasChildren()&&!n.footer){let t=null;switch(s){case 0:t=n.childrenAfterGroup;break;case 1:t=n.childrenAfterAggFilter;break;case 2:t=n.childrenAfterSort;break;case 3:t=!n.leafGroup?n.childrenAfterSort:null;break}if(t){o=this.recursivelyWalkNodesAndCallback({nodes:[...t],callback:i,recursionType:s,index:o,includeFooterNodes:r})}}}n("bottom");return o}doAggregate(t){this.aggregationStage?.execute({rowNode:this.rootNode,changedPath:t})}doFilterAggregates(t){if(this.filterAggregatesStage){this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath:t})}else{this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter}}expandOrCollapseAll(t){const e=this.gos.get("treeData");const i=this.columnModel.isPivotActive();const s=r=>{if(!r){return}r.forEach((r=>{const o=()=>{r.expanded=t;s(r.childrenAfterGroup)};if(e){const t=j(r.childrenAfterGroup);if(t){o()}return}if(i){const t=!r.leafGroup;if(t){o()}return}const n=r.group;if(n){o()}}))};if(this.rootNode){s(this.rootNode.childrenAfterGroup)}this.refreshModel({step:"map"});this.eventService.dispatchEvent({type:"expandOrCollapseAll",source:t?"expandAll":"collapseAll"})}doSort(t,e){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:t,changedPath:e})}doRowGrouping(t,e,i,s){if(this.groupStage){if(t){this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:t,rowNodesOrderChanged:i,changedPath:e})}else{this.groupStage.execute({rowNode:this.rootNode,changedPath:e,afterColumnsChanged:s})}if(Wt(this.gos)){const t=this.selectionService.updateGroupsFromChildrenSelections("rowGroupChanged",e);if(t){this.eventService.dispatchEvent({type:"selectionChanged",source:"rowGroupChanged"})}}}else{const t=this.rootNode;const e=t.sibling;t.childrenAfterGroup=t.allLeafChildren;if(e){e.childrenAfterGroup=t.childrenAfterGroup}this.rootNode.updateHasChildren()}if(this.nodeManager.isRowCountReady()){this.rowCountReady=true;this.eventService.dispatchEventOnce({type:"rowCountReady"})}}doFilter(t){this.filterStage.execute({rowNode:this.rootNode,changedPath:t})}doPivot(t){this.pivotStage?.execute({rowNode:this.rootNode,changedPath:t})}getNodeManager(){return this.nodeManager}getRowNode(t){const e=typeof t=="string"&&t.indexOf(Eo.ID_PREFIX_ROW_GROUP)==0;if(e){let e=void 0;this.forEachNode((i=>{if(i.id===t){e=i}}));return e}return this.nodeManager.getRowNode(t)}setRowData(t){this.selectionService.reset("rowDataChanged");this.nodeManager.setRowData(t);if(this.hasStarted){this.dispatchUpdateEventsAndRefresh()}}dispatchUpdateEventsAndRefresh(){this.eventService.dispatchEvent({type:"rowDataUpdated"});this.refreshModel({step:"group",newData:true})}batchUpdateRowData(t,e){if(this.applyAsyncTransactionsTimeout==null){this.rowDataTransactionBatch=[];const t=this.gos.get("asyncTransactionWaitMillis");this.applyAsyncTransactionsTimeout=window.setTimeout((()=>{if(this.isAlive()){this.executeBatchUpdateRowData()}}),t)}this.rowDataTransactionBatch.push({rowDataTransaction:t,callback:e})}flushAsyncTransactions(){if(this.applyAsyncTransactionsTimeout!=null){clearTimeout(this.applyAsyncTransactionsTimeout);this.executeBatchUpdateRowData()}}executeBatchUpdateRowData(){this.valueCache.onDataChanged();const t=[];const e=[];let i=false;this.rowDataTransactionBatch?.forEach((s=>{const{rowNodeTransaction:r,rowsInserted:o}=this.nodeManager.updateRowData(s.rowDataTransaction);if(o){i=true}e.push(r);if(s.callback){t.push(s.callback.bind(null,r))}}));this.commonUpdateRowData(e,i);if(t.length>0){window.setTimeout((()=>{t.forEach((t=>t()))}),0)}if(e.length>0){this.eventService.dispatchEvent({type:"asyncTransactionsFlushed",results:e})}this.rowDataTransactionBatch=null;this.applyAsyncTransactionsTimeout=void 0}updateRowData(t){this.valueCache.onDataChanged();const{rowNodeTransaction:e,rowsInserted:i}=this.nodeManager.updateRowData(t);this.commonUpdateRowData([e],i);return e}afterImmutableDataChange(t,e){this.commonUpdateRowData([t],e)}commonUpdateRowData(t,e){if(!this.hasStarted){return}const i=!this.gos.get("suppressAnimationFrame");this.eventService.dispatchEvent({type:"rowDataUpdated"});this.refreshModel({step:"group",rowNodeTransactions:t,rowNodesOrderChanged:e,keepRenderedRows:true,keepEditingRows:true,animate:i})}doRowsToDisplay(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})}onRowHeightChanged(){this.refreshModel({step:"map",keepRenderedRows:true,keepEditingRows:true,keepUndoRedoStack:true})}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}resetRowHeights(){const t=this.resetRowHeightsForAllRowNodes();this.rootNode.setRowHeight(this.rootNode.rowHeight,true);if(this.rootNode.sibling){this.rootNode.sibling.setRowHeight(this.rootNode.sibling.rowHeight,true)}if(t){this.onRowHeightChanged()}}resetRowHeightsForAllRowNodes(){let t=false;this.forEachNode((e=>{e.setRowHeight(e.rowHeight,true);const i=e.detailNode;if(i){i.setRowHeight(i.rowHeight,true)}if(e.sibling){e.sibling.setRowHeight(e.sibling.rowHeight,true)}t=true}));return t}onGridStylesChanges(t){if(t.rowHeightChanged){if(this.columnModel.isAutoRowHeightActive()){return}this.resetRowHeights()}}onGridReady(){if(this.hasStarted){return}this.setInitialData()}isRowDataLoaded(){return this.rowCountReady}destroy(){super.destroy();this.clearHighlightedRow()}};function gm(t){t.expansionService.onGroupExpandedOrCollapsed()}function fm(t,e){t.rowModelHelperService?.getClientSideRowModel()?.refreshModel(e)}function pm(t){return t.rowModelHelperService?.getClientSideRowModel()?.isEmpty()??true}function mm(t,e){t.rowModelHelperService?.getClientSideRowModel()?.forEachLeafNode(e)}function vm(t,e){t.rowModelHelperService?.getClientSideRowModel()?.forEachNodeAfterFilter(e)}function wm(t,e){t.rowModelHelperService?.getClientSideRowModel()?.forEachNodeAfterFilterAndSort(e)}function bm(t){if(t.columnModel.isAutoRowHeightActive()){P("calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.");return}t.rowModelHelperService?.getClientSideRowModel()?.resetRowHeights()}function ym(t,e){return t.frameworkOverrides.wrapIncoming((()=>t.rowModelHelperService?.getClientSideRowModel()?.updateRowData(e)))}function Cm(t,e,i){t.frameworkOverrides.wrapIncoming((()=>t.rowModelHelperService?.getClientSideRowModel()?.batchUpdateRowData(e,i)))}function xm(t){t.frameworkOverrides.wrapIncoming((()=>t.rowModelHelperService?.getClientSideRowModel()?.flushAsyncTransactions()))}function km(t){return t.selectionService.getBestCostNodeSelection()}var Sm=class extends fe{constructor(){super(...arguments);this.beanName="filterStage"}wireBeans(t){this.filterManager=t.filterManager}execute(t){const{changedPath:e}=t;this.filter(e)}filter(t){const e=!!this.filterManager?.isChildFilterPresent();this.filterNodes(e,t)}filterNodes(t,e){const i=(e,i)=>{if(e.hasChildren()){if(t&&!i){e.childrenAfterFilter=e.childrenAfterGroup.filter((t=>{const e=t.childrenAfterFilter&&t.childrenAfterFilter.length>0;const i=t.data&&this.filterManager.doesRowPassFilter({rowNode:t});return e||i}))}else{e.childrenAfterFilter=e.childrenAfterGroup}}else{e.childrenAfterFilter=e.childrenAfterGroup}if(e.sibling){e.sibling.childrenAfterFilter=e.childrenAfterFilter}};if(this.doingTreeDataFiltering()){const t=(e,s)=>{if(e.childrenAfterGroup){for(let r=0;r<e.childrenAfterGroup.length;r++){const o=e.childrenAfterGroup[r];const n=s||this.filterManager.doesRowPassFilter({rowNode:o});if(o.childrenAfterGroup){t(e.childrenAfterGroup[r],n)}else{i(o,n)}}}i(e,s)};const s=e=>t(e,false);e.executeFromRootNode(s)}else{const t=t=>i(t,false);e.forEachChangedNodeDepthFirst(t,true)}}doingTreeDataFiltering(){return this.gos.get("treeData")&&!this.gos.get("excludeChildrenWhenTreeDataFiltering")}};var Dm=class extends fe{constructor(){super(...arguments);this.beanName="flattenStage"}wireBeans(t){this.beans=t;this.columnModel=t.columnModel}execute(t){const e=t.rowNode;const i=[];const s=this.columnModel.isPivotMode();const r=s&&e.leafGroup;const o=r?[e]:e.childrenAfterSort;const n=this.getFlattenDetails();this.recursivelyAddToRowsToDisplay(n,o,i,s,0);const a=i.length>0;const l=!r&&a&&n.grandTotalRow;if(l){e.createFooter();const t=n.grandTotalRow==="top";this.addRowNodeToRowsToDisplay(n,e.sibling,i,0,t)}return i}getFlattenDetails(){const t=this.gos.get("groupRemoveSingleChildren");const e=!t&&this.gos.get("groupRemoveLowestSingleChildren");return{groupRemoveLowestSingleChildren:e,groupRemoveSingleChildren:t,isGroupMultiAutoColumn:kt(this.gos),hideOpenParents:this.gos.get("groupHideOpenParents"),grandTotalRow:Ct(this.gos),groupTotalRow:xt(this.gos)}}recursivelyAddToRowsToDisplay(t,e,i,s,r){if(U(e)){return}for(let o=0;o<e.length;o++){const n=e[o];const a=n.hasChildren();const l=s&&!a;const h=t.groupRemoveSingleChildren&&a&&n.childrenAfterGroup.length===1;const c=t.groupRemoveLowestSingleChildren&&a&&n.leafGroup&&n.childrenAfterGroup.length===1;const u=s&&n.leafGroup;const d=t.hideOpenParents&&n.expanded&&!n.master&&!u;const g=!l&&!d&&!h&&!c;if(g){this.addRowNodeToRowsToDisplay(t,n,i,r)}if(s&&n.leafGroup){continue}if(a){const e=h||c;if(n.expanded||e){const o=t.groupTotalRow({node:n});if(!o){n.destroyFooter()}const a=e?r:r+1;if(o==="top"){n.createFooter();this.addRowNodeToRowsToDisplay(t,n.sibling,i,a)}this.recursivelyAddToRowsToDisplay(t,n.childrenAfterSort,i,s,a);if(o==="bottom"){n.createFooter();this.addRowNodeToRowsToDisplay(t,n.sibling,i,a)}}}else if(n.master&&n.expanded){const e=this.createDetailNode(n);this.addRowNodeToRowsToDisplay(t,e,i,r)}}}addRowNodeToRowsToDisplay(t,e,i,s,r){if(r){i.unshift(e)}else{i.push(e)}e.setUiLevel(t.isGroupMultiAutoColumn?0:s)}createDetailNode(t){if(j(t.detailNode)){return t.detailNode}const e=new Eo(this.beans);e.detail=true;e.selectable=false;e.parent=t;if(j(t.id)){e.id="detail_"+t.id}e.data=t.data;e.level=t.level+1;t.detailNode=e;return e}};var Mm=class extends fe{constructor(){super(...arguments);this.beanName="immutableService"}wireBeans(t){this.rowModel=t.rowModel;this.selectionService=t.selectionService}postConstruct(){if(X(this.gos)){this.clientSideRowModel=this.rowModel;this.addManagedPropertyListener("rowData",(()=>this.onRowDataUpdated()))}}isActive(){const t=this.gos.exists("getRowId");const e=this.gos.get("resetRowDataOnUpdate");if(e){return false}return t}setRowData(t){const e=this.createTransactionForRowData(t);if(!e){return}const i=this.clientSideRowModel.getNodeManager();const{rowNodeTransaction:s,rowsInserted:r}=i.updateRowData(e);let o=false;const n=this.gos.get("suppressMaintainUnsortedOrder");if(!n){o=i.updateRowOrderFromRowData(t)}this.clientSideRowModel.afterImmutableDataChange(s,o||r)}createTransactionForRowData(t){if(!X(this.gos)){z("ImmutableService only works with ClientSideRowModel");return null}const e=Dt(this.gos);if(e==null){z("ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!");return null}const i=this.clientSideRowModel.getNodeManager().getCopyOfNodesMap();const s=[];const r=[];const o=[];if(j(t)){t.forEach((t=>{const s=e({data:t,level:0});const n=i[s];if(n){const e=n.data!==t;if(e){r.push(t)}i[s]=void 0}else{o.push(t)}}))}Fe(i,((t,e)=>{if(e){s.push(e.data)}}));return{remove:s,update:r,add:o}}onRowDataUpdated(){const t=this.gos.get("rowData");if(!t){return}if(this.isActive()){this.setRowData(t)}else{this.selectionService.reset("rowDataChanged");this.clientSideRowModel.setRowData(t)}}};var Rm=class extends fe{constructor(){super(...arguments);this.beanName="sortService"}wireBeans(t){this.columnModel=t.columnModel;this.funcColsService=t.funcColsService;this.rowNodeSorter=t.rowNodeSorter;this.showRowGroupColsService=t.showRowGroupColsService}sort(t,e,i,s,r,o){const n=this.gos.get("groupMaintainOrder");const a=this.columnModel.getCols().some((t=>t.isRowGroupActive()));let l={};if(i&&s){l=this.calculateDirtyNodes(s)}const h=this.columnModel.isPivotMode();const c=this.gos.getCallback("postSortRows");const u=s=>{this.pullDownGroupDataForHideOpenParents(s.childrenAfterAggFilter,true);const u=h&&s.leafGroup;const d=n&&a&&!s.leafGroup&&!o;if(d){const t=this.funcColsService.getRowGroupColumns()?.[s.level+1];const e=t?.getSort()===null;const i=s.childrenAfterAggFilter.slice(0);if(s.childrenAfterSort&&!e){const t={};s.childrenAfterSort.forEach(((e,i)=>{t[e.id]=i}));i.sort(((e,i)=>(t[e.id]??0)-(t[i.id]??0)))}s.childrenAfterSort=i}else if(!e||u){s.childrenAfterSort=s.childrenAfterAggFilter.slice(0)}else if(i){s.childrenAfterSort=this.doDeltaSort(s,l,r,t)}else{s.childrenAfterSort=this.rowNodeSorter.doFullSort(s.childrenAfterAggFilter,t)}if(s.sibling){s.sibling.childrenAfterSort=s.childrenAfterSort}this.updateChildIndexes(s);if(c){const t={nodes:s.childrenAfterSort};c(t)}};if(r){r.forEachChangedNodeDepthFirst(u)}this.updateGroupDataForHideOpenParents(r)}calculateDirtyNodes(t){const e={};const i=t=>{if(t){t.forEach((t=>e[t.id]=true))}};if(t){t.forEach((t=>{i(t.add);i(t.update);i(t.remove)}))}return e}doDeltaSort(t,e,i,s){const r=t.childrenAfterAggFilter;const o=t.childrenAfterSort;if(!o){return this.rowNodeSorter.doFullSort(r,s)}const n={};const a=[];r.forEach((t=>{if(e[t.id]||!i.canSkip(t)){a.push(t)}else{n[t.id]=true}}));const l=o.filter((t=>n[t.id]));const h=(t,e)=>({currentPos:e,rowNode:t});const c=a.map(h).sort(((t,e)=>this.rowNodeSorter.compareRowNodes(s,t,e)));return this.mergeSortedArrays(s,c,l.map(h)).map((({rowNode:t})=>t))}mergeSortedArrays(t,e,i){const s=[];let r=0;let o=0;while(r<e.length&&o<i.length){const n=this.rowNodeSorter.compareRowNodes(t,e[r],i[o]);if(n<0){s.push(e[r++])}else{s.push(i[o++])}}while(r<e.length){s.push(e[r++])}while(o<i.length){s.push(i[o++])}return s}updateChildIndexes(t){if(W(t.childrenAfterSort)){return}const e=t.childrenAfterSort;for(let i=0;i<e.length;i++){const s=e[i];const r=i===0;const o=i===t.childrenAfterSort.length-1;s.setFirstChild(r);s.setLastChild(o);s.setChildIndex(i)}}updateGroupDataForHideOpenParents(t){if(!this.gos.get("groupHideOpenParents")){return}if(this.gos.get("treeData")){P(`The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them.`);return false}const e=t=>{this.pullDownGroupDataForHideOpenParents(t.childrenAfterSort,false);t.childrenAfterSort.forEach((t=>{if(t.hasChildren()){e(t)}}))};if(t){t.executeFromRootNode((t=>e(t)))}}pullDownGroupDataForHideOpenParents(t,e){if(!this.gos.get("groupHideOpenParents")||W(t)){return}t.forEach((t=>{const i=this.showRowGroupColsService?.getShowRowGroupCols()??[];i.forEach((i=>{const s=i.getColDef().showRowGroup;if(typeof s!=="string"){z("groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup");return}const r=s;const o=this.columnModel.getColDefCol(r);const n=o===t.rowGroupColumn;if(n){return}if(e){t.setGroupValue(i.getId(),void 0)}else{const e=this.getFirstChildOfFirstChild(t,o);if(e){t.setGroupValue(i.getId(),e.key)}}}))}))}getFirstChildOfFirstChild(t,e){let i=t;while(i){const t=i.parent;if(t&&i.firstChild){if(t.rowGroupColumn===e){return t}}else{return null}i=t}return null}};var Fm=class extends fe{constructor(){super(...arguments);this.beanName="sortStage"}wireBeans(t){this.sortService=t.sortService;this.sortController=t.sortController}execute(t){const e=this.sortController.getSortOptions();const i=j(e)&&e.length>0;const s=i&&j(t.rowNodeTransactions)&&this.gos.get("deltaSort");const r=e.some((t=>{const e=bt(this.gos);if(e){return t.column.isPrimary()&&t.column.isRowGroupActive()}return!!t.column.getColDef().showRowGroup}));this.sortService.sort(e,i,s,t.rowNodeTransactions,t.changedPath,r)}};var Pm="32.3.9";var zm=Xn({version:Pm,moduleName:`${"@ag-grid-community/client-side-row-model"}-core`,rowModel:"clientSide",beans:[dm,Sm,Fm,Dm,Rm,Mm]});var Im=Xn({version:Pm,moduleName:`${"@ag-grid-community/client-side-row-model"}-api`,beans:[Xp],apiFunctions:{onGroupExpandedOrCollapsed:gm,refreshClientSideRowModel:fm,isRowDataEmpty:pm,forEachLeafNode:mm,forEachNodeAfterFilter:vm,forEachNodeAfterFilterAndSort:wm,resetRowHeights:bm,applyTransaction:ym,applyTransactionAsync:Cm,flushAsyncTransactions:xm,getBestCostNodeSelection:km},dependantModules:[zm,nm]});var Tm=Xn({version:Pm,moduleName:"@ag-grid-community/client-side-row-model",dependantModules:[zm,Im]});var Am=class extends fe{setBeans(t){this.beans=t}getFileName(t){const e=this.getDefaultFileExtension();if(t==null||!t.length){t=this.getDefaultFileName()}return t.indexOf(".")===-1?`${t}.${e}`:t}getData(t){const e=this.createSerializingSession(t);return this.beans.gridSerializer.serialize(e,t)}getDefaultFileName(){return`export.${this.getDefaultFileExtension()}`}};var Em=class{constructor(t){this.groupColumns=[];const{columnModel:e,funcColsService:i,columnNameService:s,valueService:r,gos:o,processCellCallback:n,processHeaderCallback:a,processGroupHeaderCallback:l,processRowGroupCallback:h}=t;this.columnModel=e;this.funcColsService=i;this.columnNameService=s;this.valueService=r;this.gos=o;this.processCellCallback=n;this.processHeaderCallback=a;this.processGroupHeaderCallback=l;this.processRowGroupCallback=h}prepare(t){this.groupColumns=t.filter((t=>!!t.getColDef().showRowGroup))}extractHeaderValue(t){const e=this.getHeaderName(this.processHeaderCallback,t);return e??""}extractRowCellValue(t,e,i,s,r){const o=this.gos.get("groupHideOpenParents");const n=(!o||r.footer)&&this.shouldRenderGroupSummaryCell(r,t,e)?this.createValueForGroupNode(t,r):this.valueService.getValue(t,r);const a=this.processCell({accumulatedRowIndex:i,rowNode:r,column:t,value:n,processCellCallback:this.processCellCallback,type:s});return a}shouldRenderGroupSummaryCell(t,e,i){const s=t&&t.group;if(!s){return false}const r=this.groupColumns.indexOf(e);if(r!==-1){const i=t.groupData?.[e.getId()];const s=this.gos.get("suppressGroupMaintainValueType");if(s&&i!=null||!s&&i!==void 0){return true}if(tt(this.gos)&&t.group){return true}if(t.footer&&t.level===-1){const t=e.getColDef();const i=t==null||t.showRowGroup===true;return i||t.showRowGroup===this.funcColsService.getRowGroupColumns()[0].getId()}}const o=St(this.gos,this.columnModel.isPivotMode());return i===0&&o}getHeaderName(t,e){if(t){return t(this.gos.addGridCommonParams({column:e}))}return this.columnNameService.getDisplayNameForColumn(e,"csv",true)}createValueForGroupNode(t,e){if(this.processRowGroupCallback){return this.processRowGroupCallback(this.gos.addGridCommonParams({column:t,node:e}))}const i=this.gos.get("treeData");const s=this.gos.get("suppressGroupMaintainValueType");const r=e=>{if(i||s){return e.key}const r=e.groupData?.[t.getId()];if(!r||!e.rowGroupColumn||e.rowGroupColumn.getColDef().useValueFormatterForExport===false){return r}return this.valueService.formatValue(e.rowGroupColumn,e,r)??r};const o=e.footer;const n=[r(e)];if(!kt(this.gos)){while(e.parent){e=e.parent;n.push(r(e))}}const a=n.reverse().join(" -> ");return o?`Total ${a}`:a}processCell(t){const{accumulatedRowIndex:e,rowNode:i,column:s,value:r,processCellCallback:o,type:n}=t;if(o){return{value:o(this.gos.addGridCommonParams({accumulatedRowIndex:e,column:s,node:i,value:r,type:n,parseValue:t=>this.valueService.parseValue(s,i,t,this.valueService.getValue(s,i)),formatValue:t=>this.valueService.formatValue(s,i,t)??t}))??""}}if(s.getColDef().useValueFormatterForExport!==false){return{value:r??"",valueFormatted:this.valueService.formatValue(s,i,r)}}return{value:r??""}}};var Nm=class{static download(t,e){const i=document.defaultView||window;if(!i){P("There is no `window` associated with the current `document`");return}const s=document.createElement("a");const r=i.URL.createObjectURL(e);s.setAttribute("href",r);s.setAttribute("download",t);s.style.display="none";document.body.appendChild(s);s.dispatchEvent(new MouseEvent("click",{bubbles:false,cancelable:true,view:i}));document.body.removeChild(s);i.setTimeout((()=>{i.URL.revokeObjectURL(r)}),0)}};var Om="\r\n";var Lm=class extends Em{constructor(t){super(t);this.isFirstLine=true;this.result="";const{suppressQuotes:e,columnSeparator:i}=t;this.suppressQuotes=e;this.columnSeparator=i}addCustomContent(t){if(!t){return}if(typeof t==="string"){if(!/^\s*\n/.test(t)){this.beginNewLine()}t=t.replace(/\r?\n/g,Om);this.result+=t}else{t.forEach((t=>{this.beginNewLine();t.forEach(((t,e)=>{if(e!==0){this.result+=this.columnSeparator}this.result+=this.putInQuotes(t.data.value||"");if(t.mergeAcross){this.appendEmptyCells(t.mergeAcross)}}))}))}}onNewHeaderGroupingRow(){this.beginNewLine();return{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}}onNewHeaderGroupingRowColumn(t,e,i,s){if(i!=0){this.result+=this.columnSeparator}this.result+=this.putInQuotes(e);this.appendEmptyCells(s)}appendEmptyCells(t){for(let e=1;e<=t;e++){this.result+=this.columnSeparator+this.putInQuotes("")}}onNewHeaderRow(){this.beginNewLine();return{onColumn:this.onNewHeaderRowColumn.bind(this)}}onNewHeaderRowColumn(t,e){if(e!=0){this.result+=this.columnSeparator}this.result+=this.putInQuotes(this.extractHeaderValue(t))}onNewBodyRow(){this.beginNewLine();return{onColumn:this.onNewBodyRowColumn.bind(this)}}onNewBodyRowColumn(t,e,i){if(e!=0){this.result+=this.columnSeparator}const s=this.extractRowCellValue(t,e,e,"csv",i);this.result+=this.putInQuotes(s.valueFormatted??s.value)}putInQuotes(t){if(this.suppressQuotes){return t}if(t===null||t===void 0){return'""'}let e;if(typeof t==="string"){e=t}else if(typeof t.toString==="function"){e=t.toString()}else{P("unknown value type during csv conversion");e=""}const i=e.replace(/"/g,'""');return'"'+i+'"'}parse(){return this.result}beginNewLine(){if(!this.isFirstLine){this.result+=Om}this.isFirstLine=false}};var Gm=class extends Am{constructor(){super(...arguments);this.beanName="csvCreator"}wireBeans(t){this.columnModel=t.columnModel;this.columnNameService=t.columnNameService;this.funcColsService=t.funcColsService;this.valueService=t.valueService;this.gridSerializer=t.gridSerializer}postConstruct(){this.setBeans({gridSerializer:this.gridSerializer,gos:this.gos})}getMergedParams(t){const e=this.gos.get("defaultCsvExportParams");return Object.assign({},e,t)}export(t){if(this.isExportSuppressed()){P(`Export cancelled. Export is not allowed as per your configuration.`);return}const e=this.getMergedParams(t);const i=this.getData(e);const s=new Blob(["\ufeff",i],{type:"text/plain"});const r=typeof e.fileName==="function"?e.fileName(this.gos.getGridCommonParams()):e.fileName;Nm.download(this.getFileName(r),s)}exportDataAsCsv(t){this.export(t)}getDataAsCsv(t,e=false){const i=e?Object.assign({},t):this.getMergedParams(t);return this.getData(i)}getDefaultFileExtension(){return"csv"}createSerializingSession(t){const{columnModel:e,columnNameService:i,funcColsService:s,valueService:r,gos:o}=this;const{processCellCallback:n,processHeaderCallback:a,processGroupHeaderCallback:l,processRowGroupCallback:h,suppressQuotes:c,columnSeparator:u}=t;return new Lm({columnModel:e,columnNameService:i,funcColsService:s,valueService:r,gos:o,processCellCallback:n||void 0,processHeaderCallback:a||void 0,processGroupHeaderCallback:l||void 0,processRowGroupCallback:h||void 0,suppressQuotes:c||false,columnSeparator:u||","})}isExportSuppressed(){return this.gos.get("suppressCsvExport")}};function Hm(t,e){return t.csvCreator?.getDataAsCsv(e)}function Bm(t,e){t.csvCreator?.exportDataAsCsv(e)}var Vm=class extends fe{constructor(){super(...arguments);this.beanName="gridSerializer"}wireBeans(t){this.visibleColsService=t.visibleColsService;this.columnModel=t.columnModel;this.columnNameService=t.columnNameService;this.rowModel=t.rowModel;this.pinnedRowModel=t.pinnedRowModel;this.selectionService=t.selectionService;this.rowNodeSorter=t.rowNodeSorter;this.sortController=t.sortController}serialize(t,e={}){const{allColumns:i,columnKeys:s,skipRowGroups:r}=e;const o=this.getColumnsToExport(i,r,s);const n=B(this.prepareSession(o),this.prependContent(e),this.exportColumnGroups(e,o),this.exportHeaders(e,o),this.processPinnedTopRows(e,o),this.processRows(e,o),this.processPinnedBottomRows(e,o),this.appendContent(e));return n(t).parse()}processRow(t,e,i,s){const r=e.shouldRowBeSkipped||(()=>false);const o=this.gos.get("groupRemoveSingleChildren");const n=this.gos.get("groupRemoveLowestSingleChildren");const a=e.rowPositions!=null;const l=a||!!e.onlySelected;const h=this.gos.get("groupHideOpenParents")&&!l;const c=this.columnModel.isPivotMode()?s.leafGroup:!s.group;const u=!!s.footer;const d=n&&s.leafGroup;const g=s.allChildrenCount===1&&s.childrenAfterGroup?.length===1&&(o||d);if(!c&&!u&&(e.skipRowGroups||g||h)||e.onlySelected&&!s.isSelected()||e.skipPinnedTop&&s.rowPinned==="top"||e.skipPinnedBottom&&s.rowPinned==="bottom"){return}const f=s.level===-1;if(f&&!c&&!u){return}const p=r(this.gos.addGridCommonParams({node:s}));if(p){return}const m=t.onNewBodyRow(s);i.forEach(((t,e)=>{m.onColumn(t,e,s)}));if(e.getCustomContentBelowRow){const i=e.getCustomContentBelowRow(this.gos.addGridCommonParams({node:s}));if(i){t.addCustomContent(i)}}}appendContent(t){return e=>{const i=t.appendContent;if(i){e.addCustomContent(i)}return e}}prependContent(t){return e=>{const i=t.prependContent;if(i){e.addCustomContent(i)}return e}}prepareSession(t){return e=>{e.prepare(t);return e}}exportColumnGroups(t,e){return i=>{if(!t.skipColumnGroupHeaders){const s=new ui;const r=this.visibleColsService.createGroups({columns:e,idCreator:s,pinned:null,isStandaloneStructure:true});this.recursivelyAddHeaderGroups(r,i,t.processGroupHeaderCallback)}return i}}exportHeaders(t,e){return i=>{if(!t.skipColumnHeaders){const t=i.onNewHeaderRow();e.forEach(((e,i)=>{t.onColumn(e,i,void 0)}))}return i}}processPinnedTopRows(t,e){return i=>{const s=this.processRow.bind(this,i,t,e);if(t.rowPositions){t.rowPositions.filter((t=>t.rowPinned==="top")).sort(((t,e)=>t.rowIndex-e.rowIndex)).map((t=>this.pinnedRowModel.getPinnedTopRow(t.rowIndex))).forEach(s)}else{this.pinnedRowModel.forEachPinnedRow("top",s)}return i}}processRows(t,e){return i=>{const s=this.rowModel;const r=X(this.gos);const o=tt(this.gos);const n=!r&&t.onlySelected;const a=this.processRow.bind(this,i,t,e);const{exportedRows:l="filteredAndSorted"}=t;if(t.rowPositions){t.rowPositions.filter((t=>t.rowPinned==null)).sort(((t,e)=>t.rowIndex-e.rowIndex)).map((t=>s.getRow(t.rowIndex))).forEach(a)}else if(this.columnModel.isPivotMode()){if(r){s.forEachPivotNode(a,true)}else if(o){s.forEachNodeAfterFilterAndSort(a,true)}else{s.forEachNode(a)}}else{if(t.onlySelectedAllPages||n){const t=this.selectionService.getSelectedNodes();this.replicateSortedOrder(t);t.forEach(a)}else{if(l==="all"){s.forEachNode(a)}else if(r){s.forEachNodeAfterFilterAndSort(a,true)}else if(o){s.forEachNodeAfterFilterAndSort(a,true)}else{s.forEachNode(a)}}}return i}}replicateSortedOrder(t){const e=this.sortController.getSortOptions();const i=(t,s)=>{if(t.rowIndex!=null&&s.rowIndex!=null){return t.rowIndex-s.rowIndex}if(t.level===s.level){if(t.parent?.id===s.parent?.id){return this.rowNodeSorter.compareRowNodes(e,{rowNode:t,currentPos:t.rowIndex??-1},{rowNode:s,currentPos:s.rowIndex??-1})}return i(t.parent,s.parent)}if(t.level>s.level){return i(t.parent,s)}return i(t,s.parent)};t.sort(i)}processPinnedBottomRows(t,e){return i=>{const s=this.processRow.bind(this,i,t,e);if(t.rowPositions){t.rowPositions.filter((t=>t.rowPinned==="bottom")).sort(((t,e)=>t.rowIndex-e.rowIndex)).map((t=>this.pinnedRowModel.getPinnedBottomRow(t.rowIndex))).forEach(s)}else{this.pinnedRowModel.forEachPinnedRow("bottom",s)}return i}}getColumnsToExport(t=false,e=false,i){const s=this.columnModel.isPivotMode();if(i&&i.length){return this.columnModel.getColsForKeys(i)}const r=this.gos.get("treeData");let o=[];if(t&&!s){o=this.columnModel.getCols()}else{o=this.visibleColsService.getAllCols()}if(e&&!r){o=o.filter((t=>!ke(t)&&!Se(t)))}return o}recursivelyAddHeaderGroups(t,e,i){const s=[];t.forEach((t=>{const e=t;if(!e.getChildren){return}e.getChildren().forEach((t=>s.push(t)))}));if(t.length>0&&hi(t[0])){this.doAddHeaderHeader(e,t,i)}if(s&&s.length>0){this.recursivelyAddHeaderGroups(s,e,i)}}doAddHeaderHeader(t,e,i){const s=t.onNewHeaderGroupingRow();let r=0;e.forEach((t=>{const e=t;let o;if(i){o=i(this.gos.addGridCommonParams({columnGroup:e}))}else{o=this.columnNameService.getDisplayNameForColumnGroup(e,"header")}const n=e.getLeafColumns().reduce(((t,e,i,s)=>{let r=$t(t);const o=e.getColumnGroupShow()==="open";if(!o){if(r&&r[1]==null){r[1]=i-1}}else if(!r||r[1]!=null){r=[i];t.push(r)}if(i===s.length-1&&r&&r[1]==null){r[1]=i}return t}),[]);s.onColumn(e,o||"",r++,e.getLeafColumns().length-1,n)}))}};var jm="32.3.9";var Wm=Xn({version:jm,moduleName:`${"@ag-grid-community/csv-export"}-core`,beans:[Gm,Vm]});var Um=Xn({version:jm,moduleName:`${"@ag-grid-community/csv-export"}-api`,apiFunctions:{getDataAsCsv:Hm,exportDataAsCsv:Bm},dependantModules:[Wm]});var $m=Xn({version:jm,moduleName:"@ag-grid-community/csv-export",dependantModules:[Wm,Um]});var Qm=class extends au{wireBeans(t){this.beans=t}constructor(t,e,i){super(t);this.parentCache=e;this.params=i;this.startRow=t*i.blockSize;this.endRow=this.startRow+i.blockSize}postConstruct(){this.createRowNodes()}getBlockStateJson(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}}setDataAndId(t,e,i){if(j(e)){t.setDataAndId(e,i.toString())}else{t.setDataAndId(void 0,void 0)}}loadFromDatasource(){const t=this.createLoadParams();if(W(this.params.datasource.getRows)){P(`datasource is missing getRows method`);return}window.setTimeout((()=>{this.params.datasource.getRows(t)}),0)}processServerFail(){}createLoadParams(){const t={startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gos.getGridCommonParams().context};return t}forEachNode(t,e,i){this.rowNodes.forEach(((s,r)=>{const o=this.startRow+r;if(o<i){t(s,e.next())}}))}getLastAccessed(){return this.lastAccessed}getRow(t,e=false){if(!e){this.lastAccessed=this.params.lastAccessedSequence.next()}const i=t-this.startRow;return this.rowNodes[i]}getStartRow(){return this.startRow}getEndRow(){return this.endRow}createRowNodes(){this.rowNodes=[];for(let t=0;t<this.params.blockSize;t++){const e=this.startRow+t;const i=new Eo(this.beans);i.setRowHeight(this.params.rowHeight);i.uiLevel=0;i.setRowIndex(e);i.setRowTop(this.params.rowHeight*e);this.rowNodes.push(i)}}processServerResult(t){this.rowNodes.forEach(((e,i)=>{const s=t.rowData?t.rowData[i]:void 0;if(!e.id&&e.alreadyRendered&&s){this.rowNodes[i]=new Eo(this.beans);this.rowNodes[i].setRowIndex(e.rowIndex);this.rowNodes[i].setRowTop(e.rowTop);this.rowNodes[i].setRowHeight(e.rowHeight);e.clearRowTopAndRowIndex()}this.setDataAndId(this.rowNodes[i],s,this.startRow+i)}));const e=t.rowCount!=null&&t.rowCount>=0?t.rowCount:void 0;this.parentCache.pageLoaded(this,e)}destroy(){this.rowNodes.forEach((t=>{t.clearRowTopAndRowIndex()}));super.destroy()}};var Km=2;var Ym=class extends fe{constructor(t){super();this.lastRowIndexKnown=false;this.blocks={};this.blockCount=0;this.rowCount=t.initialRowCount;this.params=t}wireBeans(t){this.rowRenderer=t.rowRenderer;this.focusService=t.focusService}getRow(t,e=false){const i=Math.floor(t/this.params.blockSize);let s=this.blocks[i];if(!s){if(e){return void 0}s=this.createBlock(i)}return s.getRow(t)}createBlock(t){const e=this.createBean(new Qm(t,this,this.params));this.blocks[e.getId()]=e;this.blockCount++;this.purgeBlocksIfNeeded(e);this.params.rowNodeBlockLoader.addBlock(e);return e}refreshCache(){const t=this.blockCount==0;if(t){this.purgeCache();return}this.getBlocksInOrder().forEach((t=>t.setStateWaitingToLoad()));this.params.rowNodeBlockLoader.checkBlockToLoad()}destroy(){this.getBlocksInOrder().forEach((t=>this.destroyBlock(t)));super.destroy()}getRowCount(){return this.rowCount}isLastRowIndexKnown(){return this.lastRowIndexKnown}pageLoaded(t,e){if(!this.isAlive()){return}if(this.gos.get("debug")){F(`InfiniteCache - onPageLoaded: page = ${t.getId()}, lastRow = ${e}`)}this.checkRowCount(t,e);this.onCacheUpdated()}purgeBlocksIfNeeded(t){const e=this.getBlocksInOrder().filter((e=>e!=t));const i=(t,e)=>e.getLastAccessed()-t.getLastAccessed();e.sort(i);const s=this.params.maxBlocksInCache>0;const r=s?this.params.maxBlocksInCache-1:null;const o=Km-1;e.forEach(((t,e)=>{const i=t.getState()==="needsLoading"&&e>=o;const n=s?e>=r:false;if(i||n){if(this.isBlockCurrentlyDisplayed(t)){return}if(this.isBlockFocused(t)){return}this.removeBlockFromCache(t)}}))}isBlockFocused(t){const e=this.focusService.getFocusCellToUseAfterRefresh();if(!e){return false}if(e.rowPinned!=null){return false}const i=t.getStartRow();const s=t.getEndRow();const r=e.rowIndex>=i&&e.rowIndex<s;return r}isBlockCurrentlyDisplayed(t){const e=t.getStartRow();const i=t.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(e,i)}removeBlockFromCache(t){if(!t){return}this.destroyBlock(t)}checkRowCount(t,e){if(typeof e==="number"&&e>=0){this.rowCount=e;this.lastRowIndexKnown=true}else if(!this.lastRowIndexKnown){const e=(t.getId()+1)*this.params.blockSize;const i=e+this.params.overflowSize;if(this.rowCount<i){this.rowCount=i}}}setRowCount(t,e){this.rowCount=t;if(j(e)){this.lastRowIndexKnown=e}if(!this.lastRowIndexKnown){if(this.rowCount%this.params.blockSize===0){this.rowCount++}}this.onCacheUpdated()}forEachNodeDeep(t){const e=new As;this.getBlocksInOrder().forEach((i=>i.forEachNode(t,e,this.rowCount)))}getBlocksInOrder(){const t=(t,e)=>t.getId()-e.getId();const e=Ie(this.blocks).sort(t);return e}destroyBlock(t){delete this.blocks[t.getId()];this.destroyBean(t);this.blockCount--;this.params.rowNodeBlockLoader.removeBlock(t)}onCacheUpdated(){if(this.isAlive()){this.destroyAllBlocksPastVirtualRowCount();this.eventService.dispatchEvent({type:"storeUpdated"})}}destroyAllBlocksPastVirtualRowCount(){const t=[];this.getBlocksInOrder().forEach((e=>{const i=e.getId()*this.params.blockSize;if(i>=this.rowCount){t.push(e)}}));if(t.length>0){t.forEach((t=>this.destroyBlock(t)))}}purgeCache(){this.getBlocksInOrder().forEach((t=>this.removeBlockFromCache(t)));this.lastRowIndexKnown=false;if(this.rowCount===0){this.rowCount=this.params.initialRowCount}this.onCacheUpdated()}getRowNodesInRange(t,e){const i=[];let s=-1;let r=false;const o=new As;let n=false;this.getBlocksInOrder().forEach((a=>{if(n){return}if(r&&s+1!==a.getId()){n=true;return}s=a.getId();a.forEachNode((s=>{const o=s===t||s===e;if(r||o){i.push(s)}if(o){r=!r}}),o,this.rowCount)}));const a=n||r;return a?[]:i}};var qm=class extends fe{constructor(){super(...arguments);this.beanName="rowModel"}wireBeans(t){this.filterManager=t.filterManager;this.sortController=t.sortController;this.selectionService=t.selectionService;this.rowRenderer=t.rowRenderer;this.rowNodeBlockLoader=t.rowNodeBlockLoader}getRowBounds(t){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*t}}ensureRowHeightsValid(){return false}postConstruct(){if(this.gos.get("rowModelType")!=="infinite"){return}this.rowHeight=lt(this.gos);this.addEventListeners();this.addDestroyFunc((()=>this.destroyCache()));this.verifyProps()}verifyProps(){if(this.gos.exists("initialGroupOrderComparator")){P("initialGroupOrderComparator cannot be used with Infinite Row Model as sorting is done on the server side")}}start(){this.setDatasource(this.gos.get("datasource"))}destroy(){this.destroyDatasource();super.destroy()}destroyDatasource(){if(this.datasource){this.destroyBean(this.datasource);this.rowRenderer.datasourceChanged();this.datasource=null}}addEventListeners(){this.addManagedEventListeners({filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),newColumnsLoaded:this.onColumnEverything.bind(this),storeUpdated:this.onCacheUpdated.bind(this)});this.addManagedPropertyListener("datasource",(()=>this.setDatasource(this.gos.get("datasource"))));this.addManagedPropertyListener("cacheBlockSize",(()=>this.resetCache()));this.addManagedPropertyListener("rowHeight",(()=>{this.rowHeight=lt(this.gos);this.cacheParams.rowHeight=this.rowHeight;this.updateRowHeights()}))}onFilterChanged(){this.reset()}onSortChanged(){this.reset()}onColumnEverything(){let t;if(this.cacheParams){t=this.isSortModelDifferent()}else{t=true}if(t){this.reset()}}isSortModelDifferent(){return!q(this.cacheParams.sortModel,this.sortController.getSortModel())}getType(){return"infinite"}setDatasource(t){this.destroyDatasource();this.datasource=t;if(t){this.reset()}}isEmpty(){return!this.infiniteCache}isRowsToRender(){return!!this.infiniteCache}getNodesInRangeForSelection(t,e){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(t,e):[]}reset(){if(!this.datasource){return}const t=Dt(this.gos);const e=t!=null;if(!e){this.selectionService.reset("rowDataChanged")}this.resetCache()}dispatchModelUpdatedEvent(){this.eventService.dispatchEvent({type:"modelUpdated",newPage:false,newPageSize:false,newData:false,keepRenderedRows:true,animate:false})}resetCache(){this.destroyCache();this.cacheParams={datasource:this.datasource,filterModel:this.filterManager?.getFilterModel()??{},sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,initialRowCount:this.gos.get("infiniteInitialRowCount"),maxBlocksInCache:this.gos.get("maxBlocksInCache"),rowHeight:lt(this.gos),overflowSize:this.gos.get("cacheOverflowSize"),blockSize:this.gos.get("cacheBlockSize"),lastAccessedSequence:new As};this.infiniteCache=this.createBean(new Ym(this.cacheParams));this.eventService.dispatchEventOnce({type:"rowCountReady"});this.dispatchModelUpdatedEvent()}updateRowHeights(){this.forEachNode((t=>{t.setRowHeight(this.rowHeight);t.setRowTop(this.rowHeight*t.rowIndex)}));this.dispatchModelUpdatedEvent()}destroyCache(){if(this.infiniteCache){this.infiniteCache=this.destroyBean(this.infiniteCache)}}onCacheUpdated(){this.dispatchModelUpdatedEvent()}getRow(t){if(!this.infiniteCache){return void 0}if(t>=this.infiniteCache.getRowCount()){return void 0}return this.infiniteCache.getRow(t)}getRowNode(t){let e;this.forEachNode((i=>{if(i.id===t){e=i}}));return e}forEachNode(t){if(this.infiniteCache){this.infiniteCache.forEachNodeDeep(t)}}getTopLevelRowCount(){return this.getRowCount()}getTopLevelRowDisplayedIndex(t){return t}getRowIndexAtPixel(t){if(this.rowHeight!==0){const e=Math.floor(t/this.rowHeight);const i=this.getRowCount()-1;if(e>i){return i}return e}return 0}getRowCount(){return this.infiniteCache?this.infiniteCache.getRowCount():0}isRowPresent(t){const e=this.getRowNode(t.id);return!!e}refreshCache(){if(this.infiniteCache){this.infiniteCache.refreshCache()}}purgeCache(){if(this.infiniteCache){this.infiniteCache.purgeCache()}}isLastRowIndexKnown(){if(this.infiniteCache){return this.infiniteCache.isLastRowIndexKnown()}return false}setRowCount(t,e){if(this.infiniteCache){this.infiniteCache.setRowCount(t,e)}}};function Zm(t){t.rowModelHelperService?.getInfiniteRowModel()?.refreshCache()}function _m(t){t.rowModelHelperService?.getInfiniteRowModel()?.purgeCache()}function Jm(t){return t.rowModelHelperService?.getInfiniteRowModel()?.getRowCount()}var Xm="32.3.9";var tv=Xn({version:Xm,moduleName:`${"@ag-grid-community/infinite-row-model"}-core`,rowModel:"infinite",beans:[qm],dependantModules:[hu]});var ev=Xn({version:Xm,moduleName:`${"@ag-grid-community/infinite-row-model"}-api`,beans:[Xp],apiFunctions:{refreshInfiniteCache:Zm,purgeInfiniteCache:_m,getInfiniteRowCount:Jm},dependantModules:[tv,am]});var iv=Xn({version:Xm,moduleName:"@ag-grid-community/infinite-row-model",dependantModules:[tv,ev]});yo.__registerModules([mp,Tm,iv,$m],false,void 0);class sv{static defaultPageSize=10;static cellComponentsLoaded=false;static ensureCellComponentsLoaded(){if(this.cellComponentsLoaded)return;try{const t=[n,l,h,a,u,g,d,f,p,m,v,w,b,y,c];t.forEach((t=>{if(typeof t!=="function"){throw new Error(`Invalid component: ${t}`)}}));this.cellComponentsLoaded=true}catch(t){console.error("Error preserving table cell components:",t)}}static getFrameworkComponents(){this.ensureCellComponentsLoaded();return{[C.TEXT_CELL]:l,[C.TEXT_STATUS_CELL]:h,[C.TEXT_WITH_BADGE_CELL]:a,[C.TEXT_WITH_ICON_CELL]:u,[C.TITLE_SUBTITLE_CELL]:g,[C.TITLE_SUBTITLE_DATE_CELL]:d,[C.EDIT_TEXT_CELL]:f,[C.CHIP_LIST_CELL]:p,[C.CHECKBOX_CELL]:n,[x.CHECKBOX_HEADER]:c,[C.TOGGLE_CELL]:m,[C.MULTI_BTN_CELL]:v,[C.COLOR_STATUS_CELL]:w,[C.TEXT_WITH_IMAGE_CELL]:b,[C.MENU_CELL]:y}}static reset(){this.cellComponentsLoaded=false}}const rv='@keyframes ag-shake-left-to-right{0%{padding-left:6px;padding-right:2px}to{padding-left:2px;padding-right:6px}}@keyframes ag-skeleton-loading{0%,to{opacity:1}50%{opacity:0.4}}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(360deg)}}body{--ag-legacy-styles-loaded:"true"}.ag-icon{font-family:var(--ag-icon-font-family);font-weight:var(--ag-icon-font-weight);color:var(--ag-icon-font-color);font-size:var(--ag-icon-size);line-height:var(--ag-icon-size);font-style:normal;font-variant:normal;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;width:var(--ag-icon-size);height:var(--ag-icon-size);position:relative}.ag-icon::before{content:"";font-family:inherit}.ag-icon::after{background:var(--ag-icon-image, none) center/contain no-repeat;display:var(--ag-icon-image-display);opacity:var(--ag-icon-image-opacity, 0.9);position:absolute;inset:0;content:""}.ag-icon-aggregation{font-family:var(--ag-icon-font-family-aggregation, var(--ag-icon-font-family));font-weight:var(--ag-icon-font-weight-aggregation, var(--ag-icon-font-weight));color:var(--ag-icon-font-color-aggregation, var(--ag-icon-font-color))}.ag-icon-aggregation::before{content:var(--ag-icon-font-code-aggregation, "\\f101");display:var(--ag-icon-font-display-aggregation, var(--ag-icon-font-display))}.ag-icon-aggregation::after{background-image:var(--ag-icon-image-aggregation, var(--ag-icon-image));display:var(--ag-icon-image-display-aggregation, var(--ag-icon-image-display));opacity:var(--ag-icon-image-opacity-aggregation, var(--ag-icon-image-opacity, 0.9))}.ag-icon-arrows{font-family:var(--ag-icon-font-family-arrows, var(--ag-icon-font-family));font-weight:var(--ag-icon-font-weight-arrows, var(--ag-icon-font-weight));color:var(--ag-icon-font-color-arrows, var(--ag-icon-font-color))}.ag-icon-arrows::before{content:var(--ag-icon-font-code-arrows, "\\f102");display:var(--ag-icon-font-display-arrows, var(--ag-icon-font-display))}.ag-icon-arrows::after{background-image:var(--ag-icon-image-arrows, var(--ag-icon-image));display:var(--ag-icon-image-display-arrows, var(--ag-icon-image-display));opacity:var(--ag-icon-image-opacity-arrows, var(--ag-icon-image-opacity, 0.9))}.ag-icon-asc{font-family:var(--ag-icon-font-family-asc, var(--ag-icon-font-family));font-weight:var(--ag-icon-font-weight-asc, var(--ag-icon-font-weight));color:var(--ag-icon-font-color-asc, var(--ag-icon-font-color))}.ag-icon-asc::before{content:var(--ag-icon-font-code-asc, "\\f103");display:var(--ag-icon-font-display-asc, var(--ag-icon-font-display))}.ag-icon-asc::after{background-image:var(--ag-icon-image-asc, var(--ag-icon-image));display:var(--ag-icon-image-display-asc, var(--ag-icon-image-display));opacity:var(--ag-icon-image-opacity-asc, var(--ag-icon-image-opacity, 0.9))}.ag-icon-cancel{font-family:var(--ag-icon-font-family-cancel, var(--ag-icon-font-family));font-weight:var(--ag-icon-font-weight-cancel, var(--ag-icon-font-weight));color:var(--ag-icon-font-color-cancel, var(--ag-icon-font-color))}.ag-icon-cancel::before{content:var(--ag-icon-font-code-cancel, "\\f104");display:var(--ag-icon-font-display-cancel, var(--ag-icon-font-display))}.ag-icon-cancel::after{background-image:var(--ag-icon-image-cancel, var(--ag-icon-image));display:var(--ag-icon-image-display-cancel, var(--ag-icon-image-display));opacity:var(--ag-icon-image-opacity-cancel, var(--ag-icon-image-opacity, 0.9))}.ag-icon-chart{font-family:var(--ag-icon-font-family-chart, var(--ag-icon-font-family));font-weight:var(--ag-icon-font-weight-chart, var(--ag-icon-font-weight));color:var(--ag-icon-font-color-chart, var(--ag-icon-font-color))}.ag-icon-chart::before{content:var(--ag-icon-font-code-chart, "\\f105");display:var(--ag-icon-font-display-chart, var(--ag-icon-font-display))}.ag-icon-chart::after{background-image:var(--ag-icon-image-chart, var(--ag-icon-image));display:var(--ag-icon-image-display-chart, var(--ag-icon-image-display));opacity:var(--ag-icon-image-opacity-chart, var(--ag-icon-image-opacity, 0.9))}.ag-icon-checkbox-checked{font-family:var(--ag-icon-font-family-checkbox-checked, var(--ag-icon-font-family));font-weight:var(--ag-icon-font-weight-checkbox-checked, var(--ag-icon-font-weight));color:var(--ag-icon-font-color-checkbox-checked, var(--ag-icon-font-color))}.ag-icon-checkbox-checked::before{content:var(--ag-icon-font-code-checkbox-checked, "\\f106");display:var(--ag-icon-font-display-checkbox-checked, var(--ag-icon-font-display))}.ag-icon-checkbox-checked::after{background-image:var(--ag-icon-image-checkbox-checked, var(--ag-icon-image));display:var(--ag-icon-image-display-checkbox-checked, var(--ag-icon-image-display));opacity:var(--ag-icon-image-opacity-checkbox-checked, var(--ag-icon-image-opacity, 0.9))}.ag-icon-checkbox-indeterminate{font-family:var(--ag-icon-font-family-checkbox-indeterminate, var(--ag-icon-font-family));font-weight:var(--ag-icon-font-weight-checkbox-indeterminate, var(--ag-icon-font-weight));color:var(--ag-icon-font-color-checkbox-indeterminate, var(--ag-icon-font-color))}.ag-icon-checkbox-indeterminate::before{content:var(--ag-icon-font-code-checkbox-indeterminate, "\\f107");display:var(--ag-icon-font-display-checkbox-indeterminate, var(--ag-icon-font-display))}.ag-icon-checkbox-indeterminate::after{background-image:var(--ag-icon-image-checkbox-indeterminate, var(--ag-icon-image));display:var(--ag-icon-image-display-checkbox-indeterminate, var(--ag-icon-image-display));opacity:var(--ag-icon-image-opacity-checkbox-indeterminate, var(--ag-icon-image-opacity, 0.9))}.ag-icon-checkbox-unchecked{font-family:var(--ag-icon-font-family-checkbox-unchecked, var(--ag-icon-font-family));font-weight:var(--ag-icon-font-weight-checkbox-unchecked, var(--ag-icon-font-weight));color:var(--ag-icon-font-color-checkbox-unchecked, var(--ag-icon-font-color))}.ag-icon-checkbox-unchecked::before{content:var(--ag-icon-font-code-checkbox-unchecked, "\\f108");display:var(--ag-icon-font-display-checkbox-unchecked, var(--ag-icon-font-display))}.ag-icon-checkbox-unchecked::after{background-image:var(--ag-icon-image-checkbox-unchecked, var(--ag-icon-image));display:var(--ag-icon-image-display-checkbox-unchecked, var(--ag-icon-image-display));opacity:var(--ag-icon-image-opacity-checkbox-unchecked, var(--ag-icon-image-opacity, 0.9))}.ag-icon-color-picker{font-family:var(--ag-icon-font-family-color-picker, var(--ag-icon-font-family));font-weight:var(--ag-icon-font-weight-color-picker, var(--ag-icon-font-weight));color:var(--ag-icon-font-color-color-picker, var(--ag-icon-font-color))}.ag-icon-color-picker::before{content:var(--ag-icon-font-code-color-picker, "\\f109");display:var(--ag-icon-font-display-color-picker, var(--ag-icon-font-display))}.ag-icon-color-picker::after{background-image:var(--ag-icon-image-color-picker, var(--ag-icon-image));display:var(--ag-icon-image-display-color-picker, var(--ag-icon-image-display));opacity:var(--ag-icon-image-opacity-color-picker, var(--ag-icon-image-opacity, 0.9))}.ag-icon-columns{font-family:var(--ag-icon-font-family-columns, var(--ag-icon-font-family));font-weight:var(--ag-icon-font-weight-columns, var(--ag-icon-font-weight));color:var(--ag-icon-font-color-columns, var(--ag-icon-font-color))}.ag-icon-columns::before{content:var(--ag-icon-font-code-columns, "\\f10a");display:var(--ag-icon-font-display-columns, var(--ag-icon-font-display))}.ag-icon-columns::after{background-image:var(--ag-icon-image-columns, var(--ag-icon-image));display:var(--ag-icon-image-display-columns, var(--ag-icon-image-display));opacity:var(--ag-icon-image-opacity-columns, var(--ag-icon-image-opacity, 0.9))}.ag-icon-contracted{font-family:var(--ag-icon-font-family-contracted, var(--ag-icon-font-family));font-weight:var(--ag-icon-font-weight-contracted, var(--ag-icon-font-weight));color:var(--ag-icon-font-color-contracted, var(--ag-icon-font-color))}.ag-icon-contracted::before{content:var(--ag-icon-font-code-contracted, "\\f10b");display:var(--ag-icon-font-display-contracted, var(--ag-icon-font-display))}.ag-icon-contracted::after{background-image:var(--ag-icon-image-contracted, var(--ag-icon-image));display:var(--ag-icon-image-display-contracted, var(--ag-icon-image-display));opacity:var(--ag-icon-image-opacity-contracted, var(--ag-icon-image-opacity, 0.9))}.ag-icon-copy{font-family:var(--ag-icon-font-family-copy, var(--ag-icon-font-family));font-weight:var(--ag-icon-font-weight-copy, var(--ag-icon-font-weight));color:var(--ag-icon-font-color-copy, var(--ag-icon-font-color))}.ag-icon-copy::before{content:var(--ag-icon-font-code-copy, "\\f10c");display:var(--ag-icon-font-display-copy, var(--ag-icon-font-display))}.ag-icon-copy::after{background-image:var(--ag-icon-image-copy, var(--ag-icon-image));display:var(--ag-icon-image-display-copy, var(--ag-icon-image-display));opacity:var(--ag-icon-image-opacity-copy, var(--ag-icon-image-opacity, 0.9))}.ag-icon-cross{font-family:var(--ag-icon-font-family-cross, var(--ag-icon-font-family));font-weight:var(--ag-icon-font-weight-cross, var(--ag-icon-font-weight));color:var(--ag-icon-font-color-cross, var(--ag-icon-font-color))}.ag-icon-cross::before{content:var(--ag-icon-font-code-cross, "\\f10d");display:var(--ag-icon-font-display-cross, var(--ag-icon-font-display))}.ag-icon-cross::after{background-image:var(--ag-icon-image-cross, var(--ag-icon-image));display:var(--ag-icon-image-display-cross, var(--ag-icon-image-display));opacity:var(--ag-icon-image-opacity-cross, var(--ag-icon-image-opacity, 0.9))}.ag-icon-csv{font-family:var(--ag-icon-font-family-csv, var(--ag-icon-font-family));font-weight:var(--ag-icon-font-weight-csv, var(--ag-icon-font-weight));color:var(--ag-icon-font-color-csv, var(--ag-icon-font-color))}.ag-icon-csv::before{content:var(--ag-icon-font-code-csv, "\\f10e");display:var(--ag-icon-font-display-csv, var(--ag-icon-font-display))}.ag-icon-csv::after{background-image:var(--ag-icon-image-csv, var(--ag-icon-image));display:var(--ag-icon-image-display-csv, var(--ag-icon-image-display));opacity:var(--ag-icon-image-opacity-csv, var(--ag-icon-image-opacity, 0.9))}.ag-icon-cut{font-family:var(--ag-icon-font-family-cut, var(--ag-icon-font-family));font-weight:var(--ag-icon-font-weight-cut, var(--ag-icon-font-weight));color:var(--ag-icon-font-color-cut, var(--ag-icon-font-color))}.ag-icon-cut::before{content:var(--ag-icon-font-code-cut, "\\f10f");display:var(--ag-icon-font-display-cut, var(--ag-icon-font-display))}.ag-icon-cut::after{background-image:var(--ag-icon-image-cut, var(--ag-icon-image));display:var(--ag-icon-image-display-cut, var(--ag-icon-image-display));opacity:var(--ag-icon-image-opacity-cut, var(--ag-icon-image-opacity, 0.9))}.ag-icon-desc{font-family:var(--ag-icon-font-family-desc, var(--ag-icon-font-family));font-weight:var(--ag-icon-font-weight-desc, var(--ag-icon-font-weight));color:var(--ag-icon-font-color-desc, var(--ag-icon-font-color))}.ag-icon-desc::before{content:var(--ag-icon-font-code-desc, "\\f110");display:var(--ag-icon-font-display-desc, var(--ag-icon-font-display))}.ag-icon-desc::after{background-image:var(--ag-icon-image-desc, var(--ag-icon-image));display:var(--ag-icon-image-display-desc, var(--ag-icon-image-display));opacity:var(--ag-icon-image-opacity-desc, var(--ag-icon-image-opacity, 0.9))}.ag-icon-excel{font-family:var(--ag-icon-font-family-excel, var(--ag-icon-font-family));font-weight:var(--ag-icon-font-weight-excel, var(--ag-icon-font-weight));color:var(--ag-icon-font-color-excel, var(--ag-icon-font-color))}.ag-icon-excel::before{content:var(--ag-icon-font-code-excel, "\\f111");display:var(--ag-icon-font-display-excel, var(--ag-icon-font-display))}.ag-icon-excel::after{background-image:var(--ag-icon-image-excel, var(--ag-icon-image));display:var(--ag-icon-image-display-excel, var(--ag-icon-image-display));opacity:var(--ag-icon-image-opacity-excel, var(--ag-icon-image-opacity, 0.9))}.ag-icon-expanded{font-family:var(--ag-icon-font-family-expanded, var(--ag-icon-font-family));font-weight:var(--ag-icon-font-weight-expanded, var(--ag-icon-font-weight));color:var(--ag-icon-font-color-expanded, var(--ag-icon-font-color))}.ag-icon-expanded::before{content:var(--ag-icon-font-code-expanded, "\\f112");display:var(--ag-icon-font-display-expanded, var(--ag-icon-font-display))}.ag-icon-expanded::after{background-image:var(--ag-icon-image-expanded, var(--ag-icon-image));display:var(--ag-icon-image-display-expanded, var(--ag-icon-image-display));opacity:var(--ag-icon-image-opacity-expanded, var(--ag-icon-image-opacity, 0.9))}.ag-icon-eye-slash{font-family:var(--ag-icon-font-family-eye-slash, var(--ag-icon-font-family));font-weight:var(--ag-icon-font-weight-eye-slash, var(--ag-icon-font-weight));color:var(--ag-icon-font-color-eye-slash, var(--ag-icon-font-color))}.ag-icon-eye-slash::before{content:var(--ag-icon-font-code-eye-slash, "\\f113");display:var(--ag-icon-font-display-eye-slash, var(--ag-icon-font-display))}.ag-icon-eye-slash::after{background-image:var(--ag-icon-image-eye-slash, var(--ag-icon-image));display:var(--ag-icon-image-display-eye-slash, var(--ag-icon-image-display));opacity:var(--ag-icon-image-opacity-eye-slash, var(--ag-icon-image-opacity, 0.9))}.ag-icon-eye{font-family:var(--ag-icon-font-family-eye, var(--ag-icon-font-family));font-weight:var(--ag-icon-font-weight-eye, var(--ag-icon-font-weight));color:var(--ag-icon-font-color-eye, var(--ag-icon-font-color))}.ag-icon-eye::before{content:var(--ag-icon-font-code-eye, "\\f114");display:var(--ag-icon-font-display-eye, var(--ag-icon-font-display))}.ag-icon-eye::after{background-image:var(--ag-icon-image-eye, var(--ag-icon-image));display:var(--ag-icon-image-display-eye, var(--ag-icon-image-display));opacity:var(--ag-icon-image-opacity-eye, var(--ag-icon-image-opacity, 0.9))}.ag-icon-filter{font-family:var(--ag-icon-font-family-filter, var(--ag-icon-font-family));font-weight:var(--ag-icon-font-weight-filter, var(--ag-icon-font-weight));color:var(--ag-icon-font-color-filter, var(--ag-icon-font-color))}.ag-icon-filter::before{content:var(--ag-icon-font-code-filter, "\\f115");display:var(--ag-icon-font-display-filter, var(--ag-icon-font-display))}.ag-icon-filter::after{background-image:var(--ag-icon-image-filter, var(--ag-icon-image));display:var(--ag-icon-image-display-filter, var(--ag-icon-image-display));opacity:var(--ag-icon-image-opacity-filter, var(--ag-icon-image-opacity, 0.9))}.ag-icon-first{font-family:var(--ag-icon-font-family-first, var(--ag-icon-font-family));font-weight:var(--ag-icon-font-weight-first, var(--ag-icon-font-weight));color:var(--ag-icon-font-color-first, var(--ag-icon-font-color))}.ag-icon-first::before{content:var(--ag-icon-font-code-first, "\\f116");display:var(--ag-icon-font-display-first, var(--ag-icon-font-display))}.ag-icon-first::after{background-image:var(--ag-icon-image-first, var(--ag-icon-image));display:var(--ag-icon-image-display-first, var(--ag-icon-image-display));opacity:var(--ag-icon-image-opacity-first, var(--ag-icon-image-opacity, 0.9))}.ag-icon-grip{font-family:var(--ag-icon-font-family-grip, var(--ag-icon-font-family));font-weight:var(--ag-icon-font-weight-grip, var(--ag-icon-font-weight));color:var(--ag-icon-font-color-grip, var(--ag-icon-font-color))}.ag-icon-grip::before{content:var(--ag-icon-font-code-grip, "\\f117");display:var(--ag-icon-font-display-grip, var(--ag-icon-font-display))}.ag-icon-grip::after{background-image:var(--ag-icon-image-grip, var(--ag-icon-image));display:var(--ag-icon-image-display-grip, var(--ag-icon-image-display));opacity:var(--ag-icon-image-opacity-grip, var(--ag-icon-image-opacity, 0.9))}.ag-icon-group{font-family:var(--ag-icon-font-family-group, var(--ag-icon-font-family));font-weight:var(--ag-icon-font-weight-group, var(--ag-icon-font-weight));color:var(--ag-icon-font-color-group, var(--ag-icon-font-color))}.ag-icon-group::before{content:var(--ag-icon-font-code-group, "\\f118");display:var(--ag-icon-font-display-group, var(--ag-icon-font-display))}.ag-icon-group::after{background-image:var(--ag-icon-image-group, var(--ag-icon-image));display:var(--ag-icon-image-display-group, var(--ag-icon-image-display));opacity:var(--ag-icon-image-opacity-group, var(--ag-icon-image-opacity, 0.9))}.ag-icon-last{font-family:var(--ag-icon-font-family-last, var(--ag-icon-font-family));font-weight:var(--ag-icon-font-weight-last, var(--ag-icon-font-weight));color:var(--ag-icon-font-color-last, var(--ag-icon-font-color))}.ag-icon-last::before{content:var(--ag-icon-font-code-last, "\\f119");display:var(--ag-icon-font-display-last, var(--ag-icon-font-display))}.ag-icon-last::after{background-image:var(--ag-icon-image-last, var(--ag-icon-image));display:var(--ag-icon-image-display-last, var(--ag-icon-image-display));opacity:var(--ag-icon-image-opacity-last, var(--ag-icon-image-opacity, 0.9))}.ag-icon-left{font-family:var(--ag-icon-font-family-left, var(--ag-icon-font-family));font-weight:var(--ag-icon-font-weight-left, var(--ag-icon-font-weight));color:var(--ag-icon-font-color-left, var(--ag-icon-font-color))}.ag-icon-left::before{content:var(--ag-icon-font-code-left, "\\f11a");display:var(--ag-icon-font-display-left, var(--ag-icon-font-display))}.ag-icon-left::after{background-image:var(--ag-icon-image-left, var(--ag-icon-image));display:var(--ag-icon-image-display-left, var(--ag-icon-image-display));opacity:var(--ag-icon-image-opacity-left, var(--ag-icon-image-opacity, 0.9))}.ag-icon-linked{font-family:var(--ag-icon-font-family-linked, var(--ag-icon-font-family));font-weight:var(--ag-icon-font-weight-linked, var(--ag-icon-font-weight));color:var(--ag-icon-font-color-linked, var(--ag-icon-font-color))}.ag-icon-linked::before{content:var(--ag-icon-font-code-linked, "\\f11b");display:var(--ag-icon-font-display-linked, var(--ag-icon-font-display))}.ag-icon-linked::after{background-image:var(--ag-icon-image-linked, var(--ag-icon-image));display:var(--ag-icon-image-display-linked, var(--ag-icon-image-display));opacity:var(--ag-icon-image-opacity-linked, var(--ag-icon-image-opacity, 0.9))}.ag-icon-loading{font-family:var(--ag-icon-font-family-loading, var(--ag-icon-font-family));font-weight:var(--ag-icon-font-weight-loading, var(--ag-icon-font-weight));color:var(--ag-icon-font-color-loading, var(--ag-icon-font-color))}.ag-icon-loading::before{content:var(--ag-icon-font-code-loading, "\\f11c");display:var(--ag-icon-font-display-loading, var(--ag-icon-font-display))}.ag-icon-loading::after{background-image:var(--ag-icon-image-loading, var(--ag-icon-image));display:var(--ag-icon-image-display-loading, var(--ag-icon-image-display));opacity:var(--ag-icon-image-opacity-loading, var(--ag-icon-image-opacity, 0.9))}.ag-icon-maximize{font-family:var(--ag-icon-font-family-maximize, var(--ag-icon-font-family));font-weight:var(--ag-icon-font-weight-maximize, var(--ag-icon-font-weight));color:var(--ag-icon-font-color-maximize, var(--ag-icon-font-color))}.ag-icon-maximize::before{content:var(--ag-icon-font-code-maximize, "\\f11d");display:var(--ag-icon-font-display-maximize, var(--ag-icon-font-display))}.ag-icon-maximize::after{background-image:var(--ag-icon-image-maximize, var(--ag-icon-image));display:var(--ag-icon-image-display-maximize, var(--ag-icon-image-display));opacity:var(--ag-icon-image-opacity-maximize, var(--ag-icon-image-opacity, 0.9))}.ag-icon-menu{font-family:var(--ag-icon-font-family-menu, var(--ag-icon-font-family));font-weight:var(--ag-icon-font-weight-menu, var(--ag-icon-font-weight));color:var(--ag-icon-font-color-menu, var(--ag-icon-font-color))}.ag-icon-menu::before{content:var(--ag-icon-font-code-menu, "\\f11e");display:var(--ag-icon-font-display-menu, var(--ag-icon-font-display))}.ag-icon-menu::after{background-image:var(--ag-icon-image-menu, var(--ag-icon-image));display:var(--ag-icon-image-display-menu, var(--ag-icon-image-display));opacity:var(--ag-icon-image-opacity-menu, var(--ag-icon-image-opacity, 0.9))}.ag-icon-minimize{font-family:var(--ag-icon-font-family-minimize, var(--ag-icon-font-family));font-weight:var(--ag-icon-font-weight-minimize, var(--ag-icon-font-weight));color:var(--ag-icon-font-color-minimize, var(--ag-icon-font-color))}.ag-icon-minimize::before{content:var(--ag-icon-font-code-minimize, "\\f11f");display:var(--ag-icon-font-display-minimize, var(--ag-icon-font-display))}.ag-icon-minimize::after{background-image:var(--ag-icon-image-minimize, var(--ag-icon-image));display:var(--ag-icon-image-display-minimize, var(--ag-icon-image-display));opacity:var(--ag-icon-image-opacity-minimize, var(--ag-icon-image-opacity, 0.9))}.ag-icon-next{font-family:var(--ag-icon-font-family-next, var(--ag-icon-font-family));font-weight:var(--ag-icon-font-weight-next, var(--ag-icon-font-weight));color:var(--ag-icon-font-color-next, var(--ag-icon-font-color))}.ag-icon-next::before{content:var(--ag-icon-font-code-next, "\\f120");display:var(--ag-icon-font-display-next, var(--ag-icon-font-display))}.ag-icon-next::after{background-image:var(--ag-icon-image-next, var(--ag-icon-image));display:var(--ag-icon-image-display-next, var(--ag-icon-image-display));opacity:var(--ag-icon-image-opacity-next, var(--ag-icon-image-opacity, 0.9))}.ag-icon-none{font-family:var(--ag-icon-font-family-none, var(--ag-icon-font-family));font-weight:var(--ag-icon-font-weight-none, var(--ag-icon-font-weight));color:var(--ag-icon-font-color-none, var(--ag-icon-font-color))}.ag-icon-none::before{content:var(--ag-icon-font-code-none, "\\f121");display:var(--ag-icon-font-display-none, var(--ag-icon-font-display))}.ag-icon-none::after{background-image:var(--ag-icon-image-none, var(--ag-icon-image));display:var(--ag-icon-image-display-none, var(--ag-icon-image-display));opacity:var(--ag-icon-image-opacity-none, var(--ag-icon-image-opacity, 0.9))}.ag-icon-not-allowed{font-family:var(--ag-icon-font-family-not-allowed, var(--ag-icon-font-family));font-weight:var(--ag-icon-font-weight-not-allowed, var(--ag-icon-font-weight));color:var(--ag-icon-font-color-not-allowed, var(--ag-icon-font-color))}.ag-icon-not-allowed::before{content:var(--ag-icon-font-code-not-allowed, "\\f122");display:var(--ag-icon-font-display-not-allowed, var(--ag-icon-font-display))}.ag-icon-not-allowed::after{background-image:var(--ag-icon-image-not-allowed, var(--ag-icon-image));display:var(--ag-icon-image-display-not-allowed, var(--ag-icon-image-display));opacity:var(--ag-icon-image-opacity-not-allowed, var(--ag-icon-image-opacity, 0.9))}.ag-icon-paste{font-family:var(--ag-icon-font-family-paste, var(--ag-icon-font-family));font-weight:var(--ag-icon-font-weight-paste, var(--ag-icon-font-weight));color:var(--ag-icon-font-color-paste, var(--ag-icon-font-color))}.ag-icon-paste::before{content:var(--ag-icon-font-code-paste, "\\f123");display:var(--ag-icon-font-display-paste, var(--ag-icon-font-display))}.ag-icon-paste::after{background-image:var(--ag-icon-image-paste, var(--ag-icon-image));display:var(--ag-icon-image-display-paste, var(--ag-icon-image-display));opacity:var(--ag-icon-image-opacity-paste, var(--ag-icon-image-opacity, 0.9))}.ag-icon-pin{font-family:var(--ag-icon-font-family-pin, var(--ag-icon-font-family));font-weight:var(--ag-icon-font-weight-pin, var(--ag-icon-font-weight));color:var(--ag-icon-font-color-pin, var(--ag-icon-font-color))}.ag-icon-pin::before{content:var(--ag-icon-font-code-pin, "\\f124");display:var(--ag-icon-font-display-pin, var(--ag-icon-font-display))}.ag-icon-pin::after{background-image:var(--ag-icon-image-pin, var(--ag-icon-image));display:var(--ag-icon-image-display-pin, var(--ag-icon-image-display));opacity:var(--ag-icon-image-opacity-pin, var(--ag-icon-image-opacity, 0.9))}.ag-icon-pivot{font-family:var(--ag-icon-font-family-pivot, var(--ag-icon-font-family));font-weight:var(--ag-icon-font-weight-pivot, var(--ag-icon-font-weight));color:var(--ag-icon-font-color-pivot, var(--ag-icon-font-color))}.ag-icon-pivot::before{content:var(--ag-icon-font-code-pivot, "\\f125");display:var(--ag-icon-font-display-pivot, var(--ag-icon-font-display))}.ag-icon-pivot::after{background-image:var(--ag-icon-image-pivot, var(--ag-icon-image));display:var(--ag-icon-image-display-pivot, var(--ag-icon-image-display));opacity:var(--ag-icon-image-opacity-pivot, var(--ag-icon-image-opacity, 0.9))}.ag-icon-previous{font-family:var(--ag-icon-font-family-previous, var(--ag-icon-font-family));font-weight:var(--ag-icon-font-weight-previous, var(--ag-icon-font-weight));color:var(--ag-icon-font-color-previous, var(--ag-icon-font-color))}.ag-icon-previous::before{content:var(--ag-icon-font-code-previous, "\\f126");display:var(--ag-icon-font-display-previous, var(--ag-icon-font-display))}.ag-icon-previous::after{background-image:var(--ag-icon-image-previous, var(--ag-icon-image));display:var(--ag-icon-image-display-previous, var(--ag-icon-image-display));opacity:var(--ag-icon-image-opacity-previous, var(--ag-icon-image-opacity, 0.9))}.ag-icon-radio-button-off{font-family:var(--ag-icon-font-family-radio-button-off, var(--ag-icon-font-family));font-weight:var(--ag-icon-font-weight-radio-button-off, var(--ag-icon-font-weight));color:var(--ag-icon-font-color-radio-button-off, var(--ag-icon-font-color))}.ag-icon-radio-button-off::before{content:var(--ag-icon-font-code-radio-button-off, "\\f127");display:var(--ag-icon-font-display-radio-button-off, var(--ag-icon-font-display))}.ag-icon-radio-button-off::after{background-image:var(--ag-icon-image-radio-button-off, var(--ag-icon-image));display:var(--ag-icon-image-display-radio-button-off, var(--ag-icon-image-display));opacity:var(--ag-icon-image-opacity-radio-button-off, var(--ag-icon-image-opacity, 0.9))}.ag-icon-radio-button-on{font-family:var(--ag-icon-font-family-radio-button-on, var(--ag-icon-font-family));font-weight:var(--ag-icon-font-weight-radio-button-on, var(--ag-icon-font-weight));color:var(--ag-icon-font-color-radio-button-on, var(--ag-icon-font-color))}.ag-icon-radio-button-on::before{content:var(--ag-icon-font-code-radio-button-on, "\\f128");display:var(--ag-icon-font-display-radio-button-on, var(--ag-icon-font-display))}.ag-icon-radio-button-on::after{background-image:var(--ag-icon-image-radio-button-on, var(--ag-icon-image));display:var(--ag-icon-image-display-radio-button-on, var(--ag-icon-image-display));opacity:var(--ag-icon-image-opacity-radio-button-on, var(--ag-icon-image-opacity, 0.9))}.ag-icon-right{font-family:var(--ag-icon-font-family-right, var(--ag-icon-font-family));font-weight:var(--ag-icon-font-weight-right, var(--ag-icon-font-weight));color:var(--ag-icon-font-color-right, var(--ag-icon-font-color))}.ag-icon-right::before{content:var(--ag-icon-font-code-right, "\\f129");display:var(--ag-icon-font-display-right, var(--ag-icon-font-display))}.ag-icon-right::after{background-image:var(--ag-icon-image-right, var(--ag-icon-image));display:var(--ag-icon-image-display-right, var(--ag-icon-image-display));opacity:var(--ag-icon-image-opacity-right, var(--ag-icon-image-opacity, 0.9))}.ag-icon-save{font-family:var(--ag-icon-font-family-save, var(--ag-icon-font-family));font-weight:var(--ag-icon-font-weight-save, var(--ag-icon-font-weight));color:var(--ag-icon-font-color-save, var(--ag-icon-font-color))}.ag-icon-save::before{content:var(--ag-icon-font-code-save, "\\f12a");display:var(--ag-icon-font-display-save, var(--ag-icon-font-display))}.ag-icon-save::after{background-image:var(--ag-icon-image-save, var(--ag-icon-image));display:var(--ag-icon-image-display-save, var(--ag-icon-image-display));opacity:var(--ag-icon-image-opacity-save, var(--ag-icon-image-opacity, 0.9))}.ag-icon-small-down{font-family:var(--ag-icon-font-family-small-down, var(--ag-icon-font-family));font-weight:var(--ag-icon-font-weight-small-down, var(--ag-icon-font-weight));color:var(--ag-icon-font-color-small-down, var(--ag-icon-font-color))}.ag-icon-small-down::before{content:var(--ag-icon-font-code-small-down, "\\f12b");display:var(--ag-icon-font-display-small-down, var(--ag-icon-font-display))}.ag-icon-small-down::after{background-image:var(--ag-icon-image-small-down, var(--ag-icon-image));display:var(--ag-icon-image-display-small-down, var(--ag-icon-image-display));opacity:var(--ag-icon-image-opacity-small-down, var(--ag-icon-image-opacity, 0.9))}.ag-icon-small-left{font-family:var(--ag-icon-font-family-small-left, var(--ag-icon-font-family));font-weight:var(--ag-icon-font-weight-small-left, var(--ag-icon-font-weight));color:var(--ag-icon-font-color-small-left, var(--ag-icon-font-color))}.ag-icon-small-left::before{content:var(--ag-icon-font-code-small-left, "\\f12c");display:var(--ag-icon-font-display-small-left, var(--ag-icon-font-display))}.ag-icon-small-left::after{background-image:var(--ag-icon-image-small-left, var(--ag-icon-image));display:var(--ag-icon-image-display-small-left, var(--ag-icon-image-display));opacity:var(--ag-icon-image-opacity-small-left, var(--ag-icon-image-opacity, 0.9))}.ag-icon-small-right{font-family:var(--ag-icon-font-family-small-right, var(--ag-icon-font-family));font-weight:var(--ag-icon-font-weight-small-right, var(--ag-icon-font-weight));color:var(--ag-icon-font-color-small-right, var(--ag-icon-font-color))}.ag-icon-small-right::before{content:var(--ag-icon-font-code-small-right, "\\f12d");display:var(--ag-icon-font-display-small-right, var(--ag-icon-font-display))}.ag-icon-small-right::after{background-image:var(--ag-icon-image-small-right, var(--ag-icon-image));display:var(--ag-icon-image-display-small-right, var(--ag-icon-image-display));opacity:var(--ag-icon-image-opacity-small-right, var(--ag-icon-image-opacity, 0.9))}.ag-icon-small-up{font-family:var(--ag-icon-font-family-small-up, var(--ag-icon-font-family));font-weight:var(--ag-icon-font-weight-small-up, var(--ag-icon-font-weight));color:var(--ag-icon-font-color-small-up, var(--ag-icon-font-color))}.ag-icon-small-up::before{content:var(--ag-icon-font-code-small-up, "\\f12e");display:var(--ag-icon-font-display-small-up, var(--ag-icon-font-display))}.ag-icon-small-up::after{background-image:var(--ag-icon-image-small-up, var(--ag-icon-image));display:var(--ag-icon-image-display-small-up, var(--ag-icon-image-display));opacity:var(--ag-icon-image-opacity-small-up, var(--ag-icon-image-opacity, 0.9))}.ag-icon-tick{font-family:var(--ag-icon-font-family-tick, var(--ag-icon-font-family));font-weight:var(--ag-icon-font-weight-tick, var(--ag-icon-font-weight));color:var(--ag-icon-font-color-tick, var(--ag-icon-font-color))}.ag-icon-tick::before{content:var(--ag-icon-font-code-tick, "\\f12f");display:var(--ag-icon-font-display-tick, var(--ag-icon-font-display))}.ag-icon-tick::after{background-image:var(--ag-icon-image-tick, var(--ag-icon-image));display:var(--ag-icon-image-display-tick, var(--ag-icon-image-display));opacity:var(--ag-icon-image-opacity-tick, var(--ag-icon-image-opacity, 0.9))}.ag-icon-tree-closed{font-family:var(--ag-icon-font-family-tree-closed, var(--ag-icon-font-family));font-weight:var(--ag-icon-font-weight-tree-closed, var(--ag-icon-font-weight));color:var(--ag-icon-font-color-tree-closed, var(--ag-icon-font-color))}.ag-icon-tree-closed::before{content:var(--ag-icon-font-code-tree-closed, "\\f130");display:var(--ag-icon-font-display-tree-closed, var(--ag-icon-font-display))}.ag-icon-tree-closed::after{background-image:var(--ag-icon-image-tree-closed, var(--ag-icon-image));display:var(--ag-icon-image-display-tree-closed, var(--ag-icon-image-display));opacity:var(--ag-icon-image-opacity-tree-closed, var(--ag-icon-image-opacity, 0.9))}.ag-icon-tree-indeterminate{font-family:var(--ag-icon-font-family-tree-indeterminate, var(--ag-icon-font-family));font-weight:var(--ag-icon-font-weight-tree-indeterminate, var(--ag-icon-font-weight));color:var(--ag-icon-font-color-tree-indeterminate, var(--ag-icon-font-color))}.ag-icon-tree-indeterminate::before{content:var(--ag-icon-font-code-tree-indeterminate, "\\f131");display:var(--ag-icon-font-display-tree-indeterminate, var(--ag-icon-font-display))}.ag-icon-tree-indeterminate::after{background-image:var(--ag-icon-image-tree-indeterminate, var(--ag-icon-image));display:var(--ag-icon-image-display-tree-indeterminate, var(--ag-icon-image-display));opacity:var(--ag-icon-image-opacity-tree-indeterminate, var(--ag-icon-image-opacity, 0.9))}.ag-icon-tree-open{font-family:var(--ag-icon-font-family-tree-open, var(--ag-icon-font-family));font-weight:var(--ag-icon-font-weight-tree-open, var(--ag-icon-font-weight));color:var(--ag-icon-font-color-tree-open, var(--ag-icon-font-color))}.ag-icon-tree-open::before{content:var(--ag-icon-font-code-tree-open, "\\f132");display:var(--ag-icon-font-display-tree-open, var(--ag-icon-font-display))}.ag-icon-tree-open::after{background-image:var(--ag-icon-image-tree-open, var(--ag-icon-image));display:var(--ag-icon-image-display-tree-open, var(--ag-icon-image-display));opacity:var(--ag-icon-image-opacity-tree-open, var(--ag-icon-image-opacity, 0.9))}.ag-icon-unlinked{font-family:var(--ag-icon-font-family-unlinked, var(--ag-icon-font-family));font-weight:var(--ag-icon-font-weight-unlinked, var(--ag-icon-font-weight));color:var(--ag-icon-font-color-unlinked, var(--ag-icon-font-color))}.ag-icon-unlinked::before{content:var(--ag-icon-font-code-unlinked, "\\f133");display:var(--ag-icon-font-display-unlinked, var(--ag-icon-font-display))}.ag-icon-unlinked::after{background-image:var(--ag-icon-image-unlinked, var(--ag-icon-image));display:var(--ag-icon-image-display-unlinked, var(--ag-icon-image-display));opacity:var(--ag-icon-image-opacity-unlinked, var(--ag-icon-image-opacity, 0.9))}.ag-icon-up{font-family:var(--ag-icon-font-family-up, var(--ag-icon-font-family));font-weight:var(--ag-icon-font-weight-up, var(--ag-icon-font-weight));color:var(--ag-icon-font-color-up, var(--ag-icon-font-color))}.ag-icon-up::before{content:var(--ag-icon-font-code-up, "\\f134");display:var(--ag-icon-font-display-up, var(--ag-icon-font-display))}.ag-icon-up::after{background-image:var(--ag-icon-image-up, var(--ag-icon-image));display:var(--ag-icon-image-display-up, var(--ag-icon-image-display));opacity:var(--ag-icon-image-opacity-up, var(--ag-icon-image-opacity, 0.9))}.ag-icon-down{font-family:var(--ag-icon-font-family-down, var(--ag-icon-font-family));font-weight:var(--ag-icon-font-weight-down, var(--ag-icon-font-weight));color:var(--ag-icon-font-color-down, var(--ag-icon-font-color))}.ag-icon-down::before{content:var(--ag-icon-font-code-down, "\\f135");display:var(--ag-icon-font-display-down, var(--ag-icon-font-display))}.ag-icon-down::after{background-image:var(--ag-icon-image-down, var(--ag-icon-image));display:var(--ag-icon-image-display-down, var(--ag-icon-image-display));opacity:var(--ag-icon-image-opacity-down, var(--ag-icon-image-opacity, 0.9))}.ag-icon-plus{font-family:var(--ag-icon-font-family-plus, var(--ag-icon-font-family));font-weight:var(--ag-icon-font-weight-plus, var(--ag-icon-font-weight));color:var(--ag-icon-font-color-plus, var(--ag-icon-font-color))}.ag-icon-plus::before{content:var(--ag-icon-font-code-plus, "\\f136");display:var(--ag-icon-font-display-plus, var(--ag-icon-font-display))}.ag-icon-plus::after{background-image:var(--ag-icon-image-plus, var(--ag-icon-image));display:var(--ag-icon-image-display-plus, var(--ag-icon-image-display));opacity:var(--ag-icon-image-opacity-plus, var(--ag-icon-image-opacity, 0.9))}.ag-icon-minus{font-family:var(--ag-icon-font-family-minus, var(--ag-icon-font-family));font-weight:var(--ag-icon-font-weight-minus, var(--ag-icon-font-weight));color:var(--ag-icon-font-color-minus, var(--ag-icon-font-color))}.ag-icon-minus::before{content:var(--ag-icon-font-code-minus, "\\f137");display:var(--ag-icon-font-display-minus, var(--ag-icon-font-display))}.ag-icon-minus::after{background-image:var(--ag-icon-image-minus, var(--ag-icon-image));display:var(--ag-icon-image-display-minus, var(--ag-icon-image-display));opacity:var(--ag-icon-image-opacity-minus, var(--ag-icon-image-opacity, 0.9))}.ag-icon-menu-alt{font-family:var(--ag-icon-font-family-menu-alt, var(--ag-icon-font-family));font-weight:var(--ag-icon-font-weight-menu-alt, var(--ag-icon-font-weight));color:var(--ag-icon-font-color-menu-alt, var(--ag-icon-font-color))}.ag-icon-menu-alt::before{content:var(--ag-icon-font-code-menu-alt, "\\f138");display:var(--ag-icon-font-display-menu-alt, var(--ag-icon-font-display))}.ag-icon-menu-alt::after{background-image:var(--ag-icon-image-menu-alt, var(--ag-icon-image));display:var(--ag-icon-image-display-menu-alt, var(--ag-icon-image-display));opacity:var(--ag-icon-image-opacity-menu-alt, var(--ag-icon-image-opacity, 0.9))}.ag-icon-settings{font-family:var(--ag-icon-font-family-settings, var(--ag-icon-font-family));font-weight:var(--ag-icon-font-weight-settings, var(--ag-icon-font-weight));color:var(--ag-icon-font-color-settings, var(--ag-icon-font-color))}.ag-icon-settings::before{content:var(--ag-icon-font-code-settings, "\\f139");display:var(--ag-icon-font-display-settings, var(--ag-icon-font-display))}.ag-icon-settings::after{background-image:var(--ag-icon-image-settings, var(--ag-icon-image));display:var(--ag-icon-image-display-settings, var(--ag-icon-image-display));opacity:var(--ag-icon-image-opacity-settings, var(--ag-icon-image-opacity, 0.9))}.ag-icon-row-drag::before{content:var(--ag-icon-font-code-grip)}.ag-left-arrow::before{content:var(--ag-icon-font-code-left)}.ag-right-arrow::before{content:var(--ag-icon-font-code-right)}[class*=ag-theme-]{--ag-foreground-color:#000;--ag-data-color:var(--ag-foreground-color);--ag-secondary-foreground-color:var(--ag-foreground-color);--ag-header-foreground-color:var(--ag-secondary-foreground-color);--ag-disabled-foreground-color:rgba(0, 0, 0, 0.5);--ag-background-color:#fff;--ag-header-background-color:transparent;--ag-tooltip-background-color:transparent;--ag-subheader-background-color:transparent;--ag-subheader-toolbar-background-color:transparent;--ag-control-panel-background-color:transparent;--ag-side-button-selected-background-color:var(--ag-control-panel-background-color);--ag-selected-row-background-color:#bbb;--ag-odd-row-background-color:var(--ag-background-color);--ag-modal-overlay-background-color:rgba(255, 255, 255, 0.66);--ag-menu-background-color:var(--ag-background-color);--ag-menu-border-color:var(--ag-border-color);--ag-panel-background-color:var(--ag-background-color);--ag-panel-border-color:var(--ag-border-color);--ag-row-hover-color:transparent;--ag-column-hover-color:transparent;--ag-range-selection-border-color:var(--ag-foreground-color);--ag-range-selection-border-style:solid;--ag-range-selection-background-color:rgba(0, 0, 0, 0.2);--ag-range-selection-background-color-2:var(--ag-range-selection-background-color);--ag-range-selection-background-color-3:var(--ag-range-selection-background-color);--ag-range-selection-background-color-4:var(--ag-range-selection-background-color);--ag-range-selection-highlight-color:var(--ag-range-selection-border-color);--ag-selected-tab-underline-color:var(--ag-range-selection-border-color);--ag-selected-tab-underline-width:0;--ag-selected-tab-underline-transition-speed:0s;--ag-range-selection-chart-category-background-color:rgba(0, 255, 132, 0.1);--ag-range-selection-chart-background-color:rgba(0, 88, 255, 0.1);--ag-header-cell-hover-background-color:transparent;--ag-header-cell-moving-background-color:var(--ag-background-color);--ag-value-change-value-highlight-background-color:rgba(22, 160, 133, 0.5);--ag-value-change-delta-up-color:#43a047;--ag-value-change-delta-down-color:#e53935;--ag-row-loading-skeleton-effect-color:rgba(66, 66, 66, 0.2);--ag-chip-background-color:transparent;--ag-chip-border-color:var(--ag-chip-background-color);--ag-borders:solid 1px;--ag-border-color:rgba(0, 0, 0, 0.25);--ag-borders-critical:var(--ag-borders);--ag-borders-secondary:var(--ag-borders);--ag-secondary-border-color:var(--ag-border-color);--ag-row-border-style:solid;--ag-row-border-width:1px;--ag-cell-horizontal-border:solid transparent;--ag-borders-input:var(--ag-borders-secondary);--ag-input-border-color:var(--ag-secondary-border-color);--ag-borders-input-invalid:solid 2px;--ag-input-border-color-invalid:var(--ag-invalid-color);--ag-borders-side-button:var(--ag-borders);--ag-border-radius:0px;--ag-wrapper-border-radius:var(--ag-border-radius);--ag-row-border-color:var(--ag-secondary-border-color);--ag-header-column-separator-display:none;--ag-header-column-separator-height:100%;--ag-header-column-separator-width:1px;--ag-header-column-separator-color:var(--ag-secondary-border-color);--ag-header-column-resize-handle-display:none;--ag-header-column-resize-handle-height:50%;--ag-header-column-resize-handle-width:1px;--ag-header-column-resize-handle-color:var(--ag-secondary-border-color);--ag-invalid-color:red;--ag-input-disabled-border-color:var(--ag-input-border-color);--ag-input-disabled-background-color:transparent;--ag-checkbox-background-color:transparent;--ag-checkbox-border-radius:var(--ag-border-radius);--ag-checkbox-checked-color:var(--ag-foreground-color);--ag-checkbox-unchecked-color:var(--ag-foreground-color);--ag-checkbox-indeterminate-color:var(--ag-checkbox-unchecked-color);--ag-toggle-button-off-border-color:var(--ag-checkbox-unchecked-color);--ag-toggle-button-off-background-color:var(--ag-checkbox-unchecked-color);--ag-toggle-button-on-border-color:var(--ag-checkbox-checked-color);--ag-toggle-button-on-background-color:var(--ag-checkbox-checked-color);--ag-toggle-button-switch-background-color:var(--ag-background-color);--ag-toggle-button-switch-border-color:var(--ag-toggle-button-off-border-color);--ag-toggle-button-border-width:1px;--ag-toggle-button-height:var(--ag-icon-size);--ag-toggle-button-width:calc(var(--ag-toggle-button-height) * 2);--ag-input-focus-box-shadow:none;--ag-input-focus-border-color:none;--ag-minichart-selected-chart-color:var(--ag-checkbox-checked-color);--ag-minichart-selected-page-color:var(--ag-checkbox-checked-color);--ag-grid-size:4px;--ag-icon-size:12px;--ag-icon-font-weight:normal;--ag-icon-font-color:var(--ag-foreground-color);--ag-icon-image-display:block;--ag-widget-container-horizontal-padding:calc(var(--ag-grid-size) * 1.5);--ag-widget-container-vertical-padding:calc(var(--ag-grid-size) * 1.5);--ag-widget-horizontal-spacing:calc(var(--ag-grid-size) * 2);--ag-widget-vertical-spacing:var(--ag-grid-size);--ag-cell-horizontal-padding:calc(var(--ag-grid-size) * 3);--ag-cell-widget-spacing:var(--ag-cell-horizontal-padding);--ag-row-height:calc(var(--ag-grid-size) * 6 + 1px);--ag-header-height:var(--ag-row-height);--ag-list-item-height:calc(var(--ag-grid-size) * 5);--ag-column-select-indent-size:calc(var(--ag-grid-size) + var(--ag-icon-size));--ag-set-filter-indent-size:calc(var(--ag-grid-size) + var(--ag-icon-size));--ag-advanced-filter-builder-indent-size:calc(var(--ag-grid-size) * 2 + var(--ag-icon-size));--ag-row-group-indent-size:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size));--ag-filter-tool-panel-group-indent:16px;--ag-tab-min-width:220px;--ag-chart-menu-panel-width:var(--ag-tab-min-width);--ag-menu-min-width:181px;--ag-side-bar-panel-width:200px;--ag-font-family:"Helvetica Neue", sans-serif;--ag-font-size:14px;--ag-card-radius:var(--ag-border-radius);--ag-card-shadow:none;--ag-popup-shadow:5px 5px 10px rgba(0, 0, 0, 0.3);--ag-advanced-filter-join-pill-color:#f08e8d;--ag-advanced-filter-column-pill-color:#a6e194;--ag-advanced-filter-option-pill-color:#f3c08b;--ag-advanced-filter-value-pill-color:#85c0e4}.ag-dnd-ghost,.ag-root-wrapper,.ag-sticky-bottom,.ag-sticky-top,select[class^=ag-],textarea[class^=ag-]{background-color:var(--ag-background-color)}.ag-sticky-bottom{border-top:var(--ag-row-border-style) var(--ag-row-border-color) var(--ag-row-border-width)}.ag-popup,.ag-root-wrapper{--ag-indentation-level:0}[class*=ag-theme-]{-webkit-font-smoothing:antialiased;font-family:var(--ag-font-family);font-size:var(--ag-font-size);line-height:normal;color:var(--ag-foreground-color)}ag-grid,ag-grid-angular,ag-grid-aurelia,ag-grid-ng2,ag-grid-polymer{display:block}.ag-aria-description-container{z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap}.ag-hidden{display:none !important}.ag-invisible{visibility:hidden !important}.ag-drag-handle{cursor:grab}.ag-column-drop-wrapper{display:flex}.ag-column-drop-horizontal-half-width{display:inline-block;width:50% !important}.ag-unselectable{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ag-selectable{-moz-user-select:text;-webkit-user-select:text;-ms-user-select:text;user-select:text}.ag-tab{position:relative}.ag-tab-guard{position:absolute;width:0;height:0;display:block}.ag-virtual-list-viewport .ag-tab-guard{position:sticky}.ag-tab-guard-top{top:1px}.ag-tab-guard-bottom{bottom:1px}.ag-select-agg-func-popup{position:absolute}.ag-input-wrapper,.ag-picker-field-wrapper{display:flex;flex:1 1 auto;align-items:center;line-height:normal;position:relative}.ag-shake-left-to-right{animation-direction:alternate;animation-duration:0.2s;animation-iteration-count:infinite;animation-name:ag-shake-left-to-right}.ag-root-wrapper{cursor:default;position:relative;display:flex;flex-direction:column;overflow:hidden;white-space:normal}.ag-root-wrapper.ag-layout-normal{height:100%}.ag-watermark{position:absolute;bottom:20px;right:25px;opacity:0.7;transition:opacity 1s ease-out 3s;color:#9b9b9b}.ag-watermark::before{content:"";background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjA5IiBoZWlnaHQ9IjM2IiB2aWV3Qm94PSIwIDAgMjA5IDM2IiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBkPSJNMTkyLjk5MyAyMy42NTgyVjE1LjcxMTdIMTc5LjQ1MkwxNzEuNTA1IDIzLjY1ODJIMTkyLjk5M1oiIGZpbGw9IiM5QjlCOUIiLz4KPHBhdGggZD0iTTIwOC4yNSAzLjk1MDgxSDE5MS4yNzZMMTgzLjI2NiAxMS44OTczSDIwOC4yNVYzLjk1MDgxWiIgZmlsbD0iIzlCOUI5QiIvPgo8cGF0aCBkPSJNMTYzLjYyMiAzMS42MDQ4TDE2Ny42OTEgMjcuNTM2MUgxODEuNDIzVjM1LjQ4MjdIMTYzLjYyMlYzMS42MDQ4WiIgZmlsbD0iIzlCOUI5QiIvPgo8cGF0aCBkPSJNMTY2LjYxIDE5Ljc4MDNIMTc1LjM4M0wxODMuMzkzIDExLjgzMzdIMTY2LjYxVjE5Ljc4MDNaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0xNTcuMDExIDMxLjYwNDdIMTYzLjYyMkwxNzEuNTA1IDIzLjY1ODJIMTU3LjAxMVYzMS42MDQ3WiIgZmlsbD0iIzlCOUI5QiIvPgo8cGF0aCBkPSJNMTkxLjI3NiAzLjk1MDgxTDE4Ny4yMDggOC4wMTk0MUgxNjEuMjdWMC4wNzI4NzZIMTkxLjI3NlYzLjk1MDgxWiIgZmlsbD0iIzlCOUI5QiIvPgo8cGF0aCBkPSJNMjAuODM5MSAzMC4yMDYxSDguMzc4OTJMNi4yMTc0NSAzNS41NDYySDAuNzUwMjQ0TDEyLjI1NjggOC41OTE1NUgxNy4wMjQ3TDI4LjUzMTMgMzUuNTQ2MkgyMy4wMDA1TDIwLjgzOTEgMzAuMjA2MVpNMTkuMTIyNyAyNS45NDY4TDE0LjYwOSAxNC45NDg4TDEwLjA5NTQgMjUuOTQ2OEgxOS4xMjI3WiIgZmlsbD0iIzlCOUI5QiIvPgo8cGF0aCBkPSJNMTA0LjQzNyAxOC41MDg5QzEwNi4wMjYgMTYuMTU2NyAxMTAuMDMxIDE1LjkwMjQgMTExLjY4NCAxNS45MDI0VjIwLjQ3OTZDMTA5LjY1IDIwLjQ3OTYgMTA3LjYxNSAyMC41NDMyIDEwNi40MDcgMjEuNDMzMkMxMDUuMiAyMi4zMjMyIDEwNC41NjQgMjMuNTMxMSAxMDQuNTY0IDI0Ljk5MzJWMzUuNTQ2Mkg5OS42MDUxVjE1LjkwMjRIMTA0LjM3M0wxMDQuNDM3IDE4LjUwODlaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0xMTkuMzc2IDE1LjkwMjRIMTE0LjQxOFYzNS41NDYySDExOS4zNzZWMTUuOTAyNFoiIGZpbGw9IiM5QjlCOUIiLz4KPHBhdGggZD0iTTExOS4zNzYgNy4xMjkzOUgxMTQuNDE4VjEyLjk3OEgxMTkuMzc2VjcuMTI5MzlaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0xNDMuOTc5IDcuMTI5MzlWMzUuNTQ2MkgxMzkuMjExTDEzOS4wODQgMzIuNTU4M0MxMzguMzg0IDMzLjU3NTUgMTM3LjQ5NCAzNC40MDE5IDEzNi40MTQgMzUuMDM3NkMxMzUuMzMzIDM1LjYwOTggMTMzLjk5OCAzNS45Mjc2IDEzMi40NzIgMzUuOTI3NkMxMzEuMTM3IDM1LjkyNzYgMTI5Ljg2NiAzNS42NzMzIDEyOC43ODUgMzUuMjI4M0MxMjcuNjQxIDM0LjcxOTcgMTI2LjYyMyAzNC4wODQgMTI1Ljc5NyAzMy4xOTRDMTI0Ljk3MSAzMi4zMDQgMTI0LjI3MSAzMS4yMjMzIDEyMy44MjYgMzAuMDE1NEMxMjMuMzE4IDI4LjgwNzUgMTIzLjEyNyAyNy40MDkgMTIzLjEyNyAyNS44ODMyQzEyMy4xMjcgMjQuMzU3NSAxMjMuMzgxIDIyLjk1ODkgMTIzLjgyNiAyMS42ODc0QzEyNC4zMzUgMjAuNDE2IDEyNC45NzEgMTkuMzM1MyAxMjUuNzk3IDE4LjQ0NTNDMTI2LjYyMyAxNy41NTUyIDEyNy42NDEgMTYuODU2IDEyOC43ODUgMTYuMzQ3NEMxMjkuOTI5IDE1LjgzODggMTMxLjEzNyAxNS41ODQ1IDEzMi40NzIgMTUuNTg0NUMxMzMuOTk4IDE1LjU4NDUgMTM1LjI2OSAxNS44Mzg4IDEzNi4zNSAxNi40MTA5QzEzNy40MzEgMTYuOTgzMSAxMzguMzIxIDE3Ljc0NTkgMTM5LjAyIDE4LjgyNjdWNy4xOTI5NUgxNDMuOTc5VjcuMTI5MzlaTTEzMy41NTMgMzEuNjY4M0MxMzUuMjA2IDMxLjY2ODMgMTM2LjQ3NyAzMS4wOTYyIDEzNy40OTQgMzAuMDE1NEMxMzguNTExIDI4LjkzNDcgMTM5LjAyIDI3LjQ3MjUgMTM5LjAyIDI1LjY5MjVDMTM5LjAyIDIzLjkxMjUgMTM4LjUxMSAyMi41MTM5IDEzNy40OTQgMjEuMzY5NkMxMzYuNDc3IDIwLjI4ODggMTM1LjIwNiAxOS43MTY3IDEzMy41NTMgMTkuNzE2N0MxMzEuOTYzIDE5LjcxNjcgMTMwLjYyOCAyMC4yODg4IDEyOS42NzUgMjEuMzY5NkMxMjguNjU4IDIyLjQ1MDMgMTI4LjE0OSAyMy45MTI1IDEyOC4xNDkgMjUuNjkyNUMxMjguMTQ5IDI3LjQ3MjUgMTI4LjY1OCAyOC44NzExIDEyOS42NzUgMjkuOTUxOEMxMzAuNjkyIDMxLjA5NjEgMTMxLjk2MyAzMS42NjgzIDEzMy41NTMgMzEuNjY4M1oiIGZpbGw9IiM5QjlCOUIiLz4KPHBhdGggZD0iTTU3LjIwMjQgMjAuMzUyNUg0NC45MzNWMjQuNjExOEg1MS45MjU5QzUxLjczNTIgMjYuNzczMyA1MC45MDg4IDI4LjQyNjEgNDkuNTEwMiAyOS43NjExQzQ4LjExMTYgMzEuMDMyNiA0Ni4zMzE1IDMxLjY2ODMgNDQuMDQyOSAzMS42NjgzQzQyLjc3MTUgMzEuNjY4MyA0MS41NjM2IDMxLjQxNCA0MC41NDY1IDMwLjk2OUMzOS40NjU3IDMwLjUyNCAzOC41NzU3IDI5Ljg4ODMgMzcuODEyOSAyOC45OTgzQzM3LjA1IDI4LjE3MTggMzYuNDc3OCAyNy4xNTQ3IDM2LjAzMjggMjUuOTQ2OEMzNS41ODc4IDI0LjczODkgMzUuMzk3MSAyMy40Njc1IDM1LjM5NzEgMjIuMDA1M0MzNS4zOTcxIDIwLjU0MzIgMzUuNTg3OCAxOS4yNzE3IDM2LjAzMjggMTguMDYzOEMzNi40MTQzIDE2Ljg1NiAzNy4wNSAxNS45MDI0IDM3LjgxMjkgMTUuMDEyNEMzOC41NzU3IDE0LjE4NTkgMzkuNDY1NyAxMy41NTAyIDQwLjU0NjUgMTMuMDQxNkM0MS42MjcyIDEyLjU5NjYgNDIuNzcxNSAxMi4zNDIzIDQ0LjEwNjUgMTIuMzQyM0M0Ni43NzY2IDEyLjM0MjMgNDguODEwOSAxMi45NzggNTAuMjA5NSAxNC4yNDk1TDUzLjUxNTIgMTAuOTQzOEM1MS4wMzU5IDkuMDM2NTkgNDcuODU3MyA4LjAxOTQxIDQ0LjEwNjUgOC4wMTk0MUM0Mi4wMDg2IDguMDE5NDEgNDAuMTAxNSA4LjMzNzI5IDM4LjM4NSA5LjAzNjU5QzM2LjY2ODYgOS43MzU4OCAzNS4yMDY0IDEwLjYyNTkgMzMuOTk4NSAxMS44MzM3QzMyLjc5MDYgMTMuMDQxNiAzMS44MzcxIDE0LjUwMzggMzEuMjAxNCAxNi4yMjAzQzMwLjU2NTYgMTcuOTM2NyAzMC4yNDc4IDE5Ljg0MzggMzAuMjQ3OCAyMS44NzgyQzMwLjI0NzggMjMuOTEyNSAzMC41NjU2IDI1LjgxOTcgMzEuMjY0OSAyNy41MzYxQzMxLjk2NDIgMjkuMjUyNiAzMi44NTQyIDMwLjcxNDcgMzQuMDYyMSAzMS45MjI2QzM1LjI3IDMzLjEzMDUgMzYuNzMyMSAzNC4wODQxIDM4LjQ0ODYgMzQuNzE5OEM0MC4xNjUgMzUuNDE5MSA0Mi4wNzIyIDM1LjczNyA0NC4xMDY1IDM1LjczN0M0Ni4xNDA4IDM1LjczNyA0Ny45ODQ0IDM1LjQxOTEgNDkuNjM3MyAzNC43MTk4QzUxLjI5MDIgMzQuMDIwNSA1Mi42ODg4IDMzLjEzMDUgNTMuODMzMSAzMS45MjI2QzU0Ljk3NzQgMzAuNzE0NyA1NS44Njc0IDI5LjI1MjYgNTYuNTAzMSAyNy41MzYxQzU3LjEzODggMjUuODE5NyA1Ny40NTY3IDIzLjkxMjUgNTcuNDU2NyAyMS44NzgyVjIxLjA1MTdDNTcuMjY2IDIwLjkyNDYgNTcuMjAyNCAyMC42MDY3IDU3LjIwMjQgMjAuMzUyNVoiIGZpbGw9IiM5QjlCOUIiLz4KPHBhdGggZD0iTTk1Ljk4MTUgMjAuMzUyNUg4My43MTIxVjI0LjYxMThIOTAuNzA1QzkwLjUxNDMgMjYuNzczMyA4OS42ODc5IDI4LjQyNjEgODguMjg5MyAyOS43NjExQzg2Ljg5MDcgMzEuMDMyNiA4NS4xMTA2IDMxLjY2ODMgODIuODIyIDMxLjY2ODNDODEuNTUwNiAzMS42NjgzIDgwLjM0MjcgMzEuNDE0IDc5LjMyNTYgMzAuOTY5Qzc4LjI0NDggMzAuNTI0IDc3LjM1NDggMjkuODg4MyA3Ni41OTIgMjguOTk4M0M3NS44MjkxIDI4LjE3MTggNzUuMjU3IDI3LjE1NDcgNzQuODExOSAyNS45NDY4Qzc0LjM2NjkgMjQuNzM4OSA3NC4xNzYyIDIzLjQ2NzUgNzQuMTc2MiAyMi4wMDUzQzc0LjE3NjIgMjAuNTQzMiA3NC4zNjY5IDE5LjI3MTcgNzQuODExOSAxOC4wNjM4Qzc1LjE5MzQgMTYuODU2IDc1LjgyOTEgMTUuOTAyNCA3Ni41OTIgMTUuMDEyNEM3Ny4zNTQ4IDE0LjE4NTkgNzguMjQ0OCAxMy41NTAyIDc5LjMyNTYgMTMuMDQxNkM4MC40MDYzIDEyLjU5NjYgODEuNTUwNiAxMi4zNDIzIDgyLjg4NTYgMTIuMzQyM0M4NS41NTU3IDEyLjM0MjMgODcuNTkgMTIuOTc4IDg4Ljk4ODYgMTQuMjQ5NUw5Mi4yOTQzIDEwLjk0MzhDODkuODE1IDkuMDM2NTkgODYuNjM2NCA4LjAxOTQxIDgyLjg4NTYgOC4wMTk0MUM4MC43ODc4IDguMDE5NDEgNzguODgwNiA4LjMzNzI5IDc3LjE2NDEgOS4wMzY1OUM3NS40NDc3IDkuNzM1ODggNzMuOTg1NSAxMC42MjU5IDcyLjc3NzYgMTEuODMzN0M3MS41Njk4IDEzLjA0MTYgNzAuNjE2MiAxNC41MDM4IDY5Ljk4MDUgMTYuMjIwM0M2OS4zNDQ3IDE3LjkzNjcgNjkuMDI2OSAxOS44NDM4IDY5LjAyNjkgMjEuODc4MkM2OS4wMjY5IDIzLjkxMjUgNjkuMzQ0NyAyNS44MTk3IDcwLjA0NCAyNy41MzYxQzcwLjc0MzMgMjkuMjUyNiA3MS42MzM0IDMwLjcxNDcgNzIuODQxMiAzMS45MjI2Qzc0LjA0OTEgMzMuMTMwNSA3NS41MTEyIDM0LjA4NDEgNzcuMjI3NyAzNC43MTk4Qzc4Ljk0NDEgMzUuNDE5MSA4MC44NTEzIDM1LjczNyA4Mi44ODU2IDM1LjczN0M4NC45MiAzNS43MzcgODYuNzYzNiAzNS40MTkxIDg4LjQxNjQgMzQuNzE5OEM5MC4wNjkzIDM0LjAyMDUgOTEuNDY3OSAzMy4xMzA1IDkyLjYxMjIgMzEuOTIyNkM5My43NTY1IDMwLjcxNDcgOTQuNjQ2NSAyOS4yNTI2IDk1LjI4MjIgMjcuNTM2MUM5NS45MTggMjUuODE5NyA5Ni4yMzU4IDIzLjkxMjUgOTYuMjM1OCAyMS44NzgyVjIxLjA1MTdDOTYuMDQ1MSAyMC45MjQ2IDk1Ljk4MTUgMjAuNjA2NyA5NS45ODE1IDIwLjM1MjVaIiBmaWxsPSIjOUI5QjlCIi8+Cjwvc3ZnPgo=);background-repeat:no-repeat;background-size:170px 40px;display:block;height:40px;width:170px}.ag-watermark-text{opacity:0.5;font-weight:700;font-family:Impact, sans-serif;font-size:19px;padding-left:0.7rem}.ag-root,.ag-root-wrapper-body{display:flex;flex-direction:row}.ag-root-wrapper-body.ag-layout-normal{flex:1 1 auto;height:0;min-height:0}.ag-root{position:relative;flex-direction:column}.ag-root.ag-layout-auto-height,.ag-root.ag-layout-normal{overflow:hidden;flex:1 1 auto;width:0}.ag-root.ag-layout-normal{height:100%}.ag-body-horizontal-scroll-viewport,.ag-body-vertical-scroll-viewport,.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport{position:relative;height:100%;min-width:0;overflow:hidden;flex:1 1 auto}.ag-sticky-bottom-viewport,.ag-sticky-top-viewport,.ag-virtual-list-viewport{position:relative;height:100%;min-width:0;flex:1 1 auto}.ag-sticky-bottom-viewport,.ag-sticky-top-viewport{overflow:hidden}.ag-body-viewport{-ms-overflow-style:none !important;scrollbar-width:none !important}.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport{overflow-x:auto;-ms-overflow-style:none !important;scrollbar-width:none !important}.ag-body-viewport::-webkit-scrollbar,.ag-center-cols-viewport::-webkit-scrollbar,.ag-floating-bottom-viewport::-webkit-scrollbar,.ag-floating-top-viewport::-webkit-scrollbar,.ag-header-viewport::-webkit-scrollbar,.ag-sticky-bottom-viewport::-webkit-scrollbar,.ag-sticky-top-viewport::-webkit-scrollbar{display:none !important}.ag-body-viewport{display:flex;overflow-x:hidden}.ag-body-viewport.ag-layout-normal{overflow-y:auto;-webkit-overflow-scrolling:touch}.ag-sticky-bottom-container,.ag-sticky-top-container{min-height:1px}.ag-center-cols-viewport{min-height:100%;width:100%}.ag-body-horizontal-scroll-viewport{overflow-x:scroll}.ag-body-vertical-scroll-viewport{overflow-y:scroll}.ag-virtual-list-viewport{overflow:auto;width:100%}.ag-body-container,.ag-body-horizontal-scroll-container,.ag-body-vertical-scroll-container,.ag-center-cols-container,.ag-floating-bottom-container,.ag-floating-top-container,.ag-header-container,.ag-pinned-left-cols-container,.ag-pinned-right-cols-container,.ag-sticky-bottom-container,.ag-sticky-top-container,.ag-virtual-list-container{position:relative}.ag-floating-bottom-container,.ag-floating-top-container,.ag-header-container,.ag-sticky-bottom-container,.ag-sticky-top-container{height:100%;white-space:nowrap}.ag-center-cols-container,.ag-pinned-right-cols-container{display:block}.ag-body-horizontal-scroll-container{height:100%}.ag-body-vertical-scroll-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container,.ag-full-width-container,.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{position:absolute;top:0;pointer-events:none}.ag-ltr .ag-floating-bottom-full-width-container,.ag-ltr .ag-floating-top-full-width-container,.ag-ltr .ag-full-width-container,.ag-ltr .ag-sticky-bottom-full-width-container,.ag-ltr .ag-sticky-top-full-width-container{left:0}.ag-rtl .ag-floating-bottom-full-width-container,.ag-rtl .ag-floating-top-full-width-container,.ag-rtl .ag-full-width-container,.ag-rtl .ag-sticky-bottom-full-width-container,.ag-rtl .ag-sticky-top-full-width-container{right:0}.ag-full-width-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container{display:inline-block;overflow:hidden;height:100%;width:100%}.ag-header-cell-comp-wrapper-limited-height>div,.ag-virtual-list-container{overflow:hidden}.ag-body{position:relative;display:flex;flex:1 1 auto;flex-direction:row !important;min-height:0}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{min-height:0;min-width:0;display:flex;position:relative}.ag-body-horizontal-scroll.ag-scrollbar-invisible,.ag-body-vertical-scroll.ag-scrollbar-invisible{position:absolute;bottom:0}.ag-body-horizontal-scroll.ag-scrollbar-invisible.ag-apple-scrollbar,.ag-body-vertical-scroll.ag-scrollbar-invisible.ag-apple-scrollbar{opacity:0;transition:opacity 400ms;visibility:hidden}.ag-body-horizontal-scroll.ag-scrollbar-invisible.ag-apple-scrollbar.ag-scrollbar-active,.ag-body-horizontal-scroll.ag-scrollbar-invisible.ag-apple-scrollbar.ag-scrollbar-scrolling,.ag-body-vertical-scroll.ag-scrollbar-invisible.ag-apple-scrollbar.ag-scrollbar-active,.ag-body-vertical-scroll.ag-scrollbar-invisible.ag-apple-scrollbar.ag-scrollbar-scrolling{visibility:visible;opacity:1}.ag-body-horizontal-scroll{width:100%}.ag-body-horizontal-scroll.ag-scrollbar-invisible{left:0;right:0}.ag-body-vertical-scroll{height:100%}.ag-body-vertical-scroll.ag-scrollbar-invisible{top:0;z-index:10}.ag-ltr .ag-body-vertical-scroll.ag-scrollbar-invisible{right:0}.ag-rtl .ag-body-vertical-scroll.ag-scrollbar-invisible{left:0}.ag-force-vertical-scroll{overflow-y:scroll !important}.ag-horizontal-left-spacer,.ag-horizontal-right-spacer{height:100%;min-width:0;overflow-x:scroll}.ag-horizontal-left-spacer.ag-scroller-corner,.ag-horizontal-right-spacer.ag-scroller-corner{overflow-x:hidden}.ag-header,.ag-pinned-left-header,.ag-pinned-right-header{display:inline-block;overflow:hidden;position:relative}.ag-header-cell-sortable .ag-header-cell-label{cursor:pointer}.ag-header{display:flex;width:100%;white-space:nowrap}.ag-pinned-left-header,.ag-pinned-right-header{height:100%}.ag-header-row{position:absolute}.ag-header-row:not(.ag-header-row-column-group){overflow:hidden}.ag-header.ag-header-allow-overflow .ag-header-row{overflow:visible}.ag-header-cell{display:inline-flex;align-items:center;position:absolute;height:100%;overflow:hidden}.ag-header-cell-filter-button,.ag-header-cell.ag-header-active .ag-header-cell-menu-button{opacity:1}.ag-header-cell-menu-button:not(.ag-header-menu-always-show){transition:opacity 0.2s;opacity:0}.ag-header-cell-label,.ag-header-group-cell-label{display:flex;flex:1 1 auto;align-self:stretch;align-items:center;overflow:hidden}.ag-header-cell-label{text-overflow:ellipsis}.ag-header-group-cell-label.ag-sticky-label{position:sticky;flex:none;max-width:100%;overflow:visible}.ag-header-cell-text,.ag-header-group-text{overflow:hidden;text-overflow:ellipsis}.ag-header-cell-text{word-break:break-word}.ag-header-group-cell .ag-header-cell-comp-wrapper{display:flex}.ag-header-cell:not(.ag-header-cell-auto-height) .ag-header-cell-comp-wrapper{height:100%;display:flex;align-items:center}.ag-header-cell-comp-wrapper{width:100%}.ag-header-cell-wrap-text .ag-header-cell-comp-wrapper{white-space:normal}.ag-right-aligned-header .ag-header-cell-label{flex-direction:row-reverse}.ag-header-cell-resize{position:absolute;z-index:2;height:100%;width:8px;top:0;cursor:ew-resize}.ag-ltr .ag-header-cell-resize{right:-3px}.ag-rtl .ag-header-cell-resize{left:-3px}.ag-pinned-left-header .ag-header-cell-resize{right:-3px}.ag-pinned-right-header .ag-header-cell-resize{left:-3px}.ag-header-select-all{display:flex}.ag-floating-filter-button-button,.ag-header-cell-filter-button,.ag-header-cell-menu-button{cursor:pointer}.ag-column-moving .ag-cell,.ag-column-moving .ag-header-cell{transition:left 0.2s}.ag-column-moving .ag-header-group-cell{transition:left 0.2s, width 0.2s}.ag-column-panel,.ag-column-select{display:flex;flex-direction:column;overflow:hidden;flex:1 1 auto}.ag-column-select{position:relative;flex:3 1 0px}.ag-column-select-header{position:relative;display:flex;flex:none}.ag-column-select-header-icon{position:relative}.ag-column-select-header-filter-wrapper{flex:1 1 auto}.ag-column-select-header-filter{width:100%}.ag-column-select-list{flex:1 1 0px;overflow:hidden}.ag-column-drop{position:relative;display:inline-flex;align-items:center;overflow:auto;width:100%}.ag-column-drop-cell,.ag-column-drop-list{display:flex;align-items:center}.ag-column-drop-cell{position:relative}.ag-column-drop-cell-text{overflow:hidden;flex:1 1 auto;text-overflow:ellipsis;white-space:nowrap}.ag-column-drop-vertical{display:flex;flex-direction:column;overflow:hidden;align-items:stretch;flex:1 1 0px}.ag-column-drop-vertical-title-bar{display:flex;align-items:center;flex:none}.ag-column-drop-vertical-list{position:relative;align-items:stretch;flex-grow:1;flex-direction:column;overflow-x:auto}.ag-column-drop-vertical-list>*{flex:none}.ag-column-drop-empty .ag-column-drop-vertical-list{overflow:hidden}.ag-column-drop-vertical-empty-message{display:block}.ag-column-drop.ag-column-drop-horizontal{white-space:nowrap;overflow:hidden}.ag-column-drop-cell-button{cursor:pointer}.ag-filter-toolpanel{flex:1 1 0px;min-width:0}.ag-filter-toolpanel-header{position:relative}.ag-filter-toolpanel-header,.ag-filter-toolpanel-header>*,.ag-filter-toolpanel-search,.ag-filter-toolpanel-search>*{display:flex;align-items:center}.ag-filter-apply-panel{display:flex;justify-content:flex-end;overflow:hidden}.ag-row-animation .ag-row{transition:transform 0.4s, top 0.4s, opacity 0.2s}.ag-row-animation .ag-row.ag-after-created{transition:transform 0.4s, top 0.4s, height 0.4s, opacity 0.2s}.ag-row-no-animation .ag-row{transition:none}.ag-row{white-space:nowrap;width:100%}.ag-row-loading{display:flex;align-items:center}.ag-row-position-absolute{position:absolute}.ag-row-position-relative{position:relative}.ag-full-width-row{overflow:hidden;pointer-events:all}.ag-row-inline-editing{z-index:1}.ag-row-dragging{z-index:2}.ag-stub-cell{display:flex;align-items:center}.ag-cell{display:inline-block;position:absolute;white-space:nowrap;height:100%}.ag-cell-value,.ag-floating-filter-full-body>div{flex:1 1 auto}.ag-cell-value,.ag-group-value{overflow:hidden;text-overflow:ellipsis}.ag-cell-wrap-text{white-space:normal;word-break:break-word}.ag-cell-wrapper{display:flex;align-items:center}.ag-cell-wrapper.ag-row-group{align-items:flex-start}.ag-sparkline-wrapper{position:absolute;height:100%;width:100%;left:0;top:0}.ag-full-width-row .ag-cell-wrapper.ag-row-group{height:100%;align-items:center}.ag-cell-inline-editing{z-index:1}.ag-cell-inline-editing .ag-cell-edit-wrapper,.ag-cell-inline-editing .ag-cell-editor,.ag-cell-inline-editing .ag-cell-editor .ag-wrapper,.ag-cell-inline-editing .ag-cell-editor input,.ag-cell-inline-editing .ag-cell-wrapper{height:100%;width:100%;line-height:normal}.ag-cell .ag-icon{display:inline-block;vertical-align:middle}.ag-set-filter-item{display:flex;align-items:center;height:100%}.ag-set-filter-item-checkbox{display:flex;width:100%;height:100%}.ag-set-filter-group-icons{display:block}.ag-set-filter-group-icons>*{cursor:pointer}.ag-filter-body-wrapper{display:flex;flex-direction:column}.ag-filter-filter{flex:1 1 0px}.ag-filter-condition{display:flex;justify-content:center}.ag-floating-filter-body{position:relative;display:flex;flex:1 1 auto;height:100%}.ag-floating-filter-full-body{flex:1 1 auto;height:100%;overflow:hidden}.ag-floating-filter-full-body,.ag-floating-filter-input{align-items:center;display:flex;width:100%}.ag-floating-filter-input>*{flex:1 1 auto}.ag-floating-filter-button{display:flex;flex:none}.ag-set-floating-filter-input input[disabled]{pointer-events:none}.ag-dnd-ghost{display:inline-flex;align-items:center;cursor:move;white-space:nowrap}.ag-overlay{height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%;z-index:2}.ag-overlay-panel,.ag-overlay-wrapper{display:flex;height:100%;width:100%}.ag-overlay-wrapper{flex:none;align-items:center;justify-content:center;text-align:center}.ag-overlay-loading-wrapper{pointer-events:all}.ag-popup-child{z-index:5;top:0}.ag-popup-editor{position:absolute;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ag-large-text-input{display:block}.ag-virtual-list-item{position:absolute;width:100%}.ag-floating-top{overflow:hidden;white-space:nowrap;width:100%;position:relative;display:flex}.ag-pinned-left-floating-top,.ag-pinned-right-floating-top{display:inline-block;overflow:hidden;position:relative;min-width:0}.ag-floating-bottom{overflow:hidden;white-space:nowrap;width:100%;position:relative;display:flex}.ag-pinned-left-floating-bottom,.ag-pinned-right-floating-bottom{display:inline-block;overflow:hidden;position:relative;min-width:0}.ag-sticky-bottom,.ag-sticky-top{position:absolute;display:flex;width:100%;overflow:hidden;height:0}.ag-sticky-bottom{box-sizing:content-box !important}.ag-pinned-left-sticky-top,.ag-pinned-right-sticky-top{position:relative;height:100%;overflow:hidden}.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{overflow:hidden;width:100%;height:100%}.ag-dialog,.ag-panel{display:flex;flex-direction:column;overflow:hidden}.ag-panel{position:relative}.ag-panel-title-bar{display:flex;flex:none;align-items:center;cursor:default}.ag-panel-title-bar-title{flex:1 1 auto}.ag-panel-title-bar-buttons{display:flex}.ag-panel-title-bar-button{cursor:pointer}.ag-panel-content-wrapper{display:flex;flex:1 1 auto;position:relative;overflow:hidden}.ag-dialog,.ag-resizer{position:absolute}.ag-resizer{pointer-events:none;z-index:1;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ag-resizer.ag-resizer-topLeft{top:0;left:0;height:5px;width:5px;cursor:nwse-resize}.ag-resizer.ag-resizer-top{top:0;left:5px;right:5px;height:5px;cursor:ns-resize}.ag-resizer.ag-resizer-topRight{top:0;right:0;height:5px;width:5px;cursor:nesw-resize}.ag-resizer.ag-resizer-right{top:5px;right:0;bottom:5px;width:5px;cursor:ew-resize}.ag-resizer.ag-resizer-bottomRight{bottom:0;right:0;height:5px;width:5px;cursor:nwse-resize}.ag-resizer.ag-resizer-bottom{bottom:0;left:5px;right:5px;height:5px;cursor:ns-resize}.ag-resizer.ag-resizer-bottomLeft{bottom:0;left:0;height:5px;width:5px;cursor:nesw-resize}.ag-resizer.ag-resizer-left{left:0;top:5px;bottom:5px;width:5px;cursor:ew-resize}.ag-tooltip,.ag-tooltip-custom{position:absolute;z-index:99999}.ag-tooltip-custom:not(.ag-tooltip-interactive),.ag-tooltip:not(.ag-tooltip-interactive){pointer-events:none}.ag-value-slide-out{margin-right:5px;opacity:1;transition:opacity 3s, margin-right 3s;transition-timing-function:linear}.ag-value-slide-out-end{margin-right:10px;opacity:0}.ag-opacity-zero{opacity:0 !important}.ag-menu{max-height:100%;overflow-y:auto;position:absolute;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ag-menu-column-select-wrapper{height:265px;overflow:auto}.ag-menu-column-select-wrapper .ag-column-select{height:100%}.ag-dialog .ag-panel-content-wrapper .ag-column-select{user-select:none}.ag-menu-list{display:table;width:100%}.ag-menu-option,.ag-menu-separator{display:table-row}.ag-menu-option-part,.ag-menu-separator-part{display:table-cell;vertical-align:middle}.ag-menu-option-text{white-space:nowrap}.ag-menu-option-custom{display:contents}.ag-compact-menu-option{width:100%;display:flex;flex-wrap:nowrap}.ag-compact-menu-option-text{white-space:nowrap;flex:1 1 auto}.ag-pill-container{display:flex;gap:0.25rem;flex-wrap:nowrap}.ag-pill{display:flex;white-space:nowrap;padding:0 0.25rem;align-items:center}.ag-pill .ag-pill-button{border:0;padding:0}.ag-rich-select{cursor:default;outline:0;height:100%}.ag-rich-select-value{display:flex;align-items:center;height:100%}.ag-rich-select-value .ag-picker-field-display{overflow:hidden;text-overflow:ellipsis}.ag-rich-select-value .ag-picker-field-display.ag-display-as-placeholder{opacity:0.5}.ag-rich-select-list{position:relative}.ag-rich-select-list .ag-loading-text{min-height:2rem}.ag-rich-select-row{display:flex;flex:1 1 auto;align-items:center;white-space:nowrap;overflow:hidden;height:100%}.ag-rich-select-field-input{flex:1 1 auto}.ag-rich-select-field-input .ag-input-field-input{padding:0 !important;border:0 !important;box-shadow:none !important;text-overflow:ellipsis}.ag-rich-select-field-input .ag-input-field-input::placeholder{opacity:0.8}.ag-autocomplete{align-items:center;display:flex}.ag-autocomplete>*{flex:1 1 auto}.ag-autocomplete-list-popup{position:absolute;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ag-autocomplete-list{position:relative}.ag-autocomplete-virtual-list-item{display:flex}.ag-autocomplete-row{display:flex;flex:1 1 auto;align-items:center;overflow:hidden}.ag-autocomplete-row-label{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ag-paging-panel{justify-content:flex-end}.ag-paging-page-summary-panel,.ag-paging-panel{display:flex;align-items:center}.ag-paging-button{position:relative}.ag-disabled .ag-paging-page-summary-panel{pointer-events:none}.ag-tool-panel-wrapper{display:flex;overflow-y:auto;overflow-x:hidden;cursor:default;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ag-column-select-column,.ag-column-select-column-group,.ag-select-agg-func-item{position:relative;align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;height:100%}.ag-column-select-column-group>*,.ag-column-select-column>*,.ag-select-agg-func-item>*{flex:none}.ag-column-select-column-label,.ag-select-agg-func-item{flex:1 1 auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-column-select-checkbox{display:flex}.ag-tool-panel-horizontal-resize{cursor:ew-resize;height:100%;position:absolute;top:0;width:5px;z-index:1}.ag-ltr .ag-side-bar-left .ag-tool-panel-horizontal-resize{right:-3px}.ag-ltr .ag-side-bar-right .ag-tool-panel-horizontal-resize,.ag-rtl .ag-side-bar-left .ag-tool-panel-horizontal-resize{left:-3px}.ag-rtl .ag-side-bar-right .ag-tool-panel-horizontal-resize{right:-3px}.ag-details-row{width:100%}.ag-details-row-fixed-height{height:100%}.ag-details-grid{width:100%}.ag-details-grid-fixed-height{height:100%}.ag-header-group-cell{display:flex;align-items:center;height:100%;position:absolute}.ag-header-group-cell-no-group.ag-header-span-height{display:none}.ag-cell-label-container{display:flex;justify-content:space-between;flex-direction:row-reverse;align-items:center;height:100%;width:100%}.ag-cell-label-container,.ag-header-group-cell-label{padding:5px 0}.ag-right-aligned-header .ag-cell-label-container{flex-direction:row}.ag-right-aligned-header .ag-header-cell-text{text-align:end}.ag-side-bar{display:flex;flex-direction:row-reverse}.ag-side-bar-left{order:-1;flex-direction:row}.ag-side-button-button{position:relative;display:flex;flex-direction:column;align-items:center;justify-content:center;flex-wrap:nowrap;white-space:nowrap;outline:0;cursor:pointer}.ag-side-button-label{writing-mode:vertical-lr}.ag-status-bar{display:flex;justify-content:space-between;overflow:hidden}.ag-status-panel{display:inline-flex}.ag-status-name-value{white-space:nowrap}.ag-status-bar-center,.ag-status-bar-left,.ag-status-bar-right{display:inline-flex}.ag-icon{display:block;speak:none}.ag-group{position:relative;width:100%}.ag-group-title-bar{display:flex;align-items:center}.ag-group-title{display:inline;min-width:0;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.ag-group-title-bar .ag-group-title{cursor:default}.ag-group-toolbar{display:flex;align-items:center}.ag-group-container{display:flex}.ag-disabled .ag-group-container{pointer-events:none}.ag-group-container-horizontal{flex-direction:row;flex-wrap:wrap}.ag-group-container-vertical{flex-direction:column}.ag-column-group-icons{display:block}.ag-column-group-icons>*{cursor:pointer}.ag-group-item-alignment-stretch .ag-group-item{align-items:stretch}.ag-group-item-alignment-start .ag-group-item{align-items:flex-start}.ag-group-item-alignment-end .ag-group-item{align-items:flex-end}.ag-toggle-button-icon{transition:right 0.3s;position:absolute;top:-1px}.ag-input-field,.ag-select{display:flex;flex-direction:row;align-items:center}.ag-input-field-input,.ag-slider-wrapper .ag-input-field{flex:1 1 auto}.ag-floating-filter-input .ag-input-field-input[type=date]{width:1px}.ag-angle-select,.ag-range-field{display:flex;align-items:center}.ag-angle-select-wrapper{display:flex}.ag-angle-select-parent-circle{display:block;position:relative}.ag-angle-select-child-circle,.ag-measurement-container div{position:absolute}.ag-slider-wrapper{display:flex}.ag-picker-field-display{flex:1 1 auto}.ag-picker-field{display:flex;align-items:center}.ag-picker-field-icon{display:flex;border:0;padding:0;margin:0;cursor:pointer}.ag-picker-field-wrapper{overflow:hidden}.ag-label-align-right .ag-label{order:1}.ag-label-align-right>*{flex:none}.ag-label-align-top{flex-direction:column;align-items:flex-start}.ag-label-align-top>*{align-self:stretch}.ag-label-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;flex:1}.ag-color-panel{width:100%;display:flex;flex-direction:column;text-align:center}.ag-spectrum-color{flex:1 1 auto;position:relative;overflow:visible;cursor:default}.ag-spectrum-fill{position:absolute;top:0;left:0;right:0;bottom:0}.ag-spectrum-val{cursor:pointer}.ag-spectrum-dragger{position:absolute;pointer-events:none;cursor:pointer}.ag-spectrum-alpha,.ag-spectrum-hue{cursor:default}.ag-spectrum-hue-background{background:linear-gradient(to left, red 3%, #ff0 17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, red 100%);width:100%;height:100%}.ag-spectrum-alpha{--ag-spectrum-alpha-background-checked:url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="4" height="4"><rect x="0" y="0" width="4" height="4" fill="%23fff"/><path d="M0 0H2V4H4V2H0Z" fill="%23b2b2b2"/></svg>\')}.ag-spectrum-alpha-background{background:linear-gradient(to right, var(--ag-internal-spectrum-alpha-color-from), var(--ag-internal-spectrum-alpha-color-to)), var(--ag-spectrum-alpha-background-checked) top left/4px 4px;width:100%;height:100%}.ag-spectrum-tool{cursor:pointer;position:relative}.ag-spectrum-slider{position:absolute;pointer-events:none}.ag-spectrum-alpha .ag-spectrum-slider{background:linear-gradient(to bottom, var(--ag-internal-spectrum-alpha-color), var(--ag-internal-spectrum-alpha-color)) white}.ag-recent-colors{display:flex}.ag-recent-color{cursor:pointer}.ag-pill-select{display:flex;flex-direction:column}.ag-pill-select .ag-column-drop{flex:unset}.ag-ltr{direction:ltr}.ag-ltr .ag-body,.ag-ltr .ag-body-horizontal-scroll,.ag-ltr .ag-body-viewport,.ag-ltr .ag-floating-bottom,.ag-ltr .ag-floating-top,.ag-ltr .ag-header,.ag-ltr .ag-sticky-bottom,.ag-ltr .ag-sticky-top{flex-direction:row}.ag-rtl{direction:rtl}.ag-rtl .ag-body,.ag-rtl .ag-body-horizontal-scroll,.ag-rtl .ag-body-viewport,.ag-rtl .ag-floating-bottom,.ag-rtl .ag-floating-top,.ag-rtl .ag-header,.ag-rtl .ag-sticky-bottom,.ag-rtl .ag-sticky-top{flex-direction:row-reverse}.ag-rtl .ag-icon-contracted,.ag-rtl .ag-icon-expanded,.ag-rtl .ag-icon-tree-closed{display:block;transform:rotate(180deg)}.ag-body .ag-body-viewport{-webkit-overflow-scrolling:touch}.ag-measurement-container{width:0;overflow:hidden;visibility:hidden}.ag-layout-print.ag-body{display:block;height:unset}.ag-layout-print.ag-root-wrapper{display:inline-block}.ag-layout-print .ag-body-horizontal-scroll,.ag-layout-print .ag-body-vertical-scroll{display:none}.ag-layout-print.ag-force-vertical-scroll{overflow-y:visible !important}@media print{.ag-root-wrapper.ag-layout-print{display:table}.ag-root-wrapper.ag-layout-print .ag-body-horizontal-scroll-viewport,.ag-root-wrapper.ag-layout-print .ag-body-viewport,.ag-root-wrapper.ag-layout-print .ag-center-cols-container,.ag-root-wrapper.ag-layout-print .ag-center-cols-viewport,.ag-root-wrapper.ag-layout-print .ag-root,.ag-root-wrapper.ag-layout-print .ag-root-wrapper-body,.ag-root-wrapper.ag-layout-print .ag-virtual-list-viewport{height:auto !important;overflow:hidden !important;display:block !important}.ag-root-wrapper.ag-layout-print .ag-cell,.ag-root-wrapper.ag-layout-print .ag-row{break-inside:avoid}}[class^=ag-],[class^=ag-]:after,[class^=ag-]:before,[class^=ag-]:focus{box-sizing:border-box;outline:0}[class^=ag-]::-ms-clear{display:none}.ag-checkbox .ag-input-wrapper,.ag-radio-button .ag-input-wrapper{overflow:visible}.ag-range-field .ag-input-wrapper{height:100%}.ag-toggle-button{flex:none;width:unset;min-width:unset}.ag-button{border-radius:0;color:var(--ag-foreground-color)}.ag-button:hover{background-color:transparent}.ag-ltr .ag-label-align-right .ag-label{margin-left:var(--ag-grid-size)}.ag-rtl .ag-label-align-right .ag-label{margin-right:var(--ag-grid-size)}input[class^=ag-]{margin:0;background-color:var(--ag-background-color)}input[class^=ag-]:not([type]),input[class^=ag-][type=date],input[class^=ag-][type=datetime-local],input[class^=ag-][type=number],input[class^=ag-][type=tel],input[class^=ag-][type=text],textarea[class^=ag-]{font-size:inherit;line-height:inherit;color:inherit;font-family:inherit;border:var(--ag-borders-input) var(--ag-input-border-color)}input[class^=ag-]:not([type]):disabled,input[class^=ag-][type=date]:disabled,input[class^=ag-][type=datetime-local]:disabled,input[class^=ag-][type=number]:disabled,input[class^=ag-][type=tel]:disabled,input[class^=ag-][type=text]:disabled,textarea[class^=ag-]:disabled{color:var(--ag-disabled-foreground-color);background-color:var(--ag-input-disabled-background-color);border-color:var(--ag-input-disabled-border-color)}input[class^=ag-]:not([type]):focus,input[class^=ag-][type=date]:focus,input[class^=ag-][type=datetime-local]:focus,input[class^=ag-][type=number]:focus,input[class^=ag-][type=tel]:focus,input[class^=ag-][type=text]:focus,textarea[class^=ag-]:focus{outline:0;box-shadow:var(--ag-input-focus-box-shadow);border-color:var(--ag-input-focus-border-color)}input[class^=ag-]:not([type]):invalid,input[class^=ag-][type=date]:invalid,input[class^=ag-][type=datetime-local]:invalid,input[class^=ag-][type=number]:invalid,input[class^=ag-][type=tel]:invalid,input[class^=ag-][type=text]:invalid,textarea[class^=ag-]:invalid{border:var(--ag-borders-input-invalid) var(--ag-input-border-color-invalid)}input[class^=ag-][type=number]:not(.ag-number-field-input-stepper){-moz-appearance:textfield}input[class^=ag-][type=number]:not(.ag-number-field-input-stepper)::-webkit-inner-spin-button,input[class^=ag-][type=number]:not(.ag-number-field-input-stepper)::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[class^=ag-][type=range]{padding:0;-webkit-appearance:none;width:100%;height:100%;background:0 0;overflow:visible}button[class^=ag-]:focus,input[class^=ag-][type=button]:focus{box-shadow:var(--ag-input-focus-box-shadow)}.ag-drag-handle{color:var(--ag-secondary-foreground-color)}.ag-list-item,.ag-virtual-list-item{height:var(--ag-list-item-height)}.ag-virtual-list-item:focus-visible{outline:0}.ag-virtual-list-item:focus-visible::after{content:"";position:absolute;background-color:transparent;pointer-events:none;top:4px;left:4px;display:block;width:calc(100% - 8px);height:calc(100% - 8px);border:1px solid;border-color:var(--ag-input-focus-border-color)}.ag-select-list{background-color:var(--ag-background-color);overflow-y:auto;overflow-x:hidden;border-radius:var(--ag-border-radius);border:var(--ag-borders) var(--ag-border-color)}.ag-list-item{display:flex;align-items:center;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ag-list-item.ag-active-item{background-color:var(--ag-row-hover-color)}.ag-select-list-item{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.ag-ltr .ag-select-list-item{padding-left:calc(var(--ag-cell-horizontal-padding) / 2)}.ag-rtl .ag-select-list-item{padding-right:calc(var(--ag-cell-horizontal-padding) / 2)}.ag-select-list-item span{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.ag-group-contracted,.ag-group-expanded,.ag-row-drag,.ag-selection-checkbox{color:var(--ag-secondary-foreground-color)}.ag-ltr .ag-group-contracted,.ag-ltr .ag-group-expanded,.ag-ltr .ag-row-drag,.ag-ltr .ag-selection-checkbox{margin-right:var(--ag-cell-widget-spacing)}.ag-rtl .ag-group-contracted,.ag-rtl .ag-group-expanded,.ag-rtl .ag-row-drag,.ag-rtl .ag-selection-checkbox{margin-left:var(--ag-cell-widget-spacing)}.ag-cell-wrapper>:not(.ag-cell-value):not(.ag-group-value){--ag-internal-calculated-line-height:var(\n      --ag-line-height,\n      calc(var(--ag-row-height) - var(--ag-row-border-width))\n  );--ag-internal-padded-row-height:calc(var(--ag-row-height) - var(--ag-row-border-width));height:min(var(--ag-internal-calculated-line-height), var(--ag-internal-padded-row-height));display:flex;align-items:center;flex:none}.ag-group-contracted,.ag-group-expanded{cursor:pointer}.ag-group-title-bar-icon{cursor:pointer;flex:none;color:var(--ag-secondary-foreground-color)}.ag-ltr .ag-group-child-count{margin-left:2px}.ag-rtl .ag-group-child-count{margin-right:2px}.ag-group-title-bar,.ag-group-toolbar{background-color:var(--ag-subheader-background-color);padding:var(--ag-grid-size)}.ag-group-toolbar{background-color:var(--ag-subheader-toolbar-background-color)}.ag-disabled-group-container,.ag-disabled-group-title-bar{opacity:0.5}.group-item{margin:calc(var(--ag-grid-size) * 0.5) 0}.ag-label{white-space:nowrap}.ag-ltr .ag-label{margin-right:var(--ag-grid-size)}.ag-rtl .ag-label{margin-left:var(--ag-grid-size)}.ag-label-align-top .ag-label{margin-bottom:calc(var(--ag-grid-size) * 0.5)}.ag-angle-select[disabled]{color:var(--ag-disabled-foreground-color);pointer-events:none}.ag-angle-select[disabled] .ag-angle-select-field{opacity:0.4}.ag-ltr .ag-angle-select-field,.ag-ltr .ag-slider-field{margin-right:calc(var(--ag-grid-size) * 2)}.ag-rtl .ag-angle-select-field,.ag-rtl .ag-slider-field{margin-left:calc(var(--ag-grid-size) * 2)}.ag-angle-select-parent-circle{width:24px;height:24px;border-radius:12px;border:solid 1px;border-color:var(--ag-border-color);background-color:var(--ag-background-color)}.ag-angle-select-child-circle{top:4px;left:12px;width:6px;height:6px;margin-left:-3px;margin-top:-4px;border-radius:3px;background-color:var(--ag-secondary-foreground-color)}.ag-picker-field-wrapper{border:var(--ag-borders);border-color:var(--ag-border-color);border-radius:5px;background-color:var(--ag-background-color)}.ag-picker-field-wrapper:disabled{color:var(--ag-disabled-foreground-color);background-color:var(--ag-input-disabled-background-color);border-color:var(--ag-input-disabled-border-color)}.ag-picker-field-wrapper.ag-picker-has-focus,.ag-picker-field-wrapper:focus-within{outline:0;box-shadow:var(--ag-input-focus-box-shadow);border-color:var(--ag-input-focus-border-color)}.ag-picker-field-button{background-color:var(--ag-background-color);color:var(--ag-secondary-foreground-color)}.ag-dialog.ag-color-dialog{border-radius:5px}.ag-color-picker .ag-picker-field-wrapper{padding-left:var(--ag-grid-size);padding-right:var(--ag-grid-size)}.ag-color-picker .ag-picker-field-display{display:flex;flex-direction:row;align-items:center;min-height:var(--ag-list-item-height)}.ag-ltr .ag-color-picker-color,.ag-ltr .ag-color-picker-value{margin-right:var(--ag-grid-size)}.ag-ltr .ag-color-input .ag-color-input-color,.ag-rtl .ag-color-picker-color,.ag-rtl .ag-color-picker-value{margin-left:var(--ag-grid-size)}.ag-color-panel{padding:var(--ag-grid-size)}.ag-spectrum-color{background-color:red;border-radius:2px}.ag-spectrum-tools{padding:10px}.ag-spectrum-sat{background-image:linear-gradient(to right, #fff, rgba(204, 154, 129, 0))}.ag-spectrum-val{background-image:linear-gradient(to top, #000, rgba(204, 154, 129, 0))}.ag-spectrum-dragger{border-radius:12px;height:12px;width:12px;border:2px solid #fff;background:#000;box-shadow:0 0 2px 0 rgba(0, 0, 0, 0.24)}.ag-spectrum-alpha-background,.ag-spectrum-hue-background{border-radius:2px}.ag-spectrum-tool{margin-bottom:10px;height:11px;border-radius:2px}.ag-spectrum-slider{margin-top:-12px;width:13px;height:13px;border-radius:13px;border:2px solid #fff;box-shadow:0 1px 4px 0 rgba(0, 0, 0, 0.37)}.ag-recent-colors{margin-top:10px}.ag-recent-color{margin:0 3px}.ag-recent-color:first-child{margin-left:0}.ag-recent-color:last-child{margin-right:0}.ag-recent-color:focus-visible:not(:disabled):not([readonly]),.ag-spectrum-color:focus-visible:not(:disabled):not([readonly]),.ag-spectrum-slider:focus-visible:not(:disabled):not([readonly]){box-shadow:var(--ag-input-focus-box-shadow)}.ag-ltr .ag-color-input input[class^=ag-][type=text].ag-input-field-input{padding-left:calc(var(--ag-icon-size) + var(--ag-grid-size) * 2)}.ag-rtl .ag-color-input input[class^=ag-][type=text].ag-input-field-input{padding-right:calc(var(--ag-icon-size) + var(--ag-grid-size) * 2)}.ag-color-input .ag-color-input-color{position:absolute}.ag-rtl .ag-color-input .ag-color-input-color{margin-right:var(--ag-grid-size)}.ag-color-input-color,.ag-color-picker-color,.ag-dnd-ghost{border:var(--ag-borders-secondary) var(--ag-secondary-border-color)}.ag-color-input-color,.ag-color-picker-color{width:var(--ag-icon-size);height:var(--ag-icon-size);border-radius:2px}.ag-dnd-ghost{background:var(--ag-background-color);border-radius:var(--ag-card-radius);box-shadow:var(--ag-card-shadow);padding:var(--ag-grid-size);overflow:hidden;text-overflow:ellipsis;color:var(--ag-secondary-foreground-color);height:var(--ag-header-height);line-height:var(--ag-header-height);margin:0;padding:0 calc(var(--ag-grid-size) * 2);transform:translateY(calc(var(--ag-grid-size) * 2))}.ag-dnd-ghost-icon{margin-right:var(--ag-grid-size);color:var(--ag-foreground-color)}.ag-popup-child:not(.ag-tooltip-custom){box-shadow:var(--ag-popup-shadow)}.ag-select .ag-picker-field-wrapper{min-height:var(--ag-list-item-height);cursor:default}.ag-ltr .ag-select .ag-picker-field-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding) / 2)}.ag-rtl .ag-select .ag-picker-field-wrapper{padding-right:calc(var(--ag-cell-horizontal-padding) / 2)}.ag-ltr .ag-select .ag-picker-field-wrapper{padding-right:var(--ag-grid-size)}.ag-rtl .ag-select .ag-picker-field-wrapper{padding-left:var(--ag-grid-size)}.ag-charts-wrapper .ag-charts-proxy-legend-toolbar button:focus,.ag-select.ag-disabled .ag-picker-field-wrapper:focus,button.ag-side-button-button:focus{box-shadow:none}.ag-select:not(.ag-cell-editor,.ag-label-align-top){min-height:var(--ag-list-item-height)}.ag-select .ag-picker-field-display{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ag-select .ag-picker-field-icon{display:flex;align-items:center}.ag-select.ag-disabled{opacity:0.5}.ag-rich-select-list,.ag-rich-select-value{background-color:var(--ag-background-color)}.ag-rich-select-list{width:100%;height:auto;border-radius:var(--ag-border-radius);border:var(--ag-borders) var(--ag-border-color)}.ag-rich-select-list .ag-loading-text{padding:var(--ag-widget-vertical-spacing) var(--ag-widget-horizontal-spacing)}.ag-rich-select-value{border-bottom:var(--ag-borders-secondary) var(--ag-secondary-border-color);padding-top:0;padding-bottom:0}.ag-ltr .ag-rich-select-value{padding-left:calc(var(--ag-cell-horizontal-padding) / 2)}.ag-rtl .ag-rich-select-value{padding-right:calc(var(--ag-cell-horizontal-padding) / 2)}.ag-ltr .ag-rich-select-value{padding-right:var(--ag-grid-size)}.ag-rtl .ag-rich-select-value{padding-left:var(--ag-grid-size)}.ag-ltr .ag-rich-select-field-input{left:calc(var(--ag-cell-horizontal-padding))}.ag-rtl .ag-rich-select-field-input{right:calc(var(--ag-cell-horizontal-padding))}.ag-popup-editor .ag-rich-select-value{height:var(--ag-row-height);min-width:200px}.ag-rich-select-virtual-list-item{cursor:default;height:var(--ag-list-item-height)}.ag-autocomplete-virtual-list-item:focus-visible::after,.ag-rich-select-virtual-list-item:focus-visible::after{content:none}.ag-ltr .ag-rich-select-row{padding-left:calc(var(--ag-cell-horizontal-padding) / 2)}.ag-rtl .ag-rich-select-row{padding-right:calc(var(--ag-cell-horizontal-padding) / 2)}.ag-rich-select-row-selected{background-color:var(--ag-selected-row-background-color)}.ag-rich-select-row-highlighted,.ag-rich-select-row:hover{background-image:linear-gradient(var(--ag-row-hover-color), var(--ag-row-hover-color))}.ag-rich-select-row-text-highlight{font-weight:700}.ag-autocomplete{width:100%}.ag-autocomplete-list{width:100%;min-width:200px;height:calc(var(--ag-row-height) * 6.5)}.ag-autocomplete-virtual-list-item{cursor:default;height:var(--ag-list-item-height)}.ag-autocomplete-virtual-list-item:hover{background-color:var(--ag-row-hover-color)}.ag-autocomplete-row-label{margin:0 var(--ag-widget-container-horizontal-padding)}.ag-autocomplete-row-selected{background-color:var(--ag-selected-row-background-color)}.ag-pill{border:1px solid var(--ag-chip-border-color);border-radius:var(--ag-border-radius);background-color:var(--ag-chip-background-color)}.ag-ltr .ag-pill .ag-pill-button{margin-left:var(--ag-grid-size)}.ag-rtl .ag-pill .ag-pill-button{margin-right:var(--ag-grid-size)}.ag-pill:focus-visible{border-color:var(--ag-input-focus-border-color)}.ag-pill .ag-pill-button:hover{cursor:pointer}.ag-dragging-fill-handle .ag-dialog,.ag-dragging-range-handle .ag-dialog{opacity:0.7;pointer-events:none}.ag-dialog{border-radius:var(--ag-border-radius);border:var(--ag-borders) var(--ag-border-color);box-shadow:var(--ag-popup-shadow)}.ag-panel{background-color:var(--ag-panel-background-color);border-color:var(--ag-panel-border-color)}.ag-panel-title-bar{color:var(--ag-header-foreground-color);height:var(--ag-header-height);padding:var(--ag-grid-size) var(--ag-cell-horizontal-padding);border-bottom:var(--ag-borders) var(--ag-border-color)}.ag-ltr .ag-panel-title-bar-button{margin-left:var(--ag-grid-size)}.ag-rtl .ag-panel-title-bar-button{margin-right:var(--ag-grid-size)}.ag-tooltip{background-color:var(--ag-tooltip-background-color);color:var(--ag-foreground-color);padding:var(--ag-grid-size);border:var(--ag-borders) var(--ag-border-color);border-radius:var(--ag-card-radius);white-space:normal}.ag-tooltip-custom.ag-tooltip-animate,.ag-tooltip.ag-tooltip-animate{transition:opacity 1s}.ag-tooltip-custom.ag-tooltip-animate.ag-tooltip-hiding,.ag-tooltip.ag-tooltip-animate.ag-tooltip-hiding{opacity:0}.ag-ltr .ag-column-select-column,.ag-ltr .ag-column-select-column-group{padding-left:calc(var(--ag-indentation-level) * var(--ag-column-select-indent-size))}.ag-rtl .ag-column-select-column,.ag-rtl .ag-column-select-column-group{padding-right:calc(var(--ag-indentation-level) * var(--ag-column-select-indent-size))}.ag-column-select-header-icon{cursor:pointer}.ag-column-select-header-icon:focus-visible,.ag-column-select-virtual-list-item:focus-visible{outline:0}.ag-column-select-header-icon:focus-visible::after{content:"";position:absolute;background-color:transparent;pointer-events:none;top:0;left:0;display:block;width:calc(100% - 0px);height:calc(100% - 0px);border:1px solid;border-color:var(--ag-input-focus-border-color)}.ag-ltr .ag-column-group-icons:not(:last-child),.ag-ltr .ag-column-select-checkbox:not(:last-child),.ag-ltr .ag-column-select-column-drag-handle:not(:last-child),.ag-ltr .ag-column-select-column-group-drag-handle:not(:last-child),.ag-ltr .ag-column-select-column-label:not(:last-child),.ag-ltr .ag-column-select-header-checkbox:not(:last-child),.ag-ltr .ag-column-select-header-filter-wrapper:not(:last-child),.ag-ltr .ag-column-select-header-icon:not(:last-child){margin-right:var(--ag-widget-horizontal-spacing)}.ag-rtl .ag-column-group-icons:not(:last-child),.ag-rtl .ag-column-select-checkbox:not(:last-child),.ag-rtl .ag-column-select-column-drag-handle:not(:last-child),.ag-rtl .ag-column-select-column-group-drag-handle:not(:last-child),.ag-rtl .ag-column-select-column-label:not(:last-child),.ag-rtl .ag-column-select-header-checkbox:not(:last-child),.ag-rtl .ag-column-select-header-filter-wrapper:not(:last-child),.ag-rtl .ag-column-select-header-icon:not(:last-child){margin-left:var(--ag-widget-horizontal-spacing)}.ag-column-select-virtual-list-item:focus-visible::after{content:"";position:absolute;background-color:transparent;pointer-events:none;top:1px;left:1px;display:block;width:calc(100% - 2px);height:calc(100% - 2px);border:1px solid;border-color:var(--ag-input-focus-border-color)}.ag-column-select-column-group:not(:last-child),.ag-column-select-column:not(:last-child){margin-bottom:var(--ag-widget-vertical-spacing)}.ag-column-select-column-group-readonly,.ag-column-select-column-readonly{color:var(--ag-disabled-foreground-color);pointer-events:none}.ag-ltr .ag-column-select-add-group-indent{margin-left:calc(var(--ag-icon-size) + var(--ag-grid-size) * 2)}.ag-rtl .ag-column-select-add-group-indent{margin-right:calc(var(--ag-icon-size) + var(--ag-grid-size) * 2)}.ag-column-select-virtual-list-viewport{padding:calc(var(--ag-widget-container-vertical-padding) * 0.5) 0}.ag-column-select-virtual-list-item{padding:0 var(--ag-widget-container-horizontal-padding)}.ag-checkbox-edit{padding-left:var(--ag-cell-horizontal-padding);padding-right:var(--ag-cell-horizontal-padding)}.ag-pill-select .ag-column-drop{border-bottom:0;min-height:unset}.ag-pill-select .ag-column-drop-list{padding:0}.ag-pill-select .ag-select{padding-top:var(--ag-grid-size)}.ag-pill-select .ag-picker-field-wrapper{background-color:transparent;border:0}.ag-pill-select .ag-picker-field-display{cursor:pointer}.ag-rtl{text-align:right}.ag-root-wrapper{border-radius:var(--ag-wrapper-border-radius);border:var(--ag-borders) var(--ag-border-color)}.ag-row>.ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size) * var(--ag-indentation-level))}.ag-cell-wrapper.ag-pivot-leaf-group,.ag-cell-wrapper.ag-row-group,.ag-cell-wrapper.ag-row-group-leaf-indent{padding-left:calc(var(--ag-indentation-level) * var(--ag-row-group-indent-size))}.ag-ltr .ag-row-group-leaf-indent{margin-left:var(--ag-row-group-indent-size)}.ag-rtl .ag-row-group-leaf-indent{margin-right:var(--ag-row-group-indent-size)}.ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-left:var(--ag-row-group-indent-size)}.ag-value-change-delta{padding-right:2px}.ag-value-change-delta-up{color:var(--ag-value-change-delta-up-color)}.ag-value-change-delta-down{color:var(--ag-value-change-delta-down-color)}.ag-value-change-value{background-color:transparent;border-radius:1px;padding-left:1px;padding-right:1px;transition:background-color 1s}.ag-value-change-value-highlight{background-color:var(--ag-value-change-value-highlight-background-color);transition:background-color 0.1s}.ag-cell-data-changed{background-color:var(--ag-value-change-value-highlight-background-color) !important}.ag-cell-data-changed-animation{background-color:transparent}.ag-cell-highlight{background-color:var(--ag-range-selection-highlight-color) !important}.ag-row{height:var(--ag-row-height);background-color:var(--ag-background-color);color:var(--ag-data-color);border-bottom:var(--ag-row-border-style) var(--ag-row-border-color) var(--ag-row-border-width)}.ag-row-highlight-above::after,.ag-row-highlight-below::after{content:"";position:absolute;width:calc(100% - 1px);height:1px;background-color:var(--ag-range-selection-border-color);left:1px}.ag-row-highlight-above::after{top:0}.ag-row-highlight-below::after{bottom:0}.ag-row-odd{background-color:var(--ag-odd-row-background-color)}.ag-body-horizontal-scroll:not(.ag-scrollbar-invisible) .ag-horizontal-left-spacer:not(.ag-scroller-corner){border-right:var(--ag-borders-critical) var(--ag-border-color)}.ag-body-horizontal-scroll:not(.ag-scrollbar-invisible) .ag-horizontal-right-spacer:not(.ag-scroller-corner),.ag-cell.ag-cell-first-right-pinned:not(.ag-cell-range-left):not(.ag-cell-range-single-cell){border-left:var(--ag-borders-critical) var(--ag-border-color)}.ag-row-selected::before{content:"";background-color:var(--ag-selected-row-background-color);display:block;position:absolute;top:0;left:0;right:0;bottom:0}.ag-row-hover.ag-full-width-row.ag-row-group::before,.ag-row-hover:not(.ag-full-width-row)::before{content:"";background-color:var(--ag-row-hover-color);display:block;position:absolute;top:0;left:0;right:0;bottom:0;pointer-events:none}.ag-row-hover.ag-full-width-row.ag-row-group>*{position:relative}.ag-row-hover.ag-row-selected::before{background-color:var(--ag-row-hover-color);background-image:linear-gradient(var(--ag-selected-row-background-color), var(--ag-selected-row-background-color))}.ag-column-hover{background-color:var(--ag-column-hover-color)}.ag-ltr .ag-right-aligned-cell{text-align:right}.ag-rtl .ag-right-aligned-cell{text-align:left}.ag-ltr .ag-right-aligned-cell .ag-cell-value,.ag-ltr .ag-right-aligned-cell .ag-group-value{margin-left:auto}.ag-rtl .ag-right-aligned-cell .ag-cell-value,.ag-rtl .ag-right-aligned-cell .ag-group-value{margin-right:auto}.ag-ltr .ag-right-aligned-cell .ag-skeleton-effect{margin-left:auto}.ag-rtl .ag-right-aligned-cell .ag-skeleton-effect{margin-right:auto}.ag-cell,.ag-full-width-row .ag-cell-wrapper.ag-row-group{--ag-internal-calculated-line-height:var(\n      --ag-line-height,\n      calc(var(--ag-row-height) - var(--ag-row-border-width))\n  );--ag-internal-padded-row-height:calc(var(--ag-row-height) - var(--ag-row-border-width));border:1px solid transparent;line-height:min(var(--ag-internal-calculated-line-height), var(--ag-internal-padded-row-height));padding-left:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size) * var(--ag-indentation-level));padding-right:calc(var(--ag-cell-horizontal-padding) - 1px);-webkit-font-smoothing:subpixel-antialiased}.ag-row>.ag-cell-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}.ag-row-dragging{cursor:move;opacity:0.5}.ag-autocomplete-list-popup,.ag-cell-inline-editing,.ag-popup-editor .ag-large-text{border:1px solid var(--ag-border-color);border-radius:var(--ag-card-radius);box-shadow:var(--ag-card-shadow);padding:0;background-color:var(--ag-control-panel-background-color)}.ag-autocomplete-list-popup,.ag-popup-editor .ag-large-text{border:var(--ag-borders) var(--ag-border-color);background:var(--ag-background-color);padding:var(--ag-grid-size)}.ag-large-text-input{height:auto;padding:var(--ag-cell-horizontal-padding)}.ag-rtl .ag-large-text-input textarea{resize:none}.ag-details-row{padding:calc(var(--ag-grid-size) * 5);background-color:var(--ag-background-color)}.ag-layout-auto-height .ag-center-cols-container,.ag-layout-auto-height .ag-center-cols-viewport,.ag-layout-print .ag-center-cols-container,.ag-layout-print .ag-center-cols-viewport{min-height:50px}.ag-overlay-loading-wrapper{background-color:var(--ag-modal-overlay-background-color)}.ag-overlay-loading-center{border:var(--ag-borders) var(--ag-border-color);background:var(--ag-background-color);border-radius:var(--ag-card-radius);box-shadow:var(--ag-card-shadow);padding:var(--ag-grid-size)}.ag-skeleton-container{width:100%;height:100%;align-content:center}.ag-skeleton-effect{background-color:var(--ag-row-loading-skeleton-effect-color);width:100%;height:1em;border-radius:0.25rem;animation:ag-skeleton-loading 1.5s ease-in-out 0.5s infinite}.ag-loading{display:flex;height:100%;align-items:center}.ag-ltr .ag-loading{padding-left:var(--ag-cell-horizontal-padding)}.ag-rtl .ag-loading{padding-right:var(--ag-cell-horizontal-padding)}.ag-ltr .ag-loading-icon{padding-right:var(--ag-cell-widget-spacing)}.ag-rtl .ag-loading-icon{padding-left:var(--ag-cell-widget-spacing)}.ag-icon-loading{animation-name:spin;animation-duration:1000ms;animation-iteration-count:infinite;animation-timing-function:linear}.ag-floating-top{border-bottom:var(--ag-borders-critical) var(--ag-border-color)}.ag-floating-bottom{border-top:var(--ag-borders-critical) var(--ag-border-color)}.ag-ltr .ag-cell{border-right:var(--ag-cell-horizontal-border)}.ag-rtl .ag-cell{border-left:var(--ag-cell-horizontal-border)}.ag-ltr .ag-cell{border-right-width:1px}.ag-rtl .ag-cell{border-left-width:1px}.ag-cell.ag-cell-last-left-pinned:not(.ag-cell-range-right):not(.ag-cell-range-single-cell){border-right:var(--ag-borders-critical) var(--ag-border-color)}.ag-body-viewport:not(.ag-has-focus) .ag-cell-range-single-cell:not(.ag-cell-inline-editing),.ag-cell-range-selected-1:not(.ag-cell-focus),.ag-cell-range-selected:not(.ag-cell-focus){background-color:var(--ag-range-selection-background-color)}.ag-body-viewport:not(.ag-has-focus) .ag-cell-range-single-cell:not(.ag-cell-inline-editing).ag-cell-range-chart,.ag-cell-range-selected:not(.ag-cell-focus).ag-cell-range-chart{background-color:var(--ag-range-selection-chart-background-color) !important}.ag-body-viewport:not(.ag-has-focus) .ag-cell-range-single-cell:not(.ag-cell-inline-editing).ag-cell-range-chart.ag-cell-range-chart-category,.ag-cell-range-selected:not(.ag-cell-focus).ag-cell-range-chart.ag-cell-range-chart-category{background-color:var(--ag-range-selection-chart-category-background-color) !important}.ag-root:not(.ag-context-menu-open) .ag-body-viewport:not(.ag-has-focus) .ag-cell-range-selected-1:not(.ag-cell-inline-editing){background-color:var(--ag-range-selection-background-color)}.ag-body-viewport:not(.ag-has-focus) .ag-cell-range-selected-2,.ag-cell-range-selected-2:not(.ag-cell-focus){background-color:var(--ag-range-selection-background-color-2)}.ag-body-viewport:not(.ag-has-focus) .ag-cell-range-selected-3,.ag-cell-range-selected-3:not(.ag-cell-focus){background-color:var(--ag-range-selection-background-color-3)}.ag-body-viewport:not(.ag-has-focus) .ag-cell-range-selected-4,.ag-cell-range-selected-4:not(.ag-cell-focus){background-color:var(--ag-range-selection-background-color-4)}.ag-cell.ag-cell-range-selected:not(.ag-cell-range-single-cell).ag-cell-range-top{border-top-color:var(--ag-range-selection-border-color);border-top-style:var(--ag-range-selection-border-style)}.ag-cell.ag-cell-range-selected:not(.ag-cell-range-single-cell).ag-cell-range-right{border-right-color:var(--ag-range-selection-border-color);border-right-style:var(--ag-range-selection-border-style)}.ag-cell.ag-cell-range-selected:not(.ag-cell-range-single-cell).ag-cell-range-bottom{border-bottom-color:var(--ag-range-selection-border-color);border-bottom-style:var(--ag-range-selection-border-style)}.ag-cell.ag-cell-range-selected:not(.ag-cell-range-single-cell).ag-cell-range-left{border-left-color:var(--ag-range-selection-border-color);border-left-style:var(--ag-range-selection-border-style)}.ag-ltr .ag-cell-focus:not(.ag-cell-range-selected):focus-within,.ag-ltr .ag-cell-range-single-cell,.ag-ltr .ag-cell-range-single-cell.ag-cell-range-handle,.ag-ltr .ag-context-menu-open .ag-cell-focus:not(.ag-cell-range-selected),.ag-ltr .ag-full-width-row.ag-row-focus:focus .ag-cell-wrapper.ag-row-group,.ag-rtl .ag-cell-focus:not(.ag-cell-range-selected):focus-within,.ag-rtl .ag-cell-range-single-cell,.ag-rtl .ag-cell-range-single-cell.ag-cell-range-handle,.ag-rtl .ag-context-menu-open .ag-cell-focus:not(.ag-cell-range-selected),.ag-rtl .ag-full-width-row.ag-row-focus:focus .ag-cell-wrapper.ag-row-group{border:1px solid;border-color:var(--ag-range-selection-border-color);border-style:var(--ag-range-selection-border-style);outline:initial}.ag-cell.ag-selection-fill-top,.ag-cell.ag-selection-fill-top.ag-cell-range-selected{border-top:1px dashed;border-top-color:var(--ag-range-selection-border-color)}.ag-ltr .ag-cell.ag-selection-fill-right,.ag-ltr .ag-cell.ag-selection-fill-right.ag-cell-range-selected{border-right:1px dashed var(--ag-range-selection-border-color) !important}.ag-rtl .ag-cell.ag-selection-fill-right,.ag-rtl .ag-cell.ag-selection-fill-right.ag-cell-range-selected{border-left:1px dashed var(--ag-range-selection-border-color) !important}.ag-cell.ag-selection-fill-bottom,.ag-cell.ag-selection-fill-bottom.ag-cell-range-selected{border-bottom:1px dashed;border-bottom-color:var(--ag-range-selection-border-color)}.ag-ltr .ag-cell.ag-selection-fill-left,.ag-ltr .ag-cell.ag-selection-fill-left.ag-cell-range-selected{border-left:1px dashed var(--ag-range-selection-border-color) !important}.ag-rtl .ag-cell.ag-selection-fill-left,.ag-rtl .ag-cell.ag-selection-fill-left.ag-cell-range-selected{border-right:1px dashed var(--ag-range-selection-border-color) !important}.ag-fill-handle,.ag-range-handle{position:absolute;width:6px;height:6px;bottom:-1px;background-color:var(--ag-range-selection-border-color)}.ag-ltr .ag-fill-handle,.ag-ltr .ag-range-handle{right:-1px}.ag-rtl .ag-fill-handle,.ag-rtl .ag-range-handle{left:-1px}.ag-fill-handle{cursor:cell}.ag-range-handle{cursor:nwse-resize}.ag-cell-inline-editing{border-color:var(--ag-input-focus-border-color) !important}.ag-menu{border:var(--ag-borders) var(--ag-border-color);background:var(--ag-background-color);border-radius:var(--ag-card-radius);box-shadow:var(--ag-card-shadow);padding:var(--ag-grid-size);background-color:var(--ag-menu-background-color);border-color:var(--ag-menu-border-color);padding:0}.ag-menu.ag-tabs{min-width:var(--ag-tab-min-width)}.ag-menu-list{cursor:default;padding:var(--ag-grid-size) 0}.ag-menu-separator{height:calc(var(--ag-grid-size) * 2 + 1px)}.ag-menu-separator-part::after{content:"";display:block;border-top:var(--ag-borders-critical) var(--ag-border-color)}.ag-compact-menu-option-active,.ag-menu-option-active{background-color:var(--ag-row-hover-color)}.ag-compact-menu-option-part,.ag-menu-option-part{line-height:var(--ag-icon-size);padding:calc(var(--ag-grid-size) + 2px) 0}.ag-compact-menu-option-disabled,.ag-menu-option-disabled{opacity:0.5}.ag-compact-menu-option-icon,.ag-menu-option-icon{width:var(--ag-icon-size)}.ag-ltr .ag-compact-menu-option-icon,.ag-ltr .ag-menu-option-icon{padding-left:calc(var(--ag-grid-size) * 2)}.ag-rtl .ag-compact-menu-option-icon,.ag-rtl .ag-menu-option-icon{padding-right:calc(var(--ag-grid-size) * 2)}.ag-compact-menu-option-text,.ag-menu-option-text{padding-left:calc(var(--ag-grid-size) * 2);padding-right:calc(var(--ag-grid-size) * 2)}.ag-ltr .ag-compact-menu-option-shortcut,.ag-ltr .ag-menu-option-shortcut{padding-right:var(--ag-grid-size)}.ag-rtl .ag-compact-menu-option-shortcut,.ag-rtl .ag-menu-option-shortcut{padding-left:var(--ag-grid-size)}.ag-ltr .ag-compact-menu-option-popup-pointer,.ag-ltr .ag-menu-option-popup-pointer{padding-right:var(--ag-grid-size)}.ag-rtl .ag-compact-menu-option-popup-pointer,.ag-rtl .ag-menu-option-popup-pointer{padding-left:var(--ag-grid-size)}.ag-tabs-header,.ag-tabs-header-wrapper{display:flex}.ag-tabs-header-wrapper .ag-tabs-header{flex:1}.ag-tabs-close-button-wrapper{border:0;border-right:var(--ag-borders) var(--ag-border-color);padding:var(--ag-grid-size)}.ag-tabs-close-button{border:0;background-color:unset;cursor:pointer;padding:0}.ag-tab{border-bottom:var(--ag-selected-tab-underline-width) solid transparent;transition:border-bottom var(--ag-selected-tab-underline-transition-speed);display:flex;flex:none;align-items:center;justify-content:center;cursor:pointer}.ag-tab:focus-visible{outline:0}.ag-tab:focus-visible::after{content:"";position:absolute;background-color:transparent;pointer-events:none;top:4px;left:4px;display:block;width:calc(100% - 8px);height:calc(100% - 8px);border:1px solid;border-color:var(--ag-input-focus-border-color)}.ag-tab-selected{border-bottom-color:var(--ag-selected-tab-underline-color)}.ag-menu-header{color:var(--ag-secondary-foreground-color)}.ag-filter-separator{border-top:var(--ag-borders-critical) var(--ag-border-color)}.ag-filter-select .ag-picker-field-wrapper{width:0}.ag-filter-condition-operator{height:17px}.ag-ltr .ag-filter-condition-operator-or{margin-left:calc(var(--ag-grid-size) * 2)}.ag-rtl .ag-filter-condition-operator-or{margin-right:calc(var(--ag-grid-size) * 2)}.ag-set-filter-select-all{padding-top:var(--ag-widget-container-vertical-padding)}.ag-filter-no-matches,.ag-set-filter-list{height:calc(var(--ag-list-item-height) * 6)}.ag-set-filter-tree-list{height:calc(var(--ag-list-item-height) * 10)}.ag-set-filter-filter{margin-top:var(--ag-widget-container-vertical-padding);margin-left:var(--ag-widget-container-horizontal-padding);margin-right:var(--ag-widget-container-horizontal-padding)}.ag-filter-to{margin-top:var(--ag-widget-vertical-spacing)}.ag-mini-filter{margin:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}.ag-set-filter{--ag-indentation-level:0}.ag-ltr .ag-set-filter-item{padding-left:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level) * var(--ag-set-filter-indent-size))}.ag-rtl .ag-set-filter-item{padding-right:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level) * var(--ag-set-filter-indent-size))}.ag-ltr .ag-set-filter-add-group-indent{margin-left:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}.ag-rtl .ag-set-filter-add-group-indent{margin-right:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}.ag-ltr .ag-set-filter-group-icons{margin-right:var(--ag-widget-container-horizontal-padding)}.ag-rtl .ag-set-filter-group-icons{margin-left:var(--ag-widget-container-horizontal-padding)}.ag-filter-menu .ag-set-filter-list{min-width:200px}.ag-filter-virtual-list-item:focus-visible{outline:0}.ag-filter-virtual-list-item:focus-visible::after{content:"";position:absolute;background-color:transparent;pointer-events:none;top:1px;left:1px;display:block;width:calc(100% - 2px);height:calc(100% - 2px);border:1px solid;border-color:var(--ag-input-focus-border-color)}.ag-filter-apply-panel{padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);border-top:var(--ag-borders-secondary) var(--ag-secondary-border-color)}.ag-filter-apply-panel-button{line-height:1.5}.ag-ltr .ag-filter-apply-panel-button{margin-left:calc(var(--ag-grid-size) * 2)}.ag-rtl .ag-filter-apply-panel-button{margin-right:calc(var(--ag-grid-size) * 2)}.ag-simple-filter-body-wrapper{padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);padding-bottom:calc(var(--ag-widget-container-vertical-padding) - var(--ag-widget-vertical-spacing));overflow-y:auto;min-height:calc(var(--ag-list-item-height) + var(--ag-widget-container-vertical-padding) + var(--ag-widget-vertical-spacing))}.ag-simple-filter-body-wrapper>*{margin-bottom:var(--ag-widget-vertical-spacing)}.ag-simple-filter-body-wrapper .ag-resizer-wrapper{margin:0}.ag-menu:not(.ag-tabs) .ag-filter .ag-filter-body-wrapper,.ag-menu:not(.ag-tabs) .ag-filter>:not(.ag-filter-wrapper){min-width:calc(var(--ag-menu-min-width) - 2px)}.ag-filter-no-matches{padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}.ag-multi-filter-menu-item{margin:var(--ag-grid-size) 0}.ag-multi-filter-group-title-bar{padding:calc(var(--ag-grid-size) * 2) var(--ag-grid-size);background-color:transparent}.ag-group-filter-field-select-wrapper{padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);padding-bottom:calc(var(--ag-widget-container-vertical-padding) - var(--ag-widget-vertical-spacing))}.ag-group-filter-field-select-wrapper>*{margin-bottom:var(--ag-widget-vertical-spacing)}.ag-multi-filter-group-title-bar:focus-visible,.ag-side-button-button:focus-visible{outline:0}.ag-column-select-header:focus-visible::after,.ag-filter-toolpanel-header:focus-visible::after,.ag-multi-filter-group-title-bar:focus-visible::after,.ag-side-button-button:focus-visible::after{content:"";position:absolute;background-color:transparent;pointer-events:none;top:4px;left:4px;display:block;width:calc(100% - 8px);height:calc(100% - 8px);border:1px solid;border-color:var(--ag-input-focus-border-color)}.ag-side-bar{position:relative}.ag-tool-panel-wrapper{width:var(--ag-side-bar-panel-width);background-color:var(--ag-control-panel-background-color)}.ag-side-buttons{padding-top:calc(var(--ag-grid-size) * 4);width:calc(var(--ag-icon-size) + 4px);position:relative;overflow:hidden}button.ag-side-button-button{color:inherit;font-family:inherit;font-size:inherit;font-weight:inherit;line-height:inherit;background:0 0;padding:calc(var(--ag-grid-size) * 2) 0;width:100%;margin:0;min-height:calc(var(--ag-grid-size) * 18);background-position-y:center;background-position-x:center;background-repeat:no-repeat;border:0;border-top:var(--ag-borders-side-button) var(--ag-border-color);border-bottom:var(--ag-borders-side-button) var(--ag-border-color)}.ag-selected button.ag-side-button-button{background-color:var(--ag-side-button-selected-background-color)}.ag-side-button-icon-wrapper{margin-bottom:3px}.ag-ltr .ag-side-bar-left,.ag-rtl .ag-side-bar-right{border-right:var(--ag-borders) var(--ag-border-color)}.ag-ltr .ag-side-bar-left .ag-tool-panel-wrapper,.ag-ltr .ag-side-bar-right,.ag-rtl .ag-side-bar-left,.ag-rtl .ag-side-bar-right .ag-tool-panel-wrapper{border-left:var(--ag-borders) var(--ag-border-color)}.ag-ltr .ag-side-bar-left .ag-side-button-button,.ag-rtl .ag-side-bar-right .ag-side-button-button{border-right:var(--ag-selected-tab-underline-width) solid transparent;transition:border-right var(--ag-selected-tab-underline-transition-speed)}.ag-ltr .ag-side-bar-left .ag-selected .ag-side-button-button,.ag-rtl .ag-side-bar-right .ag-selected .ag-side-button-button{border-right-color:var(--ag-selected-tab-underline-color)}.ag-ltr .ag-side-bar-right .ag-tool-panel-wrapper,.ag-rtl .ag-side-bar-left .ag-tool-panel-wrapper{border-right:var(--ag-borders) var(--ag-border-color)}.ag-ltr .ag-side-bar-right .ag-side-button-button,.ag-rtl .ag-side-bar-left .ag-side-button-button{border-left:var(--ag-selected-tab-underline-width) solid transparent;transition:border-left var(--ag-selected-tab-underline-transition-speed)}.ag-ltr .ag-side-bar-right .ag-selected .ag-side-button-button,.ag-rtl .ag-side-bar-left .ag-selected .ag-side-button-button{border-left-color:var(--ag-selected-tab-underline-color)}.ag-filter-toolpanel-header{height:calc(var(--ag-grid-size) * 6)}.ag-filter-toolpanel-header,.ag-filter-toolpanel-search{padding:0 var(--ag-grid-size)}.ag-filter-toolpanel-header:focus-visible{outline:0}.ag-filter-toolpanel-group:not(.ag-has-filter)>.ag-group-title-bar .ag-filter-toolpanel-group-instance-header-icon{display:none}.ag-filter-toolpanel-group-level-0-header{height:calc(var(--ag-grid-size) * 8)}.ag-filter-toolpanel-group-item{margin-top:calc(var(--ag-grid-size) * 0.5);margin-bottom:calc(var(--ag-grid-size) * 0.5)}.ag-filter-toolpanel-search{height:var(--ag-header-height)}.ag-filter-toolpanel-search-input{flex-grow:1;height:calc(var(--ag-grid-size) * 4)}.ag-ltr .ag-filter-toolpanel-search-input{margin-right:var(--ag-grid-size)}.ag-rtl .ag-filter-toolpanel-search-input{margin-left:var(--ag-grid-size)}.ag-filter-toolpanel-group-level-0{border-top:var(--ag-borders-secondary) var(--ag-secondary-border-color)}.ag-ltr .ag-filter-toolpanel-expand,.ag-ltr .ag-filter-toolpanel-group-title-bar-icon{margin-right:var(--ag-grid-size)}.ag-rtl .ag-filter-toolpanel-expand,.ag-rtl .ag-filter-toolpanel-group-title-bar-icon{margin-left:var(--ag-grid-size)}.ag-filter-toolpanel-group-title-bar{background-color:transparent}.ag-ltr .ag-filter-toolpanel-header{padding-left:calc(var(--ag-filter-tool-panel-group-indent) * var(--ag-indentation-level, 0) + var(--ag-grid-size))}.ag-rtl .ag-filter-toolpanel-header{padding-right:calc(var(--ag-filter-tool-panel-group-indent) * var(--ag-indentation-level, 0) + var(--ag-grid-size))}.ag-filter-toolpanel-instance-filter{border-bottom:var(--ag-borders) var(--ag-border-color);border-top:var(--ag-borders) var(--ag-border-color);margin-top:var(--ag-grid-size)}.ag-ltr .ag-filter-toolpanel-group-instance-header-icon,.ag-ltr .ag-filter-toolpanel-instance-header-icon{margin-left:var(--ag-grid-size)}.ag-rtl .ag-filter-toolpanel-group-instance-header-icon,.ag-rtl .ag-filter-toolpanel-instance-header-icon{margin-right:var(--ag-grid-size)}.ag-set-filter-group-icons{color:var(--ag-secondary-foreground-color)}.ag-pivot-mode-panel{min-height:var(--ag-header-height);height:var(--ag-header-height);display:flex}.ag-pivot-mode-select{display:flex;align-items:center}.ag-ltr .ag-pivot-mode-select{margin-left:var(--ag-widget-container-horizontal-padding)}.ag-rtl .ag-pivot-mode-select{margin-right:var(--ag-widget-container-horizontal-padding)}.ag-column-select-header:focus-visible{outline:0}.ag-column-panel-column-select,.ag-column-select-header{border-bottom:var(--ag-borders-secondary) var(--ag-secondary-border-color)}.ag-column-select-header{height:var(--ag-header-height);align-items:center;padding:0 var(--ag-widget-container-horizontal-padding)}.ag-column-panel-column-select{border-top:var(--ag-borders-secondary) var(--ag-secondary-border-color)}.ag-column-group-icons,.ag-column-select-header-icon{color:var(--ag-secondary-foreground-color)}.ag-column-select-list .ag-list-item-hovered::after{content:"";position:absolute;left:0;right:0;height:1px}.ag-column-select-list .ag-item-highlight-top::after{top:0}.ag-column-select-list .ag-item-highlight-bottom::after{bottom:0}.ag-advanced-filter-header,.ag-header{background-color:var(--ag-header-background-color);border-bottom:var(--ag-borders-critical) var(--ag-border-color)}.ag-header-row{color:var(--ag-header-foreground-color);height:var(--ag-header-height)}.ag-pinned-right-header{border-left:var(--ag-borders-critical) var(--ag-border-color)}.ag-pinned-left-header{border-right:var(--ag-borders-critical) var(--ag-border-color)}.ag-ltr .ag-header-cell:not(.ag-right-aligned-header) .ag-header-label-icon,.ag-ltr .ag-header-cell:not(.ag-right-aligned-header) .ag-header-menu-icon{margin-left:var(--ag-grid-size)}.ag-rtl .ag-header-cell:not(.ag-right-aligned-header) .ag-header-label-icon,.ag-rtl .ag-header-cell:not(.ag-right-aligned-header) .ag-header-menu-icon{margin-right:var(--ag-grid-size)}.ag-ltr .ag-header-cell.ag-right-aligned-header .ag-header-label-icon,.ag-ltr .ag-header-cell.ag-right-aligned-header .ag-header-menu-icon{margin-right:var(--ag-grid-size)}.ag-rtl .ag-header-cell.ag-right-aligned-header .ag-header-label-icon,.ag-rtl .ag-header-cell.ag-right-aligned-header .ag-header-menu-icon{margin-left:var(--ag-grid-size)}.ag-header-cell,.ag-header-group-cell{padding-left:var(--ag-cell-horizontal-padding);padding-right:var(--ag-cell-horizontal-padding)}.ag-header-cell.ag-header-cell-moving,.ag-header-group-cell.ag-header-cell-moving{background-color:var(--ag-header-cell-moving-background-color)}.ag-ltr .ag-header-group-cell-label.ag-sticky-label{left:var(--ag-cell-horizontal-padding)}.ag-rtl .ag-header-group-cell-label.ag-sticky-label{right:var(--ag-cell-horizontal-padding)}.ag-advanced-filter-header-cell:focus-visible,.ag-header-cell:focus-visible,.ag-header-group-cell:focus-visible{outline:0}.ag-advanced-filter-header-cell:focus-visible::after,.ag-header-cell:focus-visible::after,.ag-header-group-cell:focus-visible::after{content:"";position:absolute;background-color:transparent;pointer-events:none;top:4px;left:4px;display:block;width:calc(100% - 8px);height:calc(100% - 8px);border:1px solid;border-color:var(--ag-input-focus-border-color)}.ag-header-icon{color:var(--ag-secondary-foreground-color)}.ag-header-expand-icon{cursor:pointer}.ag-ltr .ag-header-expand-icon{margin-left:4px}.ag-rtl .ag-header-expand-icon{margin-right:4px}.ag-header-row:not(:first-child) .ag-header-cell:not(.ag-header-span-height.ag-header-span-total,.ag-header-parent-hidden),.ag-header-row:not(:first-child) .ag-header-group-cell.ag-header-group-cell-with-group{border-top:var(--ag-borders-critical) var(--ag-border-color)}.ag-header-cell:not(.ag-column-hover):first-of-type.ag-column-resizing,.ag-header-cell:not(.ag-column-hover):first-of-type:not(.ag-header-cell-moving):hover,.ag-header-cell:not(.ag-column-resizing)+.ag-header-cell:not(.ag-column-hover).ag-column-resizing,.ag-header-cell:not(.ag-column-resizing)+.ag-header-cell:not(.ag-column-hover):not(.ag-header-cell-moving):hover,.ag-header-group-cell:first-of-type.ag-column-resizing,.ag-header-group-cell:first-of-type:not(.ag-header-cell-moving):hover,.ag-header-group-cell:not(.ag-column-resizing)+.ag-header-group-cell:not(.ag-column-hover).ag-column-resizing,.ag-header-group-cell:not(.ag-column-resizing)+.ag-header-group-cell:not(.ag-column-hover):not(.ag-header-cell-moving):hover{background-color:var(--ag-header-cell-hover-background-color)}.ag-header-cell::before,.ag-header-group-cell:not(.ag-header-span-height.ag-header-group-cell-no-group)::before{content:"";position:absolute;z-index:1;display:var(--ag-header-column-separator-display);width:var(--ag-header-column-separator-width);height:var(--ag-header-column-separator-height);top:calc(50% - var(--ag-header-column-separator-height) * 0.5);background-color:var(--ag-header-column-separator-color)}.ag-ltr .ag-header-cell::before,.ag-ltr .ag-header-group-cell:not(.ag-header-span-height.ag-header-group-cell-no-group)::before{right:0}.ag-rtl .ag-header-cell::before,.ag-rtl .ag-header-group-cell:not(.ag-header-span-height.ag-header-group-cell-no-group)::before{left:0}.ag-header-highlight-after::after,.ag-header-highlight-before::after{content:"";position:absolute;height:100%;width:1px}.ag-header-highlight-before::after{left:0}.ag-header-highlight-after::after{right:0}.ag-pinned-left-header .ag-header-highlight-after::after{right:1px}.ag-header-cell-resize{display:flex;align-items:center}.ag-header-cell-resize::after{content:"";position:absolute;z-index:1;display:var(--ag-header-column-resize-handle-display);width:var(--ag-header-column-resize-handle-width);height:var(--ag-header-column-resize-handle-height);top:calc(50% - var(--ag-header-column-resize-handle-height) * 0.5);background-color:var(--ag-header-column-resize-handle-color)}.ag-header-cell.ag-header-span-height .ag-header-cell-resize::after{height:calc(100% - var(--ag-grid-size) * 4);top:calc(var(--ag-grid-size) * 2)}.ag-ltr .ag-header-viewport .ag-header-cell-resize::after,.ag-pinned-left-header .ag-header-cell-resize::after{left:calc(50% - var(--ag-header-column-resize-handle-width))}.ag-rtl .ag-header-viewport .ag-header-cell-resize::after{right:calc(50% - var(--ag-header-column-resize-handle-width))}.ag-pinned-right-header .ag-header-cell-resize::after{left:50%}.ag-ltr .ag-header-select-all{margin-right:var(--ag-cell-horizontal-padding)}.ag-rtl .ag-header-select-all{margin-left:var(--ag-cell-horizontal-padding)}.ag-ltr .ag-floating-filter-button{margin-left:var(--ag-cell-widget-spacing)}.ag-rtl .ag-floating-filter-button{margin-right:var(--ag-cell-widget-spacing)}.ag-floating-filter-button-button{color:inherit;font-family:inherit;font-size:inherit;font-weight:inherit;line-height:inherit;appearance:none;background:0 0;border:0;height:var(--ag-icon-size);padding:0;width:var(--ag-icon-size)}.ag-filter-loading{background-color:var(--ag-control-panel-background-color);height:100%;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);position:absolute;width:100%;z-index:1}.ag-paging-panel{border-top:1px solid;border-top-color:var(--ag-border-color);color:var(--ag-secondary-foreground-color);height:var(--ag-header-height)}.ag-paging-panel>*{margin:0 var(--ag-cell-horizontal-padding)}.ag-paging-panel>.ag-paging-page-size .ag-wrapper{min-width:calc(var(--ag-grid-size) * 10)}.ag-paging-button{cursor:pointer}.ag-paging-button.ag-disabled{cursor:default;color:var(--ag-disabled-foreground-color)}.ag-column-drop-cell:focus-visible,.ag-paging-button:focus-visible{outline:0}.ag-paging-button:focus-visible::after{content:"";position:absolute;background-color:transparent;pointer-events:none;top:0;left:0;display:block;width:calc(100% - 0px);height:calc(100% - 0px);border:1px solid;border-color:var(--ag-input-focus-border-color)}.ag-paging-button,.ag-paging-description{margin:0 var(--ag-grid-size)}.ag-status-bar{border-top:var(--ag-borders) var(--ag-border-color);color:var(--ag-disabled-foreground-color);padding-right:calc(var(--ag-grid-size) * 4);padding-left:calc(var(--ag-grid-size) * 4);line-height:1.5}.ag-status-name-value-value{color:var(--ag-foreground-color)}.ag-status-bar-center{text-align:center}.ag-status-name-value{margin-left:var(--ag-grid-size);margin-right:var(--ag-grid-size);padding-top:calc(var(--ag-grid-size) * 2);padding-bottom:calc(var(--ag-grid-size) * 2)}.ag-column-drop-cell{background:var(--ag-chip-background-color);border-radius:calc(var(--ag-grid-size) * 4);height:calc(var(--ag-grid-size) * 4);padding:0 calc(var(--ag-grid-size) * 0.5);border:1px solid var(--ag-chip-border-color)}.ag-column-drop-cell:focus-visible::after{content:"";position:absolute;background-color:transparent;pointer-events:none;top:2px;left:2px;display:block;width:calc(100% - 4px);height:calc(100% - 4px);border:1px solid;border-color:var(--ag-input-focus-border-color)}.ag-column-drop-cell-text{margin:0 var(--ag-grid-size)}.ag-column-drop-cell-button{min-width:calc(var(--ag-grid-size) * 4);margin:0 calc(var(--ag-grid-size) * 0.5);color:var(--ag-secondary-foreground-color)}.ag-column-drop-cell-drag-handle{margin-left:calc(var(--ag-grid-size) * 2)}.ag-column-drop-cell-ghost{opacity:0.5}.ag-column-drop-horizontal{background-color:var(--ag-header-background-color);color:var(--ag-secondary-foreground-color);height:var(--ag-header-height);border-bottom:var(--ag-borders) var(--ag-border-color)}.ag-ltr .ag-column-drop-horizontal{padding-left:var(--ag-cell-horizontal-padding)}.ag-rtl .ag-column-drop-horizontal{padding-right:var(--ag-cell-horizontal-padding)}.ag-ltr .ag-column-drop-horizontal-half-width:not(:last-child){border-right:var(--ag-borders) var(--ag-border-color)}.ag-rtl .ag-column-drop-horizontal-half-width:not(:last-child){border-left:var(--ag-borders) var(--ag-border-color)}.ag-column-drop-horizontal-cell-separator{margin:0 var(--ag-grid-size);color:var(--ag-secondary-foreground-color)}.ag-column-drop-horizontal-empty-message{color:var(--ag-disabled-foreground-color)}.ag-ltr .ag-column-drop-horizontal-icon{margin-right:var(--ag-cell-horizontal-padding)}.ag-rtl .ag-column-drop-horizontal-icon{margin-left:var(--ag-cell-horizontal-padding)}.ag-column-drop-vertical-list{padding-bottom:var(--ag-grid-size);padding-right:var(--ag-grid-size);padding-left:var(--ag-grid-size)}.ag-column-drop-vertical-cell{margin-top:var(--ag-grid-size)}.ag-column-drop-vertical{min-height:50px;border-bottom:var(--ag-borders-secondary) var(--ag-secondary-border-color)}.ag-column-drop-vertical.ag-last-column-drop{border-bottom:none}.ag-column-drop-vertical-icon{margin-left:var(--ag-grid-size);margin-right:var(--ag-grid-size)}.ag-column-drop-vertical-empty-message{position:absolute;top:0;bottom:0;left:0;right:0;overflow:hidden;color:var(--ag-disabled-foreground-color);margin-top:var(--ag-grid-size)}.ag-select-agg-func-popup{border:var(--ag-borders) var(--ag-border-color);border-radius:var(--ag-card-radius);box-shadow:var(--ag-card-shadow);padding:var(--ag-grid-size);background:var(--ag-background-color);height:calc(var(--ag-grid-size) * 5 * 3.5);padding:0}.ag-select-agg-func-virtual-list-item{cursor:default}.ag-ltr .ag-select-agg-func-virtual-list-item{padding-left:calc(var(--ag-grid-size) * 2)}.ag-rtl .ag-select-agg-func-virtual-list-item{padding-right:calc(var(--ag-grid-size) * 2)}.ag-select-agg-func-virtual-list-item:hover{background-color:var(--ag-selected-row-background-color)}.ag-select-agg-func-virtual-list-item:focus-visible{outline:0}.ag-select-agg-func-virtual-list-item:focus-visible::after{content:"";position:absolute;background-color:transparent;pointer-events:none;top:1px;left:1px;display:block;width:calc(100% - 2px);height:calc(100% - 2px);border:1px solid;border-color:var(--ag-input-focus-border-color)}.ag-sort-indicator-container{display:flex}.ag-ltr .ag-sort-indicator-icon{padding-left:var(--ag-grid-size)}.ag-rtl .ag-sort-indicator-icon{padding-right:var(--ag-grid-size)}.ag-chart{position:relative;width:100%;height:100%}.ag-chart,.ag-chart-components-wrapper{display:flex}.ag-chart-canvas-wrapper,.ag-chart-components-wrapper{position:relative;flex:1 1 auto}.ag-chart-menu{position:absolute;top:16px;display:flex;flex-direction:column}.ag-ltr .ag-chart-menu{right:20px}.ag-rtl .ag-chart-menu{left:20px}.ag-chart-docked-container{position:relative;min-width:var(--ag-chart-menu-panel-width)}.ag-chart-menu-hidden~.ag-chart-docked-container{display:none}.ag-chart-tabbed-menu{width:100%;height:100%;display:flex;flex-direction:column;overflow:hidden}.ag-chart-tabbed-menu-header{flex:none;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.ag-chart-tabbed-menu-body{display:flex;flex:1 1 auto;align-items:stretch;overflow:hidden}.ag-chart-tab{width:100%;overflow:hidden;overflow-y:auto}.ag-chart-settings{overflow-x:hidden}.ag-chart-settings-wrapper{position:relative;flex-direction:column;width:100%;height:100%;display:flex;overflow:hidden}.ag-chart-settings-nav-bar{display:flex;align-items:center;width:100%;height:30px;padding:0 10px;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ag-chart-settings-card-selector{display:flex;align-items:center;justify-content:space-around;flex:1 1 auto;height:100%;padding:0 10px}.ag-chart-settings-card-item{cursor:pointer;background-color:#000;position:relative}.ag-chart-settings-card-item.ag-not-selected{opacity:0.2}.ag-chart-settings-card-item::before{content:" ";display:block;position:absolute;background-color:transparent;left:50%;top:50%;margin-left:-10px;margin-top:-10px;width:20px;height:20px}.ag-chart-settings-next,.ag-chart-settings-prev{position:relative;flex:none}.ag-chart-settings-next:focus-within,.ag-chart-settings-prev:focus-within{box-shadow:var(--ag-input-focus-box-shadow);border-radius:1px}.ag-chart-settings-next-button,.ag-chart-settings-prev-button{position:absolute;top:0;left:0;width:100%;height:100%;cursor:pointer;opacity:0}.ag-chart-settings-mini-charts-container{position:relative;flex:1 1 auto;overflow-x:hidden;overflow-y:auto}.ag-chart-settings-mini-wrapper{position:absolute;top:0;left:0;display:flex;flex-direction:column;width:100%;min-height:100%;overflow:hidden}.ag-chart-settings-mini-wrapper.ag-animating{transition:left 0.3s;transition-timing-function:ease-in-out}.ag-chart-mini-thumbnail{cursor:pointer}.ag-chart-menu-hidden:hover .ag-chart-menu,.ag-chart-mini-thumbnail-canvas{display:block}.ag-chart-data-wrapper,.ag-chart-format-wrapper{padding-bottom:16px}.ag-chart-advanced-settings-wrapper,.ag-chart-data-wrapper,.ag-chart-format-wrapper{display:flex;flex-direction:column;position:relative;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ag-chart-advanced-settings-wrapper,.ag-chart-data-wrapper{height:100%;overflow-y:auto}.ag-chart-advanced-settings{background-color:var(--ag-control-panel-background-color)}.ag-chart-advanced-settings,.ag-chart-advanced-settings-wrapper{width:100%}.ag-chart-advanced-settings-wrapper{padding-bottom:0}.ag-chart-advanced-settings-section,.ag-chart-data-section,.ag-chart-format-section{display:flex;margin:0}.ag-chart-advanced-settings-section{padding-top:var(--ag-grid-size);padding-bottom:var(--ag-grid-size)}.ag-chart-advanced-settings-section:not(:last-child){border-bottom:1px solid var(--ag-secondary-border-color)}.ag-chart-empty-text{display:flex;top:0;width:100%;height:100%;align-items:center;justify-content:center;background-color:var(--ag-background-color)}.ag-chart .ag-chart-menu{display:none}.ag-chart .ag-chart-menu-wrapper .ag-chart-menu{display:flex;flex-direction:row;top:8px;gap:20px;width:auto}.ag-ltr .ag-chart .ag-chart-menu-wrapper .ag-chart-menu{right:calc(var(--ag-cell-horizontal-padding) + var(--ag-grid-size) - 4px);justify-content:right}.ag-rtl .ag-chart .ag-chart-menu-wrapper .ag-chart-menu{left:calc(var(--ag-cell-horizontal-padding) + var(--ag-grid-size) - 4px);justify-content:left}.ag-charts-font-size-color{display:flex;align-self:stretch;justify-content:space-between}.ag-charts-data-group-item{position:relative}.ag-charts-data-group-item:not(:last-child){margin-bottom:var(--ag-grid-size)}.ag-chart-menu{border-radius:var(--ag-card-radius);background:var(--ag-background-color)}.ag-chart-menu-icon{opacity:0.5;margin:2px 0;cursor:pointer;border-radius:var(--ag-card-radius);color:var(--ag-secondary-foreground-color)}.ag-chart-menu-icon:hover{opacity:1}.ag-chart-menu-toolbar-button{border:0;background-color:unset;padding:0 2px;border-radius:1px}.ag-chart-mini-thumbnail{border:1px solid var(--ag-secondary-border-color);border-radius:5px}.ag-chart-mini-thumbnail.ag-selected{border-color:var(--ag-minichart-selected-chart-color);border-width:2px}.ag-chart-mini-thumbnail:focus-visible{outline:0;border-color:var(--ag-minichart-selected-chart-color);box-shadow:var(--ag-input-focus-box-shadow)}.ag-chart-settings-card-item{background:var(--ag-foreground-color);width:8px;height:8px;border-radius:4px}.ag-chart-settings-card-item.ag-selected{background-color:var(--ag-minichart-selected-page-color)}.ag-chart-data-column-drag-handle{margin-left:var(--ag-grid-size)}.ag-charts-data-group-title-bar,.ag-charts-format-top-level-group-title-bar,.ag-charts-settings-group-title-bar{border-top:var(--ag-borders-secondary) var(--ag-secondary-border-color);position:relative}.ag-charts-advanced-settings-top-level-group-title-bar{position:relative;background-color:unset}.ag-charts-data-group-title-bar:focus-visible,.ag-charts-format-top-level-group-title-bar:focus-visible{outline:0}.ag-charts-data-group-title-bar:focus-visible::after,.ag-charts-format-top-level-group-title-bar:focus-visible::after{content:"";position:absolute;background-color:transparent;pointer-events:none;top:4px;left:4px;display:block;width:calc(100% - 8px);height:calc(100% - 8px);border:1px solid;border-color:var(--ag-input-focus-border-color)}.ag-charts-data-group-title-bar .ag-charts-data-group-title,.ag-charts-format-top-level-group-title-bar .ag-charts-format-top-level-group-title{cursor:pointer}.ag-charts-data-group-container{padding:calc(var(--ag-widget-container-vertical-padding) * 0.5) var(--ag-widget-container-horizontal-padding)}.ag-charts-data-group-container .ag-charts-data-group-item:not(.ag-charts-format-sub-level-group):not(.ag-pill-select):not(.ag-select){height:var(--ag-list-item-height)}.ag-charts-data-group-container .ag-charts-data-group-item.ag-picker-field{margin-top:var(--ag-grid-size)}.ag-charts-data-group-container .ag-list-item-hovered::after{content:"";position:absolute;left:0;right:0;height:1px}.ag-charts-data-group-container .ag-item-highlight-top::after{top:0}.ag-charts-data-group-container .ag-item-highlight-bottom::after{bottom:0}.ag-charts-advanced-settings-top-level-group-container,.ag-charts-format-top-level-group-container{padding:var(--ag-grid-size)}.ag-ltr .ag-charts-advanced-settings-top-level-group-container,.ag-ltr .ag-charts-format-top-level-group-container{margin-left:calc(var(--ag-grid-size) * 2)}.ag-rtl .ag-charts-advanced-settings-top-level-group-container,.ag-rtl .ag-charts-format-top-level-group-container{margin-right:calc(var(--ag-grid-size) * 2)}.ag-charts-advanced-settings-top-level-group-item,.ag-charts-format-top-level-group-item{margin:var(--ag-grid-size) 0}.ag-charts-format-sub-level-group-container{padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);padding-bottom:calc(var(--ag-widget-container-vertical-padding) - var(--ag-widget-vertical-spacing))}.ag-charts-format-sub-level-group-container>*,.ag-charts-format-sub-level-no-header-group-container>*{margin-bottom:var(--ag-widget-vertical-spacing)}.ag-charts-format-sub-level-group-container .ag-charts-format-sub-level-group-item.ag-font-panel-no-header{margin:0}.ag-charts-settings-group-container{padding:var(--ag-grid-size);row-gap:8px;display:grid;grid-template-columns:60px 1fr 60px 1fr 60px}.ag-charts-settings-group-container .ag-chart-mini-thumbnail:nth-child(3n+1){grid-column:1}.ag-charts-settings-group-container .ag-chart-mini-thumbnail:nth-child(3n+2){grid-column:3}.ag-charts-settings-group-container .ag-chart-mini-thumbnail:nth-child(3n+3){grid-column:5}.ag-chart-menu-panel{background-color:var(--ag-control-panel-background-color)}.ag-ltr .ag-chart-menu-panel{border-left:solid 1px var(--ag-border-color)}.ag-rtl .ag-chart-menu-panel{border-right:solid 1px var(--ag-border-color)}.ag-charts-theme-default{--ag-charts-align:none!important;--ag-charts-justify:none!important}.ag-charts-wrapper .ag-charts-proxy-legend-toolbar button:focus-visible{box-shadow:var(--ag-input-focus-box-shadow)}.ag-date-time-list-page-title-bar{display:flex}.ag-date-time-list-page-title{flex-grow:1;text-align:center}.ag-date-time-list-page-column-labels-row,.ag-date-time-list-page-entries-row{display:flex}.ag-date-time-list-page-column-label,.ag-date-time-list-page-entry{flex-basis:0;flex-grow:1}.ag-date-time-list-page-entry{cursor:pointer;text-align:center}.ag-date-time-list-page-column-label{text-align:center}.ag-advanced-filter-header{position:relative;display:flex;align-items:center;padding-left:var(--ag-cell-horizontal-padding);padding-right:var(--ag-cell-horizontal-padding)}.ag-advanced-filter{display:flex;align-items:center;width:100%}.ag-advanced-filter-apply-button,.ag-advanced-filter-builder-button{line-height:normal;white-space:nowrap}.ag-ltr .ag-advanced-filter-apply-button,.ag-ltr .ag-advanced-filter-builder-button{margin-left:calc(var(--ag-grid-size) * 2)}.ag-rtl .ag-advanced-filter-apply-button,.ag-rtl .ag-advanced-filter-builder-button{margin-right:calc(var(--ag-grid-size) * 2)}.ag-advanced-filter-builder-button{display:flex;align-items:center;border:0;background-color:unset;color:var(--ag-foreground-color);font-size:var(--ag-font-size);font-weight:600}.ag-advanced-filter-builder-button:hover:not(:disabled){background-color:var(--ag-row-hover-color)}.ag-advanced-filter-builder-button:not(:disabled){cursor:pointer}.ag-advanced-filter-builder-button-label{margin-left:var(--ag-grid-size)}.ag-advanced-filter-builder{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;width:100%;background-color:var(--ag-control-panel-background-color);display:flex;flex-direction:column}.ag-advanced-filter-builder-list{flex:1;overflow:auto}.ag-advanced-filter-builder-list .ag-list-item-hovered::after{content:"";position:absolute;left:0;right:0;height:1px}.ag-advanced-filter-builder-list .ag-item-highlight-top::after{top:0}.ag-advanced-filter-builder-list .ag-item-highlight-bottom::after{bottom:0}.ag-advanced-filter-builder-button-panel{display:flex;justify-content:flex-end;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);border-top:var(--ag-borders-secondary) var(--ag-secondary-border-color)}.ag-advanced-filter-builder .ag-advanced-filter-builder-button-panel .ag-advanced-filter-builder-apply-button,.ag-advanced-filter-builder .ag-advanced-filter-builder-button-panel .ag-advanced-filter-builder-cancel-button{margin-left:calc(var(--ag-grid-size) * 2)}.ag-advanced-filter-builder-item-wrapper{display:flex;flex:1 1 auto;align-items:center;justify-content:space-between;overflow:hidden;padding-left:calc(var(--ag-icon-size) / 2);padding-right:var(--ag-icon-size)}.ag-virtual-list-viewport .ag-advanced-filter-builder-item-wrapper .ag-tab-guard{position:absolute}.ag-advanced-filter-builder-item-tree-lines>*{width:var(--ag-advanced-filter-builder-indent-size)}.ag-advanced-filter-builder-item-tree-lines .ag-advanced-filter-builder-item-tree-line-root{width:var(--ag-icon-size)}.ag-advanced-filter-builder-item-tree-lines .ag-advanced-filter-builder-item-tree-line-root::before{top:50%;height:50%}.ag-advanced-filter-builder-item-tree-line-horizontal,.ag-advanced-filter-builder-item-tree-line-vertical,.ag-advanced-filter-builder-item-tree-line-vertical-bottom,.ag-advanced-filter-builder-item-tree-line-vertical-top{position:relative;height:100%;display:flex;align-items:center}.ag-advanced-filter-builder-item-tree-line-horizontal::before{content:"";position:absolute;height:100%}.ag-advanced-filter-builder-item-tree-line-horizontal::after{content:"";position:absolute}.ag-advanced-filter-builder-item-tree-line-vertical::after,.ag-advanced-filter-builder-item-tree-line-vertical::before{content:"";position:absolute;height:100%}.ag-advanced-filter-builder-item-tree-line-vertical-top::before{content:"";position:absolute}.ag-advanced-filter-builder-item-tree-line-vertical-bottom::after,.ag-advanced-filter-builder-item-tree-line-vertical-bottom::before,.ag-advanced-filter-builder-item-tree-line-vertical-top::after{content:"";position:absolute;height:100%}.ag-advanced-filter-builder-item-tree-line-horizontal::after{height:50%;width:calc(var(--ag-advanced-filter-builder-indent-size) - var(--ag-icon-size));top:0;left:calc(var(--ag-icon-size) / 2);border-bottom:1px solid;border-color:var(--ag-border-color)}.ag-advanced-filter-builder-item-tree-line-vertical-top::before,.ag-advanced-filter-builder-item-tree-line-vertical::before{width:calc(var(--ag-advanced-filter-builder-indent-size) - var(--ag-icon-size) / 2);top:0;left:calc(var(--ag-icon-size) / 2);border-left:1px solid;border-color:var(--ag-border-color)}.ag-advanced-filter-builder-item-tree-line-vertical-top::before{height:50%}.ag-advanced-filter-builder-item-tree-line-vertical-bottom::before{height:calc((100% - 1.5 * var(--ag-icon-size)) / 2);width:calc(var(--ag-icon-size) / 2);top:calc((100% + 1.5 * var(--ag-icon-size)) / 2);left:calc(var(--ag-icon-size) / 2);border-left:1px solid;border-color:var(--ag-border-color)}.ag-advanced-filter-builder-item-condition{padding-top:var(--ag-grid-size);padding-bottom:var(--ag-grid-size)}.ag-advanced-filter-builder-item,.ag-advanced-filter-builder-item-buttons,.ag-advanced-filter-builder-item-condition,.ag-advanced-filter-builder-item-tree-lines,.ag-advanced-filter-builder-pill,.ag-advanced-filter-builder-pill-wrapper{display:flex;align-items:center;height:100%}.ag-advanced-filter-builder-pill-wrapper{margin:0 var(--ag-grid-size)}.ag-advanced-filter-builder-pill{position:relative;border-radius:var(--ag-border-radius);padding:var(--ag-grid-size) calc(var(--ag-grid-size) * 2);min-height:calc(100% - var(--ag-grid-size) * 3);min-width:calc(var(--ag-grid-size) * 2)}.ag-advanced-filter-builder-pill .ag-picker-field-display{margin-right:var(--ag-grid-size)}.ag-advanced-filter-builder-pill .ag-advanced-filter-builder-value-number{font-family:monospace;font-weight:700}.ag-advanced-filter-builder-pill .ag-advanced-filter-builder-value-empty{color:var(--ag-disabled-foreground-color)}.ag-advanced-filter-builder-item-button:focus-visible,.ag-advanced-filter-builder-pill:focus-visible{outline:0}.ag-advanced-filter-builder-item-button:focus-visible::after,.ag-advanced-filter-builder-pill:focus-visible::after{content:"";position:absolute;background-color:transparent;pointer-events:none;top:-4px;left:-4px;display:block;width:calc(100% + 8px);height:calc(100% + 8px);border:1px solid;border-color:var(--ag-input-focus-border-color)}.ag-advanced-filter-builder-pill-display{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-weight:500}.ag-advanced-filter-builder-join-pill{color:var(--ag-foreground-color);background-color:var(--ag-advanced-filter-join-pill-color);cursor:pointer}.ag-advanced-filter-builder-column-pill,.ag-advanced-filter-builder-option-pill{color:var(--ag-foreground-color);background-color:var(--ag-advanced-filter-column-pill-color);cursor:pointer}.ag-advanced-filter-builder-option-pill{background-color:var(--ag-advanced-filter-option-pill-color)}.ag-advanced-filter-builder-value-pill{color:var(--ag-foreground-color);background-color:var(--ag-advanced-filter-value-pill-color);cursor:text;max-width:140px}.ag-advanced-filter-builder-value-pill .ag-advanced-filter-builder-pill-display{display:block}.ag-advanced-filter-builder-item-buttons>*{margin:0 calc(var(--ag-grid-size) * 0.5)}.ag-advanced-filter-builder-item-button{position:relative;cursor:pointer;color:var(--ag-secondary-foreground-color);opacity:50%}.ag-advanced-filter-builder-item-button-disabled{color:var(--ag-disabled-foreground-color);cursor:default}.ag-advanced-filter-builder-virtual-list-container{top:var(--ag-grid-size)}.ag-advanced-filter-builder-virtual-list-item{display:flex;cursor:default;height:var(--ag-list-item-height)}.ag-advanced-filter-builder-virtual-list-item:hover{background-color:var(--ag-row-hover-color)}.ag-advanced-filter-builder-virtual-list-item:hover .ag-advanced-filter-builder-item-button{opacity:100%}.ag-advanced-filter-builder-validation .ag-advanced-filter-builder-invalid,.ag-advanced-filter-builder-virtual-list-item-highlight .ag-advanced-filter-builder-item-button:focus-visible{opacity:100%}.ag-advanced-filter-builder-invalid{margin:0 var(--ag-grid-size);color:var(--ag-invalid-color);cursor:default}.ag-input-field-input{width:100%;min-width:0}.ag-checkbox-input-wrapper{font-family:var(--ag-icon-font-family);font-weight:var(--ag-icon-font-weight);color:var(--ag-icon-font-color);font-size:var(--ag-icon-size);line-height:var(--ag-icon-size);font-style:normal;font-variant:normal;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;width:var(--ag-icon-size);height:var(--ag-icon-size);background-color:var(--ag-checkbox-background-color);border-radius:var(--ag-checkbox-border-radius);display:inline-block;vertical-align:middle;flex:none}.ag-checkbox-input-wrapper input{-webkit-appearance:none;opacity:0;width:100%;height:100%}.ag-checkbox-input-wrapper:active,.ag-checkbox-input-wrapper:focus-within{outline:0;box-shadow:var(--ag-input-focus-box-shadow)}.ag-checkbox-input-wrapper.ag-disabled{opacity:0.5}.ag-checkbox-input-wrapper::after{content:var(--ag-icon-font-code-checkbox-unchecked, "\\f108");font-family:inherit;color:var(--ag-checkbox-unchecked-color);display:var(--ag-icon-font-display-checkbox-unchecked, var(--ag-icon-font-display));position:absolute;top:0;left:0;pointer-events:none}.ag-checkbox-input-wrapper.ag-checked::after{content:var(--ag-icon-font-code-checkbox-checked, "\\f106");color:var(--ag-checkbox-checked-color);display:var(--ag-icon-font-display-checkbox-checked, var(--ag-icon-font-display));position:absolute;top:0;left:0;pointer-events:none}.ag-checkbox-input-wrapper.ag-indeterminate::after{content:var(--ag-icon-font-code-checkbox-indeterminate, "\\f107");color:var(--ag-checkbox-indeterminate-color);display:var(--ag-icon-font-display-checkbox-indeterminate, var(--ag-icon-font-display));position:absolute;top:0;left:0;pointer-events:none}.ag-checkbox-input-wrapper::before{content:"";background:center/contain no-repeat;position:absolute;inset:0;background-image:var(--ag-icon-image-checkbox-unchecked, var(--ag-icon-image));display:var(--ag-icon-image-display-checkbox-unchecked, var(--ag-icon-image-display));opacity:var(--ag-icon-image-opacity-checkbox-unchecked, var(--ag-icon-image-opacity, 0.9))}.ag-checkbox-input-wrapper.ag-checked::before{background-image:var(--ag-icon-image-checkbox-checked, var(--ag-icon-image));display:var(--ag-icon-image-display-checkbox-checked, var(--ag-icon-image-display));opacity:var(--ag-icon-image-opacity-checkbox-checked, var(--ag-icon-image-opacity, 0.9))}.ag-checkbox-input-wrapper.ag-indeterminate::before{background-image:var(--ag-icon-image-checkbox-indeterminate, var(--ag-icon-image));display:var(--ag-icon-image-display-checkbox-indeterminate, var(--ag-icon-image-display));opacity:var(--ag-icon-image-opacity-checkbox-indeterminate, var(--ag-icon-image-opacity, 0.9))}.ag-toggle-button-input-wrapper{box-sizing:border-box;width:var(--ag-toggle-button-width);min-width:var(--ag-toggle-button-width);max-width:var(--ag-toggle-button-width);height:var(--ag-toggle-button-height);background-color:var(--ag-toggle-button-off-background-color);border-radius:calc(var(--ag-toggle-button-height) * 0.5);position:relative;flex:none;border:var(--ag-toggle-button-border-width) solid;border-color:var(--ag-toggle-button-off-border-color)}.ag-toggle-button-input-wrapper input{opacity:0;height:100%;width:100%}.ag-toggle-button-input-wrapper:focus-within{outline:0;box-shadow:var(--ag-input-focus-box-shadow)}.ag-toggle-button-input-wrapper.ag-disabled{opacity:0.5}.ag-toggle-button-input-wrapper.ag-checked{background-color:var(--ag-toggle-button-on-background-color);border-color:var(--ag-toggle-button-on-border-color)}.ag-toggle-button-input-wrapper::before{content:" ";position:absolute;top:calc(0px - var(--ag-toggle-button-border-width));left:calc(0px - var(--ag-toggle-button-border-width));display:block;box-sizing:border-box;height:var(--ag-toggle-button-height);width:var(--ag-toggle-button-height);background-color:var(--ag-toggle-button-switch-background-color);border-radius:100%;transition:left 100ms;border:var(--ag-toggle-button-border-width) solid;border-color:var(--ag-toggle-button-switch-border-color)}.ag-toggle-button-input-wrapper.ag-checked::before{left:calc(100% - var(--ag-toggle-button-height) + var(--ag-toggle-button-border-width));border-color:var(--ag-toggle-button-on-border-color)}.ag-radio-button-input-wrapper{font-family:var(--ag-icon-font-family);font-weight:var(--ag-icon-font-weight);color:var(--ag-icon-font-color);font-size:var(--ag-icon-size);line-height:var(--ag-icon-size);font-style:normal;font-variant:normal;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;width:var(--ag-icon-size);height:var(--ag-icon-size);background-color:var(--ag-checkbox-background-color);display:inline-block;vertical-align:middle;flex:none;border-radius:var(--ag-icon-size)}.ag-radio-button-input-wrapper input{-webkit-appearance:none;opacity:0;width:100%;height:100%}.ag-radio-button-input-wrapper:active,.ag-radio-button-input-wrapper:focus-within{outline:0;box-shadow:var(--ag-input-focus-box-shadow)}.ag-radio-button-input-wrapper.ag-disabled{opacity:0.5}.ag-radio-button-input-wrapper::after{content:var(--ag-icon-font-code-radio-button-off, "\\f127");color:var(--ag-checkbox-unchecked-color);display:var(--ag-icon-font-display-radio-button-off, var(--ag-icon-font-display));position:absolute;top:0;left:0;pointer-events:none}.ag-radio-button-input-wrapper.ag-checked::after{content:var(--ag-icon-font-code-radio-button-on, "\\f128");color:var(--ag-checkbox-checked-color);display:var(--ag-icon-font-display-radio-button-on, var(--ag-icon-font-display));position:absolute;top:0;left:0;pointer-events:none}.ag-radio-button-input-wrapper::before{content:"";background:center/contain no-repeat;position:absolute;inset:0;background-image:var(--ag-icon-image-radio-button-off, var(--ag-icon-image));display:var(--ag-icon-image-display-radio-button-off, var(--ag-icon-image-display));opacity:var(--ag-icon-image-opacity-radio-button-off, var(--ag-icon-image-opacity, 0.9))}.ag-radio-button-input-wrapper.ag-checked::before{background-image:var(--ag-icon-image-radio-button-on, var(--ag-icon-image));display:var(--ag-icon-image-display-radio-button-on, var(--ag-icon-image-display));opacity:var(--ag-icon-image-opacity-radio-button-on, var(--ag-icon-image-opacity, 0.9))}input[class^=ag-][type=range]::-webkit-slider-runnable-track{margin:0;padding:0;width:100%;height:3px;background-color:var(--ag-border-color);border-radius:var(--ag-checkbox-border-radius)}input[class^=ag-][type=range]::-moz-range-track{margin:0;padding:0;width:100%;height:3px;background-color:var(--ag-border-color);border-radius:var(--ag-checkbox-border-radius)}input[class^=ag-][type=range]::-ms-track{margin:0;padding:0;width:100%;height:3px;background-color:var(--ag-border-color);border-radius:var(--ag-checkbox-border-radius);color:transparent;width:calc(100% - 2px)}input[class^=ag-][type=range]::-webkit-slider-thumb{margin:0;padding:0;-webkit-appearance:none;width:var(--ag-icon-size);height:var(--ag-icon-size);background-color:var(--ag-background-color);border:1px solid;border-color:var(--ag-checkbox-unchecked-color);border-radius:var(--ag-icon-size);transform:translateY(calc(var(--ag-icon-size) * -0.5 + 1.5px))}input[class^=ag-][type=range]::-ms-thumb{margin:0;padding:0;-webkit-appearance:none;width:var(--ag-icon-size);height:var(--ag-icon-size);background-color:var(--ag-background-color);border:1px solid;border-color:var(--ag-checkbox-unchecked-color);border-radius:var(--ag-icon-size)}input[class^=ag-][type=range]::-moz-ag-range-thumb{margin:0;padding:0;-webkit-appearance:none;width:var(--ag-icon-size);height:var(--ag-icon-size);background-color:var(--ag-background-color);border:1px solid;border-color:var(--ag-checkbox-unchecked-color);border-radius:var(--ag-icon-size)}input[class^=ag-][type=range]:focus{outline:0}input[class^=ag-][type=range]:focus::-webkit-slider-thumb{box-shadow:var(--ag-input-focus-box-shadow);border-color:var(--ag-checkbox-checked-color)}input[class^=ag-][type=range]:focus::-ms-thumb{box-shadow:var(--ag-input-focus-box-shadow);border-color:var(--ag-checkbox-checked-color)}input[class^=ag-][type=range]:focus::-moz-ag-range-thumb{box-shadow:var(--ag-input-focus-box-shadow);border-color:var(--ag-checkbox-checked-color)}input[class^=ag-][type=range]:active::-webkit-slider-runnable-track{background-color:var(--ag-input-focus-border-color)}input[class^=ag-][type=range]:active::-moz-ag-range-track{background-color:var(--ag-input-focus-border-color)}input[class^=ag-][type=range]:active::-ms-track{background-color:var(--ag-input-focus-border-color)}input[class^=ag-][type=range]:disabled{opacity:0.5}@font-face{font-family:"agGridMaterial";src:url(data:font/woff2;charset=utf-8;base64,d09GMgABAAAAABFoAAsAAAAAJkgAABEYAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHIlWBmAAi34KpXCfVQE2AiQDgjgLgR4ABCAFhF4HhS8bxyFFJCOtoY6iYlKLqKCkZP8fEsghg77xKkhaKGEaKwO6lrY1b6YxxKUASMSl4yPDHPYi3fdu5d7Kbyt/D7IwsJrgsEOSoklQjLW9F0MTJZloool4ZIiE5jESEkOm+Y9zva9J2iPCtkn5CP82BQzCslEzenpGo3H/f2ibX7ASC3CC3NngEivpEQsOIwpWEdyKBWcsq26Fe49b3PJQZ96ZEt9JdgpIe5phJkHoAcugxVrltchzh61rR6AGJKAwOOmWsCZ3P9Vt6tS1P0wVC9REYIX14V1qYpH9qflReps9LPYlGfP23PRL3XUgMAmWeEL4SgRkAEDYvHO9dhkBqnmXpDlI0x5wf+5Y9XN/Rx0gy6kvR9j2PqwDRGOA3d7snCFhJiXx//QXQ9lnn3hR1u4csqjxACBAiT03VdHjEVrYjiUjwOGyN1M6c6rPjJCGzZexSaiPAhujUVH27FsRQEGfAQ0OTy7y7i2fHUgiwpYBbieNve3NZfbtMNLTOdivLbXHq+i8136FN86iPVGPafw6OT/5NxmnSZhdXhfHRWrPT0ZJRIxCpUEEcjOmSmfA3GBGyoLi+GjxtY0YQqbYJCvWtFXhJ1qmmHZhZo1hh+qCat9ub5Wv9/5pangKyQRDOGX1aUIctqgFg0VkbI0fZDe3IV7cErUUwJszUZYwPBrP1/atXdbFZfRQVg71DCVb3WfiFnW17hF6k0VlpM30OGKnV21Qmg5CYZoWs0tTYVoVsyCyZjbTi7sQ1ByTR3K8PErgVaU557a3WlxWM9iioCR/0JgtxpbJttQ0D17VQu0xbfZGv7YxZs+QseysJIY6QrRrrtctae2p7zqd8Obdp38Ol2MTNWkOv2lqRjUv1tbtgiPB2m9Gdp5aEvhHzKW3zMFNLVeFbGFTVD0lc3HSMzKR+YJlS062scXWVjQGQqgDsvSUN+OESMZ46nU0g8GNqlt8y1vTZTs+uAKLEU5JdUPppKRCVY0kBV+Tt8gSxeMG9skkRWcoN+a/zw3mNVkkznPXb/Gpoww70ZxSOvWAytlcoT1qPQKovK4fzgw/DXiNG7LJ8S1+sf3H9dlprDdWgSGbFyxrklifkTIZtfu84QSpIv7Nc6qcmO0qtvcAgXt5CU6nRwRhkdxla9lZdDST51ZwvMRvD8YWQG+yLK0q71L2SOIhvnMCiZvEEeD+8u3HB9QFAgl8UriM2Y2hNT9VfTH8H1hK5Xy3zeHSKoA0kAQqgRRIVPQXohzwdVklzBl7OMRvFLNDiI4Hnvv4xU5PUeWGR15+cffcQQnuVp9WJYGl4DPmJ4DtP5mjKaYsTKsmUgy6dj66ua0DDoIRPKG5WDsHJxc3Dy8fv4CgUGnb71ExcQk/gClpGVk5LnkFRSVlQRVVNXUNTS1tHS5dPX2Y38DQyBhERrh5yLemAXNJ99JEgWnvSKf6vv9/N1vvuubbKV7FgJr5hHmg6nRDwPKagJUNAKvrAdY2DKyvFdjYJLC5ZmBrfcD22oHd9QN76wX2NwIcrBM4XAdwtDHgZC3A6bqBs7UB5xsFLjYBXK4LuNogcL1x4OaaAl9cLiEBC0TgBUGwCXbBITgFl+AWPIJX8Al+ISAEhZAQFiJCVIgJcSEhJIWUkBYyQlbICXmHIvBVyGNFoSSUhYpQ9eSqJn3qQkNoCi2hLXSErtAT+g5F4GuQcYbCSBg7JMGXeCgHX1LmkwUqMEYpBUyfn+QRuAXpQ5B9FVJx5yqKfAsz1FJ8wLhfhpSA78H3ySFNT7aO18k5ieFtls9iuDZHS2b44//lC2stKBqhd77BnZSsF9afpeMWYZ7lLSLWYDpGd6R5Bfc5bmscF9ohKR8qkEMbvIEky5J8A1kfb7YxbPDITY5mIvoSm5XZZEtEKpcXecwssiRbS3YGxBqijLb4s3ECFuZBorBGXmJko1gRKo18zQABgyEgbWnSsxHHerDqQh2uzhIinVWRdZYFetyWrlF9awba9tQcR3S+2YQsA7lWuLDDrdp9hWs+Xd7nG37vbX7V6nO69BCbCyxd1rJNrnNqtauXV8ZW60dxEfYG+FX/eV9si22DSDMEKIBAqxYY5wM6wiA66aWuVj3rRPjh4lTqMFf9Qtm9WOr/mkUqXV8ZCaMeGPdEoAnzFhgon/ss4f2G1M/irR48s1hZIhEQQjGbzcV7//Y5rE83OSZFT7B1grDDcUbV9VTzClVD0sYJCAX6CqWOb7VqsF7nvS2UEOrckrfXiwej1lbmOq5EOJoWn/85UPvXEJF9msh31moSd2Uy1at6gpCwsY+gdUnDPC4Hvb8GJVOdciVfq5fSRWN4KaKd93df4eOmuv3kuhDVfQEJi/r7Hn2KiBi3dI/EFJnuyjRojV7GSWFYR5ORuGl7EFgNp6gOPdZZDSihBAGWMQBCjPdzNeqgPZh7b+4ohZciw2CNCNFfcZn5lgueFRlJPwLhK4Ve3xKNHDAIAqXmv6ifJcHOQVA+ky+dVUms/hoQ9J8VqA++Xs9YTUiF8TicbEibp+r5trx11gWRVqHE6xetcsvYga9nlSNyBZSXSyxuyWrnBdA5EGjr112fzVwWUyMb8vvvcO4oh4yUtha2v7wyMHLi77+5WhcwrggRytedVqwsEQArva1uPohcGGOe0ntWKwbSygChMrZXZ6uRh2zRkAJXQmEhiOh44WatBIESFDFYlJ/37RPq9tEJYU1Kl69oT6DGc5eE00hZojenMppGF2zz8rqAqKNSRInJ6wOGlEEin1Md27Ry+KiqhmPo2aPOEN72mqGdFct9QDsgTpMEfE5EcrHbaxvxrK42wEvtflXHotUIOcAydySwfu4NXiEzNB9gCoaoQhe0k4YOGNkzK8+0s1zqagFS9c65qLgcXdumxPMWvvlAx3xJ23tKn7NG0OjmVM715/aseO9Kjdh7x8UAcEnvnaG1P0Wab+rvGE6fBv3+d6E2qbbzg7vuB0hsYnOafwH3AAHdN9bFUPHGBS6FP/lf/ZV+hFBZog8NaJb29H2LdC7PF4bHOYOOt1AZoqUCXFF9Bbq/zqb03jRHG1Djwm9cN4SDZTxhNJ5kMWNiWGKUD/RQMkYk5K8JCDtOkr+x3+/JTo0G+JJlg8qTShMSSpPKXwkmUJowS381g0iYly0lNTu+ZeIu4Xr9OPO4D4qhyqEkPezXMEhcQrrz4m7x3Hm34njo3RGg7oGBWu35c1arVlevzhWKTKLywCj33VZPi7HWHD6etFjwykoGIz3tPM/5/Lnz29O3bJn30cBBQAYIB/s0Dwic6BBtdoHVh4VBmsZsnQDrqIVUgyVf8KPHeP44TYOQeYxCAVFgCmrswMsIoAoEkMAJUaAgwC8rLkOvyU87STane16QcOt9Xc0w4yTpToeouqheUbVRCc5/UzZz942Q18NHznK44xqd5fvIwWi55zk/9FaAb12vX+ukgciZYUz/4NRIlttar1FpQ/v4BO/uHXaoJiwvjzPee80Obw47MCjU+xLF8pjnPbre9MnTL5flbQn+lrABuge8CmKNdRwRuM6rIUX3ksfycitszwkK2nSOtTp1XuyhmMPsWAgc5TFc4+7EFt9mt67wOVDC7n21u6v7OtYgENm9Dh+yPXrET4p2NnvyYSc+cKV9YuzhwjnP/UCIgLNIsshN4rYQ4c5WMT6HiyQ/S7KQg3APqFSPHpXyQexHXUQLZV88t1vn80f2bZzX3Dco08cP+ZFakFmw9iZ2xtWnh6efRtusH3lsKWseO4Adnzc+d1T8DCdXnzAfFszbdZzgoiP2EmGJb/UTCRIlaK/RaPJ71/VX8GS8hpYQeTNWYdJqpJMldQ5mnURqchMkjJfUXJUiUeH/5LIcjlIKNF5FRFn/zMKiyX2mzrgcHRY/D+zveoCELpfxFDxLpkc3ebcp+i0VqYRCVb5g/PliWiGDe3G1ePVFsXduYKEJPYFa9Da9CaUwCr6Ljx+j2Ana4ZIdozAQswbhetxMuHmQa4LO76naArWmIBPx9CIvpYytQiMrNRmfthprMvB1V3tphKHh/SbJDg2lHQf+uLDBjnJ3oUQ/IrksMbF0sGBocqoIuovb4azDdMOtRiZWHtugbdkgUxCOqq7R6WqqF5oWXvi2qa6Ze66iZmpxVpZtAS63m2x6G4ylPXWcDbPd2EUN0NcpPZVHhK5PB7+ghQvlgXK1Ry1FIo1QrRZqREXJdej6W7e4aJ3GP/InVzlBrylN28/87f/3zjYEkFWOrAw04X4z0BkIPp74i3IVNs4yDoPC+Nmza3VNz54LhU+fdo08bMC6ujDD4ZFdT0Hsm4TzRaf4N3NKxBcJVgCxNvapR6YdCd1q66pF9nUOd+8SbcSn7rX/u+ZM8NPcem2g9Rnx7KmVou0zJ2uLI/MjZs+OyI8sviKYwOzZ320XR14pMXeumtpSnFAgFhckFD8aOLUXiIsTHuWmBPsX6eCcnMEzG7Z/pvjtJPQ4Bb4ku+PqFS6lGaHXJCpcGa4P37PacE1IUxN+nXnxp3QJBmhRzKHotN9uDtoOnXNeLQO3bOl4T9rtZrgeqsSUsGvesXtrsINmSTh9+vyzQ0UJUvxKSkZFWrL1qRXWYr3eVdE0aeIKRX1W8ll7Lajgfo7dYOBjg0tLlEqC6HPgIHjeDsEzVxIaPHToykwCZo5UJZmA3b5NFlBuml8Y2AkEpHwdAlpcEygbbJOsBrkJk+89kHFgHyYzGWTEJE5GtKw/mhhSI4dPrMoezDy4NxBGuXUiOz3a0B+jDRhg7IT//+n/P4GZIBszBwAA74QQyDlp77IWsJcNAW8xklld1w8tYNg2m8g8LjPO6R9mK/OzN25mk52tzNNlywIGGUhNJIp+1HXLYQzaSinTHbuhtWOcldxJADdxThVb2OBm2rMrcjPUbWcxM3bZpaIfOssokUrG8ASusgKuYnpizmbwcMrGWDDGkk1juWgUKVWDTtd/py/y401kaZlP2jdXDyYJwBW6vT42kaDD1YxM2SH6wnf97fN4c/lP7PpLgGt+GZzvnzPuwPG14EZVBABOshrAf/KUH84d6hQHhbQKgKCRIhbFQt6AAWmxbwQPDGeoUNaiPcIJx6Dv6V2wDoYBE9DRDRC2w0w8IoICPtEYt9hFE9zi2ogUNsJHb4YODjCCwCZE+uuDCuLlcanJf0MjTZh/U2wZp3NJvYn/pDUJd6/DS6G6JCZdPk7frbZdneObWeiCytR9CBvlLF1R+SRnw2hW3heLMD+Pwcm0h6IllXjfaDdDKsp+EyVqYvuRSs13OftPacXvumCdV4MXabBknCZlWq+zsvW01Sx6W3YxQRsoMQn2oRhL0sypLFkpVz8RR/lg7KAW7xZ8aUGWD5wScmvvAAXs5NOBMMYEU8ywgU3Mv+W4QPnz/WdsBYKhcCQaiyeSqXQmm8sXiqVypVqrN5qtdqfb6w+Go7EoyZQpqqYbpmViamZuYWllbWNrZ+/g6KQL0TEqRbQkfIyqsq4HWN2xQ3aUj9yIarfWk/tayaYPM+SfM2dJ7MlIp8RodF8UbSxlvHSSRfuSEm305D62ieu5EzZFZ+QPnZTtkVOp9cDV+cA1O/RU3RFthvaeOlhQuaU/oy31NWMdD0TuOKQ8oPcoTlrtMGoqR1GllcNKCzvMFOw4Jx75fE+yoE8cTyfcpCnt6HAibqdASeo4LEwXLNZjzrJG8Ki0DtABjHxU0ix2q8s3I/2qmQn3EsJNxomPNMXRDivOdF4nBRW9lzVHWAvpAgtNpNMFgkhtX9Ryb0p06NhZdkIpxKeNwWsOS271qApaPIWNQCIVCpnt0IupgBBBgcAggQDDGio4yDDCF6xgA/0aTNCgwBZmCLDbAw==);font-weight:400;font-style:normal}.ag-theme-material{--ag-material-primary-color:#3f51b5}.ag-theme-material,.ag-theme-material-auto-dark,.ag-theme-material-dark{--ag-material-accent-color:#ff4081;--ag-foreground-color:rgba(0, 0, 0, 0.87);--ag-secondary-foreground-color:rgba(0, 0, 0, 0.54);--ag-disabled-foreground-color:rgba(0, 0, 0, 0.38);--ag-background-color:#fff;--ag-header-background-color:#fff;--ag-tooltip-background-color:#fff;--ag-subheader-background-color:#eee;--ag-subheader-toolbar-background-color:rgba(238, 238, 238, 0.5);--ag-header-cell-hover-background-color:#f2f2f2;--ag-chip-background-color:#e2e2e2;--ag-range-selection-background-color:rgba(122, 134, 203, 0.1);--ag-range-selection-background-color-2:rgba(122, 134, 203, 0.19);--ag-range-selection-background-color-3:rgba(122, 134, 203, 0.27);--ag-range-selection-background-color-4:rgba(122, 134, 203, 0.34);--ag-range-selection-highlight-color:#fce4ec;--ag-row-hover-color:#fafafa;--ag-column-hover-color:#fafafa;--ag-control-panel-background-color:#fafafa;--ag-selected-row-background-color:rgba(33, 150, 243, 0.3);--ag-checkbox-unchecked-color:#333;--ag-value-change-value-highlight-background-color:#00acc1;--ag-side-button-selected-background-color:transparent;--ag-advanced-filter-join-pill-color:#f08e8d;--ag-advanced-filter-column-pill-color:#a6e194;--ag-advanced-filter-option-pill-color:#f3c08b;--ag-advanced-filter-value-pill-color:#85c0e4;--ag-range-selection-border-color:var(--ag-material-primary-color);--ag-checkbox-checked-color:var(--ag-material-accent-color);--ag-borders:none;--ag-borders-critical:solid 1px;--ag-border-color:#e2e2e2;--ag-grid-size:8px;--ag-icon-size:18px;--ag-header-height:calc(var(--ag-grid-size) * 7);--ag-row-height:calc(var(--ag-grid-size) * 6);--ag-cell-horizontal-padding:calc(var(--ag-grid-size) * 3);--ag-list-item-height:calc(var(--ag-grid-size) * 4);--ag-row-group-indent-size:calc(var(--ag-grid-size) * 3 + var(--ag-icon-size));--ag-filter-tool-panel-sub-level-row-height:calc(var(--ag-grid-size) * 4);--ag-checkbox-border-radius:2px;--ag-toggle-button-switch-border-width:2px;--ag-toggle-button-height:var(--ag-icon-size);--ag-widget-container-horizontal-padding:calc(var(--ag-grid-size) * 1.5);--ag-widget-container-vertical-padding:calc(var(--ag-grid-size) * 2);--ag-widget-vertical-spacing:calc(var(--ag-grid-size) * 1.75);--ag-font-family:Roboto, -apple-system, BlinkMacSystemFont, "Segoe UI", Oxygen-Sans, Ubuntu, Cantarell,\n  "Helvetica Neue", sans-serif;--ag-font-size:13px;--ag-icon-font-family:agGridMaterial;--ag-selected-tab-underline-color:var(--ag-material-primary-color);--ag-selected-tab-underline-width:2px;--ag-input-focus-border-color:var(--ag-material-primary-color);--ag-input-focus-box-shadow:0 0 0 5px rgba(32, 33, 36, 0.122);--ag-card-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14),\n  0 1px 5px 0 rgba(0, 0, 0, 0.12);--ag-card-radius:2px;--ag-invalid-color:#e02525}.ag-theme-material-auto-dark{--ag-material-primary-color:#3f51b5}.ag-theme-material-dark{--ag-material-primary-color:#3f51b5;--ag-material-accent-color:#bb86fcff;--ag-range-selection-border-color:var(--ag-material-accent-color);--ag-background-color:#121212ff;--ag-foreground-color:#ffffffff;--ag-data-color:#f5f5f5ff;--ag-header-cell-hover-background-color:#000000ff;--ag-advanced-filter-join-pill-color:#7a3a37ff;--ag-advanced-filter-column-pill-color:#355f2dff;--ag-advanced-filter-option-pill-color:#5a3168ff;--ag-advanced-filter-value-pill-color:#374c86ff;--ag-input-disabled-border-color:#3a434eff;--ag-input-disabled-background-color:#68686e12;--ag-selected-row-background-color:#bb86fc33;--ag-row-hover-color:#bb86fc33;--ag-column-hover-color:#f5f5f50d;--ag-range-selection-background-color:#bb86fc1a;--ag-range-selection-background-color-2:#bb86fc30;--ag-range-selection-background-color-3:#bb86fc45;--ag-range-selection-background-color-4:#bb86fc57;--ag-border-color:#383838ff;--ag-secondary-border-color:#383838ff;--ag-header-background-color:#121212ff;--ag-tooltip-background-color:#212b38ff;--ag-odd-row-background-color:#121212ff;--ag-control-panel-background-color:#2c2c2cff;--ag-subheader-background-color:#ffffff0d;--ag-subheader-toolbar-background-color:#2c2c2cff;--ag-invalid-color:#e02525ff;--ag-checkbox-unchecked-color:#797e87ff;--ag-checkbox-background-color:#121212ff;--ag-secondary-foreground-color:#f5f5f5ff;--ag-input-border-color:#383838ff;--ag-input-border-color-invalid:#e02525ff;--ag-disabled-foreground-color:#f5f5f580;--ag-chip-background-color:#22262812;--ag-side-button-selected-background-color:#2c2c2cff;--ag-selected-tab-underline-color:#3f51b5ff;--ag-modal-overlay-background-color:#121212a8;--ag-value-change-delta-up-color:#43a047a8;--ag-value-change-delta-down-color:#e53935ff;--ag-menu-background-color:#2c2c2cff;--ag-row-loading-skeleton-effect-color:rgba(202, 203, 204, 0.4);color-scheme:dark}@media (prefers-color-scheme: dark){.ag-theme-material-auto-dark{--ag-material-primary-color:#3f51b5;--ag-material-accent-color:#bb86fcff;--ag-range-selection-border-color:var(--ag-material-accent-color);--ag-background-color:#121212ff;--ag-foreground-color:#ffffffff;--ag-data-color:#f5f5f5ff;--ag-header-cell-hover-background-color:#000000ff;--ag-advanced-filter-join-pill-color:#7a3a37ff;--ag-advanced-filter-column-pill-color:#355f2dff;--ag-advanced-filter-option-pill-color:#5a3168ff;--ag-advanced-filter-value-pill-color:#374c86ff;--ag-input-disabled-border-color:#3a434eff;--ag-input-disabled-background-color:#68686e12;--ag-selected-row-background-color:#bb86fc33;--ag-row-hover-color:#bb86fc33;--ag-column-hover-color:#f5f5f50d;--ag-range-selection-background-color:#bb86fc1a;--ag-range-selection-background-color-2:#bb86fc30;--ag-range-selection-background-color-3:#bb86fc45;--ag-range-selection-background-color-4:#bb86fc57;--ag-border-color:#383838ff;--ag-secondary-border-color:#383838ff;--ag-header-background-color:#121212ff;--ag-tooltip-background-color:#212b38ff;--ag-odd-row-background-color:#121212ff;--ag-control-panel-background-color:#2c2c2cff;--ag-subheader-background-color:#ffffff0d;--ag-subheader-toolbar-background-color:#2c2c2cff;--ag-invalid-color:#e02525ff;--ag-checkbox-unchecked-color:#797e87ff;--ag-checkbox-background-color:#121212ff;--ag-secondary-foreground-color:#f5f5f5ff;--ag-input-border-color:#383838ff;--ag-input-border-color-invalid:#e02525ff;--ag-disabled-foreground-color:#f5f5f580;--ag-chip-background-color:#22262812;--ag-side-button-selected-background-color:#2c2c2cff;--ag-selected-tab-underline-color:#3f51b5ff;--ag-modal-overlay-background-color:#121212a8;--ag-value-change-delta-up-color:#43a047a8;--ag-value-change-delta-down-color:#e53935ff;--ag-menu-background-color:#2c2c2cff;--ag-row-loading-skeleton-effect-color:rgba(202, 203, 204, 0.4);color-scheme:dark}}.ag-theme-material .ag-filter-toolpanel-header,.ag-theme-material .ag-filter-toolpanel-search,.ag-theme-material .ag-header-row,.ag-theme-material .ag-multi-filter-group-title-bar,.ag-theme-material .ag-panel-title-bar-title,.ag-theme-material .ag-status-bar,.ag-theme-material-auto-dark .ag-filter-toolpanel-header,.ag-theme-material-auto-dark .ag-filter-toolpanel-search,.ag-theme-material-auto-dark .ag-header-row,.ag-theme-material-auto-dark .ag-multi-filter-group-title-bar,.ag-theme-material-auto-dark .ag-panel-title-bar-title,.ag-theme-material-auto-dark .ag-status-bar,.ag-theme-material-dark .ag-filter-toolpanel-header,.ag-theme-material-dark .ag-filter-toolpanel-search,.ag-theme-material-dark .ag-header-row,.ag-theme-material-dark .ag-multi-filter-group-title-bar,.ag-theme-material-dark .ag-panel-title-bar-title,.ag-theme-material-dark .ag-status-bar{font-size:calc(var(--ag-font-size) - 1px);font-weight:600;color:var(--ag-header-foreground-color)}.ag-theme-material .ag-tab,.ag-theme-material-auto-dark .ag-tab,.ag-theme-material-dark .ag-tab{height:calc(var(--ag-grid-size) * 4.5);flex:1 1 auto}.ag-theme-material .ag-column-drop-horizontal,.ag-theme-material .ag-tabs-header,.ag-theme-material-auto-dark .ag-column-drop-horizontal,.ag-theme-material-auto-dark .ag-tabs-header,.ag-theme-material-dark .ag-column-drop-horizontal,.ag-theme-material-dark .ag-tabs-header{background-color:var(--ag-subheader-background-color)}.ag-theme-material .ag-tabs-body,.ag-theme-material-auto-dark .ag-tabs-body,.ag-theme-material-dark .ag-tabs-body{padding:calc(var(--ag-grid-size) * 0.5) 0}.ag-theme-material .ag-tabs-body .ag-menu-list,.ag-theme-material-auto-dark .ag-tabs-body .ag-menu-list,.ag-theme-material-dark .ag-tabs-body .ag-menu-list{padding-top:0;padding-bottom:0}.ag-theme-material .ag-header-cell,.ag-theme-material .ag-header-group-cell,.ag-theme-material-auto-dark .ag-header-cell,.ag-theme-material-auto-dark .ag-header-group-cell,.ag-theme-material-dark .ag-header-cell,.ag-theme-material-dark .ag-header-group-cell{transition:background-color 0.5s}.ag-theme-material .ag-row-last:not(.ag-row-first) .ag-cell-inline-editing,.ag-theme-material-auto-dark .ag-row-last:not(.ag-row-first) .ag-cell-inline-editing,.ag-theme-material-dark .ag-row-last:not(.ag-row-first) .ag-cell-inline-editing{bottom:0}.ag-theme-material .ag-cell-inline-editing,.ag-theme-material-auto-dark .ag-cell-inline-editing,.ag-theme-material-dark .ag-cell-inline-editing{padding:var(--ag-grid-size);height:calc(var(--ag-row-height) + var(--ag-grid-size) * 3);border-color:var(--ag-border-color) !important}.ag-theme-material .ag-has-focus .ag-cell-inline-editing,.ag-theme-material-auto-dark .ag-has-focus .ag-cell-inline-editing,.ag-theme-material-dark .ag-has-focus .ag-cell-inline-editing{border-color:var(--ag-input-focus-border-color) !important}.ag-theme-material .ag-column-drop-vertical,.ag-theme-material-auto-dark .ag-column-drop-vertical,.ag-theme-material-dark .ag-column-drop-vertical{border-bottom:solid 1px;border-bottom-color:var(--ag-border-color);padding-top:var(--ag-grid-size)}.ag-theme-material .ag-column-drop-vertical.ag-last-column-drop,.ag-theme-material-auto-dark .ag-column-drop-vertical.ag-last-column-drop,.ag-theme-material-dark .ag-column-drop-vertical.ag-last-column-drop{border-bottom:none}.ag-theme-material .ag-column-drop-vertical-cell,.ag-theme-material-auto-dark .ag-column-drop-vertical-cell,.ag-theme-material-dark .ag-column-drop-vertical-cell{margin-left:0}.ag-theme-material .ag-column-drop-vertical-empty-message,.ag-theme-material-auto-dark .ag-column-drop-vertical-empty-message,.ag-theme-material-dark .ag-column-drop-vertical-empty-message{font-size:calc(var(--ag-font-size) - 1px);font-weight:600;color:var(--ag-disabled-foreground-color)}.ag-theme-material .ag-ltr .ag-column-drop-vertical-empty-message,.ag-theme-material-auto-dark .ag-ltr .ag-column-drop-vertical-empty-message,.ag-theme-material-dark .ag-ltr .ag-column-drop-vertical-empty-message{padding-left:calc(var(--ag-icon-size) + var(--ag-grid-size) * 2);padding-right:var(--ag-grid-size)}.ag-theme-material .ag-rtl .ag-column-drop-vertical-empty-message,.ag-theme-material-auto-dark .ag-rtl .ag-column-drop-vertical-empty-message,.ag-theme-material-dark .ag-rtl .ag-column-drop-vertical-empty-message{padding-right:calc(var(--ag-icon-size) + var(--ag-grid-size) * 2);padding-left:var(--ag-grid-size)}.ag-theme-material .ag-status-bar,.ag-theme-material-auto-dark .ag-status-bar,.ag-theme-material-dark .ag-status-bar{border:solid 1px;border-color:var(--ag-border-color)}.ag-theme-material .ag-column-panel-column-select,.ag-theme-material-auto-dark .ag-column-panel-column-select,.ag-theme-material-dark .ag-column-panel-column-select{border-top:solid 1px;border-top-color:var(--ag-border-color)}.ag-theme-material .ag-column-select,.ag-theme-material .ag-column-select-header,.ag-theme-material-auto-dark .ag-column-select,.ag-theme-material-auto-dark .ag-column-select-header,.ag-theme-material-dark .ag-column-select,.ag-theme-material-dark .ag-column-select-header{border-bottom:solid 1px;border-bottom-color:var(--ag-border-color)}.ag-theme-material .ag-column-select-header,.ag-theme-material-auto-dark .ag-column-select-header,.ag-theme-material-dark .ag-column-select-header{height:var(--ag-header-height)}.ag-theme-material .ag-group-title-bar,.ag-theme-material-auto-dark .ag-group-title-bar,.ag-theme-material-dark .ag-group-title-bar{padding:calc(var(--ag-grid-size) * 0.75) var(--ag-grid-size)}.ag-theme-material .ag-charts-format-sub-level-group-title-bar,.ag-theme-material-auto-dark .ag-charts-format-sub-level-group-title-bar,.ag-theme-material-dark .ag-charts-format-sub-level-group-title-bar{padding:calc(var(--ag-grid-size) * 0.5) var(--ag-grid-size)}.ag-theme-material .ag-chart-advanced-settings-section,.ag-theme-material .ag-chart-data-section,.ag-theme-material .ag-chart-format-section,.ag-theme-material-auto-dark .ag-chart-advanced-settings-section,.ag-theme-material-auto-dark .ag-chart-data-section,.ag-theme-material-auto-dark .ag-chart-format-section,.ag-theme-material-dark .ag-chart-advanced-settings-section,.ag-theme-material-dark .ag-chart-data-section,.ag-theme-material-dark .ag-chart-format-section{padding-bottom:calc(var(--ag-grid-size) * 0.5)}.ag-theme-material input[class^=ag-]:not([type]),.ag-theme-material input[class^=ag-][type=date],.ag-theme-material input[class^=ag-][type=datetime-local],.ag-theme-material input[class^=ag-][type=number],.ag-theme-material input[class^=ag-][type=tel],.ag-theme-material input[class^=ag-][type=text],.ag-theme-material textarea[class^=ag-],.ag-theme-material-auto-dark input[class^=ag-]:not([type]),.ag-theme-material-auto-dark input[class^=ag-][type=date],.ag-theme-material-auto-dark input[class^=ag-][type=datetime-local],.ag-theme-material-auto-dark input[class^=ag-][type=number],.ag-theme-material-auto-dark input[class^=ag-][type=tel],.ag-theme-material-auto-dark input[class^=ag-][type=text],.ag-theme-material-auto-dark textarea[class^=ag-],.ag-theme-material-dark input[class^=ag-]:not([type]),.ag-theme-material-dark input[class^=ag-][type=date],.ag-theme-material-dark input[class^=ag-][type=datetime-local],.ag-theme-material-dark input[class^=ag-][type=number],.ag-theme-material-dark input[class^=ag-][type=tel],.ag-theme-material-dark input[class^=ag-][type=text],.ag-theme-material-dark textarea[class^=ag-]{background:0 0;color:var(--ag-foreground-color);font-family:inherit;font-size:inherit;padding-bottom:var(--ag-grid-size);border-width:0;border-radius:0;border-bottom:2px solid;border-bottom-color:var(--ag-border-color)}.ag-theme-material input[class^=ag-]:not([type]):not(textarea),.ag-theme-material input[class^=ag-][type=date]:not(textarea),.ag-theme-material input[class^=ag-][type=datetime-local]:not(textarea),.ag-theme-material input[class^=ag-][type=number]:not(textarea),.ag-theme-material input[class^=ag-][type=tel]:not(textarea),.ag-theme-material input[class^=ag-][type=text]:not(textarea),.ag-theme-material textarea[class^=ag-]:not(textarea),.ag-theme-material-auto-dark input[class^=ag-]:not([type]):not(textarea),.ag-theme-material-auto-dark input[class^=ag-][type=date]:not(textarea),.ag-theme-material-auto-dark input[class^=ag-][type=datetime-local]:not(textarea),.ag-theme-material-auto-dark input[class^=ag-][type=number]:not(textarea),.ag-theme-material-auto-dark input[class^=ag-][type=tel]:not(textarea),.ag-theme-material-auto-dark input[class^=ag-][type=text]:not(textarea),.ag-theme-material-auto-dark textarea[class^=ag-]:not(textarea),.ag-theme-material-dark input[class^=ag-]:not([type]):not(textarea),.ag-theme-material-dark input[class^=ag-][type=date]:not(textarea),.ag-theme-material-dark input[class^=ag-][type=datetime-local]:not(textarea),.ag-theme-material-dark input[class^=ag-][type=number]:not(textarea),.ag-theme-material-dark input[class^=ag-][type=tel]:not(textarea),.ag-theme-material-dark input[class^=ag-][type=text]:not(textarea),.ag-theme-material-dark textarea[class^=ag-]:not(textarea){height:calc(var(--ag-grid-size) * 5)}.ag-theme-material input[class^=ag-]:not([type]):focus,.ag-theme-material input[class^=ag-][type=date]:focus,.ag-theme-material input[class^=ag-][type=datetime-local]:focus,.ag-theme-material input[class^=ag-][type=number]:focus,.ag-theme-material input[class^=ag-][type=tel]:focus,.ag-theme-material input[class^=ag-][type=text]:focus,.ag-theme-material textarea[class^=ag-]:focus,.ag-theme-material-auto-dark input[class^=ag-]:not([type]):focus,.ag-theme-material-auto-dark input[class^=ag-][type=date]:focus,.ag-theme-material-auto-dark input[class^=ag-][type=datetime-local]:focus,.ag-theme-material-auto-dark input[class^=ag-][type=number]:focus,.ag-theme-material-auto-dark input[class^=ag-][type=tel]:focus,.ag-theme-material-auto-dark input[class^=ag-][type=text]:focus,.ag-theme-material-auto-dark textarea[class^=ag-]:focus,.ag-theme-material-dark input[class^=ag-]:not([type]):focus,.ag-theme-material-dark input[class^=ag-][type=date]:focus,.ag-theme-material-dark input[class^=ag-][type=datetime-local]:focus,.ag-theme-material-dark input[class^=ag-][type=number]:focus,.ag-theme-material-dark input[class^=ag-][type=tel]:focus,.ag-theme-material-dark input[class^=ag-][type=text]:focus,.ag-theme-material-dark textarea[class^=ag-]:focus{border-bottom:2px solid;border-bottom-color:var(--ag-material-primary-color);outline:0;box-shadow:none}.ag-theme-material input[class^=ag-]:not([type])::placeholder,.ag-theme-material input[class^=ag-][type=date]::placeholder,.ag-theme-material input[class^=ag-][type=datetime-local]::placeholder,.ag-theme-material input[class^=ag-][type=number]::placeholder,.ag-theme-material input[class^=ag-][type=tel]::placeholder,.ag-theme-material input[class^=ag-][type=text]::placeholder,.ag-theme-material textarea[class^=ag-]::placeholder,.ag-theme-material-auto-dark input[class^=ag-]:not([type])::placeholder,.ag-theme-material-auto-dark input[class^=ag-][type=date]::placeholder,.ag-theme-material-auto-dark input[class^=ag-][type=datetime-local]::placeholder,.ag-theme-material-auto-dark input[class^=ag-][type=number]::placeholder,.ag-theme-material-auto-dark input[class^=ag-][type=tel]::placeholder,.ag-theme-material-auto-dark input[class^=ag-][type=text]::placeholder,.ag-theme-material-auto-dark textarea[class^=ag-]::placeholder,.ag-theme-material-dark input[class^=ag-]:not([type])::placeholder,.ag-theme-material-dark input[class^=ag-][type=date]::placeholder,.ag-theme-material-dark input[class^=ag-][type=datetime-local]::placeholder,.ag-theme-material-dark input[class^=ag-][type=number]::placeholder,.ag-theme-material-dark input[class^=ag-][type=tel]::placeholder,.ag-theme-material-dark input[class^=ag-][type=text]::placeholder,.ag-theme-material-dark textarea[class^=ag-]::placeholder{color:var(--ag-disabled-foreground-color)}.ag-theme-material input[class^=ag-]:not([type]):disabled,.ag-theme-material input[class^=ag-][type=date]:disabled,.ag-theme-material input[class^=ag-][type=datetime-local]:disabled,.ag-theme-material input[class^=ag-][type=number]:disabled,.ag-theme-material input[class^=ag-][type=tel]:disabled,.ag-theme-material input[class^=ag-][type=text]:disabled,.ag-theme-material textarea[class^=ag-]:disabled,.ag-theme-material-auto-dark input[class^=ag-]:not([type]):disabled,.ag-theme-material-auto-dark input[class^=ag-][type=date]:disabled,.ag-theme-material-auto-dark input[class^=ag-][type=datetime-local]:disabled,.ag-theme-material-auto-dark input[class^=ag-][type=number]:disabled,.ag-theme-material-auto-dark input[class^=ag-][type=tel]:disabled,.ag-theme-material-auto-dark input[class^=ag-][type=text]:disabled,.ag-theme-material-auto-dark textarea[class^=ag-]:disabled,.ag-theme-material-dark input[class^=ag-]:not([type]):disabled,.ag-theme-material-dark input[class^=ag-][type=date]:disabled,.ag-theme-material-dark input[class^=ag-][type=datetime-local]:disabled,.ag-theme-material-dark input[class^=ag-][type=number]:disabled,.ag-theme-material-dark input[class^=ag-][type=tel]:disabled,.ag-theme-material-dark input[class^=ag-][type=text]:disabled,.ag-theme-material-dark textarea[class^=ag-]:disabled{border-bottom:1px solid;border-bottom-color:var(--ag-border-color)}.ag-theme-material input[class^=ag-]:not([type]):invalid,.ag-theme-material input[class^=ag-][type=date]:invalid,.ag-theme-material input[class^=ag-][type=datetime-local]:invalid,.ag-theme-material input[class^=ag-][type=number]:invalid,.ag-theme-material input[class^=ag-][type=tel]:invalid,.ag-theme-material input[class^=ag-][type=text]:invalid,.ag-theme-material textarea[class^=ag-]:invalid,.ag-theme-material-auto-dark input[class^=ag-]:not([type]):invalid,.ag-theme-material-auto-dark input[class^=ag-][type=date]:invalid,.ag-theme-material-auto-dark input[class^=ag-][type=datetime-local]:invalid,.ag-theme-material-auto-dark input[class^=ag-][type=number]:invalid,.ag-theme-material-auto-dark input[class^=ag-][type=tel]:invalid,.ag-theme-material-auto-dark input[class^=ag-][type=text]:invalid,.ag-theme-material-auto-dark textarea[class^=ag-]:invalid,.ag-theme-material-dark input[class^=ag-]:not([type]):invalid,.ag-theme-material-dark input[class^=ag-][type=date]:invalid,.ag-theme-material-dark input[class^=ag-][type=datetime-local]:invalid,.ag-theme-material-dark input[class^=ag-][type=number]:invalid,.ag-theme-material-dark input[class^=ag-][type=tel]:invalid,.ag-theme-material-dark input[class^=ag-][type=text]:invalid,.ag-theme-material-dark textarea[class^=ag-]:invalid{border-width:0;border-bottom:1px solid;border-bottom-color:var(--ag-invalid-color);color:var(--ag-invalid-color)}.ag-theme-material .ag-standard-button,.ag-theme-material-auto-dark .ag-standard-button,.ag-theme-material-dark .ag-standard-button{appearance:none;background-color:transparent;border:0;color:var(--ag-material-primary-color);font-family:inherit;font-size:inherit;margin:0;padding:0;text-transform:uppercase}.ag-theme-material .ag-standard-button:disabled,.ag-theme-material-auto-dark .ag-standard-button:disabled,.ag-theme-material-dark .ag-standard-button:disabled{color:var(--ag-disabled-foreground-color);background-color:var(--ag-input-disabled-background-color);border-color:var(--ag-input-disabled-border-color)}.ag-theme-material-auto-dark.ag-dnd-ghost,.ag-theme-material-dark.ag-dnd-ghost,.ag-theme-material.ag-dnd-ghost{font-size:calc(var(--ag-font-size) - 1px);font-weight:600}.ag-theme-material .ag-filter-toolpanel-header,.ag-theme-material-auto-dark .ag-filter-toolpanel-header,.ag-theme-material-dark .ag-filter-toolpanel-header{height:calc(var(--ag-grid-size) * 4)}.ag-theme-material .ag-filter-toolpanel-group-level-0-header,.ag-theme-material-auto-dark .ag-filter-toolpanel-group-level-0-header,.ag-theme-material-dark .ag-filter-toolpanel-group-level-0-header{height:calc(var(--ag-grid-size) * 7)}.ag-theme-material .ag-ltr .ag-advanced-filter-apply-button,.ag-theme-material .ag-ltr .ag-advanced-filter-builder-button,.ag-theme-material .ag-ltr .ag-filter-apply-panel-button,.ag-theme-material-auto-dark .ag-ltr .ag-advanced-filter-apply-button,.ag-theme-material-auto-dark .ag-ltr .ag-advanced-filter-builder-button,.ag-theme-material-auto-dark .ag-ltr .ag-filter-apply-panel-button,.ag-theme-material-dark .ag-ltr .ag-advanced-filter-apply-button,.ag-theme-material-dark .ag-ltr .ag-advanced-filter-builder-button,.ag-theme-material-dark .ag-ltr .ag-filter-apply-panel-button{margin-left:var(--ag-grid-size)}.ag-theme-material .ag-rtl .ag-advanced-filter-apply-button,.ag-theme-material .ag-rtl .ag-advanced-filter-builder-button,.ag-theme-material .ag-rtl .ag-filter-apply-panel-button,.ag-theme-material-auto-dark .ag-rtl .ag-advanced-filter-apply-button,.ag-theme-material-auto-dark .ag-rtl .ag-advanced-filter-builder-button,.ag-theme-material-auto-dark .ag-rtl .ag-filter-apply-panel-button,.ag-theme-material-dark .ag-rtl .ag-advanced-filter-apply-button,.ag-theme-material-dark .ag-rtl .ag-advanced-filter-builder-button,.ag-theme-material-dark .ag-rtl .ag-filter-apply-panel-button{margin-right:var(--ag-grid-size)}.ag-theme-material .ag-layout-auto-height .ag-center-cols-container,.ag-theme-material .ag-layout-auto-height .ag-center-cols-viewport,.ag-theme-material .ag-layout-print .ag-center-cols-container,.ag-theme-material .ag-layout-print .ag-center-cols-viewport,.ag-theme-material-auto-dark .ag-layout-auto-height .ag-center-cols-container,.ag-theme-material-auto-dark .ag-layout-auto-height .ag-center-cols-viewport,.ag-theme-material-auto-dark .ag-layout-print .ag-center-cols-container,.ag-theme-material-auto-dark .ag-layout-print .ag-center-cols-viewport,.ag-theme-material-dark .ag-layout-auto-height .ag-center-cols-container,.ag-theme-material-dark .ag-layout-auto-height .ag-center-cols-viewport,.ag-theme-material-dark .ag-layout-print .ag-center-cols-container,.ag-theme-material-dark .ag-layout-print .ag-center-cols-viewport{min-height:150px}.ag-theme-material .ag-picker-field-wrapper:focus-within,.ag-theme-material-auto-dark .ag-picker-field-wrapper:focus-within,.ag-theme-material-dark .ag-picker-field-wrapper:focus-within{box-shadow:0 0 0 1px var(--ag-material-primary-color)}.ag-theme-material .ag-rich-select-list,.ag-theme-material-auto-dark .ag-rich-select-list,.ag-theme-material-dark .ag-rich-select-list{box-shadow:rgba(0, 0, 0, 0.2) 0 5px 5px -3px, rgba(0, 0, 0, 0.14) 0 8px 10px 1px, rgba(0, 0, 0, 0.12) 0 3px 14px 2px}.ag-theme-material .ag-advanced-filter-builder-button-label,.ag-theme-material-auto-dark .ag-advanced-filter-builder-button-label,.ag-theme-material-dark .ag-advanced-filter-builder-button-label{text-transform:uppercase}.ag-theme-material .ag-filter-active .ag-icon-filter,.ag-theme-material-auto-dark .ag-filter-active .ag-icon-filter,.ag-theme-material-dark .ag-filter-active .ag-icon-filter{color:var(--ag-material-accent-color)}.ag-theme-material .ag-header-highlight-after::after,.ag-theme-material .ag-header-highlight-before::after,.ag-theme-material .ag-list-item-hovered::after,.ag-theme-material-auto-dark .ag-header-highlight-after::after,.ag-theme-material-auto-dark .ag-header-highlight-before::after,.ag-theme-material-auto-dark .ag-list-item-hovered::after,.ag-theme-material-dark .ag-header-highlight-after::after,.ag-theme-material-dark .ag-header-highlight-before::after,.ag-theme-material-dark .ag-list-item-hovered::after{background-color:var(--ag-material-primary-color)}.ag-theme-material .ag-pill .ag-pill-button:hover,.ag-theme-material-auto-dark .ag-pill .ag-pill-button:hover,.ag-theme-material-dark .ag-pill .ag-pill-button:hover{color:var(--ag-material-primary-color)}:root{--colorStatusColWidth:12px}.ag-header-cell{height:48px}.ag-cell,.ag-header-cell{padding-left:13px !important;padding-right:13px !important}.ag-header-cell atui-checkbox[aria-checked],.ag-cell atui-checkbox[aria-checked],atui-menu atui-checkbox[aria-checked]{background-color:transparent}.ag-header-cell[col-id=colorStatusCell],.ag-cell[col-id=colorStatusCell]{padding-left:0 !important;padding-right:0 !important;width:var(--colorStatusColWidth) !important;border:none !important}';const ov=class{constructor(i){t(this,i);this.atSortChange=e(this,"atSortChange",7)}table_data;col_defs;page_size=10;use_custom_sorting=false;use_custom_pagination=false;disable_auto_init=false;auto_size_columns=true;ag_grid;get el(){return i(this)}resizeListener;atSortChange;activeFilters={};agGrid;tableCreated=false;async handleTableDataChange(t){if(this.agGrid&&this.tableCreated){this.agGrid.setGridOption("rowData",t?.items||[]);if(this.auto_size_columns){setTimeout((()=>this.agGrid.sizeColumnsToFit()),0)}}}async componentDidLoad(){if(this.disable_auto_init){this.tableCreated=true}await this.initGrid();if(this.auto_size_columns){this.resizeListener=()=>{if(this.agGrid){this.agGrid.sizeColumnsToFit()}};window.addEventListener("resize",this.resizeListener)}}async componentDidUpdate(){await this.initGrid()}async initGrid(){const t=this.ag_grid&&!this.agGrid;const e=this.col_defs&&!this.tableCreated;if(t){this.agGrid=this.ag_grid;this.tableCreated=true;return}if(e){this.agGrid=await this.createGrid();this.tableCreated=true}}async createGrid(){const t={domLayout:"autoHeight",rowData:this.table_data?this.table_data.items:[],columnDefs:this.col_defs,components:sv.getFrameworkComponents(),onGridSizeChanged:t=>{if(this.auto_size_columns){t.api.sizeColumnsToFit()}},onGridReady:t=>{if(this.auto_size_columns){t.api.sizeColumnsToFit()}},onSortChanged:t=>{const e=t.columns.filter((t=>t.getSort()!==undefined))[0];this.atSortChange.emit({colId:e.getColId(),sortDirection:e.getSort()})}};if(this.use_custom_sorting){t.columnDefs=this.col_defs.map((t=>({...t,comparator:()=>0})))}if(!this.use_custom_pagination){t.pagination=true;t.paginationPageSize=this.page_size;t.paginationPageSizeSelector=[5,10,20,50,100]}else{t.pagination=false}const e=Zp(this.el,t);this.agGrid=e;this.tableCreated=true;if(this.auto_size_columns){setTimeout((()=>e.sizeColumnsToFit()),0)}return e}async getGridApi(){return this.agGrid}disconnectedCallback(){if(this.resizeListener){window.removeEventListener("resize",this.resizeListener)}}render(){return s(r,{key:"f73c0aa1a40890f9196a46fa25f01fb2f4e09c25",class:"ag-theme-material"})}static get watchers(){return{table_data:["handleTableDataChange"]}}};ov.style=rv;const nv=class{constructor(i){t(this,i);this.atExportCsv=e(this,"atExportCsv",7);this.atExportPdf=e(this,"atExportPdf",7);this.atChange=e(this,"atChange",7)}ag_grid;atExportCsv;atExportPdf;atChange;changeHandler(t){const e=t.target;switch(e.slot){case"column-manager":this.ag_grid.setColumnsVisible([t.detail.id],t.detail.checked);break;case"search":this.ag_grid.setGridOption("quickFilterText",t.detail);break;case"export-menu":if(t.detail==="CSV")this.atExportCsv.emit();if(t.detail==="PDF")this.atExportPdf.emit(this.getVisibleColumns());break;case"dropdown-filters":this.atChange.emit(t.detail);break}}getVisibleColumns(){return this.ag_grid.getAllDisplayedColumns().map((t=>{const e=t.getUserProvidedColDef();return{actualWidth:t.getActualWidth(),field:e?.field||"",displayName:this.ag_grid.getDisplayNameForColumn(t,"header")}}))}render(){return s(r,{key:"70ff96d6fb1f744a9bfbb0d96cb1b55fd3d3ea6f",class:"relative flex flex-col gap-8 pt-8 pb-8"},s("div",{key:"193d138c0bd6027c4796b1d062f4c59e221e38b9",class:"flex justify-between"},s("div",{key:"cdcd36c4a488b0d1e4747a56b9ad411f37dc7c75",class:"flex"},s("slot",{key:"48d8dac00517e04c3a10e6ecd37efabe9398129a",name:"search"})),s("div",{key:"da31c62734fd140ff6e02831f9a0ba3ede9df1fc",class:"flex"},s("slot",{key:"2e74cea0a377bc3f935df5bf7416ab77521abad9",name:"export-menu"}),s("slot",{key:"05131f74d3b5ff79d44683d7794d5c019b84af2b",name:"column-manager"}),s("slot",{key:"116be9b43285ff26d419694cafcfaf044f3ff53c",name:"actions"}))),s("slot",{key:"59a458b8c5d212bcfd86703b05a98265f5cb75c3",name:"filters"}))}};export{k as at_column_manager,ov as at_table,nv as at_table_actions};
//# sourceMappingURL=p-3338ee86.entry.js.map