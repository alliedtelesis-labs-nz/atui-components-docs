import{r as t,c as s,h as e,F as i,H as a,g as o}from"./p-Cd7WF2gX.js";import{c as n}from"./p-CVoOBWGd.js";import{f as r}from"./p-DuLooPsr.js";const l=n("text-base max-w-4xl rounded-lg px-8 py-4",{variants:{role:{user:"ml-auto bg-surface-2 text-dark",assistant:"mr-auto text-dark"},loading:{true:"animate-pulse",false:""}},defaultVariants:{role:"user",loading:false}});const c=class{constructor(e){t(this,e);this.atuiCopy=s(this,"atuiCopy",7);this.atuiPositiveFeedback=s(this,"atuiPositiveFeedback",7);this.atuiNegativeFeedback=s(this,"atuiNegativeFeedback",7);this.atuiRetry=s(this,"atuiRetry",7);this.atuiEdit=s(this,"atuiEdit",7);this.role="user";this.content="";this.loading=false;this.error=false;this.handleCopy=()=>{this.atuiCopy.emit(this.content)};this.handleRetry=()=>{this.atuiRetry.emit()};this.handleEdit=()=>{this.atuiEdit.emit(this.content)};this.handleFeedbackPositive=()=>{this.atuiPositiveFeedback.emit()};this.handleFeedbackNegative=()=>{this.atuiNegativeFeedback.emit()}}async componentWillLoad(){this.translations=await r(this.errorEl)}renderAvatar(){const t=this.role==="user"?"primary":"secondary";const s=this.name?this.name.charAt(0).toUpperCase():this.role==="user"?"U":"A";return e("atui-avatar",{src:this.avatar,alt:this.name||this.role,initials:s,variant:t,size:"sm","data-name":"message-avatar"})}renderActions(){if(this.loading)return null;return e("div",{class:"mt-2 flex items-center justify-end gap-2","data-name":"message-actions"},this.role==="user"&&e("atui-tooltip",{position:"top"},e("atui-button",{slot:"tooltip-trigger",size:"sm",type:"secondaryText",icon:"edit",class:"text-xs",onClick:this.handleEdit,"data-name":"edit-button"}),e("span",{slot:"tooltip-content"},"Edit")),this.role==="assistant"&&e(i,null,e("atui-tooltip",{position:"top"},e("atui-button",{slot:"tooltip-trigger",size:"sm",type:"secondaryText",icon:"thumb_up",onClick:this.handleFeedbackPositive,"data-name":"feedback-positive-button"}),e("span",{slot:"tooltip-content"},"Helpful")),e("atui-tooltip",{position:"top"},e("atui-button",{slot:"tooltip-trigger",size:"sm",type:"secondaryText",icon:"thumb_down",onClick:this.handleFeedbackNegative,"data-name":"feedback-negative-button"}),e("span",{slot:"tooltip-content"},"Not helpful")),e("atui-tooltip",{position:"top"},e("atui-button",{slot:"tooltip-trigger",size:"sm",icon:"content_copy",type:"secondaryText",onClick:this.handleCopy,"data-name":"copy-button"}),e("span",{slot:"tooltip-content"},"Copy"))),this.role==="assistant"&&this.error&&e("atui-tooltip",{position:"top"},e("atui-button",{slot:"tooltip-trigger",size:"sm",type:"secondaryText",icon:"refresh",onClick:this.handleRetry,"data-name":"retry-button"}),e("span",{slot:"tooltip-content"},"Retry")))}renderContent(){if(this.loading){return e("div",{class:"py-8","data-name":"loading-content"},e("atui-loading",{variant:"typing",size:"sm"}))}if(this.error){return e("div",{class:"space-y-2",ref:t=>this.errorEl=t,"data-name":"error-content"},e("p",{class:"text-destructive"},this.error_message||this.translations.ATUI.PROMPT.ERROR_GENERATING_RESPONSE))}return e("div",{class:"prose prose-sm preserve-newlines max-w-none","data-name":"message-content"},e("slot",null),this.content)}render(){const t=l({role:this.role,loading:this.loading});return e(a,{key:"1db966cab534c25d160b3a8dd514f5a1ce29284c",class:"flex w-full gap-8","data-name":"message-container"},this.avatar&&this.renderAvatar(),e("div",{key:"11bb6ee96a61e622e28f2f91c57de9d1ab9907d1",class:"space-y-1 flex-1"},e("div",{key:"686dd51e7808c12746cc0020247a83be5e89da9a",class:"flex items-center gap-8"},this.name&&e("span",{key:"c3b4c62fb5b05309aca02f4d9a28221af2368885",class:"text-sm text-light","data-name":"message-name"},this.name)),e("div",{key:"ed3a8491ead700933e9700ace54e40b603c0c92f",class:t},this.renderContent()),this.renderActions()))}get el(){return o(this)}};export{c as atui_prompt_message};
//# sourceMappingURL=p-f7c24c0d.entry.js.map