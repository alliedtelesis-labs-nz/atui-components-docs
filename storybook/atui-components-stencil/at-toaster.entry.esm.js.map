{"version":3,"file":"at-toaster.entry.esm.js","sources":["src/components/at-toaster/at-toaster.scss?tag=at-toaster&encapsulation=scoped","src/components/at-toaster/at-toaster.tsx"],"sourcesContent":["@use '../../styles/shared/transition';\n\n.at-toaster {\n    position: fixed;\n    display: flex;\n    flex-direction: column;\n    z-index: var(--token-z-index-modal);\n    gap: 8px;\n    padding: 12px;\n\n    &.top-right {\n        top: 12px;\n        right: 12px;\n        align-items: flex-end;\n    }\n\n    &.top-left {\n        top: 12px;\n        left: 12px;\n        align-items: flex-start;\n    }\n\n    &.bottom-right {\n        bottom: 12px;\n        right: 12px;\n        align-items: flex-end;\n    }\n\n    &.bottom-left {\n        bottom: 12px;\n        left: 12px;\n        align-items: flex-start;\n    }\n\n    &.top-center {\n        top: 12px;\n        left: 50%;\n        transform: translateX(-50%);\n        align-items: center;\n    }\n\n    &.bottom-center {\n        bottom: 12px;\n        left: 50%;\n        transform: translateX(-50%);\n        align-items: center;\n    }\n}\n\n.at-toast {\n    min-width: var(--token-width-panel-xs);\n    max-width: var(--token-width-panel-sm);\n    box-shadow: var(--token-shadow-1);\n    border-radius: 4px;\n    overflow: hidden;\n    display: flex;\n    flex-direction: column;\n    position: relative;\n    cursor: pointer;\n    animation: animInUp 300ms ease-out forwards;\n\n    &.undismissible {\n        cursor: default;\n    }\n\n    &.close {\n        animation: animOut 200ms ease-out forwards;\n    }\n}\n","import { Component, h, Method, Prop, State } from '@stencil/core';\nimport { Toast, ToastPosition } from '../../types/toast';\n\n/**\n * @category Overlays\n * @description A toaster component for displaying messages to users. Supports toast types, positions, timeout and dismissible.\n */\n@Component({\n    tag: 'at-toaster',\n    styleUrl: 'at-toaster.scss',\n    scoped: true,\n})\nexport class AtToasterComponent {\n    /**\n     * Position of the toaster on the screen\n     */\n    @Prop() position: ToastPosition;\n\n    @State() toasts: Toast[] = [];\n    /**\n     * Adds a new toast to the toaster container\n     * This method is called from the ToasterUtil when a new toast is created.\n     *\n     * @param toast The toast to add\n     */\n    @Method()\n    async addToast(toast: Toast): Promise<void> {\n        this.toasts = [...this.toasts, toast];\n        if (toast.dismissible && toast.timeout > 0) {\n            setTimeout(() => this.removeToast(toast.id), toast.timeout);\n        }\n    }\n\n    /**\n     * Removes a toast from the toaster container by its ID\n     * This method is called by tapToast.\n     *\n     * @param id The ID of the toast to remove\n     */\n    @Method()\n    async removeToast(id: number): Promise<void> {\n        const toastEl = document.querySelector(`.at-toast[data-id=\"${id}\"]`);\n        toastEl.classList.add('close');\n        toastEl.addEventListener('animationend', () => {\n            this.toasts = this.toasts.filter((toast) => toast.id !== id);\n        });\n    }\n\n    /**\n     * Removes a toast from the toaster container by tapping the toast\n     *\n     * @param toast The toast that was tapped\n     */\n    private tapToast(toast: Toast): void {\n        if (toast.dismissible) {\n            this.removeToast(toast.id);\n        }\n    }\n\n    /**\n     * Removes a toast from the toaster container by clicking the close button\n     *\n     * @param toast The toast to remove\n     */\n    private clickCloseButton(toast: Toast): void {\n        this.removeToast(toast.id);\n    }\n\n    private classSet(toast: Toast): string {\n        return `at-toast ${toast.dismissible ? '' : 'undismissible'}`;\n    }\n\n    /**\n     * Renders the toaster container and all active toasts.\n     * Each toast is wrapped with <at-message> for UI presentation.\n     */\n    render() {\n        return (\n            <div class={`at-toaster ${this.position}`}>\n                {this.toasts.map((toast) => (\n                    <div\n                        class={this.classSet(toast)}\n                        key={toast.id}\n                        data-id={toast.id}\n                        onClick={() => this.tapToast(toast)}\n                    >\n                        <at-message\n                            type={toast.type}\n                            message_title={toast.title}\n                            content={toast.message}\n                        >\n                            {toast.closeButton && (\n                                <at-button\n                                    slot=\"actions\"\n                                    type=\"secondaryText\"\n                                    size=\"sm\"\n                                    icon=\"close\"\n                                    onClick={(event) => {\n                                        event.stopPropagation();\n                                        this.clickCloseButton(toast);\n                                    }}\n                                ></at-button>\n                            )}\n                        </at-message>\n                    </div>\n                ))}\n            </div>\n        );\n    }\n}\n"],"names":[],"mappings":";;AAAA,MAAM,YAAY,GAAG,u0CAAu0C;;MCY/0C,kBAAkB,GAAA,MAAA;;;;AAC3B;;AAEG;AACK,IAAA,QAAQ;IAEP,MAAM,GAAY,EAAE;AAC7B;;;;;AAKG;IAEH,MAAM,QAAQ,CAAC,KAAY,EAAA;QACvB,IAAI,CAAC,MAAM,GAAG,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,KAAK,CAAC;QACrC,IAAI,KAAK,CAAC,WAAW,IAAI,KAAK,CAAC,OAAO,GAAG,CAAC,EAAE;AACxC,YAAA,UAAU,CAAC,MAAM,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,OAAO,CAAC;;;AAInE;;;;;AAKG;IAEH,MAAM,WAAW,CAAC,EAAU,EAAA;QACxB,MAAM,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,CAAsB,mBAAA,EAAA,EAAE,CAAI,EAAA,CAAA,CAAC;AACpE,QAAA,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,OAAO,CAAC;AAC9B,QAAA,OAAO,CAAC,gBAAgB,CAAC,cAAc,EAAE,MAAK;YAC1C,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,KAAK,KAAK,KAAK,CAAC,EAAE,KAAK,EAAE,CAAC;AAChE,SAAC,CAAC;;AAGN;;;;AAIG;AACK,IAAA,QAAQ,CAAC,KAAY,EAAA;AACzB,QAAA,IAAI,KAAK,CAAC,WAAW,EAAE;AACnB,YAAA,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,EAAE,CAAC;;;AAIlC;;;;AAIG;AACK,IAAA,gBAAgB,CAAC,KAAY,EAAA;AACjC,QAAA,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,EAAE,CAAC;;AAGtB,IAAA,QAAQ,CAAC,KAAY,EAAA;AACzB,QAAA,OAAO,CAAY,SAAA,EAAA,KAAK,CAAC,WAAW,GAAG,EAAE,GAAG,eAAe,EAAE;;AAGjE;;;AAGG;IACH,MAAM,GAAA;AACF,QAAA,QACI,CAAK,CAAA,KAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAA,KAAK,EAAE,CAAc,WAAA,EAAA,IAAI,CAAC,QAAQ,CAAE,CAAA,EAAA,EACpC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,KAAK,MACnB,CACI,CAAA,KAAA,EAAA,EAAA,KAAK,EAAE,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,EAC3B,GAAG,EAAE,KAAK,CAAC,EAAE,EAAA,SAAA,EACJ,KAAK,CAAC,EAAE,EACjB,OAAO,EAAE,MAAM,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,EAAA,EAEnC,CACI,CAAA,YAAA,EAAA,EAAA,IAAI,EAAE,KAAK,CAAC,IAAI,EAChB,aAAa,EAAE,KAAK,CAAC,KAAK,EAC1B,OAAO,EAAE,KAAK,CAAC,OAAO,EAErB,EAAA,KAAK,CAAC,WAAW,KACd,CACI,CAAA,WAAA,EAAA,EAAA,IAAI,EAAC,SAAS,EACd,IAAI,EAAC,eAAe,EACpB,IAAI,EAAC,IAAI,EACT,IAAI,EAAC,OAAO,EACZ,OAAO,EAAE,CAAC,KAAK,KAAI;gBACf,KAAK,CAAC,eAAe,EAAE;AACvB,gBAAA,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC;aAC/B,EAAA,CACQ,CAChB,CACQ,CACX,CACT,CAAC,CACA;;;;;;;"}