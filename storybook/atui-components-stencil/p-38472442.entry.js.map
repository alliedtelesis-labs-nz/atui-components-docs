{"version":3,"names":["AtuiListSelector","constructor","hostRef","this","options","listItemEls","onSelect","item","selected_item_id","id","atuiChange","emit","onClickInfoButton","event","atuiInfoButtonClick","originalEvent","componentType","focusAndClickRelativeItem","relativePosition","indexOfActiveItem","indexOf","el","ownerDocument","activeElement","nextActiveItem","length","click","focus","handleKeyDown","key","preventDefault","getListItems","map","h","position","is_visible","tooltip","undefined","slot","item_id","item_title","title","subtitle","icon","item_prefix","prefix","has_border","is_selected","onClick","tabindex","ref","push","badgeText","badgeTooltip","class","impact","type","label","hasInfoButton","color","render","Host","onKeyDown","name","role"],"sources":["src/components/atui-list-selector/atui-list-selector.tsx"],"sourcesContent":["import {\n    Component,\n    EventEmitter,\n    Prop,\n    h,\n    Host,\n    Element,\n    Event,\n} from '@stencil/core';\nimport { AtuiEvent } from '../../types/events';\n\nexport interface ListSelectorItem {\n    id: string;\n    title: string;\n    subtitle?: string;\n    icon?: string;\n    tooltip?: string;\n    prefix?: string;\n    badgeText?: string;\n    badgeTooltip?: string;\n    hasInfoButton?: boolean;\n}\n\n/**\n * @category Navigation\n * @description A list selector component for selecting an item from a list.\n *\n * @slot - Placed after the list items\n */\n@Component({\n    tag: 'atui-list-selector',\n    shadow: false,\n})\nexport class AtuiListSelector {\n    /**\n     * List of items.\n     */\n    @Prop()\n    options: ListSelectorItem[] = [];\n\n    /**\n     * The selected item.\n     */\n    @Prop({ mutable: true })\n    selected_item_id: string;\n\n    /**\n     * Whether each item has a bottom border.\n     */\n    @Prop()\n    has_border: boolean;\n\n    /**\n     * Emits an event when the selected item is changed, the `event.detail` is the ListSelectorItem\n     */\n    @Event()\n    atuiChange: EventEmitter<ListSelectorItem>;\n\n    /**\n     * Emits when event when the info button of an item is clicked\n     */\n    @Event()\n    atuiInfoButtonClick: EventEmitter<AtuiEvent>;\n\n    @Element() el: HTMLAtuiListSelectorElement;\n    listItemEls: HTMLAtuiListSelectorItemElement[] = [];\n\n    onSelect(item: ListSelectorItem): void {\n        this.selected_item_id = item.id;\n        this.atuiChange.emit(item);\n    }\n\n    onClickInfoButton(event: Event): void {\n        this.atuiInfoButtonClick.emit({\n            originalEvent: event,\n            componentType: 'atui-list-selector',\n        });\n    }\n\n    focusAndClickRelativeItem(relativePosition: number) {\n        const indexOfActiveItem = this.listItemEls.indexOf(\n            this.el.ownerDocument\n                .activeElement as HTMLAtuiListSelectorItemElement,\n        );\n        const nextActiveItem =\n            this.listItemEls[\n                (indexOfActiveItem +\n                    relativePosition +\n                    this.listItemEls.length) %\n                    this.listItemEls.length\n            ];\n        nextActiveItem.click();\n        nextActiveItem.focus();\n    }\n\n    handleKeyDown(event: KeyboardEvent) {\n        if (event.key === 'ArrowRight' || event.key === 'ArrowDown') {\n            event.preventDefault();\n            this.focusAndClickRelativeItem(1);\n        } else if (event.key === 'ArrowUp' || event.key === 'ArrowLeft') {\n            event.preventDefault();\n            this.focusAndClickRelativeItem(-1);\n        }\n    }\n\n    get getListItems(): any {\n        return this.options.map((item) => (\n            <atui-tooltip\n                position=\"right\"\n                is_visible={item.tooltip !== undefined}\n            >\n                <div slot=\"tooltip-trigger\">\n                    <atui-list-selector-item\n                        item_id={item.id}\n                        item_title={item.title}\n                        subtitle={item.subtitle}\n                        icon={item.icon}\n                        item_prefix={item.prefix}\n                        has_border={this.has_border}\n                        is_selected={\n                            this.selected_item_id &&\n                            item.id === this.selected_item_id\n                        }\n                        onClick={() => this.onSelect(item)}\n                        tabindex=\"0\"\n                        ref={(el) => this.listItemEls.push(el)}\n                    >\n                        {item.badgeText && item.badgeTooltip && (\n                            <atui-tooltip\n                                slot=\"badge\"\n                                position=\"right\"\n                            >\n                                <atui-badge\n                                    class=\"ml-4\"\n                                    slot=\"tooltip-trigger\"\n                                    impact=\"high\"\n                                    type=\"info\"\n                                    label={item.badgeText}\n                                />\n                                <span slot=\"tooltip-content\">\n                                    {item.badgeTooltip}\n                                </span>\n                            </atui-tooltip>\n                        )}\n\n                        {item.hasInfoButton && (\n                            <button\n                                slot=\"info\"\n                                class=\"sm\"\n                                color=\"primary\"\n                                onClick={(event) =>\n                                    this.onClickInfoButton(event)\n                                }\n                            >\n                                <i class=\"material-icons\">help_outline</i>\n                            </button>\n                        )}\n                    </atui-list-selector-item>\n                </div>\n                <span slot=\"tooltip-content\">{item.tooltip}</span>\n            </atui-tooltip>\n        ));\n    }\n\n    render() {\n        return (\n            <Host onKeyDown={(event) => this.handleKeyDown(event)}>\n                <slot name=\"header\"></slot>\n\n                {!!this.options.length && (\n                    <nav class=\"flex-fill overflow-visible pb-16\">\n                        <div\n                            class=\"flex flex-col\"\n                            role=\"menu\"\n                        >\n                            {this.getListItems}\n                        </div>\n                    </nav>\n                )}\n                <slot />\n            </Host>\n        );\n    }\n}\n"],"mappings":"sEAiCaA,EAAgB,MAJ7B,WAAAC,CAAAC,G,0GASIC,KAAOC,QAAuB,GA2B9BD,KAAWE,YAAsC,EAsHpD,CApHG,QAAAC,CAASC,GACLJ,KAAKK,iBAAmBD,EAAKE,GAC7BN,KAAKO,WAAWC,KAAKJ,E,CAGzB,iBAAAK,CAAkBC,GACdV,KAAKW,oBAAoBH,KAAK,CAC1BI,cAAeF,EACfG,cAAe,sB,CAIvB,yBAAAC,CAA0BC,GACtB,MAAMC,EAAoBhB,KAAKE,YAAYe,QACvCjB,KAAKkB,GAAGC,cACHC,eAET,MAAMC,EACFrB,KAAKE,aACAc,EACGD,EACAf,KAAKE,YAAYoB,QACjBtB,KAAKE,YAAYoB,QAE7BD,EAAeE,QACfF,EAAeG,O,CAGnB,aAAAC,CAAcf,GACV,GAAIA,EAAMgB,MAAQ,cAAgBhB,EAAMgB,MAAQ,YAAa,CACzDhB,EAAMiB,iBACN3B,KAAKc,0BAA0B,E,MAC5B,GAAIJ,EAAMgB,MAAQ,WAAahB,EAAMgB,MAAQ,YAAa,CAC7DhB,EAAMiB,iBACN3B,KAAKc,2BAA0B,E,EAIvC,gBAAIc,GACA,OAAO5B,KAAKC,QAAQ4B,KAAKzB,GACrB0B,EACI,gBAAAC,SAAS,QACTC,WAAY5B,EAAK6B,UAAYC,WAE7BJ,EAAK,OAAAK,KAAK,mBACNL,EAAA,2BACIM,QAAShC,EAAKE,GACd+B,WAAYjC,EAAKkC,MACjBC,SAAUnC,EAAKmC,SACfC,KAAMpC,EAAKoC,KACXC,YAAarC,EAAKsC,OAClBC,WAAY3C,KAAK2C,WACjBC,YACI5C,KAAKK,kBACLD,EAAKE,KAAON,KAAKK,iBAErBwC,QAAS,IAAM7C,KAAKG,SAASC,GAC7B0C,SAAS,IACTC,IAAM7B,GAAOlB,KAAKE,YAAY8C,KAAK9B,IAElCd,EAAK6C,WAAa7C,EAAK8C,cACpBpB,EAAA,gBACIK,KAAK,QACLJ,SAAS,SAETD,EACI,cAAAqB,MAAM,OACNhB,KAAK,kBACLiB,OAAO,OACPC,KAAK,OACLC,MAAOlD,EAAK6C,YAEhBnB,EAAM,QAAAK,KAAK,mBACN/B,EAAK8C,eAKjB9C,EAAKmD,eACFzB,EACI,UAAAK,KAAK,OACLgB,MAAM,KACNK,MAAM,UACNX,QAAUnC,GACNV,KAAKS,kBAAkBC,IAG3BoB,EAAA,KAAGqB,MAAM,kBAAgB,mBAKzCrB,EAAM,QAAAK,KAAK,mBAAmB/B,EAAK6B,W,CAK/C,MAAAwB,GACI,OACI3B,EAAC4B,EAAK,CAAAhC,IAAA,2CAAAiC,UAAYjD,GAAUV,KAAKyB,cAAcf,IAC3CoB,EAAM,QAAAJ,IAAA,2CAAAkC,KAAK,aAER5D,KAAKC,QAAQqB,QACZQ,EAAA,OAAAJ,IAAA,2CAAKyB,MAAM,oCACPrB,EAAA,OAAAJ,IAAA,2CACIyB,MAAM,gBACNU,KAAK,QAEJ7D,KAAK4B,eAIlBE,EAAQ,QAAAJ,IAAA,6C","ignoreList":[]}