import{r as e,c as t,g as i,h as a,H as s}from"./p-EP34iaAr.js";import{f as r}from"./p-DuLooPsr.js";import{T as n}from"./p-D_Qx0cUi.js";import{c as d}from"./p-COG8_R0C.js";import{M as o,a as c}from"./p-C3LwY5aR.js";import"./p-BMuAbjcg.js";import"./p-Bhh1cB9X.js";const l={variants:{disabled:{false:"focus-within:ring-active-foreground/30 bg-white",true:"bg-surface-1 !text-disabled pointer-events-none border-none"},readonly:{false:"focus-within:ring-active-foreground/30",true:"!bg-surface-1 !text-dark cursor-text border-none"},invalid:{false:"border-med focus-within:border-active-dark focus-within:ring-active-foreground/30",true:"border-error-base focus-within:border-error-base focus-within:ring-destructive-foreground/30"}},defaultVariants:{disabled:false,readonly:false,invalid:false}};const f=class{constructor(i){e(this,i);this.atuiChange=t(this,"atuiChange",7)}min_date=o;max_date=c;label;hint_text;info_text;error_text;value;required;invalid;readonly;disabled=false;selectedDate;translations;get el(){return i(this)}inputId=`datepicker-${Math.random().toString(36).substring(2,11)}`;atuiChange;async componentWillLoad(){this.translations=await r(this.el);if(!this.value){this.value=new Date}this.selectedDate=n.getFormattedDate(this.value,"YYYY-MM-DD")}componentWillRender(){if(!this.selectedDate&&this.value){this.selectedDate=n.getFormattedDate(this.value,"YYYY-MM-DD")}}render(){const e=d("placeholder-text-light pr -24 relative flex min-h-36 min-h-[36px] w-full flex-shrink flex-grow basis-0 gap-4 overflow-hidden rounded-md border border-solid overflow-ellipsis transition-colors duration-300 ease-in-out outline-none focus-within:ring-2 focus-within:outline-0",l);const t=e({invalid:this.invalid,disabled:this.disabled,readonly:this.readonly});return a(s,{key:"079dcd8fbedc82d7bb1d0d020d6fa91fe524e0f6"},a("style",{key:"f3eac1ae2af80ebd0cd354424bb6a60c5c2d68bc"},`\n                input[data-name="datepicker"]::-webkit-calendar-picker-indicator {\n                    cursor: pointer;\n                    position: absolute;\n                    right: 8px;\n                    top: 50%;\n                    transform: translateY(-50%);\n                }\n\n                input[data-name="datepicker"] {\n                    padding-right: 22px;\n                    position: relative;\n                }\n                `),a("div",{key:"38c68256aefae7d89692e18cc3c0e5b57956de3d",class:"flex flex-row"},a("div",{key:"88770f4517eec156aa86340b1d452d543fe14373",class:"flex-fill flex flex-col"},a("div",{key:"a14f30ec5058db1124752c32542afe6ef01ac6df",class:"flex flex-col"},(this.label||this.required||this.info_text)&&a("at-form-label",{key:"9cb27b30f8948341983d6dfa23204f1ee1e38c30",label:this.label,for:this.inputId,required:this.required&&!this.readonly,info_text:this.info_text}),this.hint_text&&a("span",{key:"f7b5cd51bf51c72edf283e32623c5d2a60575a84",class:"text-light mb-8 inline-block text-xs leading-tight","data-name":"datepicker-hint"},this.hint_text),a("div",{key:"e1961002036cc8cba19941dc75428e6c5975b507",class:t},a("input",{key:"3331c60d625a9bfb404bd3b0ce4b69ec657ac055",type:"date",id:this.inputId,name:"datePicker",class:"flex w-full cursor-pointer px-8 py-8 outline-0",readonly:this.readonly?true:undefined,disabled:this.disabled?true:undefined,required:this.required,value:this.selectedDate,min:n.getFormattedDate(this.min_date,"YYYY-MM-DD"),max:n.getFormattedDate(this.max_date,"YYYY-MM-DD"),"data-name":"datepicker",onChange:e=>{const t=e.target.value;const i=e.target;const a=t.match(/^(\d{4})-/);if(!a||a[1].length!==4){e.target.value=this.selectedDate;return}this.selectedDate=t;this.invalid=!i.validity.valid;this.value=new Date(t);this.atuiChange.emit(this.value)}}))),this.error_text&&this.invalid&&a("span",{key:"146fd4c1d3dbf996384ed10029595c1e18c70240",class:"text-error text-sm","data-name":"datepicker-error"},this.error_text))))}};export{f as at_input_date};
//# sourceMappingURL=p-a39c7949.entry.js.map