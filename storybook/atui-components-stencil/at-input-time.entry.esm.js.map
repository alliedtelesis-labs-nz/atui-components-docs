{"version":3,"file":"at-input-time.entry.esm.js","sources":["src/components/at-input-time/at-input-time.tsx"],"sourcesContent":["import {\n    Component,\n    h,\n    Prop,\n    Event,\n    EventEmitter,\n    Host,\n    Element,\n} from '@stencil/core';\nimport { classlist } from '../../utils/classlist';\n\nconst inputVariantsConfig = {\n    variants: {\n        disabled: {\n            false: 'focus-within:ring-active-foreground/30 bg-white',\n            true: 'bg-surface-1 !text-disabled pointer-events-none border-none',\n        },\n        readonly: {\n            false: 'focus-within:ring-active-foreground/30',\n            true: '!bg-surface-1 !text-dark cursor-text border-none',\n        },\n        invalid: {\n            false: 'border-med focus-within:border-active-dark focus-within:ring-active-foreground/30',\n            true: 'border-error-base focus-within:border-error-base focus-within:ring-destructive-foreground/30',\n        },\n    },\n    defaultVariants: {\n        disabled: false,\n        readonly: false,\n        invalid: false,\n    },\n};\n\n@Component({\n    tag: 'at-input-time',\n    shadow: false,\n})\nexport class AtInputTime {\n    @Element() el!: HTMLElement;\n\n    /** Current value in \"HH:MM\" or \"HH:MM:SS\" */\n    @Prop({ mutable: true, reflect: true }) value?: string;\n\n    /** Minimum time (e.g., \"08:00\") */\n    @Prop() min?: string;\n\n    /** Maximum time (e.g., \"18:30\") */\n    @Prop() max?: string;\n\n    /** Required flag */\n    @Prop() required?: boolean;\n\n    /** Step in seconds (e.g., 60 for minute granularity, 1 to allow seconds) */\n    @Prop() step?: number = 60;\n\n    /** Disabled flag */\n    @Prop() disabled?: boolean;\n\n    /** Readonly flag */\n    @Prop() readonly?: boolean;\n\n    /** Label text displayed above the input */\n    @Prop() label?: string;\n\n    /** Short description or validation hint displayed under the label */\n    @Prop() hint_text?: string;\n\n    /** Optional info icon tooltip text (used by at-form-label) */\n    @Prop() info_text?: string;\n\n    /** Error text displayed when invalid is set */\n    @Prop() error_text?: string;\n\n    /** Shows the error state styling and error text */\n    @Prop() invalid?: boolean;\n\n    /** Emits when value changes (normalized string or null) */\n    @Event() atuiChange!: EventEmitter<string | null>;\n\n    private inputId = `timepicker-${Math.random().toString(36).slice(2, 11)}`;\n\n    private normalizeTimeString(raw?: string): string | undefined {\n        if (!raw) return;\n        const s = raw.trim();\n        // Accept \"HH:MM\" or \"HH:MM:SS\" (24-hour)\n        const m = /^([01]\\d|2[0-3]):([0-5]\\d)(?::([0-5]\\d))?$/.exec(s);\n        if (!m) return;\n        const hh = m[1];\n        const mm = m[2];\n        const ss = m[3];\n        return ss ? `${hh}:${mm}:${ss}` : `${hh}:${mm}`;\n    }\n\n    private onInput = (ev: Event) => {\n        const input = ev.target as HTMLInputElement;\n        const normalized = this.normalizeTimeString(input.value);\n        this.value = normalized;\n        this.invalid = !input.validity.valid;\n        this.atuiChange.emit(normalized);\n    };\n\n    render() {\n        const getClassname = classlist(\n            'placeholder-text-light relative flex min-h-36 min-h-[36px] w-full flex-shrink flex-grow basis-0 gap-4 overflow-hidden rounded-md border border-solid overflow-ellipsis transition-colors duration-300 ease-in-out outline-none focus-within:ring-2 focus-within:outline-0',\n            inputVariantsConfig,\n        );\n\n        const classname = getClassname({\n            invalid: !!this.invalid,\n            disabled: !!this.disabled,\n            readonly: !!this.readonly,\n        });\n\n        return (\n            <Host>\n                <style>{`\n                input[data-name=\"timepicker\"]::-webkit-calendar-picker-indicator {\n                    cursor: pointer;\n                    position: absolute;\n                    right: 8px;\n                    top: 50%;\n                    transform: translateY(-50%);\n                }\n                input[data-name=\"timepicker\"] {\n                    padding-right: 32px;\n                    position: relative;\n                }\n                `}</style>\n                <div class=\"flex flex-row\">\n                    <div class=\"flex-fill flex flex-col\">\n                        <div class=\"flex flex-col\">\n                            {(this.label ||\n                                this.required ||\n                                this.info_text) && (\n                                <at-form-label\n                                    label={this.label}\n                                    for={this.inputId}\n                                    required={!!this.required && !this.readonly}\n                                    info_text={this.info_text}\n                                />\n                            )}\n\n                            {this.hint_text && (\n                                <span\n                                    class=\"text-light mb-8 inline-block text-xs leading-tight\"\n                                    data-name=\"timepicker-hint\"\n                                >\n                                    {this.hint_text}\n                                </span>\n                            )}\n\n                            <div class={classname}>\n                                <input\n                                    type=\"time\"\n                                    id={this.inputId}\n                                    name=\"timePicker\"\n                                    class=\"flex w-full cursor-pointer px-8 py-8 outline-0\"\n                                    readOnly={this.readonly ? true : undefined}\n                                    disabled={this.disabled ? true : undefined}\n                                    required={this.required}\n                                    value={this.value ?? ''}\n                                    min={this.min}\n                                    max={this.max}\n                                    step={this.step}\n                                    data-name=\"timepicker\"\n                                    onInput={this.onInput}\n                                />\n                            </div>\n                        </div>\n\n                        {this.error_text && this.invalid && (\n                            <span\n                                class=\"text-error text-sm\"\n                                data-name=\"timepicker-error\"\n                            >\n                                {this.error_text}\n                            </span>\n                        )}\n                    </div>\n                </div>\n            </Host>\n        );\n    }\n}\n"],"names":[],"mappings":"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"}