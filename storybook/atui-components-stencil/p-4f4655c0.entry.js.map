{"version":3,"names":["registerInstance","createEvent","h","Host","getElement","fetchTranslations","classlist","PromptResponseScore","promptInputContainerVariants","variants","invalid","true","false","disabled","compoundVariants","class","defaultVariants","promptInputVariants","AtPromptInputComponent","constructor","hostRef","this","atChange","atSubmit","atStop","atFocus","placeholder","max_height","max_length","in_progress","value","inputId","Math","random","toString","substring","componentWillLoad","translations","el","focusInput","textareaEl","focus","emit","handleInput","event","stopPropagation","target","length","autoResize","style","height","scrollHeight","newHeight","max","min","componentDidLoad","setTimeout","handleKeyDown","key","shiftKey","preventDefault","sendMessage","trim","render","canSend","containerClass","inputClass","id","name","label","info_text","for","hint_text","onInput","onKeyDown","ref","minHeight","maxHeight","overflow","size","type","icon","onClick","error_text","ATUI","PROMPT","ERROR_MESSAGE","AtPromptThread","atMessageCopy","atMessageRetry","atMessageEdit","atMessageVote","messages","loading","auto_scroll","chatbot_title","enable_vote","enable_copy","enable_edit","response_animation","componentDidUpdate","scrollContainer","scrollToBottom","Promise","resolve","requestAnimationFrame","scrollTo","top","behavior","scrollLastMessageToTop","userMessages","querySelectorAll","lastUserMessage","scrollIntoView","block","handleVote","messageIndex","findIndex","msg","detail","messageId","updatedMessages","Object","assign","score","handleMessageCopy","getMessageIndexFromEvent","content","handleMessageRetry","handleMessageEdit","messageContainer","closest","parseInt","dataset","renderLoadingIndicator","role","renderMessage","message","index","animate","error","error_message","NONE","message_id","renderMessages","map","hasMessages"],"sources":["0"],"mappings":"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","ignoreList":[]}