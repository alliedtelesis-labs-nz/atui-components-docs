{"version":3,"file":"at-list-selector.entry.esm.js","sources":["src/components/at-list-selector/at-list-selector.tsx"],"sourcesContent":["import {\n    Component,\n    EventEmitter,\n    Prop,\n    h,\n    Host,\n    Element,\n    Event,\n} from '@stencil/core';\nimport { AtEvent } from '../../types/events';\n\nexport interface ListSelectorItem {\n    id: string;\n    title: string;\n    subtitle?: string;\n    icon?: string;\n    tooltip?: string;\n    prefix?: string;\n    badgeText?: string;\n    badgeTooltip?: string;\n    hasInfoButton?: boolean;\n}\n\n/**\n * @category Navigation\n * @description A list selector component for selecting an item from a list.\n *\n * @slot - Placed after the list items\n */\n@Component({\n    tag: 'at-list-selector',\n    shadow: false,\n})\nexport class AtListSelector {\n    /**\n     * List of items.\n     */\n    @Prop()\n    options: ListSelectorItem[] = [];\n\n    /**\n     * The selected item.\n     */\n    @Prop({ mutable: true })\n    selected_item_id: string;\n\n    /**\n     * Whether each item has a bottom border.\n     */\n    @Prop()\n    has_border: boolean;\n\n    /**\n     * Emits an event when the selected item is changed, the `event.detail` is the ListSelectorItem\n     */\n    @Event()\n    atuiChange: EventEmitter<ListSelectorItem>;\n\n    /**\n     * Emits when event when the info button of an item is clicked\n     */\n    @Event()\n    atuiInfoButtonClick: EventEmitter<AtEvent>;\n\n    @Element() el: HTMLAtListSelectorElement;\n    listItemEls: HTMLAtListSelectorItemElement[] = [];\n\n    onSelect(item: ListSelectorItem): void {\n        this.selected_item_id = item.id;\n        this.atuiChange.emit(item);\n    }\n\n    onClickInfoButton(event: Event): void {\n        this.atuiInfoButtonClick.emit({\n            originalEvent: event,\n            componentType: 'at-list-selector',\n        });\n    }\n\n    focusAndClickRelativeItem(relativePosition: number) {\n        const indexOfActiveItem = this.listItemEls.indexOf(\n            this.el.ownerDocument\n                .activeElement as HTMLAtListSelectorItemElement,\n        );\n        const nextActiveItem =\n            this.listItemEls[\n                (indexOfActiveItem +\n                    relativePosition +\n                    this.listItemEls.length) %\n                    this.listItemEls.length\n            ];\n        nextActiveItem.click();\n        nextActiveItem.focus();\n    }\n\n    handleKeyDown(event: KeyboardEvent) {\n        if (event.key === 'ArrowRight' || event.key === 'ArrowDown') {\n            event.preventDefault();\n            this.focusAndClickRelativeItem(1);\n        } else if (event.key === 'ArrowUp' || event.key === 'ArrowLeft') {\n            event.preventDefault();\n            this.focusAndClickRelativeItem(-1);\n        }\n    }\n\n    get getListItems(): any {\n        return this.options.map((item) => (\n            <at-tooltip\n                position=\"right\"\n                disabled={!item.tooltip}\n            >\n                <div slot=\"tooltip-trigger\">\n                    <at-list-selector-item\n                        item_id={item.id}\n                        item_title={item.title}\n                        subtitle={item.subtitle}\n                        icon={item.icon}\n                        item_prefix={item.prefix}\n                        has_border={this.has_border}\n                        is_selected={\n                            this.selected_item_id &&\n                            item.id === this.selected_item_id\n                        }\n                        onClick={() => this.onSelect(item)}\n                        tabindex=\"0\"\n                        ref={(el) => this.listItemEls.push(el)}\n                    >\n                        {item.badgeText && item.badgeTooltip && (\n                            <at-tooltip\n                                slot=\"badge\"\n                                position=\"right\"\n                            >\n                                <at-badge\n                                    class=\"ml-4\"\n                                    slot=\"tooltip-trigger\"\n                                    impact=\"high\"\n                                    type=\"info\"\n                                    label={item.badgeText}\n                                />\n                                <span>{item.badgeTooltip}</span>\n                            </at-tooltip>\n                        )}\n\n                        {item.hasInfoButton && (\n                            <button\n                                slot=\"info\"\n                                class=\"sm\"\n                                color=\"primary\"\n                                onClick={(event) =>\n                                    this.onClickInfoButton(event)\n                                }\n                            >\n                                <i class=\"material-icons\">help_outline</i>\n                            </button>\n                        )}\n                    </at-list-selector-item>\n                </div>\n                <span>{item.tooltip}</span>\n            </at-tooltip>\n        ));\n    }\n\n    render() {\n        return (\n            <Host onKeyDown={(event) => this.handleKeyDown(event)}>\n                <slot name=\"header\"></slot>\n\n                {!!this.options.length && (\n                    <nav class=\"flex-fill overflow-visible pb-16\">\n                        <div\n                            class=\"flex flex-col\"\n                            role=\"menu\"\n                        >\n                            {this.getListItems}\n                        </div>\n                    </nav>\n                )}\n                <slot />\n            </Host>\n        );\n    }\n}\n"],"names":[],"mappings":"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"}