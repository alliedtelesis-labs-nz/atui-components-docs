import{r as t,c as i,g as s,h as e,H as a}from"./p-EP34iaAr.js";import{c as o}from"./p-COG8_R0C.js";const r={variants:{layout:{column:"flex flex-col",row:"flex",grid:"grid grid-cols-3"}}};const d=o("gap-4",r);const h=class{constructor(s){t(this,s);this.atuiChange=i(this,"atuiChange",7)}label;info_text;layout="column";disabled;readonly;required;hint_text;error_text;invalid;options;value;get el(){return s(this)}watchValue(t){this.updateSlottedRadiosState(t)}radioEls=[];radioGroupId=`radiogroup-${Math.random().toString(36).substring(2,11)}`;atuiChange;handleChange(t){if(this.value!==t){this.value=t;this.atuiChange.emit(t)}}focusAndClickRelativeRadio(t){const i=this.radioEls.indexOf(this.el.ownerDocument.activeElement);const s=this.radioEls[(i+t+this.radioEls.length)%this.radioEls.length];s.click();s.focus()}handleKeyDown(t){switch(t.key){case"ArrowRight":case"ArrowDown":t.preventDefault();this.focusAndClickRelativeRadio(1);break;case"ArrowUp":case"ArrowLeft":t.preventDefault();this.focusAndClickRelativeRadio(-1);break}}get getRadios(){if(this.options&&this.options.length>0){return this.options.map((t=>e("at-radio",{label:t.label,hint_text:t.hint_text,option_id:t.option_id,readonly:this.readonly||t.readonly,disabled:this.disabled||t.disabled,value:this.value===t.option_id,onAtuiChange:i=>{i.stopPropagation();if(!this.disabled&&!this.readonly){this.handleChange(t.option_id)}},group:this.label||this.radioGroupId,ref:t=>this.radioEls.push(t)})))}}getSlottedRadios(){return Array.from(this.el.querySelectorAll("at-radio"))}componentDidLoad(){this.initializeSlottedRadios();this.updateSlottedRadiosState(this.value)}initializeSlottedRadios(){const t=this.getSlottedRadios();const i=this.label||this.radioGroupId;t.forEach((t=>{if(!t.getAttribute("group")){t.setAttribute("group",i)}if(!t.getAttribute("option_id")){const i=`radio-${Math.random().toString(36).substring(2,11)}`;t.setAttribute("option_id",i)}if(this.disabled!==undefined){t.disabled=this.disabled}if(this.readonly!==undefined){t.readonly=this.readonly}}))}handleSlottedRadioChange(t){const i=this.getSlottedRadios();const s=t.target;const e=i.includes(s);if(!e)return;t.stopPropagation();if(this.disabled||this.readonly)return;const a=t.detail;if(!a)return;this.handleChange(a);this.updateSlottedRadiosState(a)}updateSlottedRadiosState(t){const i=this.getSlottedRadios();i.forEach((i=>{const s=i.getAttribute("option_id");i.value=s===t}))}render(){const t=d({layout:this.layout});return e(a,{key:"18d92c74555b267d32881a220058639285651625",role:"radiogroup",onKeyDown:t=>this.handleKeyDown(t),class:"block w-full"},e("div",{key:"3f165bfa70ffedde7c2f5a3ca77b03a4cc41586b",class:"flex flex-col"},e("slot",{key:"386ed7f86257c78f422a18dc8eeed428d83ccc12",name:"label"}),(this.label||this.required||this.info_text)&&e("at-form-label",{key:"b2bc42a1854484ce0b4ed07aa3f92dcd9fd59b5d",label:this.label,required:this.required,info_text:this.info_text}),this.hint_text&&e("span",{key:"2d728767975e89584f53aecdafc429b784f0139c",class:"text-light mb-8 inline-block text-xs leading-tight","data-name":"radio-group-hint"},this.hint_text)),e("ul",{key:"2112df42f2efc3d7d63072dd5f7044fb0e27aac5",class:t,"data-name":"radio-group-options"},e("slot",{key:"9bcbbe788bacb7227eebde1a930bb36070d69c0c"}),this.getRadios&&this.getRadios.map((t=>e("li",{class:"flex"},t)))),this.error_text&&this.invalid&&e("span",{key:"68f2d473b1e65775bce24af23d5f19671fcc13d5",class:"text-error text-sm","data-name":"radio-group-error-text"},this.error_text))}static get watchers(){return{value:["watchValue"]}}};export{h as at_radio_group};
//# sourceMappingURL=p-2f1c0afa.entry.js.map