import{p as e,H as t,d as a,h as i,c as s,t as n}from"./p-CGooRokE.js";import{d as o}from"./p-B9YfMiOg.js";import{d}from"./p-COVJfV1p.js";const l=e(class extends t{constructor(e){super(),!1!==e&&this.__registerHost(),this.atuiSidepanelChange=a(this,"atuiSidepanelChange",7)}get el(){return this}size="xs";panel_title;panel_subtitle;origin="right";has_scrollbar=!0;has_close_button=!0;position="fixed";backdrop=!1;close_backdrop=!1;trigger_id;isExpanded=!1;isOpen=!1;atuiSidepanelChange;sidePanelWrapper;panelDialog;triggerEls=[];externalTriggerListeners=[];async toggleSidePanel(){this.isExpanded?await this.closeSidePanel():await this.openSidePanel()}async openSidePanel(){this.panelDialog&&!this.panelDialog.open&&(!0===this.backdrop?this.panelDialog.showModal():this.panelDialog.show(),this.backdrop&&this.panelDialog.classList.add("backdrop"),requestAnimationFrame((()=>{this.isExpanded=!0,this.isOpen=!0,this.atuiSidepanelChange.emit(this.isOpen)})))}async closeSidePanel(){this.panelDialog&&this.panelDialog.open&&(this.panelDialog.close(),this.isExpanded=!1,this.isOpen=!1,this.atuiSidepanelChange.emit(this.isOpen),this.panelDialog.classList.remove("backdrop"))}async getIsOpen(){return this.isOpen}handleClose=()=>{this.closeSidePanel()};handleDialogClose=e=>{e.preventDefault(),this.isExpanded&&this.closeSidePanel()};handleKeyDown=e=>{"Escape"===e.key&&this.isExpanded&&(e.preventDefault(),this.closeSidePanel())};offClickHandler(e){this.close_backdrop&&this.panelDialog?.open&&(this.sidePanelWrapper?.contains(e.target)||this.handleClose())}async componentDidLoad(){if(this.trigger_id){if(this.triggerEls=Array.from(document.querySelectorAll(`[data-sidepanel="${this.trigger_id}"]`)),0===this.triggerEls.length)return void console.warn(`at-side-panel: No elements found with data-sidepanel="${this.trigger_id}"`);this.setupExternalTriggerListeners()}}disconnectedCallback(){this.cleanupExternalTriggerListeners()}cleanupExternalTriggerListeners(){this.externalTriggerListeners.forEach((({element:e,event:t,handler:a})=>{e.removeEventListener(t,a)})),this.externalTriggerListeners=[]}setupExternalTriggerListeners(){if(!this.triggerEls||0===this.triggerEls.length)return;const e=async e=>{e.preventDefault(),e.stopPropagation(),await this.toggleSidePanel()},t=async e=>{switch(e.key){case"Enter":case" ":e.preventDefault(),await this.toggleSidePanel()}};this.triggerEls.forEach((a=>{a.addEventListener("click",e),a.addEventListener("keydown",t),this.externalTriggerListeners.push({element:a,event:"click",handler:e},{element:a,event:"keydown",handler:t})}))}render(){return i(s,{key:"02a1fa6e3d0dd429f38f2ed298d13f29a6a5b942","data-open":this.isOpen},i("dialog",{key:"0cceb693a52a1e64d0e3bd60e81d8fb07f051995",ref:e=>this.panelDialog=e,class:this.backdrop?"backdrop":"",onClose:this.handleDialogClose,onKeyDown:this.handleKeyDown},i("div",{key:"91f4c0eb06082f0d7c25abf35e52bd9214cd7793","data-scrollable":this.has_scrollbar,"data-open":this.isOpen,class:`container origin-${this.origin} size-${this.size} size-${this.size} position-${this.position}`,ref:e=>this.sidePanelWrapper=e,"data-name":"container"},i("header",{key:"5f7ef315c9806ba520c63b0a996d799317280553",class:"header","data-name":"header"},i("div",{key:"b5f2013fff755b42791db20665dedd98141b935d"},this.panel_title&&i("h3",{key:"38c4f096a3a2f5cd52cc11f5ae2a7820b5f1e16e",class:"title"},this.panel_title),this.panel_subtitle&&i("p",{key:"7b49b58a71d6a39b64329b7fcbb9e2162aba5540",class:"subtitle"},this.panel_subtitle)),this.has_close_button&&i("at-button",{key:"5ed6bdc3b5efb119c29ca3c7f9f19574bfa39e40",size:"md",icon:"close",type:"secondaryText","data-name":"panel-close",onClick:this.handleClose})),i("div",{key:"e536983fbd7a8d66653dfe995192f7b7f596660b","data-name":"content",class:"content"},i("slot",{key:"671fdcb71682292c82eb86ac4263b5d8f8862dfe"})))))}static get style(){return"@keyframes fadeIn{from{background-color:rgba(0, 0, 0, 0)}to{background-color:rgba(0, 0, 0, 0.2)}}@keyframes animInUp{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes animOut{from{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(0.95)}}dialog.backdrop.sc-at-side-panel::backdrop{margin:0;inset:0;background:rgba(0, 0, 0, 0.2);animation:fadeIn 0.3s ease forwards;transition:opacity var(--token-transition-time) ease-in-out allow-discrete}dialog.backdrop.sc-at-side-panel::backdrop{z-index:var(--z-backdrop, 1000)}.sc-at-side-panel-h{--token-color-white-rgb:255, 255, 255;display:contents}.sc-at-side-panel-h .container.sc-at-side-panel{position:fixed;display:flex;flex-direction:column;z-index:var(--token-z-index-nav);min-width:var(--token-width-panel-xs);background-color:var(--token-color-white);box-shadow:var(--token-shadow-md);overflow-x:hidden;overflow-y:auto;height:100%;opacity:0;transition:all 300ms ease;will-change:transform, opacity}.sc-at-side-panel-h .container.width-xs.sc-at-side-panel{width:var(--token-width-panel-xs)}.sc-at-side-panel-h .container.width-sm.sc-at-side-panel{width:var(--token-width-panel-sm)}.sc-at-side-panel-h .container.width-md.sc-at-side-panel{width:var(--token-width-panel-md)}.sc-at-side-panel-h .container.width-lg.sc-at-side-panel{width:var(--token-width-panel-lg)}.sc-at-side-panel-h .container.width-xl.sc-at-side-panel{width:var(--token-width-panel-xl)}.sc-at-side-panel-h .container.origin-left.sc-at-side-panel{left:0;top:0;transform:translateX(-100%)}.sc-at-side-panel-h .container.origin-right.sc-at-side-panel{right:0;top:0;transform:translateX(100%)}.sc-at-side-panel-h .container.position-absolute.sc-at-side-panel{position:absolute}.sc-at-side-panel-h .container.sc-at-side-panel:not([data-scrollable]){overflow-y:hidden}.sc-at-side-panel-h .container[data-open].sc-at-side-panel{opacity:1;visibility:visible;transform:translateX(0)}.sc-at-side-panel-h .header.sc-at-side-panel{z-index:var(--token-z-index-nav);position:sticky;top:0;padding:12px 8px 12px 16px;display:flex;justify-content:space-between;align-items:flex-start;background-color:rgba(var(--token-color-white-rgb), 0.8);backdrop-filter:blur(10px)}.sc-at-side-panel-h .header.sc-at-side-panel div.sc-at-side-panel{display:flex;flex-direction:column;gap:2px}.sc-at-side-panel-h .header.sc-at-side-panel div.sc-at-side-panel .title.sc-at-side-panel{font-size:var(--token-font-size-h4);font-weight:var(--token-font-weight-med);color:var(--token-text-dark);line-height:1}.sc-at-side-panel-h .header.sc-at-side-panel div.sc-at-side-panel .subtitle.sc-at-side-panel{font-size:var(--token-font-size-sm);color:var(--token-text-light);line-height:1}.sc-at-side-panel-h .content.sc-at-side-panel{display:flex;flex-direction:column;flex-grow:1;width:100%}"}},[774,"at-side-panel",{size:[513],panel_title:[1],panel_subtitle:[1],origin:[513],has_scrollbar:[516],has_close_button:[4],position:[513],backdrop:[516],close_backdrop:[516],trigger_id:[1],isExpanded:[32],isOpen:[32],toggleSidePanel:[64],openSidePanel:[64],closeSidePanel:[64],getIsOpen:[64]},[[5,"mousedown","offClickHandler"]]]),r=l,c=function(){"undefined"!=typeof customElements&&["at-side-panel","at-button","at-loading"].forEach((e=>{switch(e){case"at-side-panel":customElements.get(n(e))||customElements.define(n(e),l);break;case"at-button":customElements.get(n(e))||o();break;case"at-loading":customElements.get(n(e))||d()}}))};export{r as AtSidePanel,c as defineCustomElement}