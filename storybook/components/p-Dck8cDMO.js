import{p as t,H as e,d as s,h as a,c as i,t as o}from"./p-CGooRokE.js";import{d as n}from"./p-2knY0kOv.js";import{d as l}from"./p-DsS6ahmK.js";import{d as r}from"./p-B8-EiVSh.js";const h=t(class extends e{constructor(t){super(),!1!==t&&this.__registerHost(),this.atuiIndexChange=s(this,"atuiIndexChange",7),this.atuiChange=s(this,"atuiChange",7)}label;info_text;hint_text;error_text;options=[];value;disabled;type="string";get el(){return this}buttonGroupId=`buttonGroup-${Math.random().toString(36).substring(2,11)}`;atuiIndexChange;atuiChange;buttonEls=[];handleValueChange(t){this.options&&0!==this.options.length||this.buttonEls.forEach((e=>{e.is_active=e.value===t}))}componentDidLoad(){this.options&&0!==this.options.length||(this.buttonEls=this.getButtonElements(),this.initializeButtons(),this.attachEventListenersToButtons(),setTimeout((()=>this.activateOptionButton()))),this.el.addEventListener("keydown",this.handleKeyDown)}getButtonElements(){return Array.from(this.el.querySelectorAll("at-button-group-option"))}initializeButtons(){this.buttonEls.forEach((t=>{t.label=t.label?t.label:t.icon?"":t.value,null!=this.value&&(t.is_active=this.value===t.value),t.disabled=this.disabled||t.disabled}))}attachEventListenersToButtons(){this.buttonEls.forEach(((t,e)=>{t.addEventListener("atuiClick",(s=>this.handleChange(s,t.value,e)))}))}activateOptionButton(){const t=this.buttonEls.find((t=>t.is_active&&!t.disabled))||this.buttonEls.find((t=>!t.disabled));t&&(t.is_active=!0,this.value=t.value)}get getButtonGroupOptions(){return this.options?this.options.map(((t,e)=>a("at-button-group-option",{value:t.value,label:t.label?t.label:t.icon?"":t.value,is_active:this.value===t.value,disabled:t.disabled,icon:t.icon,onAtuiClick:s=>this.handleChange(s,t.value,e)}))):null}handleChange(t,e,s){t.stopPropagation(),this.value=e,this.atuiChange.emit(this.value),this.atuiIndexChange.emit(s),this.buttonEls.forEach((t=>{t.is_active=t.value===e}))}handleKeyDown=t=>{if("Enter"!==t.key&&" "!==t.key)return;const e=t.target;if("BUTTON"!==e.tagName)return;const s=e.closest("at-button-group-option");if(!s||s.disabled)return;t.preventDefault();const a=this.options?.length>0?this.options.findIndex((t=>t.value===s.value)):this.buttonEls.indexOf(s);if(a>=0){const t=new CustomEvent("atuiClick",{detail:{element:s}});this.handleChange(t,s.value,a)}};disconnectedCallback(){this.el.removeEventListener("keydown",this.handleKeyDown)}render(){return a(i,{key:"a106d69d8e1e917e8f44e87bcd6ea5197c13b502",role:"radiogroup","aria-labelledby":this.buttonGroupId,class:"flex flex-col items-start"},a("div",{key:"2a1276a4090f4ce25c27573ce8e79da444ed6464",class:"mb-4 flex flex-col"},a("slot",{key:"7a86430c2a0385ddfcb351c2861105742746de87",name:"label"}),(this.label||this.info_text)&&a("at-form-label",{key:"99da1b98e54b56a89bcb7a0510ed61117f991283",id:this.buttonGroupId,label:this.label,info_text:this.info_text}),this.hint_text&&a("span",{key:"9335d8c4919041b41fa7adad55593d4f633c01e3",class:"text-light inline-block text-xs leading-tight","data-name":"button-group-hint"},this.hint_text)),a("div",{key:"55f5fcd157f9fd2e6faa7e2d36693c5ddf207d99",class:"border-med relative rounded-lg border bg-white inset-shadow-xs"},a("ul",{key:"c461959b32a30a9c5ff972c2f85bc145c06d3c1c",class:"relative z-20 m-[2px] flex flex-row","data-name":"button-group-options"},a("slot",{key:"3f5d91e8f7a6a022bfe61f90e6633213ff7616f4"}),this.getButtonGroupOptions&&this.getButtonGroupOptions.map((t=>a("li",{class:"relative z-10 mr-[-1px]"},t))))),this.error_text&&a("span",{key:"118b32f572e1183fd434d7c10a73a86281e0ef10",class:"text-error text-xs font-medium","data-name":"button-group-error-text"},this.error_text))}static get watchers(){return{value:[{handleValueChange:0}]}}},[772,"at-button-group",{label:[1],info_text:[1],hint_text:[1],error_text:[1],options:[16],value:[1025],disabled:[4],type:[1]},void 0,{value:[{handleValueChange:0}]}]);function u(){"undefined"!=typeof customElements&&["at-button-group","at-button-group-option","at-form-label","at-tooltip"].forEach((t=>{switch(t){case"at-button-group":customElements.get(o(t))||customElements.define(o(t),h);break;case"at-button-group-option":customElements.get(o(t))||n();break;case"at-form-label":customElements.get(o(t))||l();break;case"at-tooltip":customElements.get(o(t))||r()}}))}export{h as A,u as d}