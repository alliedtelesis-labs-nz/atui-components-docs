import{p as t,H as e,d as a,h as s,t as i}from"./p-Ban0-WTF.js";import{T as o,D as d}from"./p-Bhh1cB9X.js";import{f as l}from"./p-DuLooPsr.js";import{T as h}from"./p-D_Qx0cUi.js";import{h as c}from"./p-BMuAbjcg.js";import{d as f}from"./p-CLTY0v5p.js";import{d as m}from"./p-CricFCQ3.js";import{d as n}from"./p-DWwNuYx9.js";import{d as r}from"./p-DnA3zFMU.js";import{d as b}from"./p-Dgs0gC4Y.js";import{d as u}from"./p-BC_lJAkx.js";import{d as D}from"./p-Bo-aBI8M.js";import{d as _}from"./p-DszB-XY6.js";import{M as p,D as v}from"./p-C3LwY5aR.js";const k=t(class extends e{constructor(t){super(),!1!==t&&this.__registerHost(),this.atuiCancel=a(this,"atuiCancel",7),this.atuiSubmit=a(this,"atuiSubmit",7)}can_set_time=!0;min_seconds=60;min_date=p;validateMinDate(t,e){t&&e&&t.getTime()===e.getTime()||(this.min_date=this.floorMinDate(t))}max_date=new Date(Date.now());validateMaxDate(t,e){t&&e&&t.getTime()===e.getTime()||(this.max_date=this.ceilingMaxDate(t))}default_from_date;validateDefaultFromDate(t,e){t&&e&&t.getTime()===e.getTime()||(this.default_from_date=this.floorMinDate(t),this.from_date_value=this.default_from_date)}default_to_date;validateDefaultToDate(t,e){t&&e&&t.getTime()===e.getTime()||(this.default_to_date=this.ceilingMaxDate(t),this.to_date_value=this.default_to_date?this.default_to_date:this.max_date)}from_date_value;validateFromDateValue(t,e){t&&e&&t.getTime()===e.getTime()||(void 0===this.from_date_value&&(this.from_date_value=new Date),this.from_date_value.toISOString()!==this.floorMinDate(t).toISOString()&&(this.from_date_value=t&&this.floorMinDate(t)),this.setFromDateAndTime(this.from_date_value),this.updateMinMaxFlags())}to_date_value;validateToDateValue(t,e){t&&e&&t.getTime()===e.getTime()||(void 0===this.to_date_value&&(this.to_date_value=new Date),this.to_date_value.toISOString()!==this.ceilingMaxDate(t).toISOString()&&(this.to_date_value=t&&this.ceilingMaxDate(t)),this.setToDateAndTime(this.to_date_value),this.updateMinMaxFlags())}lock_end_date_to_now=!1;isFromMinDay=!0;isToMaxDay=!0;isFromMaxDay=!1;isToMinDay=!1;toDate;toTime;fromDate;fromTime;translations;setDateNowSwitch;toTimePickerEl;get el(){return this}async componentWillLoad(){this.translations=await l(this.el)}componentWillRender(){this.fromDate||this.fromTime||(this.from_date_value=this.default_from_date?this.default_from_date:this.min_date),this.toDate||this.toTime||(this.to_date_value=this.default_to_date?this.default_to_date:this.max_date)}clearSelection(){this.from_date_value=this.default_from_date?this.default_from_date:this.min_date,this.to_date_value=this.default_to_date?this.default_to_date:this.max_date}ceilingMaxDate(t){return o.ceilingDateByTimeUnit(t,d.HOURS)}floorMinDate(t){return o.floorDateByTimeUnit(t,d.HOURS)}getCustomToDateTime(){return h.buildDateFromStrings(this.toDate,this.toTime)}getCustomFromDateTime(){return h.buildDateFromStrings(this.fromDate,this.fromTime)}updateMinMaxFlags(){const t=this.getCustomToDateTime();this.isToMinDay=o.isSameDateByUnit(t,this.min_date,d.DAYS),this.isToMaxDay=o.isSameDateByUnit(t,this.max_date,d.DAYS);const e=this.getCustomFromDateTime();this.isFromMinDay=o.isSameDateByUnit(e,this.min_date,d.DAYS),this.isFromMaxDay=o.isSameDateByUnit(e,this.max_date,d.DAYS)}setDateNow(){if(this.setDateNowSwitch.value){this.lock_end_date_to_now=!0;const t=this.ceilingMaxDate(new Date(Date.now()));this.to_date_value=t}else this.lock_end_date_to_now=!1}setToDateAndTime(t){this.toDate=h.getFormattedDate(t,"YYYY-MM-DD"),this.toTime=h.getFormattedDate(t,"hh:mm a")}setFromDateAndTime(t){this.fromDate=h.getFormattedDate(t,"YYYY-MM-DD"),this.fromTime=h.getFormattedDate(t,"hh:mm a")}get getFromTimes(){if(this.updateMinMaxFlags(),this.isFromMinDay)return h.getTimeOptions(h.getFormattedDate(this.min_date,v.HOURS_ONLY));if(this.isFromMaxDay){const t=h.getFormattedDate(o.shiftDateByUnit(this.max_date,-1,d.HOURS),v.HOURS_ONLY);return h.getTimeOptions(void 0,t)}return h.getTimeOptions()}get getToTimes(){if(this.updateMinMaxFlags(),this.isToMinDay){const t=h.getFormattedDate(o.shiftDateByUnit(this.min_date,1,d.HOURS),v.HOURS_ONLY);return h.getTimeOptions(t)}return this.isToMaxDay?h.getTimeOptions(void 0,h.getFormattedDate(this.max_date,v.HOURS_ONLY)):h.getTimeOptions()}atuiCancel;atuiSubmit;handleCancel(){this.atuiCancel.emit()}handleSubmit(){c(this.from_date_value).isBefore(c(this.to_date_value))&&this.atuiSubmit.emit({from:h.buildDateFromStrings(this.fromDate,this.fromTime).toISOString(),to:h.buildDateFromStrings(this.toDate,this.toTime).toISOString(),lockEndDateToNow:this.lock_end_date_to_now})}render(){return s("div",{key:"16ec7a7e9db500a6efa10efe721eceb584efa3a5",class:"flex w-fit flex-col gap-8 border border-gray-300"},s("h5",{key:"3f07bbc1c18cb1a9117c2fd3c52b39ab1f854333",class:"text-h5 text-dark p-12 font-medium"},this.translations.ATUI.TIME.SELECT_ABSOLUTE_TIME),s("div",{key:"be54064d873fe2d3e4ed27ae1adf9feb0a11390b",class:"flex flex-row gap-16 px-12"},s("div",{key:"24f5c372eb02ebe3edeb89618f9dfbadd5c9e6e0",class:"flex-fill flex flex-col gap-8"},s("at-datepicker",{key:"3de7fd50ad21f2861c1316494e26166af6fd923d",label:this.translations.ATUI.TIME.FROM_DATE,value:this.from_date_value,min_date:this.min_date,max_date:this.max_date,onAtuiChange:t=>{this.from_date_value=t.detail}}),this.can_set_time&&s("div",{key:"ebb84e4b6dc42e049fb89a269850ec61ca6c1f57"},s("label",{key:"51221ca22fcf1e1c6a53c15b1ad34b723afa2ef1"},this.translations.ATUI.TIME.FROM_TIME),s("div",{key:"807eaab37624314ab5482de87318ad5ede579816"},s("at-select",{key:"0dd2440b228e036a94683fd2bc729f1b01b14170",options:this.getFromTimes,value:this.fromTime,onAtuiChange:t=>{this.from_date_value=h.buildDateFromStrings(this.fromDate,t.detail)}})))),s("div",{key:"e13d3b55626dea79f4e6ac70062f2949a88e94e8",class:"flex-fill flex flex-col gap-8"},s("at-datepicker",{key:"b3f0f7c11cbbaba6e1793b6455335cd10bf755e3",label:this.translations.ATUI.TIME.TO_DATE,value:this.to_date_value,min_date:this.min_date,max_date:this.max_date,onAtuiChange:t=>{this.to_date_value=t.detail}}),this.can_set_time&&s("div",{key:"df855640551c8839d5db5d98ae4f2cfc8d0ff2db"},s("label",{key:"211861b453f5c1a72654bf5bd2bb6c213d921b7c"},this.translations.ATUI.TIME.TO_TIME),s("div",{key:"8116163e7bd15b0fdb4fbe28cabf6f6bf8c51e2d"},s("at-select",{key:"2db7d200a16cdf386a64b4c8c4bee71fe0f3ebb4",options:this.getToTimes,value:this.toTime,disabled:this.lock_end_date_to_now,ref:t=>this.toTimePickerEl=t,onAtuiChange:t=>{this.to_date_value=h.buildDateFromStrings(this.toDate,t.detail)}}))))),s("div",{key:"1ac8825973675dcaef1da0aa61352617fe5a7e3a",class:"align-center my-8 flex flex-row justify-between gap-8 rounded-md px-12"},s("div",{key:"ab62a2fb885223dad35346b124fc06f6c66418b3",class:"flex flex-col"},s("label",{key:"9bb9659da23f2b3cb7e8557435a4fb90e4a4c225",class:"c-form__label"},this.translations.ATUI.TIME.SET_END_DATE_AND_TIME_TO_NOW),s("span",{key:"ebea8b9eaf7e14c2d60a7fc95a128915a8101e00",class:"text-med text-xs"},this.translations.ATUI.TIME.SET_END_DATE_AND_TIME_TO_NOW_DESCRIPTION)),s("at-toggle-switch",{key:"d25e6976a8b335ddbbf034920c49bee71f0f06d7",value:this.lock_end_date_to_now,onChange:()=>this.setDateNow(),ref:t=>this.setDateNowSwitch=t})),s("div",{key:"b74789809de4dc3af497b2aca7b67d103ac529a6",class:"flex flex-row justify-between p-8"},s("at-button",{key:"3f619a0552f5ca88b6fbbcb81c8373bc9d38c53d",type:"secondaryOutline","data-name":"custom-time-range-clear",label:this.translations.ATUI.CLEAR_SELECTION,onClick:()=>this.clearSelection()}),s("div",{key:"031e9771d6baa04daae317e4420012c69de141fd",class:"flex flex-row gap-8"},s("at-button",{key:"02aef76a5d9b347ca19fd2e5bee8c413abe1381e",type:"secondaryOutline","data-name":"custom-time-range-cancel",label:this.translations.ATUI.CANCEL,onClick:()=>this.handleCancel()}),s("at-button",{key:"bea251f52f949a64786edef20567f0f4a4e6006f","data-name":"custom-time-range-apply",label:this.translations.ATUI.APPLY,onClick:()=>this.handleSubmit()}))))}static get watchers(){return{min_date:[{validateMinDate:0}],max_date:[{validateMaxDate:0}],default_from_date:[{validateDefaultFromDate:0}],default_to_date:[{validateDefaultToDate:0}],from_date_value:[{validateFromDateValue:0}],to_date_value:[{validateToDateValue:0}]}}},[512,"at-custom-time-range",{can_set_time:[4],min_seconds:[2],min_date:[1040],max_date:[1040],default_from_date:[1040],default_to_date:[1040],from_date_value:[1040],to_date_value:[1040],lock_end_date_to_now:[1028],isFromMinDay:[32],isToMaxDay:[32],isFromMaxDay:[32],isToMinDay:[32],toDate:[32],toTime:[32],fromDate:[32],fromTime:[32],translations:[32],setDateNowSwitch:[32],toTimePickerEl:[32]},void 0,{min_date:[{validateMinDate:0}],max_date:[{validateMaxDate:0}],default_from_date:[{validateDefaultFromDate:0}],default_to_date:[{validateDefaultToDate:0}],from_date_value:[{validateFromDateValue:0}],to_date_value:[{validateToDateValue:0}]}]);function x(){"undefined"!=typeof customElements&&["at-custom-time-range","at-button","at-form-label","at-loading","at-menu","at-select","at-select-option","at-toggle-switch","at-tooltip"].forEach((t=>{switch(t){case"at-custom-time-range":customElements.get(i(t))||customElements.define(i(t),k);break;case"at-button":customElements.get(i(t))||f();break;case"at-form-label":customElements.get(i(t))||m();break;case"at-loading":customElements.get(i(t))||n();break;case"at-menu":customElements.get(i(t))||r();break;case"at-select":customElements.get(i(t))||b();break;case"at-select-option":customElements.get(i(t))||u();break;case"at-toggle-switch":customElements.get(i(t))||D();break;case"at-tooltip":customElements.get(i(t))||_()}}))}export{k as A,x as d}