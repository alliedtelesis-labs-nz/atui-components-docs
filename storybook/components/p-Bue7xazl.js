import{p as t,H as e,d as s,h as a,c as i,t as o}from"./p-CGooRokE.js";import{d as n}from"./p-P8smdZSF.js";import{d as l}from"./p-Cyh6UBB-.js";import{d as r}from"./p-DzzrYA4J.js";const h=t(class extends e{constructor(t){super(),!1!==t&&this.__registerHost(),this.atuiIndexChange=s(this,"atuiIndexChange",7),this.atuiChange=s(this,"atuiChange",7)}label;info_text;hint_text;error_text;options=[];value;disabled;get el(){return this}buttonGroupId=`buttonGroup-${Math.random().toString(36).substring(2,11)}`;atuiIndexChange;atuiChange;buttonEls=[];handleValueChange(t){this.options&&0!==this.options.length||this.buttonEls.forEach((e=>{e.is_active=e.option_id===t}))}componentDidLoad(){this.options&&0!==this.options.length||(this.buttonEls=this.getButtonElements(),this.initializeButtons(),this.attachEventListenersToButtons(),setTimeout((()=>this.activateOptionButton()))),this.el.addEventListener("keydown",this.handleKeyDown)}getButtonElements(){return Array.from(this.el.querySelectorAll("at-button-group-option"))}initializeButtons(){this.buttonEls.forEach(((t,e)=>{t.option_id=t.option_id||`${e}`,null!=this.value&&(t.is_active=this.value===t.option_id),t.disabled=this.disabled||t.disabled}))}attachEventListenersToButtons(){this.buttonEls.forEach(((t,e)=>{t.addEventListener("atuiClick",(s=>this.handleChange(s,t.option_id,e)))}))}activateOptionButton(){const t=this.buttonEls.find((t=>t.is_active&&!t.disabled))||this.buttonEls.find((t=>!t.disabled));t&&(t.is_active=!0,this.value=t.option_id)}get getButtonGroupOptions(){return this.options?this.options.map(((t,e)=>a("at-button-group-option",{option_id:t.option_id,label:t.label,is_active:this.value===t.option_id,disabled:t.disabled,icon:t.icon,onAtuiClick:s=>this.handleChange(s,t.option_id,e)}))):null}handleChange(t,e,s){t.stopPropagation(),this.value=e,this.atuiChange.emit(this.value),this.atuiIndexChange.emit(s),this.buttonEls.forEach((t=>{t.is_active=t.option_id===e}))}handleKeyDown=t=>{if("Enter"!==t.key&&" "!==t.key)return;const e=t.target;if("BUTTON"!==e.tagName)return;const s=e.closest("at-button-group-option");if(!s||s.disabled)return;t.preventDefault();const a=this.options?.length>0?this.options.findIndex((t=>t.option_id===s.option_id)):this.buttonEls.indexOf(s);if(a>=0){const t=new CustomEvent("atuiClick",{detail:{element:s}});this.handleChange(t,s.option_id,a)}};disconnectedCallback(){this.el.removeEventListener("keydown",this.handleKeyDown)}render(){return a(i,{key:"67387ca4c6e475236efe78697939de703a0b77c5",role:"radiogroup","aria-labelledby":this.buttonGroupId,class:"flex flex-col items-start"},a("div",{key:"3282f91c350a5c8a06d5d568195aba10fc11a1f2",class:"mb-4 flex flex-col"},a("slot",{key:"5fd7ab519e89974c7e552e2435f5d9c322da569a",name:"label"}),(this.label||this.info_text)&&a("at-form-label",{key:"dd8e9f4a509e52ade83bd9703aaf42e2e28f8486",id:this.buttonGroupId,label:this.label,info_text:this.info_text}),this.hint_text&&a("span",{key:"a10d02e833635065521f0ad0bf08d104d189bc26",class:"text-light inline-block text-xs leading-tight","data-name":"button-group-hint"},this.hint_text)),a("div",{key:"11760fd1390544dcfbf9878eaf9d2f6cc3cc4ed8",class:"border-med relative rounded-lg border bg-white inset-shadow-xs"},a("ul",{key:"2787ab445edf5e7f4b5003bc8117ae97c9aef299",class:"relative z-20 m-[2px] flex flex-row","data-name":"button-group-options"},a("slot",{key:"66137494fdffdac465da41dc70a4170498312332"}),this.getButtonGroupOptions&&this.getButtonGroupOptions.map((t=>a("li",{class:"relative z-10 mr-[-1px]"},t))))),this.error_text&&a("span",{key:"5cb5c708115daffd941c658ce1cfc03ea6e1b481",class:"text-error text-xs font-medium","data-name":"button-group-error-text"},this.error_text))}static get watchers(){return{value:[{handleValueChange:0}]}}},[772,"at-button-group",{label:[1],info_text:[1],hint_text:[1],error_text:[1],options:[16],value:[1025],disabled:[4]},void 0,{value:[{handleValueChange:0}]}]);function d(){"undefined"!=typeof customElements&&["at-button-group","at-button-group-option","at-form-label","at-tooltip"].forEach((t=>{switch(t){case"at-button-group":customElements.get(o(t))||customElements.define(o(t),h);break;case"at-button-group-option":customElements.get(o(t))||n();break;case"at-form-label":customElements.get(o(t))||l();break;case"at-tooltip":customElements.get(o(t))||r()}}))}export{h as A,d}