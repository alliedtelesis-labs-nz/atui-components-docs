import{p as t,H as a,d as e,h as i,c as s,t as o}from"./p-Ban0-WTF.js";import{c as r}from"./p-COG8_R0C.js";import{d}from"./p-CricFCQ3.js";import{d as l}from"./p-CG5C22QV.js";import{d as h}from"./p-DszB-XY6.js";const n=r("gap-4",{variants:{layout:{column:"flex flex-col",row:"flex",grid:"grid grid-cols-3"}}}),c=t(class extends a{constructor(t){super(),!1!==t&&this.__registerHost(),this.atuiChange=e(this,"atuiChange",7)}label;info_text;layout="column";disabled;readonly;required;hint_text;error_text;invalid;options;value;get el(){return this}watchValue(t){this.updateSlottedRadiosState(t)}radioEls=[];radioGroupId="radiogroup-"+Math.random().toString(36).substring(2,11);atuiChange;handleChange(t){this.value!==t&&(this.value=t,this.atuiChange.emit(t))}focusAndClickRelativeRadio(t){const a=this.radioEls.indexOf(this.el.ownerDocument.activeElement),e=this.radioEls[(a+t+this.radioEls.length)%this.radioEls.length];e.click(),e.focus()}handleKeyDown(t){switch(t.key){case"ArrowRight":case"ArrowDown":t.preventDefault(),this.focusAndClickRelativeRadio(1);break;case"ArrowUp":case"ArrowLeft":t.preventDefault(),this.focusAndClickRelativeRadio(-1)}}get getRadios(){if(this.options&&this.options.length>0)return this.options.map((t=>i("at-radio",{label:t.label,hint_text:t.hint_text,option_id:t.option_id,readonly:this.readonly||t.readonly,disabled:this.disabled||t.disabled,value:this.value===t.option_id,onAtuiChange:a=>{a.stopPropagation(),this.disabled||this.readonly||this.handleChange(t.option_id)},group:this.label||this.radioGroupId,ref:t=>this.radioEls.push(t)})))}getSlottedRadios(){return Array.from(this.el.querySelectorAll("at-radio"))}componentDidLoad(){this.initializeSlottedRadios(),this.updateSlottedRadiosState(this.value)}initializeSlottedRadios(){const t=this.getSlottedRadios(),a=this.label||this.radioGroupId;t.forEach((t=>{if(t.getAttribute("group")||t.setAttribute("group",a),!t.getAttribute("option_id")){const a="radio-"+Math.random().toString(36).substring(2,11);t.setAttribute("option_id",a)}void 0!==this.disabled&&(t.disabled=this.disabled),void 0!==this.readonly&&(t.readonly=this.readonly)}))}handleSlottedRadioChange(t){if(!this.getSlottedRadios().includes(t.target))return;if(t.stopPropagation(),this.disabled||this.readonly)return;const a=t.detail;a&&(this.handleChange(a),this.updateSlottedRadiosState(a))}updateSlottedRadiosState(t){this.getSlottedRadios().forEach((a=>{const e=a.getAttribute("option_id");a.value=e===t}))}render(){const t=n({layout:this.layout});return i(s,{key:"d8d5762192fdd8f1a4cf1315383608b518a878a7",role:"radiogroup",onKeyDown:t=>this.handleKeyDown(t),class:"block w-full"},i("div",{key:"8db6035764da81d25e532d93ae4cc606782a319f",class:"flex flex-col"},i("slot",{key:"9f0de9d636ab4adfaa7c8d474c56b05167c6699f",name:"label"}),(this.label||this.required||this.info_text)&&i("at-form-label",{key:"8743dfcf4db8679c26a3baa13b160c5b29c64c92",label:this.label,required:this.required,info_text:this.info_text}),this.hint_text&&i("span",{key:"cd37e52aa78bf2ea7f78e8cc0a98a319a4638e39",class:"text-light mb-8 inline-block text-xs leading-tight","data-name":"radio-group-hint"},this.hint_text)),i("ul",{key:"bfd50e96f12e41a2dceeb3d14af326d3c9a798c0",class:t,"data-name":"radio-group-options"},i("slot",{key:"5633addb83a577298cc8f022f1a6e2bfe703d6aa"}),this.getRadios&&this.getRadios.map((t=>i("li",{class:"flex"},t)))),this.error_text&&this.invalid&&i("span",{key:"5dfd482c5af05d430f468eee015eaf0347c5c8d0",class:"text-error text-sm","data-name":"radio-group-error-text"},this.error_text))}static get watchers(){return{value:[{watchValue:0}]}}},[772,"at-radio-group",{label:[1],info_text:[1],layout:[1],disabled:[4],readonly:[4],required:[4],hint_text:[1],error_text:[1],invalid:[4],options:[16],value:[1]},[[0,"atuiChange","handleSlottedRadioChange"]],{value:[{watchValue:0}]}]),u=c,f=function(){"undefined"!=typeof customElements&&["at-radio-group","at-form-label","at-radio","at-tooltip"].forEach((t=>{switch(t){case"at-radio-group":customElements.get(o(t))||customElements.define(o(t),c);break;case"at-form-label":customElements.get(o(t))||d();break;case"at-radio":customElements.get(o(t))||l();break;case"at-tooltip":customElements.get(o(t))||h()}}))};export{u as AtRadioGroup,f as defineCustomElement}