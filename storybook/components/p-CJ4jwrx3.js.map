{"file":"p-CJ4jwrx3.js","mappings":"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","names":["__stencil_proxyCustomElement","HTMLElement"],"sources":["src/components/at-tooltip/at-tooltip.tsx"],"sourcesContent":["import {\n    Component,\n    h,\n    Host,\n    Prop,\n    Element,\n    State,\n    Method,\n    Watch,\n} from '@stencil/core';\nimport {\n    computePosition,\n    flip,\n    shift,\n    offset,\n    autoUpdate,\n    type Placement,\n    size,\n} from '@floating-ui/dom';\n\nexport type TooltipPosition = 'top' | 'bottom' | 'left' | 'right';\nexport type TooltipAlign = 'start' | 'end' | 'center';\nconst DEFAULT_TOOLTIP_MAX_WIDTH = 200;\n\n/**\n * @category **Overlays**\n * @description **A tooltip popover component that displays contextual information when hovering over or focusing on an element.**\n *\n * @slot tooltip-trigger - Shows the tooltip when hovered (only used when trigger_id is not provided)\n * @slot default - Content to go inside the tooltip\n */\n@Component({\n    tag: 'at-tooltip',\n    shadow: false,\n})\nexport class AtTooltip {\n    /**\n     * Position of opened tooltip element relative to the trigger element.\n     */\n    @Prop() position: TooltipPosition = 'top';\n\n    /**\n     * Alignment of opened tooltip element relative to trigger element.\n     */\n    @Prop() align: TooltipAlign = 'center';\n\n    /**\n     * Prevent opening tooltip\n     */\n    @Prop() disabled: boolean = false;\n\n    /**\n     * Maximum width constraint for the tooltip in pixels. Defaults to 300px for readability.\n     */\n    @Prop() width?: string = '200px';\n\n    /**\n     * Offset in pixels from the edge of the trigger element\n     */\n    @Prop() offset?: number = 8;\n\n    /**\n     * Delay before showing and hiding the tooltip when interacting with the trigger element.\n     */\n    @Prop() delay?: number = 150;\n\n    /**\n     * Target an external element to use as the trigger. When provided, clicking an element wia matching data-tooltip attribute value will toggle the side panel.\n     * */\n    @Prop() trigger_id?: string;\n\n    @Watch('disabled')\n    async disabledChanged(newValue: boolean) {\n        if (newValue && this.isOpen) {\n            await this.closeTooltip();\n        }\n    }\n\n    @State() isOpen = false;\n\n    @Element() el: HTMLElement;\n    triggerEl: HTMLElement;\n    tooltipEl: HTMLElement;\n    private triggerEls: HTMLElement[] = [];\n\n    private cleanupAutoUpdate?: () => void;\n    private popoverId: string;\n    private showTimeout?: NodeJS.Timeout;\n    private hideTimeout?: NodeJS.Timeout;\n\n    private updatePosition = async () => {\n        if (this.triggerEl && this.tooltipEl && this.isOpen) {\n            await this.updateFloatingPosition();\n        }\n    };\n\n    /**\n     * Opens the tooltip.\n     */\n    @Method()\n    async openTooltip(): Promise<void> {\n        if (this.disabled) return;\n\n        if (this.tooltipEl) {\n            this.tooltipEl.showPopover();\n            this.isOpen = true;\n        }\n        await this.updatePosition();\n        this.updateAriaExpanded();\n    }\n\n    /**\n     * Closes the tooltip.\n     */\n    @Method()\n    async closeTooltip(): Promise<void> {\n        if (this.tooltipEl) {\n            this.tooltipEl.hidePopover();\n            this.isOpen = false;\n        }\n        this.updateAriaExpanded();\n    }\n\n    private updateAriaExpanded(): void {\n        if (this.trigger_id && this.triggerEl) {\n            this.triggerEl.setAttribute(\n                'aria-expanded',\n                this.isOpen ? 'true' : 'false',\n            );\n        }\n    }\n\n    async componentDidLoad() {\n        this.popoverId = `atui-tooltip-${Math.random().toString(36).substr(2, 9)}`;\n\n        if (this.trigger_id) {\n            this.triggerEls = Array.from(\n                document.querySelectorAll(\n                    `[data-tooltip=\"${this.trigger_id}\"]`,\n                ),\n            ) as HTMLElement[];\n            if (this.triggerEls.length === 0) {\n                console.warn(\n                    `atui-tooltip: No elements found with data-tooltip=\"${this.trigger_id}\"`,\n                );\n                return;\n            }\n        } else {\n            this.triggerEl = this.el.querySelector(\n                '[data-name=\"tooltip-trigger\"]',\n            );\n        }\n\n        await this.setupFloatingUI();\n        setTimeout(() => this.setupPopoverEventListeners(), 0);\n\n        if (this.trigger_id && this.triggerEls.length) {\n            this.setupExternalTriggerListeners();\n        }\n    }\n\n    disconnectedCallback() {\n        this.cleanupFloatingUI();\n        this.cleanupExternalTriggerListeners();\n\n        if (this.showTimeout) {\n            clearTimeout(this.showTimeout);\n            this.showTimeout = undefined;\n        }\n        if (this.hideTimeout) {\n            clearTimeout(this.hideTimeout);\n            this.hideTimeout = undefined;\n        }\n    }\n\n    private externalTriggerListeners: Array<{\n        element: HTMLElement;\n        event: string;\n        handler: EventListener;\n    }> = [];\n\n    private cleanupExternalTriggerListeners() {\n        this.externalTriggerListeners.forEach(({ element, event, handler }) => {\n            element.removeEventListener(event, handler);\n        });\n        this.externalTriggerListeners = [];\n    }\n\n    private async setupPopoverEventListeners() {\n        if (this.tooltipEl) {\n            this.tooltipEl.addEventListener('toggle', (event: Event) => {\n                const customEvent = event as any;\n                this.isOpen = customEvent.newState === 'open';\n\n                if (this.isOpen) {\n                    requestAnimationFrame(() => {\n                        this.tooltipEl.style.opacity = '1';\n                        this.updatePosition();\n                    });\n                } else {\n                    this.tooltipEl.style.opacity = '0';\n                }\n            });\n        }\n    }\n\n    private setupExternalTriggerListeners() {\n        if (!this.triggerEls || this.triggerEls.length === 0) return;\n\n        this.triggerEls.forEach((el) => {\n            const mouseEnterHandler = () => {\n                if (!this.disabled) {\n                    this.triggerEl = el;\n                    this.mouseEnterHandler();\n                }\n            };\n\n            const mouseLeaveHandler = () => {\n                if (!this.disabled) {\n                    this.triggerEl = el;\n                    this.mouseLeaveHandler();\n                }\n            };\n\n            el.addEventListener('mouseenter', mouseEnterHandler);\n            el.addEventListener('mouseleave', mouseLeaveHandler);\n\n            this.externalTriggerListeners.push(\n                {\n                    element: el,\n                    event: 'mouseenter',\n                    handler: mouseEnterHandler,\n                },\n                {\n                    element: el,\n                    event: 'mouseleave',\n                    handler: mouseLeaveHandler,\n                },\n            );\n\n            el.setAttribute('aria-haspopup', 'true');\n            el.setAttribute('aria-expanded', 'false');\n        });\n    }\n\n    private async mouseEnterHandler(): Promise<void> {\n        if (this.hideTimeout) {\n            clearTimeout(this.hideTimeout);\n            this.hideTimeout = undefined;\n        }\n\n        if (this.isOpen) return;\n\n        if (this.showTimeout) {\n            clearTimeout(this.showTimeout);\n        }\n\n        this.showTimeout = setTimeout(async () => {\n            if (!this.disabled && !this.isOpen) {\n                await this.openTooltip();\n            }\n            this.showTimeout = undefined;\n        }, this.delay || 0);\n    }\n\n    private async mouseLeaveHandler(): Promise<void> {\n        if (this.showTimeout) {\n            clearTimeout(this.showTimeout);\n            this.showTimeout = undefined;\n        }\n\n        if (!this.isOpen) return;\n\n        const hideDelay = Math.min(this.delay || 0, 150);\n        this.hideTimeout = setTimeout(async () => {\n            if (this.isOpen) {\n                await this.closeTooltip();\n            }\n            this.hideTimeout = undefined;\n        }, hideDelay);\n    }\n\n    private async setupFloatingUI(): Promise<void> {\n        if (this.cleanupAutoUpdate) {\n            this.cleanupAutoUpdate();\n        }\n\n        if (this.triggerEl && this.tooltipEl) {\n            const observer = new IntersectionObserver(\n                (entries) => {\n                    if (!entries[0].isIntersecting && this.isOpen) {\n                        this.closeTooltip();\n                    }\n                },\n                { threshold: 0 },\n            );\n            observer.observe(this.triggerEl);\n\n            this.cleanupAutoUpdate = autoUpdate(\n                this.triggerEl,\n                this.tooltipEl,\n\n                () => {\n                    if (this.isOpen) {\n                        const placement = this.getFloatingUIPlacement();\n                        const strategy = 'fixed';\n\n                        computePosition(this.triggerEl, this.tooltipEl, {\n                            placement,\n                            strategy,\n                            middleware: [\n                                offset(this.offset ?? 8),\n                                flip({\n                                    fallbackStrategy: 'bestFit',\n                                    padding: 8,\n                                }),\n                                shift({\n                                    padding: 8,\n                                    mainAxis: true,\n                                    crossAxis: true,\n                                }),\n                                size({\n                                    apply: ({\n                                        availableWidth,\n                                        availableHeight,\n                                        elements,\n                                    }) => {\n                                        const userMax =\n                                            parseInt(\n                                                (\n                                                    this.width || '200px'\n                                                ).toString(),\n                                                10,\n                                            ) || DEFAULT_TOOLTIP_MAX_WIDTH;\n                                        Object.assign(elements.floating.style, {\n                                            maxWidth: `${Math.min(availableWidth, userMax)}px`,\n                                            maxHeight: `${availableHeight}px`,\n                                        });\n                                    },\n                                }),\n                            ],\n                        }).then(({ x, y }) => {\n                            const styles: any = {\n                                position: strategy,\n                                left: `${x}px`,\n                                top: `${y}px`,\n                                margin: '0',\n                                transform: 'none',\n                                maxWidth: this.width || '200px',\n                            };\n\n                            Object.assign(this.tooltipEl.style, styles);\n                        });\n                    }\n                },\n                {\n                    ancestorScroll: true,\n                    ancestorResize: true,\n                    elementResize: true,\n                    layoutShift: true,\n                    animationFrame: true,\n                },\n            );\n\n            const originalCleanup = this.cleanupAutoUpdate;\n            this.cleanupAutoUpdate = () => {\n                originalCleanup();\n                observer.disconnect();\n            };\n        }\n    }\n\n    private cleanupFloatingUI() {\n        this.cleanupAutoUpdate?.();\n        this.cleanupAutoUpdate = undefined;\n    }\n\n    private async updateFloatingPosition(): Promise<void> {\n        if (!this.triggerEl || !this.tooltipEl) return;\n        this.setupFloatingUI();\n    }\n\n    private getFloatingUIPlacement(): Placement {\n        const positionMap: Record<TooltipPosition, string> = {\n            top: 'top',\n            bottom: 'bottom',\n            left: 'left',\n            right: 'right',\n        };\n\n        const alignMap: Record<TooltipAlign, string> = {\n            start: 'start',\n            end: 'end',\n            center: 'center',\n        };\n\n        const position = positionMap[this.position] || 'bottom';\n        const align = alignMap[this.align] || 'center';\n\n        return `${position}-${align}` as Placement;\n    }\n\n    render() {\n        return (\n            <Host class=\"relative\">\n                {!this.trigger_id && (\n                    <div\n                        aria-haspopup=\"true\"\n                        data-name=\"tooltip-trigger\"\n                        ref={(el) => (this.triggerEl = el)}\n                        aria-expanded={`${this.isOpen ? 'true' : 'false'}`}\n                        class={this.disabled ? 'contents' : ''}\n                        onMouseEnter={() =>\n                            !this.disabled ? this.mouseEnterHandler() : null\n                        }\n                        onMouseLeave={() =>\n                            !this.disabled ? this.mouseLeaveHandler() : null\n                        }\n                    >\n                        <slot name=\"tooltip-trigger\" />\n                    </div>\n                )}\n\n                <div\n                    ref={(el) => (this.tooltipEl = el)}\n                    data-position={this.position}\n                    data-align={this.align}\n                    popover=\"auto\"\n                    id={this.popoverId}\n                    class=\"pointer-events-none w-fit rounded-md bg-gray-950/80 px-[6px] py-2 text-sm text-white opacity-0 shadow-md transition-opacity duration-200 ease-out\"\n                    data-name=\"tooltip-content-wrapper\"\n                >\n                    <slot />\n                </div>\n            </Host>\n        );\n    }\n}\n"],"version":3}