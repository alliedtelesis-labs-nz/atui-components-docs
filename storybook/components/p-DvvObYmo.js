import{p as t,H as e,d as s,h as a,c as i,t as o}from"./p-CGooRokE.js";import{d as n}from"./p-BHsOeup3.js";import{d as l}from"./p-BF1qhNk1.js";import{d as r}from"./p-D3zsC1jI.js";const h=t(class extends e{constructor(t){super(),!1!==t&&this.__registerHost(),this.atuiIndexChange=s(this,"atuiIndexChange",7),this.atuiChange=s(this,"atuiChange",7)}label;info_text;hint_text;error_text;options=[];value;disabled;get el(){return this}buttonGroupId=`buttonGroup-${Math.random().toString(36).substring(2,11)}`;atuiIndexChange;atuiChange;buttonEls=[];handleValueChange(t){this.options&&0!==this.options.length||this.buttonEls.forEach((e=>{e.is_active=e.option_id===t}))}componentDidLoad(){this.options&&0!==this.options.length||(this.buttonEls=this.getButtonElements(),this.initializeButtons(),this.attachEventListenersToButtons(),setTimeout((()=>this.activateOptionButton()))),this.el.addEventListener("keydown",this.handleKeyDown)}getButtonElements(){return Array.from(this.el.querySelectorAll("at-button-group-option"))}initializeButtons(){this.buttonEls.forEach(((t,e)=>{t.option_id=t.option_id||`${e}`,null!=this.value&&(t.is_active=this.value===t.option_id),t.disabled=this.disabled||t.disabled}))}attachEventListenersToButtons(){this.buttonEls.forEach(((t,e)=>{t.addEventListener("atuiClick",(s=>this.handleChange(s,t.option_id,e)))}))}activateOptionButton(){const t=this.buttonEls.find((t=>t.is_active&&!t.disabled))||this.buttonEls.find((t=>!t.disabled));t&&(t.is_active=!0,this.value=t.option_id)}get getButtonGroupOptions(){return this.options?this.options.map(((t,e)=>a("at-button-group-option",{option_id:t.option_id,label:t.label,is_active:this.value===t.option_id,disabled:t.disabled,icon:t.icon,onAtuiClick:s=>this.handleChange(s,t.option_id,e)}))):null}handleChange(t,e,s){t.stopPropagation(),this.value=e,this.atuiChange.emit(this.value),this.atuiIndexChange.emit(s),this.buttonEls.forEach((t=>{t.is_active=t.option_id===e}))}handleKeyDown=t=>{if("Enter"!==t.key&&" "!==t.key)return;const e=t.target;if("BUTTON"!==e.tagName)return;const s=e.closest("at-button-group-option");if(!s||s.disabled)return;t.preventDefault();const a=this.options?.length>0?this.options.findIndex((t=>t.option_id===s.option_id)):this.buttonEls.indexOf(s);if(a>=0){const t=new CustomEvent("atuiClick",{detail:{element:s}});this.handleChange(t,s.option_id,a)}};disconnectedCallback(){this.el.removeEventListener("keydown",this.handleKeyDown)}render(){return a(i,{key:"51fa784b699db525255c34ac93615650732eb0cb",role:"radiogroup","aria-labelledby":this.buttonGroupId,class:"flex flex-col items-start"},a("div",{key:"65973f90fd71ecaea58f52cbfac656ebe0d41bba",class:"mb-4 flex flex-col"},a("slot",{key:"3907e71741d7f58573343e5a741cf8d1157f351d",name:"label"}),(this.label||this.info_text)&&a("at-form-label",{key:"0bb5b473f66df5e40819e00d308f00e436c13b00",id:this.buttonGroupId,label:this.label,info_text:this.info_text}),this.hint_text&&a("span",{key:"22bf39de0ab996635723531a80ea962e6ebb22c1",class:"text-light inline-block text-xs leading-tight","data-name":"button-group-hint"},this.hint_text)),a("div",{key:"830f331d4db615a7314d192a956dca9f60d400ea",class:"border-med relative rounded-lg border bg-white inset-shadow-xs"},a("ul",{key:"bf709d82367f4d86f05a4a8ed4d86c8146983ff2",class:"relative z-20 m-[2px] flex flex-row","data-name":"button-group-options"},a("slot",{key:"cb0c5db96a787bb4ad8a5d36f17870076ffffffa"}),this.getButtonGroupOptions&&this.getButtonGroupOptions.map((t=>a("li",{class:"relative z-10 mr-[-1px]"},t))))),this.error_text&&a("span",{key:"efeb2acbdb4a46e832b19d69ae122594d826ce8d",class:"text-error text-xs font-medium","data-name":"button-group-error-text"},this.error_text))}static get watchers(){return{value:[{handleValueChange:0}]}}},[772,"at-button-group",{label:[1],info_text:[1],hint_text:[1],error_text:[1],options:[16],value:[1025],disabled:[4]},void 0,{value:[{handleValueChange:0}]}]);function u(){"undefined"!=typeof customElements&&["at-button-group","at-button-group-option","at-form-label","at-tooltip"].forEach((t=>{switch(t){case"at-button-group":customElements.get(o(t))||customElements.define(o(t),h);break;case"at-button-group-option":customElements.get(o(t))||n();break;case"at-form-label":customElements.get(o(t))||l();break;case"at-tooltip":customElements.get(o(t))||r()}}))}export{h as A,u as d}