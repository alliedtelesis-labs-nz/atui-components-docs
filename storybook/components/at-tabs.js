import{p as t,H as e,d as a,h as i,c as s,t as n}from"./p-CGooRokE.js";import{d as o}from"./p-CfMdBxpk.js";import{d as r}from"./p-Cb0h2vos.js";const l=t(class extends e{constructor(t){super(),!1!==t&&this.__registerHost(),this.atuiTabChange=a(this,"atuiTabChange",3)}get el(){return this}tabs=[];layout="horizontal";hide_nav=!1;active_tab;fill=!1;atuiTabChange;tabEls=[];tabManualAdded=[];componentDidRender(){this.tabEls=this.getTabsElements(),requestAnimationFrame((()=>{this.initializeTabs(),this.addEventListenersToTabs(),requestAnimationFrame((()=>{this.updateIndicatorPosition()}))}))}initializeTabs(){this.tabEls.forEach((t=>{this.tabManualAdded.push({id:t.tab_id,title:t.tab_title}),t.layout=this.layout,!this.active_tab&&t.is_active&&(this.active_tab=t.tab_id),t.is_active=!!this.active_tab&&t.tab_id===this.active_tab,t.fill=this.fill}))}addEventListenersToTabs(){this.tabEls.forEach((t=>{t.addEventListener("click",(()=>{this.handleTabChange(t.tab_id)}))}))}getTabsElements(){const t=this.el.querySelector("#container-"+this.tabsetId);return t?Array.from(t.querySelectorAll("at-tab-trigger")):[]}componentDidUpdate(){this.updateIndicatorPosition()}handleActiveTabChange(t){const e=this.tabs.find((e=>e.id===t)),a=this.tabManualAdded.find((e=>e.id===t));e?(this.atuiTabChange.emit(e.id),this.updateTabActiveStates(t),requestAnimationFrame((()=>{this.updateIndicatorPosition()}))):a&&(this.atuiTabChange.emit(a.id),this.updateTabActiveStates(t),requestAnimationFrame((()=>{this.updateIndicatorPosition()})))}updateTabActiveStates(t){this.tabEls.forEach((e=>{e.is_active=e.tab_id===t}))}tabsetId="tabset-"+Math.random().toString(36).substring(2,11);get indicatorRef(){return this.el.querySelector("#indicator-"+this.tabsetId)}get containerRef(){return this.el.querySelector("#container-"+this.tabsetId)}handleTabChange(t){this.active_tab=t}async getActiveTab(){return this.active_tab}async setActiveTab(t){this.active_tab=t}get tabOptions(){if(this.tabs)return this.tabs.map((t=>i("at-tab-trigger",{tab_id:t.id,tab_title:t.title,layout:this.layout,is_active:this.active_tab===t.id,fill:this.fill,onClick:()=>this.handleTabChange(t.id)})))}updateIndicatorPosition(){if(!this.indicatorRef||!this.containerRef)return;const t=this.el.querySelector('at-tab-trigger[data-active="true"]');if(t){const e=this.containerRef.getBoundingClientRect(),a=t.getBoundingClientRect();this.indicatorRef.style.width=a.width-16+"px",this.indicatorRef.style.left=a.left-e.left+"px",this.indicatorRef.style.opacity="1"}}checkLayoutAndRender(){return"horizontal"===this.layout?i("at-layout",{class:"flex flex-grow",template:"tabset","data-name":"navigation-top"},!this.hide_nav&&i("div",{slot:"tabset-navigation"},i("nav",{role:"tablist",class:"relative flex flex-wrap gap-2 border-b border-gray-200 px-2 text-center text-sm font-medium",id:"container-"+this.tabsetId},this.tabOptions,i("slot",{name:"tab-list"}),i("slot",{name:"tab-nav"}),i("div",{id:"indicator-"+this.tabsetId,class:"bg-active-foreground pointer-events-none absolute bottom-0 z-10 mx-8 h-2 rounded-sm transition-[left] duration-150 ease-in-out",style:{left:"0",opacity:"0"},"aria-hidden":"true",role:"presentation"}))),i("div",{role:"tabpanel",slot:"tabset-content"},i("slot",{name:"tab-content"}))):"vertical"===this.layout?i("at-layout",{class:"flex flex-grow",template:"master-detail","data-name":"navigation-left"},i("div",{slot:"master"},i("nav",{role:"tablist",class:"flex flex-grow flex-col p-[2px] p-[16px]",id:"container-"+this.tabsetId},this.tabOptions,i("slot",{name:"tab-list"}),i("slot",{name:"tab-nav"}))),i("div",{role:"tabpanel",slot:"detail",class:"flex-col] flex flex-grow"},i("slot",{name:"tab-content"}))):void 0}render(){return i(s,{key:"1f9e4f726316c2dfb8e2e39fc3abe40331d8ee7e"},this.checkLayoutAndRender())}static get watchers(){return{active_tab:[{handleActiveTabChange:0}]}}},[772,"at-tabs",{tabs:[16],layout:[1],hide_nav:[4],active_tab:[1025],fill:[4],getActiveTab:[64],setActiveTab:[64]},void 0,{active_tab:[{handleActiveTabChange:0}]}]),h=l,c=function(){"undefined"!=typeof customElements&&["at-tabs","at-layout","at-tab-trigger"].forEach((t=>{switch(t){case"at-tabs":customElements.get(n(t))||customElements.define(n(t),l);break;case"at-layout":customElements.get(n(t))||o();break;case"at-tab-trigger":customElements.get(n(t))||r()}}))};export{h as AtTabs,c as defineCustomElement}