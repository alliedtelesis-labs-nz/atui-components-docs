{"file":"atui-multi-select.entry.cjs.js","mappings":"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","names":["fetchTranslations","handleArrowNavigation","handleHomeEndNavigation","h","Host","classlist"],"sources":["src/components/atui-multi-select/atui-multi-select.tsx"],"sourcesContent":["import {\n    Component,\n    h,\n    Prop,\n    State,\n    Element,\n    Event,\n    EventEmitter,\n    Host,\n} from '@stencil/core';\nimport { fetchTranslations } from '../../utils/translation';\nimport { classlist } from '../../utils/classlist';\nimport { SelectOption } from '../../types/select';\nimport {\n    handleArrowNavigation,\n    handleHomeEndNavigation,\n} from '../../utils/keyboard-navigation';\n\nconst inputVariantsConfig = {\n    variants: {\n        disabled: {\n            false: 'focus-within:ring-active-foreground/30 bg-white',\n            true: 'bg-surface-1 !text-disabled pointer-events-none border-none',\n        },\n        readonly: {\n            false: 'focus-within:ring-active-foreground/30',\n            true: '!bg-surface-1 !text-dark cursor-text border-none',\n        },\n        invalid: {\n            false: 'border-med focus-within:border-active-dark focus-within:ring-active-foreground/30',\n            true: 'border-error-base focus-within:border-error-base focus-within:ring-destructive-foreground/30',\n        },\n        typeahead: {\n            false: 'cursor-pointer caret-transparent',\n            true: null,\n        },\n    },\n    defaultVariants: {\n        disabled: false,\n        readonly: false,\n        invalid: false,\n        typeahead: false,\n    },\n};\n\nconst optionVariantsConfig = {\n    variants: {\n        active: {\n            true: 'bg-active-light text-active',\n            false: 'hover:bg-disabled-light bg-white',\n        },\n    },\n};\n\n/**\n * @category Form Controls\n * @description A multi-selection dropdown component for choosing multiple values from a list of options. Features search functionality, keyboard navigation, and accessibility support.\n */\n@Component({\n    tag: 'atui-multi-select',\n    shadow: false,\n})\nexport class AtuiMultiSelectComponent {\n    /**\n     * Options displayed in the dropdown menu.\n     */\n    @Prop()\n    options: SelectOption[];\n\n    /**\n     * Label of the select.\n     */\n    @Prop()\n    label?: string = '';\n\n    /**\n     * Short description or validation hint if required.\n     */\n    @Prop()\n    hint_text?: string = '';\n\n    /**\n     * Error text for the select.\n     */\n    @Prop()\n    error_text?: string = '';\n\n    /**\n     * Optional info icon with detailed tooltip description. Displayed at right of label.\n     */\n    @Prop()\n    info_text?: string = '';\n\n    /**\n     * Placeholder text for the select.\n     */\n    @Prop()\n    placeholder?: string = '';\n\n    /**\n     * Indicated form field is required.\n     */\n    @Prop()\n    required?: boolean;\n\n    /**\n     * Set the select to appear invalid.\n     */\n    @Prop()\n    invalid?: boolean;\n\n    /**\n     * Set the select to be clearable.\n     */\n    @Prop()\n    clearable?: boolean;\n\n    /**\n     * Disable user interaction. Disabled state should be applied via form control.\n     */\n    @Prop()\n    disabled?: boolean;\n\n    /**\n     * Set input to readonly mode, allows users to select any active values.\n     */\n    @Prop()\n    readonly?: boolean;\n\n    /**\n     * Set the select to enable typeahead search.\n     */\n    @Prop()\n    typeahead?: boolean;\n\n    /**\n     * The selected items\n     */\n    @Prop({ mutable: true })\n    value: string[] = [];\n\n    @State() searchText: string = '';\n    @State() isOpen: boolean = false;\n    @State() translations: any;\n    @State() hasMatchingOptions: boolean = false;\n    @State() parentWidth: string = '';\n\n    @Element() el: HTMLElement;\n    private menuId = `dropdown-${Math.random().toString(36).substring(2, 11)}`;\n    private menuRef: HTMLAtuiMenuElement;\n    private searchInputEl: HTMLInputElement;\n\n    /**\n     * Emits an event containing a list of the selected items when the selection changes.\n     */\n    @Event()\n    atuiChange: EventEmitter<string[]>;\n\n    async componentWillLoad(): Promise<void> {\n        this.translations = await fetchTranslations(this.el);\n    }\n\n    componentDidLoad() {\n        const parentRect = this.el.getBoundingClientRect();\n        this.parentWidth = `${parentRect.width}px`;\n    }\n\n    private updateIsOpenState(event: CustomEvent<boolean>): void {\n        this.isOpen = event.detail;\n\n        if (this.isOpen && this.typeahead) {\n            requestAnimationFrame(() => {\n                if (this.searchInputEl) {\n                    this.searchInputEl.focus();\n                }\n            });\n        }\n    }\n\n    private handleChange(option: string) {\n        this.value = this.value.includes(option)\n            ? this.value.filter((item) => item !== option)\n            : [...this.value, option];\n        this.atuiChange.emit(this.value);\n    }\n\n    handleClear() {\n        this.searchText = '';\n    }\n\n    private async handleKeyDownMenu(event: KeyboardEvent): Promise<void> {\n        if (event.key === 'Enter' || event.key === ' ') {\n            if (event.target instanceof HTMLLIElement) {\n                event.preventDefault();\n                event.target.click();\n            }\n            return;\n        }\n\n        const menuContainer = this.el.querySelector(\n            `ul[id=\"${this.menuId}\"]`,\n        ) as HTMLElement;\n        if (!menuContainer) return;\n\n        handleArrowNavigation(event, menuContainer);\n        handleHomeEndNavigation(event, menuContainer);\n    }\n\n    private handleSearchInput(event: Event): void {\n        const inputEl = event.target as HTMLInputElement;\n        this.searchText = inputEl.value.toLowerCase();\n        const trimmedSearch = this.searchText.trim().toLowerCase();\n        this.hasMatchingOptions = trimmedSearch\n            ? this.options?.some((option) =>\n                  option.value.toLowerCase().includes(trimmedSearch),\n              )\n            : true;\n    }\n\n    render() {\n        return (\n            <Host\n                class=\"group/select\"\n                onFocusout={async (event: FocusEvent) => {\n                    const relatedTarget = event.relatedTarget as HTMLElement;\n                    if (!relatedTarget || !this.el.contains(relatedTarget)) {\n                        this.handleClear();\n                        setTimeout(async () => {\n                            await this.menuRef?.closeMenu();\n                        }, 100);\n                    }\n                }}\n            >\n                {this.renderLabel()}\n                <atui-menu\n                    ref={(el) => (this.menuRef = el)}\n                    trigger=\"click\"\n                    align=\"start\"\n                    width={this.parentWidth}\n                    role=\"listbox\"\n                    autoclose={false}\n                    disabled={this.disabled || this.readonly}\n                    onAtuiMenuStateChange={(event) =>\n                        this.updateIsOpenState(event)\n                    }\n                >\n                    {this.renderInput()}\n                    {!this.disabled || !this.readonly\n                        ? this.renderOptions()\n                        : null}\n                </atui-menu>\n\n                <div>\n                    {this.error_text && this.invalid && (\n                        <span\n                            data-name=\"multi-select-error\"\n                            class=\"text-error\"\n                        >\n                            {this.error_text}\n                        </span>\n                    )}\n                </div>\n            </Host>\n        );\n    }\n\n    renderLabel() {\n        return (\n            <div class=\"mb-4 flex flex-col\">\n                <slot name=\"label\" />\n                {(this.label || this.required || this.info_text) && (\n                    <atui-form-label\n                        for={this.menuId}\n                        label={this.label}\n                        required={this.required && !this.readonly}\n                        info_text={this.info_text}\n                    />\n                )}\n                {this.hint_text && (\n                    <span\n                        class=\"text-med text-xs leading-tight\"\n                        data-name=\"multi-select-hint\"\n                    >\n                        {this.hint_text}\n                    </span>\n                )}\n            </div>\n        );\n    }\n\n    renderInput() {\n        const getClassname = classlist(\n            'placeholder-text-light transition[background-color,color,box-shadow] relative flex min-h-36 min-h-[36px] w-full flex-shrink flex-grow basis-0 gap-4 rounded-md border border-solid py-4 pr-24 pl-8 duration-300 ease-in-out outline-none focus-within:ring-2 focus-within:outline-0',\n            inputVariantsConfig,\n        );\n\n        const classname = getClassname({\n            invalid: this.invalid,\n            disabled: this.disabled,\n            readonly: this.readonly,\n            typeahead: this.typeahead,\n        });\n\n        return (\n            <div\n                class={classname}\n                slot=\"menu-trigger\"\n                tabindex={0}\n            >\n                <div>\n                    <atui-chip-list\n                        size=\"sm\"\n                        class=\"w-full focus-within:ring-0\"\n                        readonly={this.readonly}\n                        disabled={this.disabled}\n                        show_clear_all={this.clearable}\n                        onAtuiRemoveChip={(event) => {\n                            this.value = this.value.filter(\n                                (item) => !event.detail.includes(item),\n                            );\n                            this.atuiChange.emit(this.value);\n                        }}\n                        chips={this.value}\n                        data-name=\"multi-select-chips-inside\"\n                    >\n                        {this.value.length === 0 && (\n                            <div class=\"text-body text-disabled pointer-events-none select-none\">\n                                {this.placeholder}\n                            </div>\n                        )}\n                    </atui-chip-list>\n                </div>\n\n                {!this.readonly && !this.disabled && (\n                    <div class=\"absolute right-4 flex items-center\">\n                        <div\n                            class=\"user-select-none text-foreground pointer-events-none flex h-full items-center bg-transparent p-4\"\n                            role=\"presentation\"\n                            tabindex={-1}\n                        >\n                            <span\n                                class=\"material-icons h-16 w-16 text-[16px] leading-[16px]\"\n                                data-name=\"button-icon-right\"\n                            >\n                                {this.isOpen\n                                    ? 'arrow_drop_up'\n                                    : 'arrow_drop_down'}\n                            </span>\n                        </div>\n                    </div>\n                )}\n            </div>\n        );\n    }\n\n    renderOptions() {\n        return (\n            <ul\n                id={this.menuId}\n                role=\"listbox\"\n                class=\"contents\"\n                onKeyDown={async (event) => {\n                    await this.handleKeyDownMenu(event);\n                }}\n            >\n                {this.typeahead && (\n                    <div class=\"relative z-10 bg-white p-4\">\n                        <input\n                            data-name=\"multi-select-input\"\n                            type=\"text\"\n                            class={`transition[background-color,color] bg-surface-1 ring-active-foreground/30 mb-4 h-[28px] w-full flex-shrink flex-grow basis-0 rounded-md p-8 outline-0 duration-300 ease-in-out focus:ring-2 ${\n                                this.clearable ? 'pr-24' : ''\n                            } `}\n                            placeholder={\n                                this.translations?.ATUI?.SEARCH || 'Search'\n                            }\n                            name=\"\"\n                            value={this.searchText}\n                            onInput={(event) => {\n                                event.stopPropagation();\n                                this.handleSearchInput(event);\n                            }}\n                            onClick={(e) => e.stopPropagation()}\n                            ref={(el) => (this.searchInputEl = el)}\n                        />\n\n                        {this.clearable && this.searchText !== '' && (\n                            <div class=\"absolute top-4 right-4\">\n                                <atui-button\n                                    size=\"sm\"\n                                    icon=\"cancel\"\n                                    type=\"secondaryText\"\n                                    onClick={(event) => {\n                                        event.stopPropagation();\n                                        this.searchText = '';\n                                        this.searchInputEl.value = '';\n                                    }}\n                                    data-name=\"multi-select-search-clear\"\n                                ></atui-button>\n                            </div>\n                        )}\n                    </div>\n                )}\n\n                {this.options\n                    ?.filter(\n                        (option) =>\n                            !this.searchText ||\n                            option.value\n                                .toLowerCase()\n                                .includes(this.searchText),\n                    )\n                    .map((option) => this.renderOption(option))}\n\n                {this.typeahead &&\n                    this.searchText &&\n                    !this.hasMatchingOptions && (\n                        <div\n                            data-name=\"no-results-found\"\n                            class=\"text-body text-light w-full bg-white px-16 py-8\"\n                        >\n                            {this.translations?.ATUI?.NO_RESULTS_FOUND ||\n                                'No results found'}\n                        </div>\n                    )}\n            </ul>\n        );\n    }\n\n    renderOption(option: SelectOption) {\n        const getOptionClassname = classlist(\n            'transition[background-color,color,box-shadow] text-body focus:ring-active-foreground/40 flex w-full cursor-pointer items-center truncate p-8 font-normal duration-300 ease-in-out focus:ring-2 focus:outline-0 focus:ring-inset',\n            optionVariantsConfig,\n        );\n\n        const classname = getOptionClassname({\n            active: this.value.includes(option.value),\n        });\n\n        return (\n            <li\n                role=\"option\"\n                data-name=\"multi-select-option\"\n                aria-selected={this.value.includes(option.value)}\n                tabIndex={0}\n                class={classname}\n                onClick={() => this.handleChange(option.value)}\n            >\n                {option.value}\n            </li>\n        );\n    }\n}\n"],"version":3}