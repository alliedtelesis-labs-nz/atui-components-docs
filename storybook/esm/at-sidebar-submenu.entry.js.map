{"version":3,"file":"at-sidebar-submenu.entry.js","sources":["src/components/at-sidebar/at-sidebar-submenu/at-sidebar-submenu.scss?tag=at-sidebar-submenu","src/components/at-sidebar/at-sidebar-submenu/at-sidebar-submenu.tsx"],"sourcesContent":[":host {\n    .content {\n        margin-bottom: 16px;\n    }\n\n    .hover-content {\n        font-weight: var(--token-font-weight-normal);\n    }\n\n    .hover-menu[data-open] {\n        display: none;\n    }\n}\n\n[data-name='menu-content-wrapper'] {\n    background-color: var(--token-sidebar-background);\n}\n\n[slot='submenu-hover-content'] {\n    .sc-at-sidebar-menuitem-h .label.sc-at-sidebar-menuitem {\n        color: var(--token-sidebar-foreground);\n        font-weight: var(--token-font-weight-normal);\n    }\n}\n","import {\n    Component,\n    h,\n    Host,\n    Prop,\n    State,\n    Listen,\n    Element,\n} from '@stencil/core';\n\n/**\n * @category Navigation\n * @description Display nested sub-menus in the atui-sidebar.\n * Sub-menu's can be collapsed via atui-accordion-item when the parent sidebar is expanded.\n * Submenu content is collapsed and hidden when the parent sidebar is collapsed.\n * Menu indent styling is supported up to 3 levels.\n *\n * @slot submenu-content - To place the atui-sidebar-menuitem(s) in the sub menu\n * @slot submenu-hover-content - To place the atui-sidebar-menuitem(s) in the sub menu on collapsed mode\n */\n@Component({\n    tag: 'at-sidebar-submenu',\n    styleUrl: './at-sidebar-submenu.scss',\n})\nexport class AtSidebarSubmenuComponent {\n    /**\n     * Label to be displayed for the menu item\n     */\n    @Prop() label!: string;\n\n    /**\n     * Icon to be displayed with the label\n     */\n    @Prop() icon?: string;\n\n    /**\n     * Alert badge for the menu item\n     */\n    @Prop() badge?: string;\n\n    /**\n     * Will change the styling of the menuitem when set\n     */\n    @Prop() is_active?: boolean;\n\n    @State() isSidebarOpen: boolean = false;\n    @State() isAccordionOpen: boolean = false;\n    @State() atuiAccordionItem: HTMLAtAccordionItemElement;\n    @Element() el!: HTMLElement;\n\n    constructor() {\n        this.handleAtuiChange = this.handleAtuiChange.bind(this);\n    }\n\n    async componentDidLoad() {\n        await this.updateInitialStates();\n    }\n\n    async componentDidUpdate() {\n        await this.updateInitialStates();\n    }\n\n    private async updateInitialStates() {\n        const accordionItem = this.el.querySelector('at-accordion-item');\n        if (accordionItem) {\n            this.isAccordionOpen = await accordionItem.getIsOpen();\n        }\n\n        const parentSidebar = this.el.closest('at-sidebar');\n        if (parentSidebar) {\n            this.isSidebarOpen = await (parentSidebar as any).getIsOpen();\n        }\n    }\n\n    @Listen('atuiSidebarChange', { target: 'window' })\n    handleAtuiChange(event: CustomEvent<boolean>) {\n        const target = event.target as HTMLElement;\n\n        const parentSidebar = this.el.closest('at-sidebar');\n\n        if (target === parentSidebar) {\n            this.isSidebarOpen = event.detail;\n\n            if (!this.isSidebarOpen && this.atuiAccordionItem) {\n                this.atuiAccordionItem.closeAccordion();\n            }\n        }\n    }\n\n    @Listen('atuiAccordionChange', { target: 'window' })\n    handleAtuiAccordionChange(event: CustomEvent<boolean>) {\n        this.isAccordionOpen = event.detail;\n    }\n\n    private getIsActive() {\n        if (this.isSidebarOpen) {\n            return !this.isAccordionOpen && this.is_active;\n        }\n        return this.is_active;\n    }\n\n    render() {\n        return (\n            <Host>\n                <at-accordion-item\n                    class={!this.isSidebarOpen ? 'hidden' : ''}\n                    aria-hidden={!this.isSidebarOpen}\n                    ref={(el) => (this.atuiAccordionItem = el)}\n                    item_id=\"one\"\n                >\n                    {(this.label || this.icon) && (\n                        <at-sidebar-menuitem\n                            slot=\"accordion-trigger\"\n                            icon={this.icon}\n                            label={this.label}\n                            badge={this.badge}\n                            is_active={this.getIsActive()}\n                        >\n                            {this.isSidebarOpen && (\n                                <i\n                                    slot=\"actions\"\n                                    role=\"presentation\"\n                                    aria-hidden=\"true\"\n                                    class=\"material-icons\"\n                                >\n                                    keyboard_arrow_down\n                                </i>\n                            )}\n                        </at-sidebar-menuitem>\n                    )}\n\n                    <div class=\"content\">\n                        <slot name=\"submenu-content\"></slot>\n                    </div>\n                </at-accordion-item>\n\n                <at-menu\n                    data-open={this.isSidebarOpen}\n                    class=\"hover-menu\"\n                    data-name=\"hover-menu\"\n                    aria-hidden={this.isSidebarOpen}\n                    trigger=\"hover\"\n                    position=\"right\"\n                    align=\"start\"\n                    width=\"200px\"\n                    disabled={this.isSidebarOpen}\n                >\n                    <at-sidebar-menuitem\n                        slot=\"menu-trigger\"\n                        icon={this.icon}\n                        badge={this.badge}\n                        label={this.label}\n                        is_active={this.getIsActive()}\n                    ></at-sidebar-menuitem>\n\n                    <div\n                        class=\"submenu-hover-content\"\n                        data-name=\"submenu-hover-content\"\n                    >\n                        <slot name=\"submenu-hover-content\"></slot>\n                    </div>\n                </at-menu>\n            </Host>\n        );\n    }\n}\n"],"names":[],"mappings":"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"}