{"version":3,"file":"at-button-group.js","sourceRoot":"","sources":["../../../src/components/at-button-group/at-button-group.tsx"],"names":[],"mappings":"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","sourcesContent":["import {\n    Component,\n    h,\n    Prop,\n    Event,\n    EventEmitter,\n    Host,\n    Element,\n    Watch,\n} from '@stencil/core';\n\nexport interface ButtonGroupOption {\n    option_id: string;\n    label?: string;\n    icon?: string;\n    is_active?: string;\n    disabled?: boolean;\n    readonly?: boolean;\n}\n\n/**\n * @category Form Controls\n * @description A button group component that allows single or multiple selection from a set of toggle options. Provides a cohesive way to group related action buttons with shared styling and behavior.\n *\n * @slot - used to place your own at-button-group-options if 'options' prop isn't set. Parent will manage button selection and emit change events.\n */\n@Component({\n    tag: 'at-button-group',\n    shadow: false,\n})\nexport class AtButtonGroup {\n    /**\n     * Label for button group.\n     */\n    @Prop()\n    label?: string;\n\n    /**\n     * Optional info icon with detailed tooltip description.\n     *\n     * Displayed at right of label.\n     */\n    @Prop()\n    info_text?: string;\n\n    /**\n     * Hint for options.\n     */\n    @Prop()\n    hint_text?: string;\n\n    /**\n     * Error text for invalid choices.\n     */\n    @Prop()\n    error_text?: string;\n\n    /**\n     * List of options to be displayed on the button group.\n     */\n    @Prop()\n    options: ButtonGroupOption[] = [];\n\n    /**\n     * Sets the current active button\n     */\n    @Prop({ mutable: true })\n    value: string;\n\n    /**\n     * Disables the button group and prevents interaction\n     */\n    @Prop()\n    disabled?: boolean;\n\n    @Element() el: HTMLAtButtonGroupElement;\n    private buttonGroupId = `buttonGroup-${Math.random().toString(36).substring(2, 11)}`;\n\n    /**\n     * When the active button is changed, this will emit the 0-based index of the active button\n     */\n    @Event()\n    atuiIndexChange: EventEmitter<number>;\n\n    /**\n     * When the active button is changed, this will emit the text value of the active button\n     */\n    @Event()\n    atuiChange: EventEmitter<string>;\n\n    buttonEls: HTMLAtButtonGroupOptionElement[] = [];\n\n    @Watch('value')\n    handleValueChange(newValue: string) {\n        if (!this.options || this.options.length === 0) {\n            this.buttonEls.forEach((child) => {\n                child.is_active = child.option_id === newValue;\n            });\n        }\n    }\n\n    componentDidLoad() {\n        if (!this.options || this.options.length === 0) {\n            this.buttonEls = this.getButtonElements();\n            this.initializeButtons();\n            this.attachEventListenersToButtons();\n            setTimeout(() => this.activateOptionButton());\n        }\n        this.el.addEventListener(\n            'keydown',\n            this.handleKeyDown as EventListener,\n        );\n    }\n\n    getButtonElements() {\n        return Array.from(\n            this.el.querySelectorAll('at-button-group-option'),\n        ) as HTMLAtButtonGroupOptionElement[];\n    }\n\n    initializeButtons() {\n        this.buttonEls.forEach((buttonEl, index) => {\n            buttonEl.option_id = buttonEl.option_id || `${index}`;\n            if (this.value !== undefined && this.value !== null) {\n                buttonEl.is_active = this.value === buttonEl.option_id;\n            }\n            buttonEl.disabled = this.disabled || buttonEl.disabled;\n        });\n    }\n\n    attachEventListenersToButtons() {\n        this.buttonEls.forEach((buttonEl, index) => {\n            buttonEl.addEventListener('atuiClick', (event) =>\n                this.handleChange(event, buttonEl.option_id, index),\n            );\n        });\n    }\n    activateOptionButton() {\n        const activeChild = this.buttonEls.find(\n            (child) => child.is_active && !child.disabled,\n        );\n        const initialButton =\n            activeChild || this.buttonEls.find((child) => !child.disabled);\n        if (initialButton) {\n            initialButton.is_active = true;\n            this.value = initialButton.option_id;\n        }\n    }\n\n    get getButtonGroupOptions(): any {\n        if (this.options) {\n            return this.options.map((option, index) => (\n                <at-button-group-option\n                    option_id={option.option_id}\n                    label={option.label}\n                    is_active={this.value === option.option_id}\n                    disabled={option.disabled}\n                    icon={option.icon}\n                    onAtuiClick={(event) =>\n                        this.handleChange(event, option.option_id, index)\n                    }\n                />\n            ));\n        }\n        return null;\n    }\n\n    handleChange(event: CustomEvent, optionId: string, index: number): void {\n        event.stopPropagation();\n        this.value = optionId;\n        this.atuiChange.emit(this.value);\n        this.atuiIndexChange.emit(index);\n        this.buttonEls.forEach((child) => {\n            child.is_active = child.option_id === optionId;\n        });\n    }\n\n    /**\n     * Handles keyboard navigation for all button options.\n     */\n    private handleKeyDown = (evt: KeyboardEvent) => {\n        if (evt.key !== 'Enter' && evt.key !== ' ') return;\n        const target = evt.target as HTMLElement;\n        if (target.tagName !== 'BUTTON') return;\n\n        const option = target.closest(\n            'at-button-group-option',\n        ) as HTMLAtButtonGroupOptionElement;\n\n        if (!option || option.disabled) return;\n\n        evt.preventDefault();\n\n        const index =\n            this.options?.length > 0\n                ? this.options.findIndex(\n                      (opt) => opt.option_id === option.option_id,\n                  )\n                : this.buttonEls.indexOf(option);\n\n        if (index >= 0) {\n            const customEvent = new CustomEvent('atuiClick', {\n                detail: { element: option },\n            });\n            this.handleChange(customEvent, option.option_id, index);\n        }\n    };\n\n    disconnectedCallback() {\n        this.el.removeEventListener(\n            'keydown',\n            this.handleKeyDown as EventListener,\n        );\n    }\n\n    render() {\n        return (\n            <Host\n                role=\"radiogroup\"\n                aria-labelledby={this.buttonGroupId}\n                class={'flex flex-col items-start'}\n            >\n                <div class=\"mb-4 flex flex-col\">\n                    <slot name=\"label\" />\n                    {(this.label || this.info_text) && (\n                        <at-form-label\n                            id={this.buttonGroupId}\n                            label={this.label}\n                            info_text={this.info_text}\n                        />\n                    )}\n                    {this.hint_text && (\n                        <span\n                            class=\"text-light inline-block text-xs leading-tight\"\n                            data-name=\"button-group-hint\"\n                        >\n                            {this.hint_text}\n                        </span>\n                    )}\n                </div>\n                <div class=\"border-med relative rounded-lg border bg-white inset-shadow-xs\">\n                    <ul\n                        class=\"relative z-20 m-[2px] flex flex-row\"\n                        data-name=\"button-group-options\"\n                    >\n                        <slot />\n                        {this.getButtonGroupOptions &&\n                            this.getButtonGroupOptions.map((button) => (\n                                <li class=\"relative z-10 mr-[-1px]\">\n                                    {button}\n                                </li>\n                            ))}\n                    </ul>\n                </div>\n                {this.error_text && (\n                    <span\n                        class=\"text-error text-xs font-medium\"\n                        data-name=\"button-group-error-text\"\n                    >\n                        {this.error_text}\n                    </span>\n                )}\n            </Host>\n        );\n    }\n}\n"]}