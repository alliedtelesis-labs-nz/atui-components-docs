{"version":3,"file":"atui-sidebar-submenu.js","sourceRoot":"","sources":["../../../../src/components/atui-sidebar/atui-sidebar-submenu/atui-sidebar-submenu.tsx"],"names":[],"mappings":"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","sourcesContent":["import {\n    Component,\n    h,\n    Host,\n    Prop,\n    State,\n    Listen,\n    Element,\n} from '@stencil/core';\n\n/**\n * @category Navigation\n * @description Display nested sub-menus in the atui-sidebar.\n * Sub-menu's can be collapsed via atui-accordion-item when the parent sidebar is expanded.\n * Submenu content is collapsed and hidden when the parent sidebar is collapsed.\n * Menu indent styling is supported up to 3 levels.\n *\n * @slot submenu-content - To place the atui-sidebar-menuitem(s) in the sub menu\n * @slot submenu-hover-content - To place the atui-sidebar-menuitem(s) in the sub menu on collapsed mode\n */\n@Component({\n    tag: 'atui-sidebar-submenu',\n    shadow: true,\n})\nexport class AtuiSidebarSubmenuComponent {\n    /**\n     * Label to be displayed for the menu item\n     */\n    @Prop() label!: string;\n\n    /**\n     * Icon to be displayed with the label\n     */\n    @Prop() icon?: string;\n\n    /**\n     * Alert badge for the menu item\n     */\n    @Prop() badge?: string;\n\n    /**\n     * Will change the styling of the menuitem when set\n     */\n    @Prop() is_active?: boolean;\n\n    @State() isSidebarOpen: boolean = false;\n    @State() isAccordionOpen: boolean = false;\n    @State() atuiAccordionItem: HTMLAtuiAccordionItemElement;\n    @Element() el!: HTMLElement;\n\n    constructor() {\n        this.handleAtuiChange = this.handleAtuiChange.bind(this);\n    }\n\n    async componentDidLoad() {\n        await this.updateInitialStates();\n    }\n\n    async componentDidUpdate() {\n        await this.updateInitialStates();\n    }\n\n    private async updateInitialStates() {\n        const accordionItem = this.el.querySelector('atui-accordion-item');\n        if (accordionItem) {\n            this.isAccordionOpen = await accordionItem.getIsOpen();\n        }\n\n        const parentSidebar = this.el.closest('atui-sidebar');\n        if (parentSidebar) {\n            this.isSidebarOpen = await (parentSidebar as any).getIsOpen();\n        }\n    }\n\n    @Listen('atuiSidebarChange', { target: 'window' })\n    handleAtuiChange(event: CustomEvent<boolean>) {\n        const target = event.target as HTMLElement;\n\n        const parentSidebar = this.el.closest('atui-sidebar');\n\n        if (target === parentSidebar) {\n            this.isSidebarOpen = event.detail;\n\n            if (!this.isSidebarOpen && this.atuiAccordionItem) {\n                this.atuiAccordionItem.closeAccordion();\n            }\n        }\n    }\n\n    @Listen('atuiAccordionChange', { target: 'window' })\n    handleAtuiAccordionChange(event: CustomEvent<boolean>) {\n        this.isAccordionOpen = event.detail;\n    }\n\n    private getIsActive() {\n        if (this.isSidebarOpen) {\n            return !this.isAccordionOpen && this.is_active;\n        }\n        return this.is_active;\n    }\n\n    render() {\n        return (\n            <Host>\n                <atui-accordion-item\n                    class={!this.isSidebarOpen ? 'hidden' : ''}\n                    aria-hidden={!this.isSidebarOpen}\n                    ref={(el) => (this.atuiAccordionItem = el)}\n                    item_id=\"one\"\n                >\n                    {(this.label || this.icon) && (\n                        <atui-sidebar-menuitem\n                            slot=\"accordion-trigger\"\n                            icon={this.icon}\n                            label={this.label}\n                            badge={this.badge}\n                            is_active={this.getIsActive()}\n                        >\n                            {this.isSidebarOpen && (\n                                <i\n                                    slot=\"menu-item-actions\"\n                                    role=\"presentation\"\n                                    aria-hidden=\"true\"\n                                    class=\"material-icons text-icon-md group-data-[state=expanded]/accordion-item:rotate-180\"\n                                >\n                                    keyboard_arrow_down\n                                </i>\n                            )}\n                        </atui-sidebar-menuitem>\n                    )}\n                    <div slot=\"accordion-content\">\n                        <slot name=\"submenu-content\"></slot>\n                    </div>\n                </atui-accordion-item>\n\n                <atui-menu\n                    class={this.isSidebarOpen ? 'hidden' : 'w-input-sm'}\n                    aria-hidden={this.isSidebarOpen}\n                    trigger=\"hover\"\n                    position=\"right\"\n                    align=\"start\"\n                    width={this.isSidebarOpen ? '0' : '280px'}\n                >\n                    <atui-sidebar-menuitem\n                        class=\"pl-16\"\n                        slot=\"menu-trigger\"\n                        icon={this.icon}\n                        badge={this.badge}\n                        label={this.label}\n                        is_active={this.getIsActive()}\n                    ></atui-sidebar-menuitem>\n\n                    <div slot=\"menu-content\">\n                        <slot name=\"submenu-hover-content\"></slot>\n                    </div>\n                </atui-menu>\n            </Host>\n        );\n    }\n}\n"]}