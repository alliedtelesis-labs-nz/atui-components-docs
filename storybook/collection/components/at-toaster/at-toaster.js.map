{"version":3,"file":"at-toaster.js","sourceRoot":"","sources":["../../../src/components/at-toaster/at-toaster.tsx"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,CAAC,EAAE,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,MAAM,eAAe,CAAC;AAGlE;;;GAGG;AAMH,MAAM,OAAO,kBAAkB;IAC3B;;OAEG;IACK,QAAQ,CAAgB;IAEvB,MAAM,GAAY,EAAE,CAAC;IAC9B;;;;;OAKG;IAEH,KAAK,CAAC,QAAQ,CAAC,KAAY;QACvB,IAAI,CAAC,MAAM,GAAG,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;QACtC,IAAI,KAAK,CAAC,WAAW,IAAI,KAAK,CAAC,OAAO,GAAG,CAAC,EAAE,CAAC;YACzC,UAAU,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,OAAO,CAAC,CAAC;QAChE,CAAC;IACL,CAAC;IAED;;;;;OAKG;IAEH,KAAK,CAAC,WAAW,CAAC,EAAU;QACxB,MAAM,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,sBAAsB,EAAE,IAAI,CAAC,CAAC;QACrE,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;QAC/B,OAAO,CAAC,gBAAgB,CAAC,cAAc,EAAE,GAAG,EAAE;YAC1C,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,KAAK,EAAE,EAAE,CAAC,KAAK,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC;QACjE,CAAC,CAAC,CAAC;IACP,CAAC;IAED;;;;OAIG;IACK,QAAQ,CAAC,KAAY;QACzB,IAAI,KAAK,CAAC,WAAW,EAAE,CAAC;YACpB,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;QAC/B,CAAC;IACL,CAAC;IAED;;;;OAIG;IACK,gBAAgB,CAAC,KAAY;QACjC,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;IAC/B,CAAC;IAEO,QAAQ,CAAC,KAAY;QACzB,OAAO,YAAY,KAAK,CAAC,WAAW,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,eAAe,EAAE,CAAC;IAClE,CAAC;IAED;;;OAGG;IACH,MAAM;QACF,OAAO,CACH,4DAAK,KAAK,EAAE,cAAc,IAAI,CAAC,QAAQ,EAAE,IACpC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,KAAK,EAAE,EAAE,CAAC,CACxB,WACI,KAAK,EAAE,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,EAC3B,GAAG,EAAE,KAAK,CAAC,EAAE,aACJ,KAAK,CAAC,EAAE,EACjB,OAAO,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC;YAEnC,kBACI,IAAI,EAAE,KAAK,CAAC,IAAI,EAChB,aAAa,EAAE,KAAK,CAAC,KAAK,EAC1B,OAAO,EAAE,KAAK,CAAC,OAAO,IAErB,KAAK,CAAC,WAAW,IAAI,CAClB,iBACI,IAAI,EAAC,SAAS,EACd,IAAI,EAAC,eAAe,EACpB,IAAI,EAAC,IAAI,EACT,IAAI,EAAC,OAAO,EACZ,OAAO,EAAE,CAAC,KAAK,EAAE,EAAE;oBACf,KAAK,CAAC,eAAe,EAAE,CAAC;oBACxB,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;gBACjC,CAAC,GACQ,CAChB,CACQ,CACX,CACT,CAAC,CACA,CACT,CAAC;IACN,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CACJ","sourcesContent":["import { Component, h, Method, Prop, State } from '@stencil/core';\nimport { Toast, ToastPosition } from '../../types/toast';\n\n/**\n * @category Overlays\n * @description A toaster component for displaying messages to users. Supports toast types, positions, timeout and dismissible.\n */\n@Component({\n    tag: 'at-toaster',\n    styleUrl: 'at-toaster.scss',\n    scoped: true,\n})\nexport class AtToasterComponent {\n    /**\n     * Position of the toaster on the screen\n     */\n    @Prop() position: ToastPosition;\n\n    @State() toasts: Toast[] = [];\n    /**\n     * Adds a new toast to the toaster container\n     * This method is called from the ToasterUtil when a new toast is created.\n     *\n     * @param toast The toast to add\n     */\n    @Method()\n    async addToast(toast: Toast): Promise<void> {\n        this.toasts = [...this.toasts, toast];\n        if (toast.dismissible && toast.timeout > 0) {\n            setTimeout(() => this.removeToast(toast.id), toast.timeout);\n        }\n    }\n\n    /**\n     * Removes a toast from the toaster container by its ID\n     * This method is called by tapToast.\n     *\n     * @param id The ID of the toast to remove\n     */\n    @Method()\n    async removeToast(id: number): Promise<void> {\n        const toastEl = document.querySelector(`.at-toast[data-id=\"${id}\"]`);\n        toastEl.classList.add('close');\n        toastEl.addEventListener('animationend', () => {\n            this.toasts = this.toasts.filter((toast) => toast.id !== id);\n        });\n    }\n\n    /**\n     * Removes a toast from the toaster container by tapping the toast\n     *\n     * @param toast The toast that was tapped\n     */\n    private tapToast(toast: Toast): void {\n        if (toast.dismissible) {\n            this.removeToast(toast.id);\n        }\n    }\n\n    /**\n     * Removes a toast from the toaster container by clicking the close button\n     *\n     * @param toast The toast to remove\n     */\n    private clickCloseButton(toast: Toast): void {\n        this.removeToast(toast.id);\n    }\n\n    private classSet(toast: Toast): string {\n        return `at-toast ${toast.dismissible ? '' : 'undismissible'}`;\n    }\n\n    /**\n     * Renders the toaster container and all active toasts.\n     * Each toast is wrapped with <at-message> for UI presentation.\n     */\n    render() {\n        return (\n            <div class={`at-toaster ${this.position}`}>\n                {this.toasts.map((toast) => (\n                    <div\n                        class={this.classSet(toast)}\n                        key={toast.id}\n                        data-id={toast.id}\n                        onClick={() => this.tapToast(toast)}\n                    >\n                        <at-message\n                            type={toast.type}\n                            message_title={toast.title}\n                            content={toast.message}\n                        >\n                            {toast.closeButton && (\n                                <at-button\n                                    slot=\"actions\"\n                                    type=\"secondaryText\"\n                                    size=\"sm\"\n                                    icon=\"close\"\n                                    onClick={(event) => {\n                                        event.stopPropagation();\n                                        this.clickCloseButton(toast);\n                                    }}\n                                ></at-button>\n                            )}\n                        </at-message>\n                    </div>\n                ))}\n            </div>\n        );\n    }\n}\n"]}