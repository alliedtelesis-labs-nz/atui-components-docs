{"version":3,"file":"at-button.js","sourceRoot":"","sources":["../../../src/components/at-button/at-button.tsx"],"names":[],"mappings":"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","sourcesContent":["import {\n    Component,\n    Host,\n    Prop,\n    h,\n    Element,\n    EventEmitter,\n    Event,\n} from '@stencil/core';\nimport { LoadingType } from '../at-loading/at-loading';\nimport { classlist } from '../../utils/classlist';\nimport { AtEvent } from '../../types/events';\n\nexport type ButtonType =\n    | 'primary'\n    | 'primaryOutline'\n    | 'primaryText'\n    | 'secondary'\n    | 'secondaryOutline'\n    | 'secondaryText'\n    | 'destructive'\n    | 'destructiveOutline'\n    | 'destructiveText';\n\nexport type ButtonSize = 'sm' | 'md' | 'lg';\n\nconst buttonVariantsConfig = {\n    variants: {\n        disabled: {\n            false: null,\n            true: 'pointer-events-none opacity-30 grayscale-[1]',\n        },\n        size: {\n            sm: 'py-4',\n            md: 'py-[6px]',\n            lg: 'py-8',\n        },\n        type: {\n            primary:\n                'bg-active-foreground text-impact focus-visible:ring-active-foreground/30 group-hover:bg-active-foreground/90 group-focus:bg-active-foreground/80 focus-visible:ring-2',\n            primaryOutline:\n                'border-primary-foreground text-active-foreground focus-visible:ring-active-foreground/30 group-hover:bg-active-foreground/10 group-focus:bg-active-foreground/20 border border-solid bg-transparent focus-visible:ring-2',\n            primaryText:\n                'text-active-foreground focus-visible:ring-active-foreground/30 group-hover:bg-active-foreground/10 group-focus:bg-active-foreground/20 bg-transparent focus-visible:ring-2',\n            secondary:\n                'text-impact focus-visible:ring-active-foreground/30 bg-secondary group-hover:bg-slate-700 group-focus:bg-slate-800 focus-visible:ring-2',\n            secondaryOutline:\n                'border-dark text-foreground focus-visible:ring-active-foreground/30 border border-solid bg-transparent group-hover:bg-slate-100 group-focus:bg-slate-200 focus-visible:ring-2',\n            secondaryText:\n                'text-foreground focus-visible:ring-active-foreground/30 bg-transparent group-hover:bg-slate-100 group-focus:bg-slate-200 focus-visible:ring-2',\n            destructive:\n                'bg-destructive-foreground text-impact focus-visible:ring-active-foreground/30 group-hover:bg-destructive-foreground/90 group-focus:bg-destructive-foreground/80 focus-visible:ring-2',\n            destructiveOutline:\n                'border-destructive-foreground text-destructive-foreground focus-visible:ring-destructive-foreground/30 group-hover:bg-destructive-foreground/10 group-focus:bg-destructive-foreground/20 border border-solid bg-transparent focus-visible:ring-2',\n            destructiveText:\n                'text-destructive-foreground focus-visible:ring-destructive-foreground/30 group-hover:bg-destructive-foreground/10 group-focus:bg-destructive-foreground/20 bg-transparent focus-visible:ring-2',\n        },\n        hasLabel: {\n            true: null,\n            false: null,\n        },\n    },\n    compoundVariants: [\n        {\n            size: 'sm',\n            hasLabel: false,\n            class: 'px-4',\n        },\n        {\n            size: 'sm',\n            hasLabel: true,\n            class: 'px-8',\n        },\n        {\n            size: 'md',\n            hasLabel: false,\n            class: 'px-[6px]',\n        },\n        {\n            size: 'md',\n            hasLabel: true,\n            class: 'px-8',\n        },\n        {\n            size: 'lg',\n            hasLabel: false,\n            class: 'px-8',\n        },\n        {\n            size: 'lg',\n            hasLabel: true,\n            class: 'px-[12px]',\n        },\n    ],\n    defaultVariants: {\n        size: 'lg',\n        type: 'primary',\n        hasLabel: true,\n        disabled: false,\n    },\n};\n\nconst focusIndicatorVariantsConfig = {\n    variants: {\n        type: {\n            primary: 'group-hover:bg-blue-900/30 group-active:bg-blue-900/70',\n            primaryOutline:\n                'group-hover:bg-active-foreground/10 group-active:bg-active-foreground/20',\n            primaryText:\n                'group-hover:bg-active-foreground/10 group-active:bg-active-foreground/20',\n            secondary:\n                'group-hover:bg-slate-900/10 group-active:bg-slate-900/20',\n            secondaryOutline:\n                'group-hover:bg-slate-500/10 group-active:bg-slate-500/20',\n            secondaryText:\n                'group-hover:bg-slate-500/10 group-active:bg-slate-500/20',\n            destructive: 'group-hover:bg-red-900/30 group-active:bg-red-900/70',\n            destructiveOutline:\n                'group-hover:bg-destructive-foreground/10 group-active:bg-destructive-foreground/20',\n            destructiveText:\n                'group-hover:bg-destructive-foreground/10 group-active:bg-destructive-foreground/20',\n        },\n    },\n};\n\n// Note: iconVariantsConfig was unused; removed to satisfy TS noUnusedLocals\n\nconst spinnerColourPerType = {\n    primary: 'default' as LoadingType,\n    primaryOutline: 'secondary' as LoadingType,\n    primaryText: 'secondary' as LoadingType,\n    secondary: 'secondary' as LoadingType,\n    secondaryOutline: 'secondary' as LoadingType,\n    secondaryText: 'secondary' as LoadingType,\n    destructive: 'default' as LoadingType,\n    destructiveOutline: 'error' as LoadingType,\n    destructiveText: 'error' as LoadingType,\n};\n\n/**\n * @category Actions\n * @description A versatile button component for user interactions with multiple styling variants, sizes, and loading states. Supports icons, custom content through slots, and accessibility features.\n *\n * @slot - Placed after the label, but before the icon_right. Can be used as a replacement for the label prop.\n */\n@Component({\n    tag: 'at-button',\n    shadow: false,\n})\nexport class AtButtonComponent {\n    /**\n     * If set, will request submit from the closest form element when clicked\n     */\n    @Prop()\n    submit: boolean = false;\n\n    /**\n     * Theme of the button. Default primary\n     */\n    @Prop()\n    type: ButtonType = 'primary';\n\n    /**\n     * Size of the button\n     */\n    @Prop()\n    size: ButtonSize = 'lg';\n\n    /**\n     * Label to be displayed within the button\n     */\n    @Prop()\n    label: string;\n\n    /**\n     * When set the button's styling will change and will no longer be interactive\n     */\n    @Prop()\n    disabled: boolean = false;\n\n    /**\n     * Material icon to be displayed before the label within the button\n     */\n    @Prop()\n    icon?: string;\n\n    /**\n     * Material icon to be displayed after the label within the button\n     */\n    @Prop()\n    icon_after?: string;\n\n    /**\n     * When set, will display a loading spinner inside the button and hide all labels & icons\n     */\n    @Prop()\n    in_progress = false;\n\n    /**\n     * Delay period on spinner\n     */\n    @Prop()\n    spinner_delay_ms = 1000;\n\n    @Element()\n    el: HTMLAtButtonElement;\n\n    /**\n     * Emits when the button is clicked\n     */\n    @Event()\n    atuiClick: EventEmitter<AtEvent>;\n\n    canHideSpinner = true;\n\n    get spinnerColour(): LoadingType {\n        return spinnerColourPerType[this.type];\n    }\n\n    private hideSpinnerIfAfterMinimumDisplayPeriod(): void {\n        if (this.in_progress && this.canHideSpinner) {\n            this.in_progress = false;\n        }\n    }\n\n    private setSpinner(): void {\n        if (this.in_progress) {\n            this.canHideSpinner = false;\n            setTimeout(() => {\n                this.canHideSpinner = true;\n                this.hideSpinnerIfAfterMinimumDisplayPeriod();\n            }, this.spinner_delay_ms);\n        } else {\n            this.hideSpinnerIfAfterMinimumDisplayPeriod();\n        }\n    }\n\n    handleClick(event: Event): void {\n        if (this.disabled) {\n            return;\n        }\n\n        this.atuiClick.emit({\n            originalEvent: event,\n            componentType: 'at-button',\n        });\n        if (this.submit) {\n            this.el.closest('form').requestSubmit();\n        }\n    }\n\n    handleKeyDown(event: KeyboardEvent): void {\n        if (this.disabled) {\n            return;\n        }\n\n        if (event.key === ' ' || event.key === 'Enter') {\n            event.preventDefault();\n            this.atuiClick.emit({\n                originalEvent: event,\n                componentType: 'at-button',\n                element: this.el as unknown as HTMLElement,\n            });\n            if (this.submit) {\n                this.el.closest('form').requestSubmit();\n            }\n        }\n    }\n\n    componentWillUpdate(): void {\n        this.setSpinner();\n    }\n\n    render() {\n        const classname = classlist(\n            'group text-button relative box-border flex inline-flex cursor-pointer items-center justify-center gap-4 overflow-hidden rounded-[0.3rem] font-medium whitespace-nowrap capitalize duration-150 ease-in-out outline-none focus:outline-none',\n            buttonVariantsConfig,\n        )({\n            disabled: this.disabled,\n            size: this.size,\n            type: this.type,\n            hasLabel: !!this.label,\n        });\n        const focusIndicatorClassname = classlist(\n            'pointer-events-none absolute top-0 left-0 z-10 h-full w-full transition-colors duration-300 ease-in-out',\n            focusIndicatorVariantsConfig,\n        )({\n            type: this.type,\n        });\n\n        return (\n            <Host\n                class={classname}\n                role=\"button\"\n                tabIndex={0}\n                onKeyDown={(event) => this.handleKeyDown(event)}\n                onClick={(event) => this.handleClick(event)}\n            >\n                <div class=\"z-20 flex h-full w-full items-center justify-center gap-4\">\n                    {this.in_progress && (\n                        <at-loading\n                            class=\"absolute\"\n                            size=\"sm\"\n                            type={this.spinnerColour}\n                        />\n                    )}\n\n                    <slot name=\"icon\" />\n                    {this.icon && (\n                        <span\n                            class={`material-icons h-16 w-16 text-[16px] leading-[16px] ${this.in_progress ? 'invisible' : 'visible'}`}\n                            data-name=\"button-icon\"\n                        >\n                            {this.icon}\n                        </span>\n                    )}\n\n                    {this.label && (\n                        <span\n                            class={`leading-[16px] ${this.in_progress ? 'invisible' : 'visible'}`}\n                            data-name=\"button-label\"\n                        >\n                            {this.label}\n                        </span>\n                    )}\n                    <slot />\n\n                    <slot name=\"icon_after\" />\n                    {this.icon_after && (\n                        <span\n                            class={`material-icons h-16 w-16 text-[16px] leading-[16px] ${this.in_progress ? 'invisible w-0' : 'visible'}`}\n                            data-name=\"button-icon-right\"\n                        >\n                            {this.icon_after}\n                        </span>\n                    )}\n                </div>\n\n                <div\n                    data-name=\"focus-indicator\"\n                    role=\"presentation\"\n                    class={focusIndicatorClassname}\n                ></div>\n            </Host>\n        );\n    }\n}\n"]}