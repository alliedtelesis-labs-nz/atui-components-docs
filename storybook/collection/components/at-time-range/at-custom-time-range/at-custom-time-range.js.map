{"version":3,"file":"at-custom-time-range.js","sourceRoot":"","sources":["../../../../src/components/at-time-range/at-custom-time-range/at-custom-time-range.tsx"],"names":[],"mappings":"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","sourcesContent":["import {\n    Component,\n    h,\n    Prop,\n    State,\n    Element,\n    Watch,\n    EventEmitter,\n    Event,\n} from '@stencil/core';\nimport {\n    DateFormat,\n    DateRangeStrings,\n    Duration,\n    MIN_DATE,\n} from '../../../types';\nimport { TimeDateUtil } from '../../../utils/time-date.util';\nimport { fetchTranslations } from '../../../utils/translation';\nimport { TimeDatePresentationUtil } from '../../../utils/time-date-presentation.util';\nimport moment from 'moment';\nimport { SelectOption } from '../../../types/select';\n\n@Component({\n    tag: 'at-custom-time-range',\n    shadow: false,\n})\nexport class AtCustomTimeRangeComponent {\n    /**\n     * Whether time selection is enabled in addition to date selection\n     */\n    @Prop()\n    can_set_time: boolean = true;\n\n    /**\n     * Minimum number of seconds for the time range\n     */\n    @Prop()\n    min_seconds: number = 60;\n\n    /**\n     * Minimum selectable date\n     */\n    @Prop({ mutable: true }) min_date: Date = MIN_DATE;\n    @Watch('min_date')\n    validateMinDate(newValue: Date, oldValue: Date) {\n        if (newValue && oldValue && newValue.getTime() === oldValue.getTime())\n            return;\n        this.min_date = this.floorMinDate(newValue);\n    }\n\n    /**\n     * Maximum selectable date\n     */\n    @Prop({ mutable: true }) max_date: Date = new Date(Date.now());\n    @Watch('max_date')\n    validateMaxDate(newValue: Date, oldValue: Date) {\n        if (newValue && oldValue && newValue.getTime() === oldValue.getTime())\n            return;\n        this.max_date = this.ceilingMaxDate(newValue);\n    }\n\n    /**\n     * Default value for the from date\n     */\n    @Prop({ mutable: true }) default_from_date: Date;\n    @Watch('default_from_date')\n    validateDefaultFromDate(newValue: Date, oldValue: Date) {\n        if (newValue && oldValue && newValue.getTime() === oldValue.getTime())\n            return;\n        this.default_from_date = this.floorMinDate(newValue);\n        this.from_date_value = this.default_from_date;\n    }\n\n    /**\n     * Default value for the to date\n     */\n    @Prop({ mutable: true }) default_to_date: Date;\n    @Watch('default_to_date')\n    validateDefaultToDate(newValue: Date | null, oldValue: Date | null) {\n        if (newValue && oldValue && newValue.getTime() === oldValue.getTime())\n            return;\n        this.default_to_date = this.ceilingMaxDate(newValue);\n        this.to_date_value = this.default_to_date\n            ? this.default_to_date\n            : this.max_date;\n    }\n\n    /**\n     * Current value of the from date\n     */\n    @Prop({ mutable: true }) from_date_value: Date;\n    @Watch('from_date_value')\n    validateFromDateValue(newValue: Date | null, oldValue: Date | null) {\n        if (newValue && oldValue && newValue.getTime() === oldValue.getTime())\n            return;\n        if (this.from_date_value === undefined)\n            this.from_date_value = new Date();\n        if (\n            this.from_date_value.toISOString() !==\n            this.floorMinDate(newValue).toISOString()\n        ) {\n            this.from_date_value = newValue && this.floorMinDate(newValue);\n        }\n        this.setFromDateAndTime(this.from_date_value);\n        this.updateMinMaxFlags();\n    }\n\n    /**\n     * Current value of the to date\n     */\n    @Prop({ mutable: true }) to_date_value: Date;\n    @Watch('to_date_value')\n    validateToDateValue(newValue: Date | null, oldValue: Date | null) {\n        if (newValue && oldValue && newValue.getTime() === oldValue.getTime())\n            return;\n\n        if (this.to_date_value === undefined) this.to_date_value = new Date();\n        if (\n            this.to_date_value.toISOString() !==\n            this.ceilingMaxDate(newValue).toISOString()\n        ) {\n            this.to_date_value = newValue && this.ceilingMaxDate(newValue);\n        }\n        this.setToDateAndTime(this.to_date_value);\n        this.updateMinMaxFlags();\n    }\n\n    /**\n     * Whether to lock the end date to the current time\n     */\n    @Prop({ mutable: true }) lock_end_date_to_now = false;\n\n    @State() isFromMinDay = true;\n    @State() isToMaxDay = true;\n    @State() isFromMaxDay = false;\n    @State() isToMinDay = false;\n    @State() toDate: string;\n    @State() toTime: string;\n    @State() fromDate: string;\n    @State() fromTime: string;\n    @State() translations: any;\n    @State() setDateNowSwitch: HTMLAtToggleSwitchElement;\n    @State() toTimePickerEl: HTMLAtSelectElement;\n    @Element() el;\n\n    async componentWillLoad() {\n        this.translations = await fetchTranslations(this.el);\n    }\n\n    componentWillRender() {\n        if (!this.fromDate && !this.fromTime) {\n            this.from_date_value = this.default_from_date\n                ? this.default_from_date\n                : this.min_date;\n        }\n        if (!this.toDate && !this.toTime) {\n            this.to_date_value = this.default_to_date\n                ? this.default_to_date\n                : this.max_date;\n        }\n    }\n\n    clearSelection(): void {\n        this.from_date_value = this.default_from_date\n            ? this.default_from_date\n            : this.min_date;\n        this.to_date_value = this.default_to_date\n            ? this.default_to_date\n            : this.max_date;\n    }\n\n    private ceilingMaxDate(date: Date): Date {\n        return TimeDateUtil.ceilingDateByTimeUnit(date, Duration.HOURS);\n    }\n\n    private floorMinDate(date: Date): Date {\n        return TimeDateUtil.floorDateByTimeUnit(date, Duration.HOURS);\n    }\n\n    private getCustomToDateTime(): Date {\n        return TimeDatePresentationUtil.buildDateFromStrings(\n            this.toDate,\n            this.toTime,\n        );\n    }\n\n    private getCustomFromDateTime(): Date {\n        return TimeDatePresentationUtil.buildDateFromStrings(\n            this.fromDate,\n            this.fromTime,\n        );\n    }\n\n    private updateMinMaxFlags(): void {\n        const to = this.getCustomToDateTime();\n        this.isToMinDay = TimeDateUtil.isSameDateByUnit(\n            to,\n            this.min_date,\n            Duration.DAYS,\n        );\n        this.isToMaxDay = TimeDateUtil.isSameDateByUnit(\n            to,\n            this.max_date,\n            Duration.DAYS,\n        );\n\n        const from = this.getCustomFromDateTime();\n        this.isFromMinDay = TimeDateUtil.isSameDateByUnit(\n            from,\n            this.min_date,\n            Duration.DAYS,\n        );\n        this.isFromMaxDay = TimeDateUtil.isSameDateByUnit(\n            from,\n            this.max_date,\n            Duration.DAYS,\n        );\n    }\n\n    protected setDateNow(): void {\n        const toggleValue = this.setDateNowSwitch.value;\n        if (toggleValue) {\n            this.lock_end_date_to_now = true;\n            const date = this.ceilingMaxDate(new Date(Date.now()));\n            this.to_date_value = date;\n        } else {\n            this.lock_end_date_to_now = false;\n        }\n    }\n\n    private setToDateAndTime(toDate: Date) {\n        this.toDate = TimeDatePresentationUtil.getFormattedDate(\n            toDate,\n            'YYYY-MM-DD' as DateFormat,\n        );\n        this.toTime = TimeDatePresentationUtil.getFormattedDate(\n            toDate,\n            'hh:mm a' as DateFormat,\n        );\n    }\n\n    private setFromDateAndTime(fromDate: Date) {\n        this.fromDate = TimeDatePresentationUtil.getFormattedDate(\n            fromDate,\n            'YYYY-MM-DD' as DateFormat,\n        );\n        this.fromTime = TimeDatePresentationUtil.getFormattedDate(\n            fromDate,\n            'hh:mm a' as DateFormat,\n        );\n    }\n\n    get getFromTimes() {\n        this.updateMinMaxFlags();\n\n        if (this.isFromMinDay) {\n            return TimeDatePresentationUtil.getTimeOptions(\n                TimeDatePresentationUtil.getFormattedDate(\n                    this.min_date,\n                    DateFormat.HOURS_ONLY,\n                ),\n            );\n        } else if (this.isFromMaxDay) {\n            const fromMaxTime = TimeDatePresentationUtil.getFormattedDate(\n                TimeDateUtil.shiftDateByUnit(this.max_date, -1, Duration.HOURS),\n                DateFormat.HOURS_ONLY,\n            );\n            return TimeDatePresentationUtil.getTimeOptions(\n                undefined,\n                fromMaxTime,\n            );\n        } else {\n            return TimeDatePresentationUtil.getTimeOptions();\n        }\n    }\n\n    get getToTimes(): SelectOption[] {\n        this.updateMinMaxFlags();\n\n        if (this.isToMinDay) {\n            const toMaxTime = TimeDatePresentationUtil.getFormattedDate(\n                TimeDateUtil.shiftDateByUnit(this.min_date, 1, Duration.HOURS),\n                DateFormat.HOURS_ONLY,\n            );\n            return TimeDatePresentationUtil.getTimeOptions(toMaxTime);\n        } else if (this.isToMaxDay) {\n            return TimeDatePresentationUtil.getTimeOptions(\n                undefined,\n                TimeDatePresentationUtil.getFormattedDate(\n                    this.max_date,\n                    DateFormat.HOURS_ONLY,\n                ),\n            );\n        } else {\n            return TimeDatePresentationUtil.getTimeOptions();\n        }\n    }\n\n    /**\n     * Emitted when the user cancels the time range selection\n     */\n    @Event() atuiCancel: EventEmitter<null>;\n    /**\n     * Emitted when the user submits the time range selection\n     */\n    @Event() atuiSubmit: EventEmitter<DateRangeStrings>;\n\n    handleCancel(): void {\n        this.atuiCancel.emit();\n    }\n\n    handleSubmit() {\n        if (moment(this.from_date_value).isBefore(moment(this.to_date_value))) {\n            this.atuiSubmit.emit({\n                from: TimeDatePresentationUtil.buildDateFromStrings(\n                    this.fromDate,\n                    this.fromTime,\n                ).toISOString(),\n                to: TimeDatePresentationUtil.buildDateFromStrings(\n                    this.toDate,\n                    this.toTime,\n                ).toISOString(),\n                lockEndDateToNow: this.lock_end_date_to_now,\n            });\n        }\n    }\n\n    render() {\n        return (\n            <div class=\"flex w-fit flex-col gap-8 border border-gray-300\">\n                <h5 class=\"text-h5 text-dark p-12 font-medium\">\n                    {this.translations.ATUI.TIME.SELECT_ABSOLUTE_TIME}\n                </h5>\n                <div class=\"flex flex-row gap-16 px-12\">\n                    <div class=\"flex-fill flex flex-col gap-8\">\n                        <at-datepicker\n                            label={this.translations.ATUI.TIME.FROM_DATE}\n                            value={this.from_date_value}\n                            min_date={this.min_date}\n                            max_date={this.max_date}\n                            onAtuiChange={(event) => {\n                                this.from_date_value = event.detail;\n                            }}\n                        />\n                        {this.can_set_time && (\n                            <div>\n                                <label>\n                                    {this.translations.ATUI.TIME.FROM_TIME}\n                                </label>\n                                <div>\n                                    <at-select\n                                        options={this.getFromTimes}\n                                        value={this.fromTime}\n                                        onAtuiChange={(event) => {\n                                            this.from_date_value =\n                                                TimeDatePresentationUtil.buildDateFromStrings(\n                                                    this.fromDate,\n                                                    event.detail,\n                                                );\n                                        }}\n                                    ></at-select>\n                                </div>\n                            </div>\n                        )}\n                    </div>\n                    <div class=\"flex-fill flex flex-col gap-8\">\n                        <at-datepicker\n                            label={this.translations.ATUI.TIME.TO_DATE}\n                            value={this.to_date_value}\n                            min_date={this.min_date}\n                            max_date={this.max_date}\n                            onAtuiChange={(event) => {\n                                this.to_date_value = event.detail;\n                            }}\n                        />\n                        {this.can_set_time && (\n                            <div>\n                                <label>\n                                    {this.translations.ATUI.TIME.TO_TIME}\n                                </label>\n                                <div>\n                                    <at-select\n                                        options={this.getToTimes}\n                                        value={this.toTime}\n                                        disabled={this.lock_end_date_to_now}\n                                        ref={(el) => (this.toTimePickerEl = el)}\n                                        onAtuiChange={(event) => {\n                                            this.to_date_value =\n                                                TimeDatePresentationUtil.buildDateFromStrings(\n                                                    this.toDate,\n                                                    event.detail,\n                                                );\n                                        }}\n                                    ></at-select>\n                                </div>\n                            </div>\n                        )}\n                    </div>\n                </div>\n                <div class=\"align-center my-8 flex flex-row justify-between gap-8 rounded-md px-12\">\n                    <div class=\"flex flex-col\">\n                        <label class=\"c-form__label\">\n                            {\n                                this.translations.ATUI.TIME\n                                    .SET_END_DATE_AND_TIME_TO_NOW\n                            }\n                        </label>\n                        <span class=\"text-med text-xs\">\n                            {\n                                this.translations.ATUI.TIME\n                                    .SET_END_DATE_AND_TIME_TO_NOW_DESCRIPTION\n                            }\n                        </span>\n                    </div>\n                    <at-toggle-switch\n                        value={this.lock_end_date_to_now}\n                        onChange={() => this.setDateNow()}\n                        ref={(el) => (this.setDateNowSwitch = el)}\n                    ></at-toggle-switch>\n                </div>\n                <div class=\"flex flex-row justify-between p-8\">\n                    <at-button\n                        type=\"secondaryOutline\"\n                        data-name=\"custom-time-range-clear\"\n                        label={this.translations.ATUI.CLEAR_SELECTION}\n                        onClick={() => this.clearSelection()}\n                    ></at-button>\n                    <div class=\"flex flex-row gap-8\">\n                        <at-button\n                            type=\"secondaryOutline\"\n                            data-name=\"custom-time-range-cancel\"\n                            label={this.translations.ATUI.CANCEL}\n                            onClick={() => this.handleCancel()}\n                        ></at-button>\n                        <at-button\n                            data-name=\"custom-time-range-apply\"\n                            label={this.translations.ATUI.APPLY}\n                            onClick={() => this.handleSubmit()}\n                        ></at-button>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n"]}