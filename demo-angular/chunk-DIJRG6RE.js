var s='button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])';function f(e){return Array.from(e.querySelectorAll(s))}function u(e,n){if(e.length===0)return;let t=Math.max(0,Math.min(n,e.length-1));e[t].focus()}function a(e){return e.indexOf(document.activeElement)}function i(e,n){if(e.key!=="ArrowDown"&&e.key!=="ArrowUp"&&e.key!=="ArrowLeft"&&e.key!=="ArrowRight")return;e.preventDefault();let t=f(n);if(t.length===0)return;let r=a(t),o=0;e.key==="ArrowDown"||e.key==="ArrowRight"?o=r<0||r>=t.length-1?0:r+1:(e.key==="ArrowUp"||e.key==="ArrowLeft")&&(o=r<=0?t.length-1:r-1),u(t,o)}function d(e,n){if(e.key!=="Home"&&e.key!=="End")return;e.preventDefault();let t=f(n);t.length!==0&&(e.key==="Home"?u(t,0):u(t,t.length-1))}function h(e,n){if(e.key!=="Tab")return;let t=f(n);if(t.length===0)return;let r=t[0],o=t[t.length-1];if(e.preventDefault(),e.shiftKey)if(document.activeElement===r)o.focus();else{let c=a(t),l=c>0?c-1:t.length-1;u(t,l)}else if(document.activeElement===o)r.focus();else{let c=a(t),l=c<t.length-1?c+1:0;u(t,l)}}function m(e){return n=>{let{container:t,onEscape:r,onEnter:o,onSpace:c}=e;if(n.key==="Escape"&&r){n.preventDefault(),r();return}if(n.key==="Enter"&&o){n.preventDefault(),o(n.target);return}if(n.key===" "&&c){n.preventDefault(),c(n.target);return}if(n.key==="Tab"){h(n,t);return}i(n,t),d(n,t)}}function E(e,n=50){setTimeout(()=>{let t=f(e);t.length>0&&t[0].focus()},n)}export{i as a,d as b,m as c,E as d};
