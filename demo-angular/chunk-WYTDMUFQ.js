import{a as s,b as t,c as o,d as r,e as l}from"./chunk-CP7M2NO3.js";import{i as n}from"./chunk-7EPSDV5K.js";var d=class{constructor(e){s(this,e),this.atuiChange=l(this,"atuiChange",7),this.tabs=[],this.layout="horizontal",this.hide_nav=!1,this.tabsetId=`tabset-${Math.random().toString(36).substring(2,11)}`}componentDidLoad(){this.updateIndicatorPosition()}componentDidUpdate(){this.updateIndicatorPosition()}handleActiveTabChange(e){let a=this.tabs.find(i=>i.id===e);a&&(this.atuiChange.emit(a.id),requestAnimationFrame(()=>{this.updateIndicatorPosition()}))}get indicatorRef(){return this.el.querySelector(`#indicator-${this.tabsetId}`)}get containerRef(){return this.el.querySelector(`#container-${this.tabsetId}`)}handleTabChange(e){this.active_tab=e}getActiveTab(){return n(this,null,function*(){return this.active_tab})}setActiveTab(e){return n(this,null,function*(){this.active_tab=e})}get tabOptions(){if(this.tabs)return this.tabs.map(e=>t("atui-tab",{tab_id:e.id,tab_title:e.title,layout:this.layout,is_active:this.active_tab===e.id,onClick:()=>this.handleTabChange(e.id)}))}updateIndicatorPosition(){if(!this.indicatorRef||!this.containerRef)return;let e=this.el.querySelector('atui-tab[data-active="true"]');if(e){let a=this.containerRef.getBoundingClientRect(),i=e.getBoundingClientRect();this.indicatorRef.style.width=`${i.width-16}px`,this.indicatorRef.style.left=`${i.left-a.left}px`,this.indicatorRef.style.opacity="1"}}checkLayoutAndRender(){if(this.layout==="horizontal")return t("atui-layout",{class:"flex flex-grow",template:"tabset","data-name":"navigation-top"},!this.hide_nav&&t("div",{slot:"tabset-navigation"},t("nav",{role:"tablist",class:"relative flex flex-wrap border-b border-gray-200 text-center text-sm font-medium",id:`container-${this.tabsetId}`},this.tabOptions,t("slot",{name:"tab-nav"}),t("div",{id:`indicator-${this.tabsetId}`,class:"pointer-events-none absolute bottom-0 z-10 mx-8 h-2 rounded-sm bg-active-foreground transition-[left] duration-150 ease-in-out",style:{left:"0",opacity:"0"},"aria-hidden":"true",role:"presentation"}))),t("div",{role:"tabpanel",slot:"tabset-content"},t("slot",null)));if(this.layout==="vertical")return t("atui-layout",{class:"flex flex-grow",template:"master-detail","data-name":"navigation-left"},t("div",{slot:"master"},t("nav",{role:"tablist",class:"flex flex-grow flex-col pr-16"},this.tabOptions,t("slot",{name:"tab-nav"}))),t("div",{role:"tabpanel",slot:"detail",class:"flex flex-grow flex-col"},t("slot",null)))}render(){return t(o,{key:"77cdcb5ebd2c1cb3b919b5c01ac7d950682ed131"},this.checkLayoutAndRender())}get el(){return r(this)}static get watchers(){return{active_tab:["handleActiveTabChange"]}}};export{d as atui_tab_selector};
