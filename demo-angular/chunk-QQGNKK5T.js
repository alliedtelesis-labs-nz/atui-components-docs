import{a,b as i,e as o}from"./chunk-CP7M2NO3.js";import"./chunk-7EPSDV5K.js";var f=class{constructor(t){a(this,t),this.atuiClick=o(this,"atuiClick",7),this.size="sm",this.flattenedItemList=[],this.flattenedItemStyles=[],this.handleClick=l=>{let n=null,c=d=>{let h=[];return d.forEach(e=>{let s=Object.assign({},e);e.id===l&&(s.selected=!s.selected,n=s),e.children&&(s.children=c(e.children)),h.push(s)}),h};this.item_list=c(this.item_list),this.flattenItemList(this.item_list),n&&this.atuiClick.emit(n)},this.flattenItemList=l=>{let n=[],c=(d,h)=>{d.forEach(e=>{let s=Object.assign(Object.assign({},e),{depth:h});n.push(s),e.selected&&e.children&&e.children.length&&c(e.children,h+1)})};c(l,0),this.flattenedItemList=n}}componentWillRender(){this.item_list&&this.item_list.length&&this.flattenItemList(this.item_list)}render(){return i("div",{key:"f1fcf983c0e5a3ecc0dd421c99ebd6763fe7eefe",class:"w-full"},i("slot",{key:"64a66447ecb1b3893676ed3a8c9a4ee7550d9699"}),this.flattenedItemList&&this.flattenedItemList.map((t,l)=>i("div",{key:l,class:"flex w-full"},t.tooltip!==void 0?i("atui-tooltip",{position:"right",class:"flex flex-grow items-start"},i("atui-tree-item",{class:"flex-grow",depth:t.depth,slot:"tooltip-trigger",onAtuiClick:()=>this.handleClick(t.id),key:t.id,label:t.displayName,size:this.size,has_children:t.children&&t.children.length>0,selected:t.selected},i("slot",{name:"item-content"})),i("span",{slot:"tooltip-content"},t.tooltip)):i("atui-tree-item",{depth:t.depth,style:{paddingLeft:this.flattenedItemStyles[l]+"px"},onAtuiClick:()=>this.handleClick(t.id),has_children:t.children&&t.children.length>0,key:t.id,label:t.displayName,size:this.size},i("slot",{name:"item-content"})))))}};export{f as atui_tree};
