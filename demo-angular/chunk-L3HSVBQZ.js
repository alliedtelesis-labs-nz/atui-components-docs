import{a as d,b as i,e as o}from"./chunk-BSEK3QHZ.js";import"./chunk-B7O3QC5Z.js";var f=class{constructor(t){d(this,t),this.atuiClick=o(this,"atuiClick",7),this.size="sm",this.flattenedItemList=[],this.flattenedItemStyles=[],this.handleClick=l=>{let n=null,h=a=>{let c=[];return a.forEach(e=>{let s=Object.assign({},e);e.id===l&&(s.selected=!s.selected,n=s),e.children&&(s.children=h(e.children)),c.push(s)}),c};this.item_list=h(this.item_list),this.flattenItemList(this.item_list),n&&this.atuiClick.emit(n)},this.flattenItemList=l=>{let n=[],h=(a,c)=>{a.forEach(e=>{let s=Object.assign(Object.assign({},e),{depth:c});n.push(s),e.selected&&e.children&&e.children.length&&h(e.children,c+1)})};h(l,0),this.flattenedItemList=n}}componentWillRender(){this.item_list&&this.item_list.length&&this.flattenItemList(this.item_list)}render(){return i("div",{key:"a9d46558b1f1e53046fc2bcc775e0c5075a50732",class:"w-full"},i("slot",{key:"febf277c39a2b7408bd524feda66e81aaf53b2a4"}),this.flattenedItemList&&this.flattenedItemList.map((t,l)=>i("div",{key:l,class:"flex w-full"},t.tooltip!==void 0?i("atui-tooltip",{position:"right",class:"flex flex-grow items-start"},i("atui-tree-item",{class:"flex-grow",depth:t.depth,slot:"tooltip-trigger",onAtuiClick:()=>this.handleClick(t.id),key:t.id,label:t.displayName,size:this.size,has_children:t.children&&t.children.length>0,selected:t.selected},i("slot",{name:"item-content"})),i("span",{slot:"tooltip-content"},t.tooltip)):i("atui-tree-item",{depth:t.depth,style:{paddingLeft:this.flattenedItemStyles[l]+"px"},onAtuiClick:()=>this.handleClick(t.id),has_children:t.children&&t.children.length>0,key:t.id,label:t.displayName,size:this.size},i("slot",{name:"item-content"})))))}};export{f as atui_tree};
