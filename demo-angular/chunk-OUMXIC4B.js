import{a as s,b as e,c as n,d as o,e as i}from"./chunk-CP7M2NO3.js";import"./chunk-7EPSDV5K.js";var h=class{constructor(t){s(this,t),this.atuiChange=i(this,"atuiChange",7),this.atuiSubmit=i(this,"atuiSubmit",7),this.atuiStop=i(this,"atuiStop",7),this.placeholder="Enter your message...",this.max_height=240,this.in_progress=!1,this.show_model_select=!1,this.model="gpt-4o",this.value="",this.inputId=`prompt-input-${Math.random().toString(36).substring(2,11)}`}focusInput(){this.textareaEl&&this.textareaEl.focus()}handleInput(t){t.stopPropagation(),this.value=t.target.value,this.atuiChange.emit(this.value),this.autoResize()}autoResize(){if(this.textareaEl){this.textareaEl.style.height="auto";let t=this.textareaEl.scrollHeight,a=Math.max(44,Math.min(t,this.max_height));this.textareaEl.style.height=`${a}px`}}componentDidLoad(){setTimeout(()=>{this.autoResize()},0)}handleKeyDown(t){t.key==="Enter"&&!t.shiftKey&&(t.preventDefault(),this.sendMessage())}sendMessage(){this.in_progress?this.atuiStop.emit():this.value&&this.value.trim()!==""&&(this.atuiSubmit.emit(this.value.trim()),this.value="",setTimeout(()=>{this.autoResize(),this.focusInput()},0))}render(){let t=this.value&&this.value.trim()!=="";return e(n,{key:"89054d4c5ad3dc9293a1d0f7d497f6e3082491bc",tabindex:"-1"},e("div",{key:"69a4c04f4dd8f902c427be67b8de16d6397726c4",class:"flex flex-col"},e("slot",{key:"77f5eda2c4be95e534d341fc11c2d65223faf287",name:"label"}),(this.label||this.info_text)&&e("atui-form-label",{key:"4dba43cfcde6fd7cb9ea223d4b2228bc19b30e56",label:this.label,for:this.inputId,info_text:this.info_text,"data-name":"prompt-input-label"}),this.hint_text&&e("span",{key:"4560cc3549b097971103c9c7ad13d0341e4699b2",class:"mb-8 inline-block text-xs leading-tight text-light","data-name":"prompt-input-hint"},this.hint_text)),e("div",{key:"472189157aab3a7c03aab8456189124290f16121",class:"relative flex flex-col items-end gap-2 rounded-lg border border-solid border-med bg-white p-8 transition-[background-color,color,box-shadow] duration-300 ease-in-out focus-within:border-active-foreground focus-within:ring-2 focus-within:ring-active-foreground/30"},e("textarea",{key:"e18d7f2c2bf0ba6549a35dd38da6dcd33946b9b1",id:this.inputId,placeholder:this.placeholder,maxlength:this.max_length,onInput:a=>this.handleInput(a),onKeyDown:a=>this.handleKeyDown(a),value:this.value,ref:a=>this.textareaEl=a,style:{height:"44px",overflow:"hidden"},class:"w-full flex-1 resize-none whitespace-pre-wrap break-words border-none bg-transparent text-body text-dark shadow-none outline-none focus-visible:ring-0 focus-visible:ring-offset-0","data-name":"prompt-input"}),e("div",{key:"c779b7447596e18e204a6849e240a87f3ab388d3",class:"gap-1 flex w-full items-center justify-between"},e("div",{key:"b7caa70a66c15f2eb225582afece516c427867f2",class:"flex items-center gap-4"},e("slot",{key:"489f4cedd96e3c920ff910b754923093acfd4a26",name:"actions-left"})),e("div",{key:"6a113ce070971b7677436dc6a177d374d49e9a8c",class:"flex items-center gap-4 self-end"},e("slot",{key:"f84e1c88b8074c231fd523f392c3dc3582c6ec29",name:"actions-right"}),e("atui-button",{key:"53a224b61283be03700d7f0af5360e7c4c94caab",class:"rounded-lg",size:"sm",type:"secondary",icon:this.in_progress?"stop":"arrow_upward",disabled:!t,onClick:()=>this.sendMessage(),onKeyDown:a=>{(a.key==="Enter"||a.key===" ")&&this.sendMessage()},"data-name":"prompt-send-button"})))),e("slot",{key:"264d5ad7aaa4c285c42883cc754a29e488c45b8b",name:"footer"}))}get el(){return o(this)}};export{h as atui_prompt_input};
