import{a,b as i,e as r}from"./chunk-OYGHDCNF.js";import"./chunk-B7O3QC5Z.js";var f=class{constructor(t){a(this,t),this.atuiClick=r(this,"atuiClick",7),this.size="sm",this.flattenedItemList=[],this.flattenedItemStyles=[],this.handleClick=l=>{let n=null,h=d=>{let c=[];return d.forEach(e=>{let s=Object.assign({},e);e.id===l&&(s.selected=!s.selected,n=s),e.children&&(s.children=h(e.children)),c.push(s)}),c};this.item_list=h(this.item_list),this.flattenItemList(this.item_list),n&&this.atuiClick.emit(n)},this.flattenItemList=l=>{let n=[],h=(d,c)=>{d.forEach(e=>{let s=Object.assign(Object.assign({},e),{depth:c});n.push(s),e.selected&&e.children&&e.children.length&&h(e.children,c+1)})};h(l,0),this.flattenedItemList=n}}componentWillRender(){this.item_list&&this.item_list.length&&this.flattenItemList(this.item_list)}render(){return i("div",{key:"7f4f1b450129ca9b46b471d7273c412c7cd66289",class:"w-full"},i("slot",{key:"dc0120f2ee789a57bcd96d27b45f148b319496e0"}),this.flattenedItemList&&this.flattenedItemList.map((t,l)=>i("div",{key:l,class:"flex w-full"},t.tooltip!==void 0?i("atui-tooltip",{position:"right",class:"flex flex-grow items-start"},i("atui-tree-item",{class:"flex-grow",depth:t.depth,slot:"tooltip-trigger",onAtuiClick:()=>this.handleClick(t.id),key:t.id,label:t.displayName,size:this.size,has_children:t.children&&t.children.length>0,selected:t.selected},i("slot",{name:"item-content"})),i("span",null,t.tooltip)):i("atui-tree-item",{depth:t.depth,style:{paddingLeft:this.flattenedItemStyles[l]+"px"},onAtuiClick:()=>this.handleClick(t.id),has_children:t.children&&t.children.length>0,key:t.id,label:t.displayName,size:this.size},i("slot",{name:"item-content"})))))}};export{f as atui_tree};
