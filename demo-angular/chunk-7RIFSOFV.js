import{a as r,b as s,d as o}from"./chunk-OYGHDCNF.js";import{h as t}from"./chunk-B7O3QC5Z.js";var c="dialog.backdrop::backdrop{background:rgba(0, 0, 0, 0.2);transition:opacity 0.3s ease;animation:fadeIn 0.3s ease forwards;transition:opacity var(--token-transition-time) ease-in-out allow-discrete}dialog.backdrop::backdrop{z-index:var(--z-backdrop, 1000)}@keyframes fadeIn{from{background-color:rgba(0, 0, 0, 0)}to{background-color:rgba(0, 0, 0, 0.2)}}",l={base:"z-nav !fixed h-full min-w-panel-xs bg-white transition-transform shadow-md",origin:{left:"left-0 top-0",right:"right-0 top-0"},isExpanded:"border-l-med border-l-2 transition-transform duration-[300ms] ease-[cubic-bezier(0.455,0.03,0.515,0.955)]",fixed:{true:"fixed h-full top-0",false:"absolute h-full"},noScrollbar:"overflow-y-hidden"},d={base:"overflow-x-hidden overflow-y-auto h-full flex flex-col",size:{xs:"w-panel-xs",sm:"w-panel-sm",md:"w-panel-md",lg:"w-panel-lg",xl:"w-panel-xl"}},p=(()=>{let n=class{constructor(i){r(this,i),this.size="xs",this.origin="right",this.has_scrollbar=!0,this.has_close_button=!0,this.close_backdrop=!1,this.fixed=!0,this.backdrop=!1,this.isExpanded=!1,this.triggerEls=[],this.externalTriggerListeners=[],this.handleClose=()=>{this.closeSidePanel()},this.handleDialogClose=a=>{a.preventDefault(),this.isExpanded&&this.closeSidePanel()},this.handleKeyDown=a=>{a.key==="Escape"&&this.isExpanded&&(a.preventDefault(),this.closeSidePanel())}}toggleSidePanel(){return t(this,null,function*(){this.isExpanded?yield this.closeSidePanel():yield this.openSidePanel()})}openSidePanel(){return t(this,null,function*(){this.panelDialog&&!this.panelDialog.open&&(this.panelDialog.showModal(),this.isExpanded=!0,this.backdrop&&this.panelDialog.classList.add("backdrop"))})}closeSidePanel(){return t(this,null,function*(){this.panelDialog&&this.panelDialog.open&&(this.panelDialog.close(),this.isExpanded=!1,this.panelDialog.classList.remove("backdrop"))})}offClickHandler(i){var a,e;!this.close_backdrop||!(!((a=this.panelDialog)===null||a===void 0)&&a.open)||!((e=this.sidePanelWrapper)===null||e===void 0)&&e.contains(i.target)||this.handleClose()}componentDidLoad(){return t(this,null,function*(){if(this.trigger_id){if(this.triggerEls=Array.from(document.querySelectorAll(`[data-id="${this.trigger_id}"]`)),this.triggerEls.length===0){console.warn(`atui-side-panel: No elements found with data-id="${this.trigger_id}"`);return}this.setupExternalTriggerListeners()}})}disconnectedCallback(){this.cleanupExternalTriggerListeners()}cleanupExternalTriggerListeners(){this.externalTriggerListeners.forEach(({element:i,event:a,handler:e})=>{i.removeEventListener(a,e)}),this.externalTriggerListeners=[]}setupExternalTriggerListeners(){if(!this.triggerEls||this.triggerEls.length===0)return;let i=e=>t(this,null,function*(){e.preventDefault(),e.stopPropagation(),yield this.toggleSidePanel()}),a=e=>t(this,null,function*(){switch(e.key){case"Enter":case" ":e.preventDefault(),yield this.toggleSidePanel();break}});this.triggerEls.forEach(e=>{e.addEventListener("click",i),e.addEventListener("keydown",a),this.externalTriggerListeners.push({element:e,event:"click",handler:i},{element:e,event:"keydown",handler:a})})}render(){return s("div",{key:"d211a07eda5723a9f10055ecf4bd13f4d07e16a3"},s("dialog",{key:"257c0d45235db65655cdb240bbd742b2819507eb",id:this.panel_id,ref:i=>this.panelDialog=i,class:this.backdrop?"backdrop":"",onClose:this.handleDialogClose,onKeyDown:this.handleKeyDown},s("div",{key:"6d71bf2195605e7481c539cbd138c01bcba53f23",class:`${this.panelClasses} ${this.sizeClasses}`,ref:i=>this.sidePanelWrapper=i,"data-name":"panel-wrapper"},s("div",{key:"4df526e0383659b51f97b55c682e6db7c1bffb61",class:"z-nav sticky top-0"},s("atui-header",{key:"98a932a3be955172f52d24a1e021b73aa06eb777",header_title:this.panel_title,subtitle:this.panel_subtitle},this.has_close_button&&s("span",{key:"494443344e7d61d874f4ac8be271b1c819e1091f",class:"rounded-full hover:bg-gray-100",slot:"actions"},s("i",{key:"ffdf8745d6ee4dbac16f15ee0836397033a45367",class:"material-icons md-16 top-20 right-16 cursor-pointer p-8 !text-[18px]",onClick:this.handleClose,"data-name":"panel-close"},"close")))),s("div",{key:"75225667d5eb12d6079cae60b85988bb22bda085",class:"flex w-full flex-1 flex-col"},s("slot",{key:"e4c264f4bb6f31c20d1855e42602a4b1a77a3f05"})))))}get panelClasses(){return`${l.base} ${l.origin[this.origin]} ${this.isExpanded?l.isExpanded:""} 
        ${this.fixed?l.fixed.true:l.fixed.false} ${this.has_scrollbar?"":l.noScrollbar}`}get sizeClasses(){return`${d.base} ${d.size[this.size]}`}get el(){return o(this)}};return n.style=c,n})();export{p as atui_side_panel};
